(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{"+QRC":function(e,t,n){"use strict";var r=n("E9nw"),i="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,a,o,s,l,u,c=!1;t||(t={}),n=t.debug||!1;try{if(o=r(),s=document.createRange(),l=document.getSelection(),(u=document.createElement("span")).textContent=e,u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",document.body.appendChild(u),s.selectNode(u),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),c=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:i),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),u&&document.body.removeChild(u),o()}return c}},"+Qka":function(e,t,n){var r=n("fmRc"),i=n("t2Dn"),a=n("cq/+"),o=n("T1AV"),s=n("GoyQ"),l=n("mTTR"),u=n("itsj");e.exports=function e(t,n,c,d,f){t!==n&&a(n,function(a,l){if(s(a))f||(f=new r),o(t,n,l,c,e,d,f);else{var p=d?d(u(t,l),a,l+"",t,n,f):void 0;void 0===p&&(p=a),i(t,l,p)}},l)}},"+arh":function(e,t,n){var r,i;i=this,void 0===(r=function(){return i.ns_=function(e){(e=e||{}).ns_=e;var t,n,r,i,a,o={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e(t[r])&&(n[r]=t[r]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var r=1;n>r;r++)if(t=arguments[r])for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(parseInt(e));return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},parseBoolean:function(e,t){return t=t||!1,e?"0"!=e&&void 0:t},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return null==e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,function(t,r){t==e&&(n=r)}),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var r=void 0!==e.__proto__;for(var i in e)e.hasOwnProperty(i)&&(!r||r&&void 0===e.__proto__[i])&&"function"!=typeof e[i]&&t.call(n,e[i],i)}else for(var a=0,o=e.length;o>a;a++)t.call(n,e[a],a)}catch(e){}},regionMatches:function(e,t,n,r,i){if(0>t||0>r||t+i>e.length||r+i>n.length)return!1;for(;--i>=0;){var a=e.charAt(t++),o=n.charAt(r++);if(a!=o)return!1}return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,r=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(r,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){if(null==e||"object"!=typeof e)return e;var t=function(){function e(){}function t(t){return"object"==typeof t?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function r(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function i(e,t){var n=new r;return t&&(n.maxDepth=t),n.deepCopy(e)}var a=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},r.prototype={constructor:r,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,r=0;n>r;r++)if(t[r][0]===e)return t[r][1]},deepCopy:function(e){if(null===e)return null;if("object"!=typeof e)return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<a.length;n++){var r=a[n];if(r.canCopy(e))return this.applyDeepCopier(r,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},i.DeepCopier=n,i.deepCopiers=a,i.register=function(e){e instanceof n||(e=new n(e)),a.unshift(e)},i.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var r=0;r<t.length;r++)n.push(e(t[r]));return n}}),i.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),i.register({canCopy:function(e){return function(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var r=0;r<t.childNodes.length;r++){var i=e(t.childNodes[r]);n.appendChild(i)}}}),{deepCopy:i}}();return t.deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",r=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?r="Opera":-1!=(t=n.indexOf("Android"))?r="Android":-1!=(t=n.indexOf("Chrome"))?r="Chrome":-1!=(t=n.indexOf("Safari"))?r="Safari":-1!=(t=n.indexOf("Firefox"))?r="Firefox":-1!=(t=n.indexOf("IEMobile"))?r="Internet Explorer Mobile":"Microsoft Internet Explorer"==r||"Netscape"==r?r="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(r=n.substring(e,t)).toLowerCase()==r.toUpperCase()&&(r=navigator.appName):r="unknown",r},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,r=navigator.userAgent||"",i=navigator.appName||"",a=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=r.indexOf("Opera"))?(a=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("OPR/"))?a=r.substring(t+4):-1!=(t=r.indexOf("Android"))?a=r.substring(t+11):-1!=(t=r.indexOf("Chrome"))?a=r.substring(t+7):-1!=(t=r.indexOf("Safari"))?(a=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(a=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?a=r.substring(t+8):"Microsoft Internet Explorer"==i?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(r)&&(a=parseFloat(RegExp.$1)):"Netscape"==i?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(r)&&(a=parseFloat(RegExp.$1)):a=r.lastIndexOf(" ")+1<(t=r.lastIndexOf("/"))?r.substring(t+1):"unknown",a=a.toString(),-1!=(n=a.indexOf(";"))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(" "))&&(a=a.substring(0,n)),-1!=(n=a.indexOf(")"))&&(a=a.substring(0,n)),e=parseInt(""+a,10),isNaN(e)&&(a=""+parseFloat(navigator.appVersion)),a},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var t=function(){var e="cs_";return function(){var t="undefined"!=typeof localStorage?localStorage:null;o.extend(this,{get:function(n){return t&&t.getItem(e+n)},set:function(n,r){t&&t.setItem(e+n,r)},has:function(n){return t&&t.getItem(e+n)},remove:function(n){t&&t.removeItem(e+n)},clear:function(){for(var n=0;t&&n<t.length;++n){var r=t.key(n);r.substr(0,e.length)===e&&t.removeItem(r)}}})}}(),n=function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},r=function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},i={dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}},a={PLATFORM:"generic",httpGet:n,httpPost:r,Storage:t,IO:i,getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)},getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}},s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};o.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var r=e[n];t[n]=null==r?r:e[n]+""}return t},o.getKeys=function(e,t){var n,r=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(r[r.length]=n);return r},o.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=String(t),t},o.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},o.addNewPlaybackInterval=function(e,t,n,r){var i,a={};if(!(n>=t))return o.cloneObject(e);if(a.start=t,a.end=n,0==e.length)return e.push(a),o.cloneObject(e);for(i=0;i<e.length;i++)if(a.start>=e[i].start&&a.end<=e[i].end)return o.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),l=!0;break}l||e.splice(0,0,a);var u=[e[0]];for(i=1;i<e.length;i++)u[u.length-1].end+r<e[i].start?u.push(e[i]):u[u.length-1].end<e[i].end&&(u[u.length-1].end=e[i].end);return o.cloneObject(u)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),u={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},c=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),d={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},f=function(){function e(){var e,t,n,r,i,a,l,u,c,f,p,_,h,m,E,v,y,g,T,b,S,A,C,O,P,N,I,R,w,k,M,L,D,x,U=this,B=d.INTERVAL_MERGE_TOLERANCE;o.extend(this,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){B=e},getPlaybackIntervalMergeTolerance:function(){return B},setLabels:function(e){null!=e&&o.extend(w,e)},getLabels:function(){return w},setLabel:function(e,t){var n={};n[e]=t,U.setLabels(n)},getLabel:function(e){return w[e]},getClipNumber:function(){return parseInt(U.getLabel("ns_st_cn"))},setClipNumber:function(e){U.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(U.getLabel("ns_st_pn"))},createLabels:function(e){var t,r,s,l=e||{};return l.ns_st_dbt=String(U.getBufferingTime()-S),S=U.getBufferingTime(),l.ns_st_det=String(U.getElapsedTime()-c),c=U.getElapsedTime(),l.ns_st_dupc=String(U.getUniquePlaybackInterval()-m),m=U.getUniquePlaybackInterval(),parseInt(l.ns_st_dupc)<0&&(l.ns_st_dupc="0"),t=o.exists(l.ns_st_upc)?parseInt(l.ns_st_upc):U.getUniquePlaybackInterval(),l.ns_st_iupc=String(t-E),E=t,parseInt(l.ns_st_iupc)<0&&(l.ns_st_iupc="0"),l.ns_st_dupa=String(U.getAssetUniquePlaybackInterval()-v),v=U.getAssetUniquePlaybackInterval(),parseInt(l.ns_st_dupa)<0&&(l.ns_st_dupa="0"),r=o.exists(l.ns_st_upa)?parseInt(l.ns_st_upa):U.getAssetUniquePlaybackInterval(),l.ns_st_iupa=String(r-y),y=r,parseInt(l.ns_st_iupa)<0&&(l.ns_st_iupa="0"),l.ns_st_dlpc=String(U.getLongestPlaybackInterval()-g),g=U.getLongestPlaybackInterval(),parseInt(l.ns_st_dlpc)<0&&(l.ns_st_dlpc="0"),l.ns_st_dlpa=String(U.getAssetLongestPlaybackInterval()-T),T=U.getAssetLongestPlaybackInterval(),parseInt(l.ns_st_dlpa)<0&&(l.ns_st_dlpa="0"),s=o.exists(l.ns_st_pt)?parseInt(l.ns_st_pt):U.getPlaybackTime(),l.ns_st_ipt=String(s-a),a=s,l.ns_st_dpt=String(U.getPlaybackTime()-i),i=U.getPlaybackTime(),l.ns_st_dpc=String(U.getPauses()-k),k=U.getPauses(),l.ns_st_dskc=String(U.getSeeks()-M),M=U.getSeeks(),l.ns_st_dbc=String(U.getBuffers()-L),L=U.getBuffers(),l.ns_st_dskt=String(U.getSeekingTime()-O),O=U.getSeekingTime(),l.ns_st_dska=String(U.getSeekingAmount()-I),I=U.getSeekingAmount(),o.extend(l,U.getLabels()),U.setSeekingDirection(0),n&&(l.ns_st_spc=String(D),l.ns_st_apc=String(x)),n||o.parseBoolean(l.ns_st_sc)||(l.ns_st_sc="1"),l},getVideoTrack:function(){return U.getLabel("ns_st_vt")},setVideoTrack:function(e){U.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return U.getLabel("ns_st_at")},setAudioTrack:function(e){U.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return U.getLabel("ns_st_tt")},setSubtitleTrack:function(e){U.setLabel("ns_st_tt",String(e))},getCDN:function(){return U.getLabel("ns_st_cdn")},setCDN:function(e){U.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return p},setClipPlaybackIntervals:function(e){p=e},getAssetPlaybackIntervals:function(){return _},getUniquePlaybackInterval:function(){return parseInt(U.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(U.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){U.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){U.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(U.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){U.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(U.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){U.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){U.setLabel("ns_st_pc",String(U.getPauses()+1))},incrementSeeks:function(){U.setLabel("ns_st_skc",String(U.getSeeks()+1))},incrementPlayCounter:function(){U.setLabel("ns_st_sq",String(U.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(U.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(U.getLabel("ns_st_bt"))},setBufferingTime:function(e){U.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(b)){var t=U.getBufferingTime();t+=e-b,U.setBufferingTime(t),b=NaN}},setPlaybackStartPosition:function(e){h=parseInt(e)},getPlaybackStartPosition:function(){return h},addInterval:function(e){isNaN(h)||isNaN(e)||(p=o.addNewPlaybackInterval(p,h,e,B),_=o.addNewPlaybackInterval(_,h,e,B),function(){var e,t,n=0;for(e=0;e<p.length;e++)n+=Math.abs(p[e].end-p[e].start);U.setUniquePlaybackInterval(n);var r=0;for(e=0;e<p.length;e++)(t=Math.abs(p[e].end-p[e].start))>r&&(r=t);U.setLongestPlaybackInterval(r);var i=0;for(e=0;e<_.length;e++)i+=Math.abs(_[e].end-_[e].start);U.setAssetUniquePlaybackInterval(i);var a=0;for(e=0;e<_.length;e++)(t=Math.abs(_[e].end-_[e].start))>a&&(a=t);U.setAssetLongestPlaybackInterval(a)}(),h=NaN)},getElapsedTime:function(){return parseInt(U.getLabel("ns_st_et"))},setElapsedTime:function(e){U.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(u)){var t=U.getElapsedTime();t+=e-u,U.setElapsedTime(t),u=NaN}},getElapsedTimestamp:function(){return u},setElapsedTimestamp:function(e){u=e},addPlaybackTime:function(e){if(!isNaN(r)){var t=U.getPlaybackTime();t+=e-r,U.setPlaybackTime(t),r=NaN}},getPlaybackTime:function(){return parseInt(U.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(r)||(l+=e-r),l},setPlaybackTimeOffset:function(e){l=e},getPlaybackTimeOffset:function(){return l},setPlaybackTime:function(e){U.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){i=e},setPreviousPlaybackTimestamp:function(e){},getBufferingTimestamp:function(){return b},setBufferingTimestamp:function(e){b=e},getPauses:function(){return parseInt(U.getLabel("ns_st_pc"))},setPauses:function(e){U.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(U.getLabel("ns_st_skc"))},setSeeks:function(e){U.setLabel("ns_st_skc",String(e))},setSeeking:function(e){A=e},isSeeking:function(){return A},setCollectingSeekingTime:function(e){N=e},isCollectingSeekingTime:function(){return N},setClipStarted:function(e){t=e},isClipStarted:function(){return t},setPlaybackStarted:function(e){n=e},isPlaybackStarted:function(){return n},setSeekingTimestamp:function(e){C=e},getSeekingTimestamp:function(){return C},addSeekingTime:function(e){if(!isNaN(C)){var t=U.getSeekingTime();t+=e-C,U.setSeekingTime(t),C=NaN}},getSeekingTime:function(){return parseInt(U.getLabel("ns_st_skt"))},setSeekingTime:function(e){U.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){R=e},getSeekingTimeBeforeEnd:function(){return R},setSeekStartPosition:function(e){P=e},getSeekStartPosition:function(){return P},setSeekingAmount:function(e){U.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(U.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t,n=U.getSeekingAmount();n+=Math.abs(e-P),U.setSeekingAmount(n),P==e?t=0:P>e?t=-1:e>P&&(t=1),U.setSeekingDirection(t),P=0},getSeekingDirection:function(){return parseInt(U.getLabel("ns_st_skd"))},setSeekingDirection:function(e){U.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){w.ns_st_pt="0",i=0,a=0,w.ns_st_bt="0",S=0,w.ns_st_bc="0",L=0,w.ns_st_pc="0",k=0,w.ns_st_sq="0",w.ns_st_upa="0",v=0,y=0,w.ns_st_et="0",c=0,w.ns_st_lpa="0",T=0,w.ns_st_skt="0",O=0,w.ns_st_ska="0",I=0,w.ns_st_skc="0",M=0},incrementSegmentPlaybackCounter:function(){D++},incrementClipLoadCounter:function(){U.setLabel("ns_st_sc",String(U.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){x++},setPreviousUniquePlaybackInterval:function(e){m=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){E=e},setPreviousLongestPlaybackInterval:function(e){g=e},resetAssetPlaybackCounters:function(){_=[],U.setAssetUniquePlaybackInterval(0),v=0,y=0,U.setAssetLongestPlaybackInterval(0),T=0},setSegmentPlaybackCounter:function(e){D=e},setClipLoadCounter:function(e){U.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){x=e},setLowestPartNumberPlayed:function(e){f=e},getSegmentPlaybackCounter:function(){return D},getClipLoadCounter:function(){return parseInt(U.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return x},getLowestPartNumberPlayed:function(){return f},getBuffers:function(){return parseInt(U.getLabel("ns_st_bc"))},incrementBufferCount:function(){U.setLabel("ns_st_bc",String(U.getBuffers()+1))},getPreviousBufferingTime:function(){return S}}),(w={}).ns_st_pt="0",w.ns_st_bt="0",w.ns_st_bc="0",w.ns_st_pc="0",w.ns_st_sq="0",w.ns_st_cl="0",w.ns_st_pn="1",w.ns_st_tp="1",w.ns_st_skc="0",w.ns_st_et="0",w.ns_st_cn="1",w.ns_st_sc="0",w.ns_st_ska="0",w.ns_st_skd="0",w.ns_st_skt="0",w.ns_st_upc="0",w.ns_st_lpc="0",w.ns_st_upa="0",w.ns_st_lpa="0",w.ns_st_ub="0",w.ns_st_br="0",n=!1,t=!1,e=s.UNKNOWN_VALUE,r=NaN,l=0,i=0,u=NaN,f=0,c=0,a=0,h=NaN,p=[],_=[],m=0,E=0,v=0,y=0,g=0,T=0,b=NaN,S=0,A=!1,C=NaN,N=!1,P=0,R=0,O=0,I=0,k=0,M=0,L=0,D=0,x=0}return e.resetClip=function(e,t,n){for(var r=e.getLabels(),i={},a=0;n&&a<n.length;++a)r.hasOwnProperty(n[a])&&(i[n[a]]=r[n[a]]);t.setLabels(i),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),p=function(){function e(){var e,t,n,r,i,a,s,l,u,c=this;o.extend(this,{resetClip:function(){var t=e;e=new f,f.resetClip(t,e)},hashExists:function(e){return null!=a[e]},storeHash:function(e){a[e]={}},removeHash:function(e){delete a[e]},storeClipPlaybackCounters:function(){for(var t in a)if(a.hasOwnProperty(t)&&a[t].clipNumber===e.getClipNumber()){o.extend(a[t],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return a[e]},getClipNumber:function(e){return a[e].clipNumber},getMaxClipNumber:function(){return s},storeClipNumber:function(e,t){a[e].clipNumber=t,t>s&&(s=t)},setLabels:function(e){null!=e&&o.extend(r,e)},getLabels:function(){return r},setLabel:function(e,t){var n={};n[e]=t,c.setLabels(n)},getLabel:function(e){return r[e]},getClip:function(){return e},createLabels:function(t){var n=t||{};return l||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),o.extend(n,c.getLabels()),e.isPlaybackStarted()&&(n.ns_st_ppc=String(u)),n},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(n)){var t=c.getPlaybackTime();t+=e-n,c.setPlaybackTime(t),n=NaN}},addBufferingTime:function(e){if(!isNaN(t)){var n=c.getBufferingTime();n+=e-t,c.setBufferingTime(n),t=NaN}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){t=e},getBufferingTimestamp:function(){return t},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){n=e},getPlaybackTimestamp:function(){return n},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return i},setPlaylistStarted:function(e){i=e},getPlaybackCounter:function(){return u},incrementPlaybackCounter:function(){u++},setFirstEventSent:function(e){l=e}}),e=new f,(r={}).ns_st_bp="0",r.ns_st_pa="0",r.ns_st_pp="0",r.ns_st_sp="1",r.ns_st_id=String(+new Date),t=NaN,n=NaN,a={},s=0,i=!1,l=!1,u=0}return e.resetPlaylist=function(t,n,r){for(var i=t.getClip(),a=t.getLabels(),o={},s=0;r&&s<r.length;s++)a.hasOwnProperty(r[s])&&(o[r[s]]=a[r[s]]);(n=new e).setLabels(o),f.resetClip(i,n.getClip(),r)},e}(),_=function(e){function t(t){r=o.extend({},t);var n=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var i=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher){var a=e.getAppCore().getMeasurementDispatcher();a.send(i.HIDDEN,t,n)}else{var s=e.getSSECore().getExports().am,l=s.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,t,n);e.getAppCore().getQueue().offer(l)}}}else n&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(n,t))}var n,r,i=this;o.extend(this,{newEvent:function(e){t(e.eventLabels),e.eventType!=l.HEARTBEAT&&i.incrementEventCounter()},getEventCounter:function(){return n},incrementEventCounter:function(){n++},setEventCounter:function(e){n=e},getMeasurementSnapshot:function(){return r}}),n=1},h=function(e){function t(){a++;var t={},n=o.fixEventTime(t);t.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(n-e.getPlaylist().getClip().getPlaybackTimestamp())),t.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(n-e.getPlaylist().getPlaybackTimestamp())),t.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(n-e.getPlaylist().getClip().getPlaybackTimestamp())),t.ns_st_dpt=String(n-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==u.BUFFERING_DURING_PLAYBACK?(t.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(n-e.getPlaylist().getBufferingTimestamp())),t.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(n-e.getPlaylist().getClip().getBufferingTimestamp())),t.ns_st_dbt=String(n-e.getPlaylist().getClip().getBufferingTimestamp())):t.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),t.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(n-e.getPlaylist().getClip().getElapsedTimestamp())),t.ns_st_det=String(n-e.getPlaylist().getClip().getElapsedTimestamp());var r=o.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),c=o.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());r=o.addNewPlaybackInterval(r,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(t.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),c=o.addNewPlaybackInterval(c,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(t.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var d,f,p=0;for(d=0;d<r.length;d++)p+=Math.abs(r[d].end-r[d].start);t.ns_st_upc=String(p),t.ns_st_dupc=String(p-e.getPlaylist().getClip().getUniquePlaybackInterval());var _=0;for(d=0;d<r.length;d++)(f=Math.abs(r[d].end-r[d].start))>_&&(_=f);t.ns_st_lpc=String(_),t.ns_st_dlpc=String(_-e.getPlaylist().getClip().getLongestPlaybackInterval());var h=0;for(d=0;d<c.length;d++)h+=Math.abs(c[d].end-c[d].start);t.ns_st_upa=String(h),t.ns_st_dupa=String(h-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var m=0;for(d=0;d<c.length;d++)(f=Math.abs(c[d].end-c[d].start))>m&&(m=f);t.ns_st_lpa=String(m),t.ns_st_dlpa=String(m-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),t.ns_st_hc=String(e.getHeartbeat().getCount());var E=e.getSSECore().createLabels(l.HEARTBEAT,t,n);e.getEventManager().newEvent(E),i=0,s.resume()}function n(){null!=r&&(e.getSSECore().getPlatformAPI().clearTimeout(r),r=null)}var r,i,a,s=this,c=d.DEFAULT_HEARTBEAT_INTERVAL;o.extend(this,{getCount:function(){return a},setIntervals:function(e){c=e},getInterval:function(e){var t=0;if(null!=c)for(var n=0;n<c.length;n++){var r=c[n],i=r.playingtime;if(!i||i>e){t=r.interval;break}}return t},resume:function(){n();var a=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(a>0){var o=i>0?i:a;r=e.getSSECore().getPlatformAPI().setTimeout(t,o)}i=0},pause:function(){n();var t=s.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));i=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t}}),i=0,a=0},m=function(e){function t(){var t={},n=o.fixEventTime(t);t.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(n)),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getStateMachine().getCurrentState()==u.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(n),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().setBufferingTimestamp(n)),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(parseInt(t.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(t.ns_st_po));var r=e.getSSECore().createLabels(l.KEEPALIVE,t,n);e.getEventManager().newEvent(r),i.resume()}function n(){null!=r&&(e.getSSECore().getPlatformAPI().clearTimeout(r),r=null)}var r,i=this,a=d.DEFAULT_KEEP_ALIVE_INTERVAL;o.extend(i,{resume:function(){n(),r=e.getSSECore().getPlatformAPI().setTimeout(t,a)},pause:function(){n()},setInterval:function(e){a=e},getInterval:function(){return a}})},E=function(e){var t,n,r,i=this;o.extend(i,{eventTypeToState:function(e){if(r==u.IDLE){if(e==l.PLAY)return u.PLAYING;if(e==l.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK}else if(r==u.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return u.PLAYING;if(e==l.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return u.IDLE}else if(r==u.PLAYING){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.BUFFER)return u.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return u.PAUSED;if(e==l.SEEK_START)return u.SEEKING_DURING_PLAYBACK}else if(r==u.PAUSED){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.BUFFER)return u.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return u.PLAYING;if(e==l.SEEK_START)return u.SEEKING_DURING_PAUSE}else if(r==u.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return u.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return u.PLAYING;if(e==l.SEEK_START)return u.SEEKING_BEFORE_PLAYBACK}else if(r==u.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return u.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return u.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return u.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return u.PAUSED}else if(r==u.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY)return u.PLAYING;if(e==l.BUFFER_STOP)return u.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return u.PAUSED}else if(r==u.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY)return u.PLAYING;if(e==l.SEEK_START)return u.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return u.PAUSED}else if(r==u.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PAUSE)return u.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return u.PLAYING;if(e==l.BUFFER)return u.BUFFERING_BEFORE_PLAYBACK}else if(r==u.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY)return u.PLAYING;if(e==l.PAUSE)return u.PAUSED;if(e==l.BUFFER)return u.BUFFERING_DURING_SEEKING}else if(r==u.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY)return u.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return u.PAUSED}else if(r==u.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.PLAY)return u.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return u.PAUSED;if(e==l.BUFFER)return u.BUFFERING_DURING_PAUSE}else if(r==u.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return u.IDLE;if(e==l.SEEK_START)return u.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return u.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return u.PLAYING}return null},getCurrentState:function(){return r},newEvent:function(e,a){var o=i.eventTypeToState(e);r!=o&&(n=r,r=o,t=a)},getPreviousState:function(){return n},getLastStateChangeTimestamp:function(){return t}}),r=u.IDLE,n=null,t=NaN},v=function(e){o.extend(this,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(t,n){e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},y=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},g=function(e){o.extend(this,{onEndAndSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},T=function(e){o.extend(this,{onPauseOnBuffering:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(l.PAUSE,n,t);e.getEventManager().newEvent(i),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t),e.getPlaylist().getClip().setPlaybackTimeOffset(r)},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onEndOrAdSkip:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().addInterval(r);var i=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(i),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(l.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(l.PAUSE,n,t);e.getEventManager().newEvent(i)},onPlay:function(t,n){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)}})},b=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},S=function(e){o.extend(this,{onBuffer:function(t,n){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t)},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},A=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},C=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},O=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(t):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},P=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){var r=parseInt(n.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().addInterval(r);var i=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(i),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(t,n){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(t,n),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(r),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(l.PAUSE,n,t);e.getEventManager().newEvent(i)},onPause:function(t,n){var r=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(r),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var i=e.getSSECore().createLabels(l.PAUSE,n,t);e.getEventManager().newEvent(i)}})},N=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},I=function(e){o.extend(this,{onPause:function(t,n){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},R=function(e){o.extend(this,{onEndOrAdSkip:function(t,n){parseInt(n.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var r=e.getSSECore().createLabels(l.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&o.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var r=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(r),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(r),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var i=e.getSSECore().createLabels(l.PLAY,n,t);e.getEventManager().newEvent(i)}})},w=function(){function e(e){var t=n.getStateMachine().getCurrentState();if(t==u.IDLE||t==u.PLAYBACK_NOT_STARTED||t==u.BUFFERING_BEFORE_PLAYBACK||t==u.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(t==u.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(t==u.PAUSED||t==u.BUFFERING_DURING_PAUSE||t==u.SEEKING_DURING_PLAYBACK||t==u.SEEKING_DURING_BUFFERING||t==u.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(t==u.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(t==u.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(t==u.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function t(t,a,o){var s=n.getStateMachine().getCurrentState();t==l.AD_SKIP&&!o.hasOwnProperty("ns_st_ui")&&e(t)?o.ns_st_ui="skip":t==l.SEEK_START&&!o.hasOwnProperty("ns_st_ui")&&e(t)&&(o.ns_st_ui="seek"),s==u.IDLE?t==l.BUFFER?r.onBuffer(a,o):t==l.SEEK_START?r.onSeekStart(a,o):t==l.PLAY&&r.onPlay(a,o):s==u.PLAYBACK_NOT_STARTED?t==l.END||t==l.AD_SKIP?f.onEndOrAdSkip(a,o):t==l.SEEK_START?f.onSeekStart(a,o):t==l.PLAY?f.onPlay(a,o):t==l.BUFFER&&q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):s==u.PLAYING?t==l.END||t==l.AD_SKIP?w.onEndOrAdSkip(a,o):t==l.BUFFER?w.onBuffer(a,o):t==l.SEEK_START?w.onSeekStart(a,o):t==l.PAUSE&&w.onPause(a,o):s==u.PAUSED?t==l.END||t==l.AD_SKIP?i.onEndOrAdSkip(a,o):t==l.PLAY?i.onPlay(a,o):t==l.BUFFER?q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):t==l.SEEK_START&&q.onSeekStartWhenPausedOrBufferingDuringPause(a,o):s==u.BUFFERING_BEFORE_PLAYBACK?t==l.END||t==l.AD_SKIP?M.onEndOrAdSkip(a,o):t==l.BUFFER_STOP?M.onBufferStop(a,o):t==l.SEEK_START?M.onSeekStart(a,o):t==l.PAUSE?M.onPause(a,o):t==l.PLAY&&M.onPlay(a,o):s==u.BUFFERING_DURING_PLAYBACK?t==l.PAUSE_ON_BUFFERING?L.onPauseOnBuffering(a,o):t==l.BUFFER_STOP?L.onBufferStop(a,o):t==l.END||t==l.AD_SKIP?L.onEndOrAdSkip(a,o):t==l.SEEK_START?L.onSeekStart(a,o):t==l.PAUSE?L.onPause(a,o):t==l.PLAY&&L.onPlay(a,o):s==u.BUFFERING_DURING_SEEKING?t==l.END||t==l.AD_SKIP?D.onEndOrAdSkip(a,o):t==l.PAUSE?D.onPause(a,o):t==l.PLAY?D.onPlay(a,o):t==l.BUFFER_STOP&&q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(a,o):s==u.BUFFERING_DURING_PAUSE?t==l.END||t==l.AD_SKIP?x.onEndAndSkip(a,o):t==l.PAUSE?x.onPause(a,o):t==l.PLAY?x.onPlay(a,o):t==l.SEEK_START?q.onSeekStartWhenPausedOrBufferingDuringPause(a,o):t==l.BUFFER_STOP&&q.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(a,o):s==u.SEEKING_BEFORE_PLAYBACK?t==l.END||t==l.AD_SKIP?B.onEndOrAdSkip(a,o):t==l.PAUSE?B.onPause(a,o):t==l.PLAY?B.onPlay(a,o):t==l.BUFFER&&q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):s==u.SEEKING_DURING_PLAYBACK?t==l.END||t==l.AD_SKIP?j.onEndOrAdSkip(a,o):t==l.PLAY?j.onPlay(a,o):t==l.BUFFER?q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):t==l.PAUSE&&q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(a,o):s==u.SEEKING_DURING_BUFFERING?t==l.PAUSE?V.onPause(a,o):t==l.BUFFER?q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):t==l.PLAY?q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(a,o):t==l.END||t==l.AD_SKIP?q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(a,o):t==l.BUFFER_STOP&&q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(a,o):s==u.PAUSED_DURING_BUFFERING?t==l.END||t==l.AD_SKIP?U.onEndOrAdSkip(a,o):t==l.BUFFER_STOP?U.onBufferStop(a,o):t==l.SEEK_START?U.onSeekStart(a,o):t==l.PAUSE?U.onPause(a,o):t==l.PLAY&&U.onPlay(a,o):s==u.SEEKING_DURING_PAUSE&&(t==l.BUFFER?q.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(a,o):t==l.PLAY?q.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(a,o):t==l.PAUSE?q.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(a,o):t==l.END||t==l.AD_SKIP?q.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(a,o):t==l.BUFFER_STOP&&q.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(a,o)),e(t)&&n.getPlaylist().setFirstEventSent(!0)}var n,r,i,f,w,M,L,D,x,U,B,V,j,q,F,H,Y,G,W,K,Q,z,X,J,Z,$,ee=this,te={},ne=d.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,re=d.THROTTLING_DELAY;o.extend(ee,{createLabels:function(e,t,r){var i={};if("undefined"!=typeof document){var a=document;i.c7=a.URL,i.c8=a.title,i.c9=a.referrer}return null!=t&&o.extend(i,t),i.ns_ts=null!=i.ns_ts?i.ns_ts:String(+new Date),i.ns_st_ev=null!=i.ns_st_ev?i.ns_st_ev:l.toString(e),i.ns_st_mp=null!=i.ns_st_mp?i.ns_st_mp:d.DEFAULT_PLAYERNAME,i.ns_st_mv=null!=i.ns_st_mv?i.ns_st_mv:d.STREAMSENSE_VERSION,i.ns_st_ub=null!=i.ns_st_ub?i.ns_st_ub:"0",i.ns_st_br=null!=i.ns_st_br?i.ns_st_br:"0",i.ns_st_pn=null!=i.ns_st_pn?i.ns_st_pn:"1",i.ns_st_tp=null!=i.ns_st_tp?i.ns_st_tp:"1",i.ns_st_it=null!=i.ns_st_it?i.ns_st_it:c.toString(c.SINGLE_CLIP),i.ns_st_sv=null!=i.ns_st_sv?i.ns_st_sv:d.STREAMSENSE_VERSION,i.ns_st_smv=null!=i.ns_st_smv?i.ns_st_smv:d.MODEL_VERSION,i.ns_type=null!=i.ns_type?i.ns_type:"hidden",i.ns_st_ec=null!=i.ns_st_ec?i.ns_st_ec:String(n.getEventManager().getEventCounter()),i.ns_st_po=null!=i.ns_st_po?i.ns_st_po:String(n.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(r)),i.ns_st_ki=null!=i.ns_st_ki?i.ns_st_ki:String(n.getKeepAlive().getInterval()),n.getPlaylist().createLabels(i),n.getPlaylist().getClip().createLabels(i),o.extend(i,ee.getLabels()),o.extend(i,t),{eventType:e,eventLabels:i}},newEvent:function(e,r,i,a){ee.stopDelayedTransitionTimer();var o=n.getStateMachine().getCurrentState(),s=n.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!ee.isThrottlingEnabled()||o!=u.PLAYING&&o!=u.PAUSED||s!=u.PLAYING&&s!=u.PAUSED||a){i.ns_st_po||(n.getStateMachine().getCurrentState()==u.PLAYING&&e==l.BUFFER||n.getStateMachine().getCurrentState()==u.BUFFERING_DURING_PLAYBACK&&e==l.BUFFER_STOP?i.ns_st_po=String(n.getPlaylist().getClip().getPlaybackTimeOffset()+(r-n.getPlaylist().getClip().getPlaybackTimestamp())):i.ns_st_po=String(n.getPlaylist().getClip().getExpectedPlaybackPosition(r))),t(e,r,i);var c=0;isNaN(n.getStateMachine().getLastStateChangeTimestamp())||(c=r-n.getStateMachine().getLastStateChangeTimestamp()),n.getStateMachine().newEvent(e,r);for(var d=0,f=z.length;f>d;d++)z[d](o,s,i,c)}else Q=n.getPlatformAPI().setTimeout(function(e,t,n){return function(){ee.newEvent(e,r,n,!0)}}(e,0,i),re)},newPseudoEvent:function(e,t,r){if(e!=l.LOAD&&e!=l.START||n.getStateMachine().getCurrentState()==u.IDLE){e!=l.ERROR||r.ns_st_er||(r.ns_st_er=s.UNKNOWN_VALUE),n.getStateMachine().getCurrentState()!=u.IDLE&&n.getStateMachine().getCurrentState()!=u.PLAYBACK_NOT_STARTED&&n.getStateMachine().getCurrentState()!=u.SEEKING_BEFORE_PLAYBACK&&n.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&(n.getPlaylist().getClip().addElapsedTime(t),n.getPlaylist().getClip().setElapsedTimestamp(t));var i,a,o,c=!0,d=!1;switch(e){case l.BIT_RATE:i="ns_st_br",a="ns_st_pbr",d=!0;break;case l.PLAYBACK_RATE:i="ns_st_rt",a="ns_st_prt",d=!0;break;case l.VOLUME:i="ns_st_vo",a="ns_st_pvo",d=!0;break;case l.WINDOW_STATE:i="ns_st_ws",a="ns_st_pws",d=!0;break;case l.AUDIO:i="ns_st_at",a="ns_st_pat",d=!1;break;case l.VIDEO:i="ns_st_vt",a="ns_st_pvt",d=!1;break;case l.SUBS:i="ns_st_tt",a="ns_st_ptt",d=!1;break;case l.CDN:i="ns_st_cdn",a="ns_st_pcdn",d=!1;break;default:c=!1}if(c&&r.hasOwnProperty(i)&&(d?(ee.getLabels().hasOwnProperty(i)&&(o=ee.getLabels()[i],r[a]=o),ee.setLabel(i,r[i])):(n.getPlaylist().getClip().getLabels().hasOwnProperty(i)&&(o=n.getPlaylist().getClip().getLabels()[i],r[a]=o),n.getPlaylist().getClip().setLabel(i,r[i]))),!c||n.getStateMachine().getCurrentState()==u.PLAYING||n.getStateMachine().getCurrentState()==u.BUFFERING_DURING_PLAYBACK){r.ns_st_po||(r.ns_st_po=String(n.getPlaylist().getClip().getExpectedPlaybackPosition(t))),n.getStateMachine().getCurrentState()!=u.PLAYING&&n.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK||(n.getPlaylist().addPlaybackTime(t),n.getPlaylist().setPlaybackTimestamp(t),n.getPlaylist().getClip().addPlaybackTime(t),n.getPlaylist().getClip().setPlaybackTimestamp(t),n.getPlaylist().getClip().addInterval(parseInt(r.ns_st_po)),n.getPlaylist().getClip().setPlaybackStartPosition(parseInt(r.ns_st_po))),n.getStateMachine().getCurrentState()!=u.BUFFERING_BEFORE_PLAYBACK&&n.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PAUSE&&n.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_PLAYBACK&&n.getStateMachine().getCurrentState()!=u.BUFFERING_DURING_SEEKING||(n.getPlaylist().addBufferingTime(t),n.getPlaylist().setBufferingTimestamp(t),n.getPlaylist().getClip().addBufferingTime(t),n.getPlaylist().getClip().setBufferingTimestamp(t));var f=ee.createLabels(e,r,t);n.getEventManager().newEvent(f)}}},getState:function(){return n.getStateMachine().getCurrentState()},addListener:function(e){z.push(e)},removeListener:function(e){z.splice(o.indexOf(e,z),1)},getLabel:function(e){return X[e]},getLabels:function(){return X},setLabel:function(e,t){null==t?delete X[e]:X[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&ee.setLabel(t,e[t])},getPlatformAPI:function(){return n.getAppCore()?n.getAppCore().getPlatformAPI():a},getExports:function(){return te},isProperlyInitialized:function(){var e=n.getAppCore().getAppContext(),t=n.getAppCore().getSalt(),r=n.getAppCore().getPixelURL();return e&&r&&t},setImplementationType:function(e){n.getStateMachine().getCurrentState()!=u.IDLE||e!=c.SINGLE_CLIP&&e!=c.SEGMENTED&&e!=c.REDUCED||n.getPlaylist().setLabel("ns_st_it",c.toString(e))},setThrottlingDelay:function(e){re=e},getThrottlingDelay:function(){return re},isThrottlingEnabled:function(){return K},setThrottlingEnabled:function(e){K=e},isLoadingTimeSent:function(){return F},setLoadingTimeSent:function(e){F=e},getLoadTimeOffset:function(){return H},setLoadTimeOffset:function(e){H=e},getInitTimestamp:function(){return Y},setPauseOnBufferingInterval:function(e){ne=e},getPauseOnBufferingInterval:function(){return ne},isPauseOnBufferingEnabled:function(){return G},setPauseOnBufferingEnabled:function(e){G=e},startPausedOnBufferingTimer:function(e,t){ee.stopPausedOnBufferingTimer(),W=ee.getPlatformAPI().setTimeout(function(){var n={},r=o.fixEventTime(n),i=parseInt(t.ns_st_po);n.ns_st_po=String(i+r-e),ee.newEvent(l.PAUSE_ON_BUFFERING,r,n)},ne)},stopPausedOnBufferingTimer:function(){null!=W&&(ee.getPlatformAPI().clearTimeout(W),W=null)},stopDelayedTransitionTimer:function(){Q&&(ee.getPlatformAPI().clearTimeout(Q),Q=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var r=e.substring(n+1).split("&"),i=0,a=r.length;a>i;i++){var o=r[i],s=o.split("=");2==s.length?ee.setLabel(s[0],t(s[1])):1==s.length&&ee.setLabel(d.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return n},resetPlaylist:function(e){var t=n.getPlaylist();n.setPlaylist(new p),p.resetPlaylist(t,n.getPlaylist(),e)},resetHeartbeat:function(){n.getHeartbeat().pause(),n.setHeartbeat(new h(n))},resetKeepAlive:function(){n.getKeepAlive().pause(),n.setKeepAlive(new m(n))}}),o.isBrowser()?(Z=window,$=document):(Z={},$={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),o.extend(this,{prepareUrl:function(e,t){for(var n,r=Z.encodeURIComponent||escape,i=[],a=d.LABELS_ORDER,s=e.split("?"),l=s[0],u=s[1].split("&"),c=0,f=u.length;f>c;c++){var p=u[c].split("="),_=unescape(p[0]),h=unescape(p[1]);_&&(t[_]=h)}for(var m={},E=0,v=a.length;v>E;E++){var y=a[E];if(t.hasOwnProperty(y)){var g=t[y];void 0!==g&&null!=g&&(m[y]=!0,i.push(r(y)+"="+r(t[y])))}}for(var T in t)if(t.hasOwnProperty(T)){if(m[T])continue;var b=t[T];void 0!==b&&null!=b&&i.push(r(T)+"="+r(t[T]))}n=(n=l+"?"+i.join("&"))+(n.indexOf("&c8=")<0?"&c8="+r($.title):"")+(n.indexOf("&c7=")<0?"&c7="+r($.URL):"")+(n.indexOf("&c9=")<0?"&c9="+r($.referrer):"");var S=o.browserAcceptsLargeURLs()?d.URL_LENGTH_LIMIT:d.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>S&&n.indexOf("&")>0){var A=n.substr(0,S-8).lastIndexOf("&");n=(n.substring(0,A)+"&ns_cut="+r(n.substring(A+1))).substr(0,S)}return n}}),n=new k(ee),o.getNamespace().comScore?(te=o.getNamespace().comScore.exports,n.setAppCore(te.c())):n.setAppCore(null),n.setKeepAlive(new m(n)),n.setHeartbeat(new h(n)),n.setEventManager(new _(n)),n.setStateMachine(new E),n.setPlaylist(new p),X={},r=new S(n),i=new A(n),f=new O(n),w=new P(n),M=new y(n),L=new T(n),D=new b(n),x=new g(n),U=new C(n),B=new N(n),V=new I(n),j=new R(n),q=new v(n),F=!1,H=0,Y=+new Date,G=!0,K=!1,z=[]},k=function(e){var t,n,r,i,a,s;o.extend(this,{getAppCore:function(){return t},getSSECore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return r},getHeartbeat:function(){return i},getKeepAlive:function(){return a},getPlaylist:function(){return s},setAppCore:function(e){t=e},setKeepAlive:function(e){a=e},setHeartbeat:function(e){i=e},setEventManager:function(e){n=e},setStateMachine:function(e){r=e},setPlaylist:function(e){s=e}})},M=function(e,t){function n(){r&&i.getSseSM().getStateMachine().getCurrentState()!=u.IDLE&&a.end()}var r,i,a=this,s=d.STANDARD_METADATA_LABELS;o.extend(this,{isProperlyInitialized:function(){return i.isProperlyInitialized()},reset:function(e){var t=i;t.getSseSM().getKeepAlive().pause(),t.getSseSM().getHeartbeat().pause(),i=new w,p.resetPlaylist(t.getSseSM().getPlaylist(),i.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){i.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return i.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){i.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return i.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){i.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,t){a.notify(l.PLAY,e,t)},pause:function(e,t){a.notify(l.PAUSE,e,t)},end:function(e,t){a.notify(l.END,e,t)},bufferStart:function(e,t){a.notify(l.BUFFER,e,t)},bufferStop:function(e,t){a.notify(l.BUFFER_STOP,e,t)},load:function(e,t){a.notify(l.LOAD,e,t)},start:function(e,t){a.notify(l.START,e,t)},seekStart:function(e,t){a.notify(l.SEEK_START,e,t)},skipAd:function(e,t){a.notify(l.AD_SKIP,e,t)},callToAction:function(e,t){a.notify(l.CTA,e,t)},error:function(e,t){a.notify(l.ERROR,e,t)},transferPlayback:function(e,t){a.notify(l.TRANSFER,e,t)},drmFail:function(e,t){a.notify(l.DRM_FAILED,e,t)},drmApprove:function(e,t){a.notify(l.DRM_APPROVED,e,t)},drmDeny:function(e,t){a.notify(l.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_br=String(e),a.notify(l.BIT_RATE,r,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_rt=String(e),a.notify(l.PLAYBACK_RATE,r,t)}},changeVolume:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vo=String(e),a.notify(l.VOLUME,r,t)}},changeWindowState:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_ws=String(e),a.notify(l.WINDOW_STATE,r,t)}},changeAudio:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_at=String(e),a.notify(l.AUDIO,r,t)}},changeVideo:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_vt=String(e),a.notify(l.VIDEO,r,t)}},changeSubtitle:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_tt=String(e),a.notify(l.SUBS,r,t)}},changeCDN:function(e,t,n){if(null!=e){var r=n||{};r.ns_st_cdn=String(e),a.notify(l.CDN,r,t)}},notify:function(e){var t,n;if(t="object"==typeof arguments[1]?arguments[1]:"object"==typeof arguments[2]?arguments[2]:{},n="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,l.toString(e)){t=o.jsonObjectToStringDictionary(t);var r=o.fixEventTime(t);t.ns_st_po||isNaN(n)||(t.ns_st_po=o.getInteger(n,0).toString()),t.ns_st_po&&i.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(t.ns_st_po)),e==l.PLAY||e==l.PAUSE||e==l.BUFFER||e==l.END||e==l.SEEK_START||e==l.AD_SKIP||e==l.BUFFER_STOP?i.newEvent(e,r,t):i.newPseudoEvent(e,r,t)}},getLabels:function(){return i.getLabels()},getState:function(){return i.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){i.setLabels(e)},getLabel:function(e){return i.getLabel(e)},setLabel:function(e,t){i.setLabel(e,t)},getLoadTimeOffset:function(){return i.getLoadTimeOffset()},setLoadTimeOffset:function(e){i.setLoadTimeOffset(e)},setPixelURL:function(e){return i.setPixelURL(e)},getPixelURL:function(){return i.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){i.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return i.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){i.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return i.isThrottlingEnabled()},setThrottlingEnabled:function(e){i.setThrottlingEnabled(e)},setThrottlingDelay:function(e){i.setThrottlingDelay(e)},getThrottlingDelay:function(){return i.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){i.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return i.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,t,n){if(void 0===n&&(n=!0),e=o.jsonObjectToStringDictionary(e),n&&i.getSseSM().getStateMachine().getCurrentState()!==u.IDLE&&a.end(),i.getSseSM().getStateMachine().getCurrentState()==u.IDLE){var r="",l=0;if(null!=e.ns_st_cn)r=String(e.ns_st_cn);else for(var c=0;c<s.length;c++)e[s[c]]&&(r+=s[c]+":"+e[s[c]]+";");var d=i.getSseSM().getPlaylist(),f=d.getClip();f.isClipStarted()?(d.hashExists(f.getHash())||(d.storeHash(f.getHash()),d.storeClipNumber(f.getHash(),f.getClipNumber())),d.storeClipPlaybackCounters(),l=d.hashExists(r)?d.getClipNumber(r):o.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):d.getMaxClipNumber()+1):l=d.hashExists(r)?d.getClipNumber(r):f.getClipNumber(),d.resetClip(),(f=d.getClip()).setHash(r),f.setClipNumber(l),f.setLabels(e);var p=d.getStoredClipRegisters(r);return p&&(f.setClipStarted(!0),f.setSegmentPlaybackCounter(p.segmentPlaybackCounter),f.setClipLoadCounter(p.clipLoadCounter),f.setAssetPlaybackCounter(p.assetPlaybackCounter),f.setLowestPartNumberPlayed(p.lowestPartNumberPlayed),f.setSeeking(p.seeking),f.setSeekingTimeBeforeEnd(p.seekingTimeBeforeEnd),f.setSeekStartPosition(p.seekingStartPosition),f.setClipPlaybackIntervals(p.clipPlaybackIntervals),f.setUniquePlaybackInterval(p.uniquePlaybackInterval),f.setLongestPlaybackInterval(p.longestPlaybackInterval),f.setVideoTrack(p.videoTrack),f.setAudioTrack(p.audioTrack),f.setSubtitleTrack(p.subtitleTrack),f.setCDN(p.cdn),f.setPreviousUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousEventIndependentUniquePlaybackInterval(p.uniquePlaybackInterval),f.setPreviousLongestPlaybackInterval(p.longestPlaybackInterval)),f.incrementClipLoadCounter(),f.isClipStarted()&&t&&(d.incrementPlayCounter(),d.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,t){return void 0===t&&(t=!0),e=o.jsonObjectToStringDictionary(e),t&&i.getSseSM().getStateMachine().getCurrentState()!==u.IDLE&&a.end(),i.getSseSM().getStateMachine().getCurrentState()==u.IDLE&&(i.getSseSM().getPlaylist().isPlaylistStarted()&&i.resetPlaylist(),i.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return d.STREAMSENSE_VERSION},addListener:function(e){i.addListener(e)},removeListener:function(e){i.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),i.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return i.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(i.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(i.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){r=e},isExitEndEventEnabled:function(){return r},getPlatformAPI:function(){return i.getPlatformAPI()}}),o.extend(this,{customNotify:function(e,t){a.notify(l.CUSTOM,e,t)},viewNotify:function(e,t){(e=e||a.getPixelURL())&&viewNotify(e,t)}}),o.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",n),window.addEventListener("unload",n)):window.attachEvent&&(window.attachEvent("onbeforeunload",n),window.attachEvent("onunload",n))),i=new w,r=!0,e&&a.setLabels(e),t&&a.setPixelURL(t)};return function(t){function n(e,t){return s[u]||i(e,t)}function r(){u=-1;for(var t=0;l>=t;t++)if(s.hasOwnProperty(String(t))){u=t;break}return e.StreamSense.activeIndex=u,u}function i(t,n){return n=n||null,(t=t||null)&&"object"==typeof t&&(n=t,t=null),s[++l]=new e.StreamSense(n,t),r(),s[l]}function a(){var t=!1,n=u;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var i in s)if(s.hasOwnProperty(i)&&s[i]===arguments[0]){n=i;break}return s.hasOwnProperty(String(n))&&(t=s[n],delete s[n],t.reset(),r()),t}var s={},l=-1,u=-1;o.extend(t,{activeIndex:u,newInstance:i,new:i,destroyInstance:a,destroy:a,newPlaylist:function(e){return e=e||{},n().setPlaylist(e),n().getPlaylist()},newClip:function(e,t,r){return e=e||{},"number"==typeof t&&(e.ns_st_cn=String(t)),n().setClip(e,r),n().getClip()},notify:function(e,t,r){return void 0!==e&&(r=r||null,t=t||{},n().notify(e,t,r))},setLabels:function(e){void 0!==e&&n().setLabels(e)},getLabels:function(){return n().getLabels()},setPlaylistLabels:function(e){void 0!==e&&n().getPlaylist().setLabels(e)},getPlaylistLabels:function(){return n().getPlaylist().getLabels()},setClipLabels:function(e){void 0!==e&&n().getClip().setLabels(e)},getClipLabels:function(){return n().getClip().getLabels()},resetInstance:function(e){return n().reset(e||{})},resetPlaylist:function(e){return n().getPlaylist().reset(e||{})},resetClip:function(e){return n().getClip().reset(e||{})},viewEvent:function(e){return e=e||{},n().viewNotify(null,e)},customEvent:function(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=String(t)),n().customNotify(e,t)},exportState:function(){return n().exportState()},importState:function(e){n().importState(e)}})}(M),M.PlayerEvents=l,M.InternalStates=u,M.ImplementationType=c,M}(),e.StreamingTag=e.StreamingTag||(n=e.StreamSense,e.StreamSense.PlayerEvents,r=e.StreamSense.InternalStates||null,i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType,(t=function(e){function t(e){for(var t in o.exists(e)||(e={}),E)E.hasOwnProperty(t)&&!o.exists(e[E[t]])&&("ns_st_ci"==E[t]?e.ns_st_ci="0":e[E[t]]="*null");return e}function s(e,t,n){if(o.exists(e)&&o.exists(t)&&o.exists(n)){var r=t[e],i=n[e];return o.exists(r)&&o.exists(i)&&r===i}return!1}function l(e){d++;var t={ns_st_cn:String(d),ns_st_pn:"1",ns_st_tp:"0"};o.extend(t,e),_.setClip(t),f=e,_.play()}function u(e){d++,e=t(e);var n={ns_st_cn:String(d),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};o.extend(n,e),_.setClip(n),_.play(),p=!1}function c(e,n){e=t(e),v==m.None&&(v=n),p&&v==n&&function(e){for(var t in E)if(E.hasOwnProperty(t)&&!s(E[t],f,e))return!1;return!0}(e)?(_.getClip().setLabels(e),_.getState()!=r.PLAYING&&_.play()):l(e),p=!0,v=n}var d=0,f=null,p=!1,_=null,h=!1,m={None:0,AudioContent:1,VideoContent:2},E=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],v=m.None;o.extend(this,{playAdvertisement:function(){_&&(h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),u({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,t){if(_){var n={ns_st_ct:"va"};t?n.ns_st_ct="va"+t:h&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(n,e),u(n)}},playAudioAdvertisement:function(e,t){if(_){var n={ns_st_ct:"aa"};t?n.ns_st_ct="aa"+t:h&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(n,e),u(n)}},playContentPart:function(e){if(_){h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var t={ns_st_ct:"vc"};e&&o.extend(t,e),c(t,m.VideoContent)}},playVideoContentPart:function(e,t){if(_){var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:h&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&o.extend(n,e),c(n,m.VideoContent)}},playAudioContentPart:function(e,t){if(_){var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:h&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&o.extend(n,e),c(n,m.AudioContent)}},stop:function(){_&&_.pause()}}),function(){if(a)if(o.getNamespace().comScore)(_=new n).setImplementationType(i.REDUCED);else if(o.exists(e))if(h=o.isTrue(e.debug),o.exists(e.customerC2)&&e.customerC2.length>0){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(_=new n).setPixelURL(t+".scorecardresearch.com/p?c1=2"),_.setLabel("c2",e.customerC2),_.setImplementationType(i.REDUCED)}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()}).ContentType={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},t.AdType={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},t),e}(i.ns_)}.apply(t,[]))||(e.exports=r)},"+eo6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_CLEAR_ERROR=t.ACTION_ERROR=void 0,t.setError=function(e){var t=a.default.getError(e);return{type:o,code:t.code}},t.clearError=function(){return{type:s}};var r,i=n("y+GA"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ACTION_ERROR="set error",s=t.ACTION_CLEAR_ERROR="clear error"},"+h71":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackendMulti=function(e,t){var n,u=new a.default,c=[],d=[e,t],f={};function p(e){var t=e[0],n=[s.LOADSTART],a=!1;(0,i.default)(n,t)&&(a=(0,r.default)(f,t),f[t]=!0),a||(t===s.ENDED&&(f=[]),u.emit.apply(u,e))}function _(e,t){if(e.pause(),n=t,c.forEach(function(e){p(e)}),c=[],e.getDuration()!==t.getDuration()&&u.emit(s.DURATION_CHANGE),e.getCurrentTime()!==t.getCurrentTime()&&u.emit(s.TIME_UPDATE),e.getBuffered()!==t.getBuffered()&&u.emit(l.BUFFER_CHANGE),e.getQuality()!==t.getQuality()){var r=t.getQuality();u.emit(l.QUALITY_CHANGE,{quality:r,isAuto:"auto"===r})}t.play()}this.destroy=function(){e.destroy(),t.destroy()},this.addEventListener=function(e,t){u.on(e,t)},this.removeEventListener=function(e,t){u.off(e,t)},this.getNetworkProfile=function(){return n.getNetworkProfile()},this.getError=function(){return n.getError()},this.getSrc=function(){return n.getSrc()},this.absAvailable=function(){return n.absAvailable()},this.setSrc=function(e){d.forEach(function(t){t.setSrc(e)})},this.getNetworkState=function(){return n.getNetworkState()},this.getBuffered=function(){return n.getBuffered()},this.load=function(){n.load()},this.getReadyState=function(){return n.getReadyState()},this.getSeeking=function(){return n.getSeeking()},this.getStats=function(){return n.getStats()},this.getCurrentTime=function(){return n.getCurrentTime()},this.setCurrentTime=function(e){d.forEach(function(t){return t.setCurrentTime(e)})},this.getDuration=function(){return n.getDuration()},this.getPaused=function(){return n.getPaused()},this.getPlaybackRate=function(){return n.getPlaybackRate()},this.setPlaybackRate=function(e){d.forEach(function(t){return t.setPlaybackRate(e)})},this.getPlayed=function(){return n.getPlayed()},this.getEnded=function(){return n.getEnded()},this.getAutoplay=function(){return n.getAutoplay()},this.setAutoplay=function(e){d.forEach(function(t){return t.setAutoplay(e)})},this.setLoop=function(e){d.forEach(function(t){t.setLoop(e)})},this.play=function(){n.play()},this.pause=function(){n.pause()},this.getControls=function(){return n.getControls()},this.setControls=function(e){d.forEach(function(t){t.setControls(e)})},this.getVolume=function(){return n.getVolume()},this.setVolume=function(e){d.forEach(function(t){t.setVolume(e)})},this.getMuted=function(){return n.getMuted()},this.setMuted=function(e){d.forEach(function(t){t.setMuted(e)})},this.getQuality=function(){return n.getQuality()},this.setQuality=function(e){d.forEach(function(t){t.setQuality(e)})},this.getQualities=function(){return n.getQualities()},this.setChannel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f={},d.forEach(function(n){n.setChannel(e,t)})},this.setClip=function(e){f={},d.forEach(function(t){t.setClip(e)})},this.elapsedTime=function(){return n.elapsedTime()},this.getBackend=function(){return n.getBackend()},this.setVideo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;f={},d.forEach(function(n){n.setVideo(e,t)})},this.getVideoInfo=function(){return n.getVideoInfo()},this.getBandwidthEstimate=function(){return n.getBandwidthEstimate()},this.getAverageBitrate=function(){return n.getAverageBitrate()},this.getCaption=function(){return n.getCaption()},this.setLiveLowLatencyEnabled=function(e){d.forEach(function(t){t.setLiveLowLatencyEnabled(e)})},this.setLiveMaxLatency=function(e){d.forEach(function(t){t.setLiveMaxLatency(e)})},this.setAutoMaxVideoSize=function(e,t){d.forEach(function(n){n.setAutoMaxVideoSize(e,t)})},function(){n=e.getReadyState()>=e.HAVE_CURRENT_DATA&&!e.getEnded()?e:t;e.addEventListener(s.CAN_PLAY,function(){_(t,e)}),e.addEventListener(s.ENDED,function(){n===e&&_(e,t)}),d.forEach(function(r){o.allEvents.forEach(function(i){r.addEventListener(i,function(){var a=Array.prototype.slice.call(arguments);!function(r,i,a){if(a.unshift(i),i===s.ENDED&&r===e&&!t.getEnded())return;n===r?p(a):c.push(a)}(r,i,a)})})})}()};var r=c(n("OFL0")),i=c(n("ijCd")),a=c(n("4O8T")),o=u(n("J0qE")),s=u(n("JZwe")),l=u(n("nC/T"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}},"+i0y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTranslatedQualityName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},a=(0,r.default)(e,function(e){var n=e.group;return n===t});if(void 0===a)return"";var c=a.name,d=a.group,f=a.isDefault;if(d===o)return n(s);if(f)return function(e){if((0,i.default)(e.toLowerCase(),u)){var t=e.toLowerCase().indexOf(u);return e.slice(0,t).trim()}return e.trim()}(c)+" ("+n(l)+")";return c};var r=a(n("J2m7")),i=a(n("ijCd"));function a(e){return e&&e.__esModule?e:{default:e}}var o="auto",s="Auto",l="Source",u="(source)"},"+ivd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.qualityPersistence=void 0;var r=n("MPW3"),i=n("uC+K"),a=t.qualityPersistence=new r.SegmentedPersistence({storageKey:"video-quality",segments:[{key:"clips",playerTypes:i.CLIPS_PLAYER_TYPES}]});(0,r.convertOldKey)("quality",a)},"+mBj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerTypeLoader=t.PlayerTypeLoaderComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("N58E"),s=n("uC+K"),l=n("d1+y");function u(e){return e&&e.__esModule?e:{default:e}}var c={clipGenerator:a.default.object.isRequired,options:a.default.object.isRequired,playerType:a.default.string.isRequired,player:a.default.object.isRequired,root:a.default.object.isRequired},d=t.PlayerTypeLoaderComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._setPlayerTypeComponent=e._setPlayerTypeComponent.bind(e),e.state={playerTypeComponent:null},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this._setPlayerTypeComponent(this.props.playerType)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.playerType;this.props.playerType!==t&&this._setPlayerTypeComponent(t)}},{key:"render",value:function(){return this.state.playerTypeComponent?i.default.createElement(this.state.playerTypeComponent,{player:this.props.player,root:this.props.root,options:this.props.options,clipGenerator:this.props.clipGenerator}):null}},{key:"_setPlayerTypeComponent",value:function(e){var t=this;switch(e){case s.PLAYER_AMAZON_LIVE:return n.e(400).then(function(){var e=n("iSLP");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_CLIPS_VIEWING:return n.e(399).then(function(){var e=n("5Kqy");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_CLIPS_EMBED:return n.e(398).then(function(){var e=n("aRgI");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_CLIPS_EDITING:return n.e(397).then(function(){var e=n("3K1P");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_CLIPS_WATCH:return n.e(396).then(function(){var e=n("8/R1");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_HIGHLIGHTER:return n.e(395).then(function(){var e=n("SVNA");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);case s.PLAYER_RECAP:return n.e(394).then(function(){var e=n("X5Al");t.setState({playerTypeComponent:e.default})}.bind(null,n)).catch(n.oe);default:this.setState({playerTypeComponent:l.DefaultPlayer})}}}]),t}();d.propTypes=c;t.PlayerTypeLoader=(0,o.connect)(function(e){return{playerType:e.env.playerType}})(d)},"+oT0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectDropdown=void 0,t.SelectDropdownComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={className:i.default.string,currentValue:i.default.string.isRequired,id:i.default.string,options:i.default.arrayOf(i.default.shape({value:i.default.string.isRequired,text:i.default.string.isRequired})).isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired};function l(e){var t=e.className,n=e.currentValue,i=e.id,a=e.onSelect,o=e.options,s=e.t;function l(e){a(e.target.value)}var u=o.map(function(e){var t=e.value,n=e.text;return r.default.createElement("option",{key:"option."+t+"."+n,value:t},s(n))});return r.default.createElement("select",{className:t,onChange:l,onBlur:l,value:n,id:i},u)}l.propTypes=s,l.defaultProps={className:"",id:""};t.SelectDropdown=(0,a.translate)()(l)},"/24N":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOTIFICATIONS_ON=t.NOTIFICATIONS_OFF=t.NOTIFICATION_CHANGE=t.NOTIFICATIONS_BUTTON_VIEW=t.NOTIFICATIONS_BUTTON_CLICK=t.FOLLOW=t.FOLLOW_AND_NOTIFICATIONS_ON=t.ACTION_CHANNEL_FOLLOW_NOTIFICATION_UPDATED=t.ACTION_CHANNEL_FOLLOW_UPDATED=t.ACTION_SHOW_FOLLOW_NOTIFICATION=t.ACTION_PROMPT_LOGIN_MODAL=t.ACTION_FOLLOW_INFO_FETCHED=void 0,t.showFollowNotification=d,t.fetchFollowInfo=function(e,t){return function(n,i){var a=i(),o=a.stream;return(0,r.getFollowChannel)(e,t).then(function(e){var t=e.notifications;f(o,i())&&(_(n,e),n(d(!t)))}).catch(function(e){f(o,i())&&(h(n,e),n(d(!0)))})}},t.followChannel=function(e,t){return function(n){return(0,r.setFollowChannel)(e,t,!0).then(function(e){return _(n,e)}).catch(function(){})}},t.unfollowChannel=function(e,t){return function(n){return(0,r.setFollowChannel)(e,t,!1).then(function(){return n(p({following:!1,notificationsEnabled:!1}))}).catch(function(){})}},t.enableNotifications=function(e,t){return function(n,i){var a=i(),o=a.analyticsTracker;return(0,r.setFollowNotifications)(e,t,!0).then(function(e){return _(n,e)}).then(function(){return m(o)}).catch(function(){})}},t.disableNotifications=function(e,t){return function(n,i){var a=i(),o=a.analyticsTracker;return(0,r.setFollowNotifications)(e,t,!1).then(function(e){return _(n,e)}).then(function(){return E(o)}).catch(function(){})}},t.followInfoFetched=p,t.dispatchFollowSuccess=_,t.dispatchFollowFail=h,t.promptLoginModal=function(e){return{type:a,channelName:e}},t.logNotificationsEnabled=m,t.logNotificationsDisabled=E,t.channelFollowUpdated=function(e){return{type:s,isFollowing:e}},t.channelFollowNotificationUpdated=function(e){return{type:l,isFollowingNotifications:e}};var r=n("56nq"),i=t.ACTION_FOLLOW_INFO_FETCHED="follow info fetched",a=t.ACTION_PROMPT_LOGIN_MODAL="prompt login modal",o=t.ACTION_SHOW_FOLLOW_NOTIFICATION="show follow notification",s=t.ACTION_CHANNEL_FOLLOW_UPDATED="channel follow updated",l=t.ACTION_CHANNEL_FOLLOW_NOTIFICATION_UPDATED="channel follow notification updated",u=(t.FOLLOW_AND_NOTIFICATIONS_ON="follow_on_notif_on",t.FOLLOW="follow"),c=(t.NOTIFICATIONS_BUTTON_CLICK="player_notifbutton_clicks",t.NOTIFICATIONS_BUTTON_VIEW="player_notifbutton_views",t.NOTIFICATION_CHANGE="notification_change");t.NOTIFICATIONS_OFF="notif_off",t.NOTIFICATIONS_ON="notif_on";function d(e){return{type:o,show:e}}function f(e,t){return e===t.stream}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:i,followInfo:e}}function _(e,t){var n=t.channel,r=t.notifications;n._id&&void 0!==r&&e(p({following:!0,notificationsEnabled:r}))}function h(e,t){404===t.status&&e(p({following:!1,notificationsEnabled:!1}))}function m(e){e.trackEvent(u,{src:"player"}),e.trackEvent(c,{notifications:!0})}function E(e){e.trackEvent(c,{notifications:!1})}},"/2o6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PARAMS_BLACKLIST=void 0,t.sanitizeQuery=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=Array.isArray(t)&&t.length>0;if(!(0,a.default)(e)||!n)return e;var r=e.indexOf("?"),i=e.slice(0,r),l=r<0?"":e.slice(r+1);if(l.length>0){var u=(0,o.parse)(l);return t.forEach(function(e){return delete u[e]}),i+"?"+(0,o.toString)(u)}return e};var r,i=n("4qC0"),a=(r=i)&&r.__esModule?r:{default:r},o=n("ZtkW");var s=t.DEFAULT_PARAMS_BLACKLIST=Object.freeze(["oauth_token"])},"/71H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOT_LOGGED_IN=t.LOGGED_IN=t.UNKNOWN=void 0,t.user=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case o.ACTION_USER_LOGGED_IN:return(0,a.default)({},t.userInfo,{loggedInStatus:l});case o.ACTION_USER_NOT_LOGGED_IN:return(0,a.default)({},c,t.userInfo,{loggedInStatus:u});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("B9JN");var s=t.UNKNOWN="unknown",l=t.LOGGED_IN="logged in",u=t.NOT_LOGGED_IN="not logged in",c={loggedInStatus:s,id:0,isStaff:!1,isAdmin:!1,name:"",countryCode:""}},"/ESh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BACKEND_BLANK_TYPE=t.BACKEND_BLANK_ERROR=void 0,t.BackendBlank=function(){var e=new a.default;this.attach=function(e){},this.destroy=function(){},this.getVersion=function(){return""},this.addEventListener=function(t,n){e.on(t,n)},this.removeEventListener=function(t,n){e.off(t,n)},this.setAutoplay=function(){},this.getError=function(){return o},this.getSrc=function(){},this.getStats=function(){return{}},this.setSrc=function(e){},this.getNetworkState=function(){},this.getBuffered=function(){},this.load=function(){},this.getReadyState=function(){},this.getSeeking=function(){},this.getCurrentTime=function(){},this.setCurrentTime=function(e){},this.getDuration=function(){},this.getPaused=function(){},this.getPlaybackRate=function(){},this.setPlaybackRate=function(e){},this.getPlayed=function(){},this.getEnded=function(){},this.getAutoplay=function(){},this.setLoop=function(e){},this.play=function(){},this.pause=function(){},this.getControls=function(){},this.setControls=function(e){},this.getVolume=function(){},this.setVolume=function(e){},this.getMuted=function(){},this.setMuted=function(e){},this.getQuality=function(){},this.setQuality=function(e){},this.getQualities=function(){return[]},this.setChannel=function(e,t){},this.setClip=function(){},this.elapsedTime=function(){},this.setVideo=function(e,t){},this.getVideoInfo=function(){},this.getCaption=function(){},this.getBackend=function(){return s},this.absAvailable=function(){},this.setLiveLowLatencyEnabled=function(e){},this.setLiveMaxLatency=function(e){},this.setAutoMaxVideoSize=function(e,t){},this.getNetworkProfile=function(){},this.getBandwidthEstimate=function(){},this.getAverageBitrate=function(){}};var r,i=n("4O8T"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.BACKEND_BLANK_ERROR="Blank Backend Error",s=t.BACKEND_BLANK_TYPE="blank"},"/Qvl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CLIPS_EDITING=void 0,t.clipsEditing=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case r.ACTION_CLIPS_EDITING_UPDATED:var n=(0,a.default)(t.clipsEditing,(0,o.default)(l)),s=(0,i.default)({},n,e);return s;default:return e}};var r=n("hF4l"),i=s(n("la6v")),a=s(n("JZM8")),o=s(n("7GkX"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DEFAULT_CLIPS_EDITING=Object.freeze({segments:null,isPostEdit:!1})},"/TO3":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.GlyphArrow=t.SVG_PATHS=t.SVGAsset=void 0;var i,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),o=n("17x9"),s=(i=o)&&i.__esModule?i:{default:i};function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.SVGAsset={GlyphArrLeft:"GlyphArrLeft",GlyphArrRight:"GlyphArrRight;"},c=t.SVG_PATHS=(l(r={},u.GlyphArrRight,{path:a.createElement("path",{d:"M7.463 5.054a.714.714 0 0 0-.463.66v8.572c0 .289.183.55.463.66.28.11.603.05.817-.155l4.5-4.286A.696.696 0 0 0 13 10a.7.7 0 0 0-.22-.505L8.28 5.21a.777.777 0 0 0-.817-.155"}),width:20,height:20}),l(r,u.GlyphArrLeft,{path:a.createElement("path",{d:"M12.537 14.946a.714.714 0 0 0 .463-.66V5.714a.715.715 0 0 0-.463-.66.777.777 0 0 0-.817.155l-4.5 4.286A.696.696 0 0 0 7 10a.7.7 0 0 0 .22.505l4.5 4.286a.777.777 0 0 0 .817.155"}),width:20,height:20}),r),d={asset:s.default.oneOf([u.GlyphArrRight,u.GlyphArrLeft]),height:s.default.number,width:s.default.number,fill:s.default.bool},f=t.GlyphArrow=function(e){var t={width:e.fill?"100%":(e.width||20)+"px",height:e.fill?"100%":(e.height||20)+"px"};return a.createElement("figure",{className:"pl-flex"},a.createElement("svg",{width:e.fill?"100%":(e.width||20)+"px",height:e.fill?"100%":(e.height||20)+"px",version:"1.1",viewBox:"0 0 "+c[e.asset].width+" "+c[e.asset].height,x:"0px",y:"0px",style:t},c[e.asset].path))};f.propTypes=d,f.displayName="GlyphArrow"},"/UAI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMutedSegments=function(e){return(0,o.videoInfo)(e).then(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(null===e)return[];if(e.length<=1)return e;if(!function(e){var t=!0;return e.forEach(function(e){e.hasOwnProperty("offset")&&e.hasOwnProperty("duration")&&(0,a.default)(e.offset)&&(0,a.default)(e.duration)||(t=!1)}),t}(e))return Promise.reject(new Error("Muted segments not formatted correctly"));return function(e){return e.reduce(function(e,t){var n=e[e.length-1],r=n.offset+n.duration,i=t.offset+t.duration;return r<t.offset?e.push(t):r<i&&(n.duration=i-n.offset),e},[e[0]])}(e.slice(0).sort(function(e,t){return e.offset-t.offset}))}(e.muted_segments)})};var r,i=n("lFKM"),a=(r=i)&&r.__esModule?r:{default:r},o=n("56nq")},"/njL":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROVIDED_OPTIONS=void 0,t.playerOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_PROVIDED_OPTIONS:return(0,a.default)({},e,t.playerOptions);default:return e}};var r,i=n("QkVN"),a=(r=i)&&r.__esModule?r:{default:r},o=n("sqLg");var s=t.DEFAULT_PROVIDED_OPTIONS=Object.freeze({branding:!0,showInfo:!0,showMature:!0,showtheatre:!1,collection:"",channel:"",channelId:"",video:"",tt_content:"",tt_medium:"",nSecondPlayPeriods:[],persistUserPreferences:!0})},"/reP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerRoot=t.PlayerRootContainer=t.mapDispatchToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("q1tI")),a=l(n("17x9")),o=n("N58E"),s=n("Z4ex");function l(e){return e&&e.__esModule?e:{default:e}}var u={children:a.default.node.isRequired,hideUI:a.default.func.isRequired,paused:a.default.bool.isRequired,root:a.default.object.isRequired,showUIWithAutoHide:a.default.func.isRequired},c=t.mapDispatchToProps=function(e){return{showUIWithAutoHide:function(){e((0,s.showUIWithAutoHide)())},hideUI:function(){e((0,s.hideUI)())}}},d=t.PlayerRootContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showAndAutoHide=e._showAndAutoHide.bind(e),e.hide=e._hide.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.root.addEventListener("mouseenter",this.showAndAutoHide),this.props.root.addEventListener("mousemove",this.showAndAutoHide),this.props.root.addEventListener("mouseleave",this.hide)}},{key:"componentWillUnmount",value:function(){this.props.root.removeEventListener("mouseenter",this.showAndAutoHide),this.props.root.removeEventListener("mousemove",this.showAndAutoHide),this.props.root.removeEventListener("mouseleave",this.hide)}},{key:"render",value:function(){return i.default.createElement("div",{className:"player-root"},this.props.children)}},{key:"_showAndAutoHide",value:function(){this.props.paused||this.props.showUIWithAutoHide()}},{key:"_hide",value:function(){this.props.paused||this.props.hideUI()}}]),t}();d.propTypes=u;t.PlayerRoot=(0,o.connect)(function(e){return{paused:e.playback.paused}},c)(d)},"03Qf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_OPTIONS=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.makeAnimatedComponent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=(0,l.default)(t,Object.keys(d)),c={onAnimationEnd:o.default.func,_transitionToNextComponent:o.default.func,className:o.default.string},p=function(t){function o(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments));return e.state={animationClass:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,t),i(o,[{key:"_animateIn",value:function(e){var t=n.showDuration,r=n.showClass;this.setState({animationClass:r}),(0,s.delay)(t).then(e)}},{key:"componentWillAppear",value:function(e){this._animateIn(e)}},{key:"componentDidAppear",value:function(){this.setState({animationClass:""})}},{key:"componentWillEnter",value:function(e){this._animateIn(e)}},{key:"componentDidEnter",value:function(){this.setState({animationClass:""})}},{key:"componentWillLeave",value:function(e){var t=n.hideDuration,r=n.hideClass;this.setState({animationClass:r}),(0,s.delay)(t-f).then(e)}},{key:"componentDidLeave",value:function(){this.props.onAnimationEnd&&this.props.onAnimationEnd(),this.props._transitionToNextComponent&&this.props._transitionToNextComponent()}},{key:"render",value:function(){var t=(0,u.default)(this.props.className,this.state.animationClass);return a.default.createElement(e,r({},this.props,{className:t}))}}]),o}(a.default.Component);return p.propTypes=c,p.defaultProps={className:""},p.displayName="WrappedAnimatedComponent("+(_=e,_.displayName||_.name||"Component")+")",p;var _};var a=c(n("q1tI")),o=c(n("17x9")),s=n("gReq"),l=c(n("JZM8")),u=c(n("TSYQ"));function c(e){return e&&e.__esModule?e:{default:e}}var d=t.DEFAULT_OPTIONS=Object.freeze({showDuration:0,hideDuration:0,showClass:"",hideClass:""}),f=100},"03oI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignmentDropdown=void 0,t.AlignmentDropdownComponent=p;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("+oT0");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentAlignment:i.default.string.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired},u=Object.freeze({value:"left",text:"Left"}),c=Object.freeze({value:"center",text:"Center"}),d=Object.freeze({value:"right",text:"Right"}),f=Object.freeze([u,c,d]);function p(e){var t=e.currentAlignment,n=e.onSelect,i=e.t;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"ccAlignment"},i("Alignment")),r.default.createElement(o.SelectDropdown,{id:"ccAlignment",currentValue:t,onSelect:n,options:f}))}p.propTypes=l;t.AlignmentDropdown=(0,a.translate)()(p)},"0D68":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateStats=function(e){return{type:i,videoStats:e}},t.updateAdStats=function(e){return{type:a,adStats:e}},t.displayStats=function(e){return{type:r,displayState:e}};var r=t.ACTION_DISPLAY_STATS="display stats",i=t.ACTION_UPDATE_STATS="update stats",a=t.ACTION_UPDATE_AD_STATS="update ad stats";t.STATS_UPDATE_INTERVAL=1e3},"0JQy":function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[a+r+"?",r,o,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+c+u,"g");e.exports=function(e){return e.match(d)||[]}},"0Q2g":function(e,t,n){var r=n("W6/K");e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},"0Qzx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateWatchPartyVod=function(e){return function(t){var n;t({type:r,pubsubVodInfo:(n=e,{watchPartyId:n.wp_id,vodId:n.vod_id,title:n.title,viewable:n.viewable,broadcastType:n.broadcast_type,incrementViewCountURL:n.increment_url})})}};var r=t.ACTION_SET_WATCHPARTY_VOD="set watchpartyvod"},"0gEH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.twitchTechDomain=t.twitchDomain=void 0,t.isTwitchEmbed=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){if(window.self!==window.parent)return document.referrer;return window.location.href}(),t=(0,r.parseUri)(e).host.split(".").slice(-2).join(".");return t===i||t===a},t.isDesktopApp=function(e){return"127.0.0.1"===(0,r.parseUri)(e).host};var r=n("uCED"),i=t.twitchDomain="twitch.tv",a=t.twitchTechDomain="twitch.tech"},"0qR3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FollowcheckSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.FollowcheckSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{d:"M7.429 15c-.245 0-.49-.09-.683-.269l-3.428-3.2a1 1 0 0 1 1.364-1.463l2.747 2.564 7.889-7.363a1 1 0 0 1 1.365 1.462l-8.571 8a1.002 1.002 0 0 1-.683.27",fill:e.fill,fillRule:"evenodd"}))}).propTypes=l},"0zsI":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.NullEmbedHost=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"_sendAdCompanionEvent",value:function(e,t){console.error("Attempted to emit "+e+" and "+t+" on NullEmbedHost")}},{key:"_sendStatsUpdateEvent",value:function(){console.error("Attempted to send stats update on NullEmbedHost")}},{key:"_sendReadyEvent",value:function(){console.error("Attempted to emit ready event  on NullEmbedHost")}},{key:"_sendSeekedEvent",value:function(){console.error("Attempted to emit seeked event  on NullEmbedHost")}},{key:"_sendPlaybackEvent",value:function(){console.error("Attempted to send playback event on NullEmbedHost")}},{key:"_sendCaptionsEvent",value:function(){console.error("Attempted to send captions event on NullEmbedHost")}},{key:"_sendFirstPartyAnalyticEvent",value:function(){console.error("Attempted to send first party analytic event on NullEmbedHost")}},{key:"_sendPlaybackBlockedEvent",value:function(){console.error("Attempted to emit playback blocked event on NullEmbedHost")}}]),e}()},"11s1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.SettingsSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M15 13a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm-1-6h2a2.01 2.01 0 0 0 1.235 1.855l.53.22a2.01 2.01 0 0 0 2.185-.439l1.414 1.414a2.01 2.01 0 0 0-.439 2.185l.22.53A2.01 2.01 0 0 0 23 14v2a2.01 2.01 0 0 0-1.855 1.235l-.22.53a2.01 2.01 0 0 0 .44 2.185l-1.415 1.414a2.01 2.01 0 0 0-2.184-.439l-.531.22A2.01 2.01 0 0 0 16 23h-2a2.01 2.01 0 0 0-1.235-1.854l-.53-.22a2.009 2.009 0 0 0-2.184.438L8.636 19.95a2.009 2.009 0 0 0 .438-2.184l-.22-.531A2.01 2.01 0 0 0 7 16v-2a2.01 2.01 0 0 0 1.854-1.235l.22-.53a2.009 2.009 0 0 0-.438-2.185l1.415-1.414a2.009 2.009 0 0 0 2.184.438l.53-.22A2.01 2.01 0 0 0 14 7zm-4 8l1.464 3.536L15 20l3.535-1.464L20 15l-1.465-3.536L15 10l-3.536 1.464L10 15z",fill:e.fill}))}).propTypes=l},"13Ki":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CLIPS_DATA=void 0,t.clipsData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_CLIP_RECOMMENDATIONS_LOADED:var n=(0,a.default)({},e);return Object.keys(t.recommendationSets).forEach(function(e){t.recommendationSets[e].forEach(function(e){n.bySlug[e.slug]=e,n.allSlugs=(0,s.addIfNotPresent)(n.allSlugs,e.slug)})}),n;default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("IyFf"),s=n("ZI6j");var l=t.DEFAULT_CLIPS_DATA=Object.freeze({bySlug:{},allSlugs:[]})},"1Avz":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptionButton=f;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=n("vIfd"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c={captionsEnabled:i.default.bool.isRequired,onDisableCaptions:i.default.func.isRequired,onEnableCaptions:i.default.func.isRequired},d=(0,l.default)({"player-button":!0});function f(e){var t=e.captionsEnabled,n=e.onDisableCaptions,i=e.onEnableCaptions;return t?r.default.createElement(a.Button,{className:d,onClick:n,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Captions"},r.default.createElement(s.ClosedCaptionsSVG,{id:"icon_cc_on",enabled:!0}))):r.default.createElement(a.Button,{className:d,onClick:i,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Captions"},r.default.createElement(s.ClosedCaptionsSVG,{id:"icon_cc_off",enabled:!1})))}f.propTypes=c},"1MZt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionListMenu=t.ExtensionListMenuComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=c(n("TSYQ")),s=n("9kay"),l=n("hm9X"),u=n("Np8/");function c(e){return e&&e.__esModule?e:{default:e}}var d={installations:a.default.arrayOf(l.EXTENSION_INSTALLATION_PROP_TYPE.isRequired).isRequired,onExtensionClick:a.default.func,t:a.default.func.isRequired},f=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),p=(0,o.default)({"pl-menu__section":!0,"pl-menu__item--block":!0,"pl-menu__item--label":!0}),_=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),h=t.ExtensionListMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleExtensionClick=e.handleExtensionClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleExtensionClick",value:function(e){this.props.onExtensionClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.installations,r=t.t,a=n.map(function(t){return i.default.createElement("div",{className:f,key:t.id},i.default.createElement(u.ExtensionListButton,{onClick:e.handleExtensionClick,installation:t}))});return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:p},i.default.createElement("span",null,r("Active Extensions"))),i.default.createElement("div",{className:_},a))}}]),t}();h.propTypes=d,h.defaultProps={onExtensionClick:function(){}};t.ExtensionListMenu=(0,s.translate)()(h)},"1SR/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsButton=t.ClipsButtonContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("q1tI")),a=p(n("17x9")),o=n("N58E"),s=n("IvOd"),l=n("uC+K"),u=n("YWLq"),c=n("r3kr"),d=n("SXV3"),f=n("Rnd+");function p(e){return e&&e.__esModule?e:{default:e}}var _={clipGenerator:a.default.shape({recordClip:a.default.func.isRequired}).isRequired,userCanClip:a.default.bool.isRequired,isSitePlayer:a.default.bool.isRequired,trackClipRecord:a.default.func.isRequired},h=t.mapStateToProps=function(e){return{clipGenerator:e.clips.generator,isSitePlayer:e.env.playerType===l.PLAYER_SITE,userCanClip:(0,c.userCanClipSelector)(e)}},m=t.mapDispatchToProps=function(e){return{trackClipRecord:function(){e((0,u.trackEvent)("player_click_clip"))}}},E=t.ClipsButtonContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClip=e.onClip.bind(e),e.renderClipButton=e.renderClipButton.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"onClip",value:function(){this.props.clipGenerator.recordClip(),this.props.trackClipRecord()}},{key:"renderClipButton",value:function(e){return i.default.createElement(s.ClipsButton,{onClip:this.onClip,hasAltShortcut:this.props.isSitePlayer,disabled:e})}},{key:"render",value:function(){return this.props.userCanClip?i.default.createElement("div",null,i.default.createElement(d.Experiment,{uuid:f.ExperimentIds.ClipsOnTheBrain,renderValue:"control"},this.renderClipButton(!1)),i.default.createElement(d.Experiment,{uuid:f.ExperimentIds.ClipsOnTheBrain,renderValue:"variant1"},this.renderClipButton(!0))):null}}]),t}();E.propTypes=_;t.ClipsButton=(0,o.connect)(h,m)(E)},"1fV9":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Button=u;var r=a(n("q1tI")),i=a(n("17x9"));function a(e){return e&&e.__esModule?e:{default:e}}var o={className:i.default.string,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element,i.default.node]),disabled:i.default.bool,id:i.default.string,onClick:i.default.func,onMouseOver:i.default.func,onMouseOut:i.default.func,onFocus:i.default.func,onBlur:i.default.func,tabIndex:i.default.string,blurAfterClick:i.default.bool};function s(e){return function(t){"Enter"===t.key&&e(t)}}function l(e,t){return t?function(t){e(t),t&&t.currentTarget&&t.currentTarget.blur()}:e}function u(e){var t=e.children,n=e.className,i=e.disabled,a=e.id,o=e.onBlur,u=e.onClick,c=e.onFocus,d=e.onMouseOut,f=e.onMouseOver,p=e.tabIndex,_=e.blurAfterClick;return r.default.createElement("button",{className:n,disabled:i,id:a,onBlur:o,onClick:l(u,_),onFocus:c,onKeyUp:s(u),onMouseOut:d,onMouseOver:f,tabIndex:p,type:"button"},t)}u.propTypes=o,u.defaultProps={className:"",disabled:!1,id:"",onClick:function(){},onMouseOver:function(){},onMouseOut:function(){},onFocus:function(){},onBlur:function(){},tabIndex:"0",blurAfterClick:!1}},"1r0f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CCPanelTabs=void 0,t.CCPanelTabsComponent=h;var r=f(n("q1tI")),i=f(n("17x9")),a=f(n("TSYQ")),o=n("9kay"),s=n("V6vH"),l=n("fPn6"),u=n("DtOl"),c=n("CEto"),d=n("ozMv");function f(e){return e&&e.__esModule?e:{default:e}}var p=[s.PRESETS,l.TEXT,u.EFFECTS,c.BACKGROUND,d.WINDOW],_={currentPanel:i.default.string.isRequired,selectPanel:i.default.func.isRequired,t:i.default.func.isRequired};function h(e){var t=e.currentPanel,n=e.selectPanel,i=e.t,o=p.map(function(e,o){function s(){n(e)}var l,u=(0,a.default)({"player-tabs__item":!0,"player-tabs__item--active":t===e});return r.default.createElement("li",{key:e+"__"+o,className:u},r.default.createElement("a",{onClick:s,onKeyUp:(l=s,function(e){"Enter"===e.key&&l()}),role:"button",tabIndex:0},i(e)))});return r.default.createElement("ul",{className:"player-tabs clearfix"},o)}h.propTypes=_,h.defaultProps={t:function(){}};t.CCPanelTabs=(0,o.translate)()(h)},"22Sn":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchTwitchButton=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("36II");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClick:i.default.func.isRequired,buttonLabel:i.default.string.isRequired},d=(0,s.default)("player-button","player-button--twitch","qa-watch-twitch-button"),f=t.WatchTwitchButton=function(e){var t=e.onClick,n=e.buttonLabel;return r.default.createElement(a.Button,{className:d,onClick:t},r.default.createElement(o.Icon,{label:n,labelClass:"player-tip--aright"},r.default.createElement(l.TwitchLogoSVG,{id:"icon_twitch"})))};f.propTypes=c,f.defaultProps={onClick:function(){},buttonLabel:""}},"2ANx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchVAESScript=function(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="https://d2v02itv0y9u9t.cloudfront.net/dist/1.0.1/v6s.js",window.setTimeout(t,2e3)})}},"2GWp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitFullscreenChange=function(){return{type:l}},t.emitExternalFullscreenChange=function(){return{type:u}},t.eventEmitterLoaded=function(e){return{type:r,emitter:e}},t.emitOpenStream=function(){return{type:i}},t.emitTransitionToCollection=function(e,t){return{type:o,collectionId:e,vodId:t}},t.emitTransitionToRecommendedVOD=function(e){return{type:s,vodId:e}},t.emitAdPlayEvent=function(){return{type:d}},t.emitAdPlayingEvent=function(){return{type:f}},t.emitAdPauseEvent=function(){return{type:c}},t.emitPlayerReady=function(){return{type:a}},t.emitFirstPartyAnalyticEvent=function(e){return{type:p,event:e.name,data:e.properties}},t.emitPromptLoginModal=function(){return{type:_}},t.emitFocusPlayer=function(){return{type:h}},t.emitFollowChannel=function(){return{type:m}},t.emitUnfollowChannel=function(){return{type:E}},t.emitEnableNotifications=function(){return{type:v}},t.emitDisableNotifications=function(){return{type:y}},t.emitEnterMultiview=function(){return{type:g}},t.emitRemoveStream=function(){return{type:T}},t.emitSubscribeChannel=function(){return{type:b}},t.emitOpenSubCheckout=function(e){return{type:S,productName:e}},t.emitPrimeSubscribeChannel=function(){return{type:A}};var r=t.ACTION_USE_EVENT_EMITTER="use event emitter",i=t.ACTION_EMIT_OPEN_STREAM="emit open stream",a=t.ACTION_EMIT_PLAYER_READY="emit player ready",o=t.ACTION_TRANSITION_TO_COLLECTION="transition to collection",s=t.ACTION_TRANSITION_TO_REC_VOD="transition to recommended vod",l=t.ACTION_EMIT_FULLSCREEN_CHANGE="emit fullscreen change",u=t.ACTION_EMIT_EXTERNAL_FULLSCREEN_CHANGE="emit external fullscreen change",c=t.ACTION_AD_PAUSE="emit ad pause",d=t.ACTION_AD_PLAY="emit ad play",f=t.ACTION_AD_PLAYING="emit ad playing",p=t.ACTION_FIRST_PARTY_ANALYTIC_EVENT="emit first party analytic event",_=t.ACTION_PROMPT_LOGIN_MODAL="prompt login modal",h=t.ACTION_EMIT_FOCUS_PLAYER="emit focus player",m=t.ACTION_EMIT_FOLLOW_CHANNEL="emit follow channel",E=t.ACTION_EMIT_UNFOLLOW_CHANNEL="emit unfollow channel",v=t.ACTION_EMIT_ENABLE_NOTIFICATIONS="emit enable notifications",y=t.ACTION_EMIT_DISABLE_NOTIFICATIONS="emit disable notifications",g=t.ACTION_EMIT_ENTER_MULTIVIEW="emit enter multiview",T=t.ACTION_EMIT_REMOVE_STREAM="emit remove stream",b=t.ACTION_EMIT_SUBSCRIBE_CHANNEL="emit subscribe channel",S=t.ACTION_EMIT_OPEN_SUB_CHECKOUT="emit open sub checkout",A=t.ACTION_EMIT_PRIME_SUBSCRIBE_CHANNEL="emit prime subscribe channel";t.ACTION_PLAYBACK_BLOCKED_EVENT="playback blocked event"},"2GsC":function(e,t){e.exports=function(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}},"2gyh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowOnHover=t.ShowOnHoverContainer=t.mapDispatchToProps=t.SHOW_ON_HOVER_CLASS=t.TRANSITION_OUT_CLASS=t.TRANSITION_IN_CLASS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=n("N58E"),s=n("Z4ex"),l=d(n("TSYQ")),u=d(n("puQj")),c=n("uAxA");function d(e){return e&&e.__esModule?e:{default:e}}var f=u.default.msie||u.default.msedge,p=t.TRANSITION_IN_CLASS="pl-hover-transition-in",_=t.TRANSITION_OUT_CLASS=f?"invisible":"pl-hover-transition-out",h=t.SHOW_ON_HOVER_CLASS="hover-display",m={children:a.default.node.isRequired,onHoverElement:a.default.func.isRequired,onHoverOffElement:a.default.func.isRequired,showUI:a.default.bool.isRequired,isOffline:a.default.bool},E=t.mapDispatchToProps=function(e){return{onHoverElement:function(){e((0,s.hoveringOnUIElement)())},onHoverOffElement:function(){e((0,s.hoveringOffUIElement)())}}},v=t.ShowOnHoverContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={classes:(0,l.default)(h)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.isOffline,n=e.showUI;this.props.showUI&&!n?this.setState({classes:(0,l.default)(h,_)}):(!this.props.showUI&&n||t)&&this.setState({classes:(0,l.default)(h,p)})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onHoverElement,r=e.onHoverOffElement;return i.default.createElement("div",{onMouseEnter:n,onMouseLeave:r,className:this.state.classes},t)}}]),t}();v.propTypes=m;t.ShowOnHover=(0,o.connect)(function(e){var t=e.onlineStatus,n=e.ui;return{isOffline:t===c.OFFLINE_STATUS,showUI:n.showUI}},E)(v)},"2jd5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractStream=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("ji7g");t.AbstractStream=function(){function e(t,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._contentId=t,this._oAuthToken=n,this._usherParams=r,this._accessTokenParams=i,this._experimentSettings=a,this._restrictedBitrates=[],this._accessExpiration=null}return i(e,[{key:"_handleInvalidOp",value:function(e){var t=void 0;t="AbstractStream"===this.constructor.name?"AbstractStream should not be instantiated directly":this.constructor.name+"."+e+" is not implemented",console.error("Invalid operation: "+t)}},{key:"_fetchAccessToken",value:function(){return this._handleInvalidOp("_fetchAccessToken"),Promise.resolve({})}},{key:"resetNAuthToken",value:function(){this._nAuthPromise=this._fetchNAuthToken()}},{key:"_fetchNAuthToken",value:function(){var e=this;return this._oAuthToken.then(function(t){return e._fetchAccessToken(e._contentId,t,e._accessTokenParams)}).then(function(t){return e._nAuth=t,t})}},{key:"_buildUsherParams",value:function(e){return this._handleInvalidOp("_buildUsherParams"),{}}},{key:"_commonExperimentParams",value:function(){var e=this;return Promise.all([this.accessToken,this._experimentSettings.reassignmentsSupported]).then(function(t){var n=r(t,2),i=n[0],a=n[1],o={};o.reassignments_supported="yes"===a;try{var s=JSON.parse(i.token);e._restrictedBitrates=s.chansub.restricted_bitrates,e._accessExpiration=s.authorization.access_expiration&&new Date(1e3*s.authorization.access_expiration)||null}catch(e){console.warn("Could not parse restricted bitrates from access token.")}return o})}},{key:"contentType",get:function(){return this._handleInvalidOp("contentType"),""}},{key:"channel",get:function(){return this._handleInvalidOp("channel"),""}},{key:"videoId",get:function(){return this._handleInvalidOp("videoId"),""}},{key:"customerId",get:function(){return this._handleInvalidOp("customerId"),""}},{key:"contentId",get:function(){return this._handleInvalidOp("contentId"),""}},{key:"contentUrl",get:function(){return this._handleInvalidOp("contentUrl"),""}},{key:"restrictedBitrates",get:function(){return this._restrictedBitrates}},{key:"accessExpiration",get:function(){return this._accessExpiration}},{key:"accessToken",get:function(){var e=!1;try{if(this._nAuth){var t=JSON.parse(this._nAuth.token);e=Date.now()>=1e3*t.expires}}catch(e){console.error("Unable to JSON.parse nAuth.token: "+this._nAuth.token)}return this._nAuthPromise&&!e||(this._nAuthPromise=this._fetchNAuthToken()),this._nAuthPromise}},{key:"_baseStreamUrl",get:function(){return this._handleInvalidOp("_baseStreamUrl"),""}},{key:"streamUrl",get:function(){return this._handleInvalidOp("streamUrl"),""}},{key:"castStreamUrl",get:function(){var e=this;return this.accessToken.then(function(t){if(!t.token)return e._handleInvalidOp("castStreamUrl"),"";var n=e._buildUsherParams(t);delete n.allow_source;try{var r=JSON.parse(t.token);e._restrictedBitrates=r.chansub.restricted_bitrates,e._accessExpiration=r.authorization.access_expiration&&new Date(1e3*r.authorization.access_expiration)||null}catch(e){console.warn("Could not parse restricted bitrates from access token.")}return e._baseStreamUrl+"?"+(0,a.stringify)(n)})}}]),e}()},"2nDl":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r,i,a,o=n("X2PJ");!function(e){e[e.Small=1]="Small",e[e.Default=2]="Default",e[e.Large=3]="Large"}(a||(a={}));var s=((r={})[a.Small]=o.d.Size7,r[a.Default]=o.d.Size6,r[a.Large]=o.d.Size5,r),l=((i={})[a.Small]=o.b.Small,i[a.Default]=o.b.Medium,i[a.Large]=o.b.Large,i)},3322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.ClipsSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M19.594 9.495l-.585-1.91L20.922 7l.585 1.91-1.913.585zM16.14 8.46l1.913-.584.585 1.911-1.913.584-.585-1.91zm-2.284 2.787l-.584-1.91 1.912-.584.585 1.91-1.913.584zm-3.453-1.034l1.912-.584.585 1.91-1.913.585-.584-1.911zm-2.87.876l1.913-.584.585 1.91L8.118 13l-.584-1.91zM10 14v7h10v-7h2v7a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-7h2zm3 0v2h-2v-2h2zm1 0h2v2h-2v-2zm5 0v2h-2v-2h2z",fill:e.fill}))}).propTypes=l},"36II":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchLogoSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l=Object.freeze({fill:a.default.string,viewBox:a.default.string});(t.TwitchLogoSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 77 30"},e),i.default.createElement("path",{d:"M11 12V7H6v14l2 2h7v-5h-4v-1h4v-5zM28 12v6h-1v-6h-5v6h-1v-6h-5v9l2 2h15V12zM39 12h-5v11h5zM39 7h-5v3h5zM52 12l-2 2v7l2 2h7v-5h-4v-1h4v-5zM69 12h-4V7h-5v16h5v-6h1v6h5v-9zM45 12V7h-5v14l2 2h7v-5h-4v-1h4v-5z"}))}).propTypes=l},"3Dr0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.StarSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{d:"M16.9 8.157a1.745 1.745 0 0 0-1.378-1.146l-2.619-.416-1.336-2.663C11.28 3.357 10.68 3 10.003 3s-1.276.357-1.564.932L7.103 6.595l-2.625.416A1.747 1.747 0 0 0 3.1 8.158a1.758 1.758 0 0 0 .353 1.76l1.865 2.061-.516 2.967a1.74 1.74 0 0 0 .681 1.71 1.77 1.77 0 0 0 1.846.148l2.675-1.383 2.678 1.384a1.731 1.731 0 0 0 1.838-.146 1.746 1.746 0 0 0 .688-1.712l-.519-2.969 1.861-2.064a1.75 1.75 0 0 0 .35-1.757",fillRule:"evenodd"}))}).propTypes=l},"3EEV":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdStats=t.AdStatsComponent=void 0;var r=_(n("q1tI")),i=_(n("17x9")),a=_(n("TSYQ")),o=n("9kay"),s=_(n("3WF5")),l=_(n("OFL0")),u=_(n("E+oP")),c=_(n("UB5X")),d=n("TI3U"),f=n("1fV9"),p=n("8HDH");function _(e){return e&&e.__esModule?e:{default:e}}var h=Object.freeze({id:"ID",impressionTime:"Impression Time",adPosition:"Ad Position",totalAds:"Total Ads",creativeId:"Creative ID",adWrapperIds:"Ad Wrapper IDs",title:"Title",system:"System",contentType:"Content Type",vastMediaHeight:"VAST Media Height",vastMediaWidth:"VAST Media Width",vastMediaBitrate:"VAST Media Bitrate"}),m={show:i.default.bool.isRequired,adStats:i.default.array.isRequired,onClose:i.default.func.isRequired,t:i.default.func.isRequired},E=(0,a.default)("player-button","player-button--noscale","player-button--close"),v=t.AdStatsComponent=function(e){var t=e.adStats,n=void 0===t?[]:t,i=e.onClose,a=void 0===i?null:i,o=e.t,_=void 0===o?null:o;return r.default.createElement("ul",{className:"pl-stats-list js-ad-stats"},r.default.createElement(f.Button,{className:E,onClick:a},r.default.createElement(p.CloseSVG,{id:"icon_close"})),(0,s.default)(n,function(e){var t=e.statName,n=e.value;if(!(0,l.default)(h,t))return null;var i=_(h[t]),a=(0,u.default)(n)&&!(0,c.default)(n)?"--":n;return r.default.createElement(d.Stat,{statName:i,value:a,key:t})}))};v.propTypes=m;t.AdStats=(0,o.translate)()(v)},"3Lsc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CenteredFollowPanelContainer=void 0;var r=n("tsW4"),i=n("wafH");t.CenteredFollowPanelContainer=(0,r.makeFollowPanel)(i.CenteredFollowPanel)},"3PGf":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeOverlay=void 0,t.SubscribeOverlayComponent=u;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s="This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.",l={channelName:i.default.string.isRequired,subscribeUrl:i.default.string.isRequired,t:i.default.func};function u(e){var t=e.channelName,n=e.subscribeUrl,i=e.t;return r.default.createElement("div",{className:"pl-subscribe-overlay pl-subscribe-overlay--wall pl-product-overlay"},r.default.createElement("div",{className:"player-center-content player-product"},r.default.createElement("p",null,i(s,{channelName:t})),r.default.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase_button"},i("Subscribe"))))}u.propTypes=l,u.defaultProps={t:function(){}};t.SubscribeOverlay=(0,a.translate)()(u)},"3WF5":function(e,t,n){var r=n("eUgh"),i=n("ut/Y"),a=n("l9OW"),o=n("Z0cm");e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},"3Ypp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavHeader=t.NavHeaderComponent=void 0;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("/TO3");function s(e){return e&&e.__esModule?e:{default:e}}var l={header:i.default.string,onNavigateBackClick:i.default.func.isRequired,showingChildren:i.default.bool.isRequired,t:i.default.func.isRequired},u=t.NavHeaderComponent=function(e){return e.showingChildren?r.default.createElement("div",{className:"pl-flex__item--noShrink pl-pd-05 pl-flex--inline pl-flex--verticalCenter",onClick:e.onNavigateBackClick,onKeyPress:e.onNavigateBackClick,role:"button",tabIndex:-1},r.default.createElement("div",{className:"pl-flex pl-flex--inline pl-flex--verticalCenter"},r.default.createElement(o.GlyphArrow,{asset:o.SVGAsset.GlyphArrLeft})),r.default.createElement("p",null,e.header&&""!==e.header?e.header:e.t("Chapter Select"))):r.default.createElement("div",{className:"pl-flex__item--noShrink pl-pd-05"},r.default.createElement("p",{className:"video-markers-balloon-c-text-alt-2"},e.t("Chapter Select")))};u.propTypes=l;t.NavHeader=(0,a.translate)()(u)},"3bsn":function(e,t,n){},"3ypW":function(e,t,n){},"4AzW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitsCount=void 0,t.BitsCountComponent=d;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=n("K5r4"),o=n("ic+G"),s=n("9kay"),l=n("17x9"),u=(r=l)&&r.__esModule?r:{default:r};var c={bitsConfig:u.default.object.isRequired,count:u.default.number.isRequired,withImage:u.default.bool,withText:u.default.bool,withNumber:u.default.bool,animated:u.default.bool,t:u.default.func.isRequired};function d(e){var t=e.t("{{bitsCount}} Bits",{bitsCount:e.count.toString()});!e.withText&&e.withNumber&&(t=e.count.toString());var n=void 0;if(e.withImage){var r=e.bitsConfig.indexedActions[o.DEFAULT_CHEER_PREFIX];r||(r=(0,o.getFallbackDefaultAction)());var s=r.orderedTiers.find(function(t){return t.bits<=e.count});if(s){var l=(0,a.imageSourcesFromTier)(s,null,e.animated).dark,u=Object.keys(l);return n=i.createElement("img",{className:"bits-count--img",alt:"Bits",src:l[u[0]],srcSet:u.map(function(e){return l[e]+" "+e}).join(",")}),i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,n," ",e.withText||e.withNumber?t:""))}}return i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,t))}d.propTypes=c;t.BitsCount=(0,s.translate)()(d)},"4D9z":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheatreModeButton=t.mapDispatchToProps=t.mapStateToProps=void 0,t.TheatreModeButtonContainer=_;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("DRA7"),s=n("vsSe"),l=n("KE4D"),u=n("YWLq");function c(e){return e&&e.__esModule?e:{default:e}}var d={canTheatreMode:i.default.bool.isRequired,disableTheatreMode:i.default.func.isRequired,enableTheatreMode:i.default.func.isRequired,isFullScreen:i.default.bool.isRequired,isTheatreMode:i.default.bool.isRequired},f=t.mapStateToProps=function(e){var t=e.screenMode;return{canTheatreMode:t.canTheatreMode,isFullScreen:t.isFullScreen,isTheatreMode:t.isTheatreMode}},p=t.mapDispatchToProps=function(e){return{enableTheatreMode:function(){e((0,l.setTheatreMode)(!0)),e((0,u.trackEvent)("player_click_theater"))},disableTheatreMode:function(){e((0,l.setTheatreMode)(!1)),e((0,u.trackEvent)("player_click_theater"))}}};function _(e){var t=e.canTheatreMode,n=e.isTheatreMode,i=e.enableTheatreMode,a=e.disableTheatreMode,l=e.isFullScreen;return!t||l?null:n?r.default.createElement(s.ExitTheatreModeButton,{onClick:a}):r.default.createElement(o.EnterTheatreModeButton,{onClick:i})}_.propTypes=d;t.TheatreModeButton=(0,a.connect)(f,p)(_)},"4Nnw":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineRecommendationsManager=void 0;var r,i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("Rnd+"),s=n("uNCh"),l=n("uAxA"),u=n("uC+K"),c=n("wsSb"),d=n("ipln"),f=n("qT8i"),p=n("ijCd"),_=(r=p)&&r.__esModule?r:{default:r},h=n("9Mp/"),m=n("rRi7"),E=n("56nq"),v=n("Irul"),y=n("QBeZ");var g=[u.PLAYER_DASHBOARD,u.PLAYER_FRONTPAGE,u.PLAYER_CREATIVE,u.PLAYER_HIGHLIGHTER,u.PLAYER_AMAZON_VSE,u.PLAYER_AMAZON_LIVE,u.PLAYER_FEED,u.PLAYER_ONBOARDING,u.PLAYER_CHANNEL_TRAILER],T=[152325025];t.OfflineRecommendationsManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._unsubs=[],this._unsubs.push((0,f.subscribe)(this._store,["onlineStatus","streamMetadata"],this.tryFetchOfflineRecs.bind(this))),this._unsubs.push((0,f.subscribe)(this._store,["ads","recommendations","playback.ended"],this.tryShowOfflineRecs.bind(this))),this._unsubs.push((0,f.subscribe)(this._store,["playerDimensions"],this.onDimensionsChange.bind(this)))}return a(e,[{key:"tryFetchOfflineRecs",value:function(){var e=this;if(!this._shouldFetchOfflineRecs())return Promise.resolve();var t,n=this._store.getState(),r=n.stream,a=n.window,o=n.playback.hasPlayed?Math.floor(5e3*Math.random())+1:0;return(t=o,new Promise(function(e){return a.setTimeout(e,t)})).then(function(){return Promise.all([e._getChannelVideos(),e._getFeaturedCollection()])}).then(function(e){return 0!==e[0].length?e:Promise.reject("Offline Recommendations: No channel videos")}).then(function(t){var n=i(t,2),a=n[0],o=n[1];if(e._store.getState().stream!==r)return Promise.reject("Offline Recommendations: Stream changed while fetching");a.length>0&&e._store.dispatch((0,h.setRecommendedVODs)(a,h.OFFLINE_RECOMMENDATIONS_TYPE)),o.length>0&&e._store.dispatch((0,m.featuredCollectionFetched)(o[0]))}).catch(function(e){return console.warn(e)})}},{key:"tryShowOfflineRecs",value:function(){this._shouldShowOfflineRecs()&&this._store.dispatch((0,s.pushScreen)(s.OFFLINE_RECOMMENDATIONS_SCREEN))}},{key:"onDimensionsChange",value:function(){var e=this._store.getState(),t=e.screen,n=e.playerDimensions,r=n.height,i=n.width,a=t[0]===s.OFFLINE_RECOMMENDATIONS_SCREEN;(r<300||i<560)&&a?this._store.dispatch((0,s.popScreen)()):this._shouldShowOfflineRecs()&&this._store.dispatch((0,s.pushScreen)(s.OFFLINE_RECOMMENDATIONS_SCREEN))}},{key:"_shouldShowOfflineRecs",value:function(){var e=this._store.getState(),t=e.screen,n=e.recommendations,r=e.playerDimensions,i=e.stream,a=e.playback,o=e.onlineStatus,u=e.ads,d=r.height,f=r.width,p=d>=300&&f>=560,m=!(0,_.default)(t,s.OFFLINE_RECOMMENDATIONS_SCREEN),E=u.currentMetadata.contentType===y.AdContentTypes.NONE,v=n.type===h.OFFLINE_RECOMMENDATIONS_TYPE,g=i.contentType===c.CONTENT_MODE_LIVE&&o===l.OFFLINE_STATUS,T=!a.hasPlayed,b=a.ended;return p&&m&&E&&v&&g&&(T||b)}},{key:"_shouldFetchOfflineRecs",value:function(){var e=this._store.getState(),t=e.onlineStatus,n=e.playback,r=e.stream,i=e.streamMetadata,a=e.env,o=r.contentType===c.CONTENT_MODE_LIVE,s=0!==i.channel.id,u=!(0,_.default)(T,i.channel.id),f=t===l.OFFLINE_STATUS,p=n.transitionScheme===d.TRANSITION_TYPE_RECOMMENDATIONS,h=!(0,_.default)(g,a.playerType);return o&&s&&u&&f&&p&&h}},{key:"_getFeaturedCollection",value:function(){var e=this._store.getState(),t=e.streamMetadata;return e.experiments.get(o.ExperimentIds.DisabledFeaturedCollections).then(function(e){return"disabled"===e?Promise.resolve([]):(0,E.getFeaturedCollection)(t.channel.id).then(function(e){return e.collections}).catch(function(e){return console.warn(e),[]})})}},{key:"_getChannelVideos",value:function(){var e=this;return this._fetchChannelVideos().then(function(t){return e._filterOutWatchedVideos(t)}).then(function(t){return e._normalizeChannelVideos(t)}).catch(function(e){return console.warn(e),[]})}},{key:"_fetchChannelVideos",value:function(){var e=this._store.getState().streamMetadata;return(0,E.krakenRequestv5)("channels/"+e.channel.id+"/videos?limit=30").then(function(e){var t=e.videos;return t.length>0?t:Promise.reject("Offline Recommendations: No channel videos")})}},{key:"_filterOutWatchedVideos",value:function(e){var t=this._store.getState().user;return(0,v.getResumeTimes)(t.id).catch(function(){return{videos:[]}}).then(function(t){var n=e.filter(function(e){return!(0,h.isWatched)(t,e)});return n.length>0?n:Promise.reject("Offline Recommendations: All channel videos watched")})}},{key:"_normalizeChannelVideos",value:function(e){return e.map(function(e){var t="";return e.thumbnails.medium.length>0&&(t=e.thumbnails.medium[0].url),{recommendationType:h.CHANNEL_VODS,creationDate:e.created_at,thumbnailURL:t,title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}})}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()})}}]),e}()},"4O8T":function(e,t,n){var r;!function(t){"use strict";function i(){}var a=i.prototype,o=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function l(e){return function(){return this[e].apply(this,arguments)}}a.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},a.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},a.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},a.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},a.on=l("addListener"),a.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},a.once=l("addOnceListener"),a.defineEvent=function(e){return this.getListeners(e),this},a.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},a.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],t))&&i[r].splice(n,1);return this},a.off=l("removeListener"),a.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},a.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},a.manipulateListeners=function(e,t,n){var r,i,a=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)a.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?a.call(this,r,i):o.call(this,r,i));return this},a.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},a.removeAllListeners=l("removeEvent"),a.emitEvent=function(e,t){var n,r,i,a,o=this.getListenersAsObject(e);for(a in o)if(o.hasOwnProperty(a))for(n=o[a].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},a.trigger=l("emitEvent"),a.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},a.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},a._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},a._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=o,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},"4Wsi":function(e,t){},"4b1H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoAPILoaded=function(e){return{type:r,video:e}},t.play=function(){return{type:i}},t.pause=function(){return{type:a}},t.automatedPause=function(){return{type:o}},t.mutePlayer=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:s,muted:e,automated:t}},t.changeVolume=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{type:l,volume:e}},t.submitVideoIssueReport=function(e){return{type:u,issueType:e}},t.changePlaybackRate=function(e){return{type:c,playbackRate:e}},t.seek=function(e){return{type:d,seekTime:e}},t.setLiveMaxLatency=function(e){return{type:p,time:e}},t.setLiveLowLatencyEnabled=function(e){return{type:f,enable:e}},t.setAutoMaxVideoSize=function(e,t){return{type:_,width:e,height:t}};var r=t.ACTION_LOAD_VIDEO_API="load video api",i=t.ACTION_VIDEO_API_PLAY="video api play content",a=t.ACTION_VIDEO_API_PAUSE="video api pause content",o=t.ACTION_AUTOMATED_PAUSE="automated pause content",s=t.ACTION_VIDEO_API_MUTE_PLAYER="video api mute player",l=t.ACTION_VIDEO_API_CHANGE_VOLUME="video api change volume",u=(t.ACTION_VIDEO_API_CHANGE_BACKEND="video api change backend",t.ACTION_VIDEO_API_REPORT_VIDEO_ISSUE="video api report video issue"),c=t.ACTION_VIDEO_API_CHANGE_PLAYBACK_RATE="video api change playback rate",d=t.ACTION_VIDEO_API_SEEK="video api seek",f=t.ACTION_VIDEO_API_SET_LIVE_LOW_LATENCY_ENABLED="video api set live low latency",p=t.ACTION_VIDEO_API_SET_LIVE_MAX_LATENCY="video api set live max latency",_=t.ACTION_VIDEO_API_SET_AUTO_MAX_VIDEO_SIZE="video api set auto max video size"},"4cUY":function(e,t){e.exports='<div id="root-player"></div>\n'},"4gWZ":function(e,t,n){var r;!function(i,a){var o=function(){return o.get.apply(o,arguments)},s=o.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],n="";for(n in e)e.hasOwnProperty(n)&&t.push(n);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};o.defaults={},o.expiresMultiplier=86400,o.set=function(e,t,n){if(s.isPlainObject(e))for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],t);else{var a=void 0!==(n=s.isPlainObject(n)?n:{expires:n}).expires?n.expires:this.defaults.expires||"",o=typeof a;"string"===o&&""!==a?a=new Date(a):"number"===o&&(a=new Date(+new Date+1e3*this.expiresMultiplier*a)),""!==a&&"toGMTString"in a&&(a=";expires="+a.toGMTString());var l=n.path||this.defaults.path;l=l?";path="+l:"";var u=n.domain||this.defaults.domain;u=u?";domain="+u:"";var c=n.secure||this.defaults.secure?";secure":"";!1===n.secure&&(c=""),i.cookie=s.encode(e)+"="+s.encode(t)+a+l+u+c}return this},o.setDefault=function(e,t,n){if(s.isPlainObject(e)){for(var r in e)void 0===this.get(r)&&this.set(r,e[r],t);return o}if(void 0===this.get(e))return this.set.apply(this,arguments)},o.remove=function(e){for(var t=0,n=(e=s.isArray(e)?e:s.toArray(arguments)).length;t<n;t++)this.set(e[t],"",-1);return this},o.removeSpecific=function(e,t){if(!t)return this.remove(e);e=s.isArray(e)?e:[e],t.expires=-1;for(var n=0,r=e.length;n<r;n++)this.set(e[n],"",t);return this},o.empty=function(){return this.remove(s.getKeys(this.all()))},o.get=function(e,t){var n=this.all();if(s.isArray(e)){for(var r={},i=0,a=e.length;i<a;i++){var o=e[i];r[o]=s.retrieve(n[o],t)}return r}return s.retrieve(n[e],t)},o.all=function(){if(""===i.cookie)return{};for(var e=i.cookie.split("; "),t={},n=0,r=e.length;n<r;n++){var a=e[n].split("="),o=s.decode(a.shift()),l=s.decode(a.join("="));t[o]=l}return t},o.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===o.set("_","_").get("_");return o.remove("_"),e},void 0===(r=function(){return{cookie:o}}.call(t,n,t,e))||(e.exports=r)}("undefined"==typeof document?null:document)},"4n2a":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsButton=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("11s1");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClick:i.default.func,showSpinningAnimation:i.default.bool.isRequired},d=t.SettingsButton=function(e){var t=e.onClick,n=e.showSpinningAnimation,i=(0,s.default)({"qa-settings-button":!0,"player-button--settings":!0,"player-button":!0}),u=(0,s.default)({"pl-settings-icon":!0,"pl-settings-icon--spin":n});return r.default.createElement(a.Button,{onClick:t,className:i},r.default.createElement(o.Icon,{label:"Settings",iconClass:u},r.default.createElement(l.SettingsSVG,{id:"icon_settings"})))};d.propTypes=c,d.defaultProps={onClick:function(){}}},"4opd":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.momentToMarker=t.fetchMoments=t.MOMENT_TYPES=void 0;var r,i=n("Rnd+"),a=n("56nq"),o=n("vOQQ"),s=n("mwIZ"),l=(r=s)&&r.__esModule?r:{default:r};t.MOMENT_TYPES={Hearthstone:"HEARTHSTONE_VCA",GameChange:"GAME_CHANGE"};var u=["moments","moments_with_images"],c=(t.fetchMoments=function(e){var t=e.getState().stream.videoId;if(t){var n="v"===t.charAt(0)?t.slice(1,t.length):t;return e.getState().experiments.get(i.ExperimentIds.TwilightVodArcher).then(function(t){if(u.includes(t))return(0,a.videoMoments)(n).then(function(t){try{c(t,e)}catch(e){}})})}},function(e,t){e&&e.video&&e.video.moments&&e.video.moments.edges&&t.dispatch((0,o.videoMomentsFetched)(e.video.moments.edges))}),d=(t.momentToMarker=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{children:(0,l.default)(t,"moments.edges",[]).map(function(t){return e(t.node,!0)}),id:t.id,duration:t.durationMilliseconds/1e3,gameName:(0,l.default)(t,"details.game.displayName"),label:t.description,momentType:t.type,offset:t.positionMilliseconds/1e3,parentMoment:n,subLabel:t.subDescription,thumbnailUrl:d(t),videoId:t.video.id}},function(e){var t=(0,l.default)(e,"thumbnailURL"),n=(0,l.default)(e,"details.game.boxArtURL");return t||(n||"https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg")})},"4qC0":function(e,t,n){var r=n("NykK"),i=n("Z0cm"),a=n("ExA7"),o="[object String]";e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&r(e)==o}},"4vdA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FollowPanel=void 0,t.FollowPanelContainer=f;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("ThzE"),s=n("3Lsc"),l=n("uC+K"),u=n("XbkD");function c(e){return e&&e.__esModule?e:{default:e}}var d={playerType:i.default.string.isRequired,streamType:i.default.string.isRequired};function f(e){var t=e.playerType;if(e.streamType===u.TYPE_DEAD_LTV)return null;switch(t){case l.PLAYER_POPOUT:case l.PLAYER_SITE:case l.PLAYER_EMBED:return r.default.createElement(o.GenericFollowPanelContainer,null);case l.PLAYER_PULSE:return r.default.createElement(s.CenteredFollowPanelContainer,null);default:return null}}f.propTypes=d;t.FollowPanel=(0,a.connect)(function(e){var t=e.env,n=e.streamMetadata;return{playerType:t.playerType,streamType:n.streamType}})(f)},"4wKg":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("IbuL"),s=n("i4Ys"),l=n("hnjF"),u=n("X2PJ"),c=n("sUnt"),d=n("Ws8v"),f=n("C7sF"),p=n("V6CR"),_=function(e){var t,n,r,_;return e.figure&&(t=a.createElement(c.a,{display:l.d.Flex,alignItems:l.b.Center,padding:{right:.5},flexShrink:0},a.createElement(p.a,e.figure))),e.value&&(r=a.createElement(c.a,{alignItems:l.b.Center,padding:{x:.5},margin:{left:1}},e.value)),_=e.children?a.createElement(c.a,{flexGrow:1},e.children):a.createElement(a.Fragment,null,a.createElement(c.a,{flexGrow:1},e.label),r),e.selected&&!e.actionIcon?n=a.createElement(o.a,{asset:f.a.Check}):e.actionIcon&&(n=a.createElement(o.a,{asset:e.actionIcon})),n&&(n=a.createElement(d.a,{display:l.d.Flex,alignItems:l.b.Center,margin:e.value?{left:.5}:{left:2},flexShrink:0,color:u.c.Alt},n)),a.createElement(c.a,{position:l.j.Relative,fullWidth:!0},a.createElement(s.a,i()({type:s.b.Alpha,borderRadius:u.b.Medium,selected:e.selected},e),a.createElement(c.a,{display:l.d.Flex,alignItems:l.b.Center,position:l.j.Relative,padding:.5},t,_,n)))};_.displayName="DropDownMenuItem",_.displayName="DropDownMenuItem"},"5+Jb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.SettingsContainer=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n("q1tI")),a=h(n("17x9")),o=h(n("GBMM")),s=n("N58E"),l=n("SGH6"),u=n("4n2a"),c=n("bDXi"),d=n("Z4ex"),f=n("OyQT"),p=n("uC+K"),_=h(n("ijCd"));function h(e){return e&&e.__esModule?e:{default:e}}var m={isAutoQuality:a.default.bool.isRequired,isEnded:a.default.bool.isRequired,isPaused:a.default.bool.isRequired,isSettingsShown:a.default.bool.isRequired,isClipsPlayerType:a.default.bool.isRequired,onShowSettings:a.default.func,playerHeight:a.default.number.isRequired,qualitiesAvailable:a.default.bool.isRequired,qualityIsChanging:a.default.bool.isRequired,trackEvent:a.default.func.isRequired,windowObj:a.default.object.isRequired},E=t.mapStateToProps=function(e){var t=e.analyticsTracker,n=e.quality,r=e.playback,i=e.playerDimensions,a=e.ui,o=e.window,s=e.env;return{isAutoQuality:n.selected===f.QUALITY_AUTO,isEnded:r.ended,isPaused:r.paused,isSettingsShown:a.showSettings===d.MENU_STATE_SETTINGS,isClipsPlayerType:(0,_.default)(p.CLIPS_PLAYER_TYPES,s.playerType),playerHeight:i.height,qualitiesAvailable:n.available.length>0,qualityIsChanging:n.selected!==n.current,trackEvent:t.trackEvent,windowObj:o}},v=t.SettingsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSettingsButtonClick=e.handleSettingsButtonClick.bind(e),e.handleWindowBlur=e.handleWindowBlur.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this.handleWindowBlur)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this.handleWindowBlur)}},{key:"handleWindowBlur",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(d.MENU_STATE_NONE)}},{key:"handleClickOutside",value:function(){this.props.isSettingsShown&&this.props.onShowSettings(d.MENU_STATE_NONE)}},{key:"handleSettingsButtonClick",value:function(){var e=this.props.isSettingsShown?d.MENU_STATE_NONE:d.MENU_STATE_SETTINGS;this.props.onShowSettings(e),this.props.trackEvent("player_click_options")}},{key:"render",value:function(){var e=this.props,t=e.isAutoQuality,n=e.isEnded,r=e.isPaused,a=e.isSettingsShown,o=e.playerHeight,s=e.qualitiesAvailable,d=e.qualityIsChanging,f=e.isClipsPlayerType,p=a?i.default.createElement(c.MenuManager,{playerHeight:o}):null,_=!t&&s&&d&&!f&&(!n&&!r);return i.default.createElement("div",{className:"pl-flex"},i.default.createElement(l.SettingsBanner,null),i.default.createElement(u.SettingsButton,{onClick:this.handleSettingsButtonClick,showSpinningAnimation:_}),p)}}]),t}();v.propTypes=m,v.defaultProps={showSettings:function(){}};t.Settings=(0,s.connect)(E,function(e){return{onShowSettings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.MENU_STATE_NONE;e((0,d.showMenu)(t))}}})((0,o.default)(v))},"5+Kj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamTags=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=o(n("q1tI")),a=o(n("17x9"));function o(e){return e&&e.__esModule?e:{default:e}}var s={tags:a.default.array,openInNewTab:a.default.bool};(t.StreamTags=function(e){var t=e.tags,n=e.openInNewTab?{target:"_blank",rel:"noopener"}:{},a=null;return t&&(a=t.map(function(e){return i.default.createElement("div",{className:"pl-streamtags__tag",key:e.id},i.default.createElement("a",r({href:"https://www.twitch.tv/directory/all/tags/"+e.id},n),i.default.createElement("div",{className:"pl-streamtags__text"},e.localizedName)))})),i.default.createElement("div",{className:"pl-streamtags"},a)}).propTypes=s},"51Qt":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SquadStreamInfoDisplay=t.SquadStreamInfoDisplayComponent=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n("q1tI")),a=u(n("17x9")),o=n("9kay"),s=u(n("TSYQ")),l=n("5+Kj");function u(e){return e&&e.__esModule?e:{default:e}}var c={gameName:a.default.string,gameUrl:a.default.string,lang:a.default.object,live:a.default.bool,isEmbed:a.default.bool,isMobile:a.default.bool,streamTags:a.default.array,title:a.default.string,viewerCount:a.default.number,className:a.default.string},d=(0,s.default)("player-text-link","player-text-link--no-color","qa-game-name"),f=t.SquadStreamInfoDisplayComponent=function(e){var t=e.gameName,n=e.gameUrl,a=e.lang,u=e.live,c=e.streamTags,f=e.title,p=e.viewerCount,_=e.className,h=e.isEmbed,m=e.isMobile,E=Number(p).toLocaleString(a.shortCode),v=h?{target:"_blank",rel:"noopener"}:{},y=i.default.createElement("a",r({className:d,href:n},v),t),g=i.default.createElement("span",null,E),T=null,b=(0,s.default)({"player-streaminfo__title":!0,"qa-stream-title":!0,"player-streaminfo__title--hide":u&&m});return u&&(T=i.default.createElement("div",{className:"player-streaminfo__viewers"},i.default.createElement(o.Interpolate,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:y,viewerCount:g,options:{count:p}}))),i.default.createElement("div",{className:(0,s.default)(_,"player-streaminfo__squad")},i.default.createElement("div",{className:b},f),i.default.createElement("div",{className:"player-streaminfo__game"},T),i.default.createElement(l.StreamTags,{tags:c,openInNewTab:h}))};f.propTypes=c;t.SquadStreamInfoDisplay=(0,o.translate)()(f)},"51bE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontOpacityDropdown=void 0,t.FontOpacityDropdownComponent=_;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("+oT0");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentOpacity:i.default.string.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired},u=Object.freeze({value:"solid",text:"Solid"}),c=Object.freeze({value:"translucent",text:"Translucent"}),d=Object.freeze({value:"semiTransparent",text:"Semi-Transparent"}),f=Object.freeze({value:"flashing",text:"Flashing"}),p=Object.freeze([u,c,d,f]);function _(e){var t=e.currentOpacity,n=e.onSelect,i=e.t;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"fontOpacity"},i("Opacity")),r.default.createElement(o.SelectDropdown,{currentValue:t,id:"fontOpacity",onSelect:n,options:p}))}_.propTypes=l;t.FontOpacityDropdown=(0,a.translate)()(_)},"56nq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AD_CONTEXT_QUERY=t.CAN_PRIME_SUBSCRIBE_QUERY=t.VOD_TAG_INFO_QUERY=t.vodTagInfo=t.CLIP_CREATE_MUTATION=t.createClipGQL=t.CLIP_INFO_QUERY=t.clipInfo=t.fetchFollowsAndSubscriptions=t.FOLLOWS_AND_SUBSCRIPTIONS_GQL_QUERY=t.videoMoments=t.VIDEO_MOMENTS_GQL_QUERY=t.CHANNEL_AD_PROPERTIES_PIXEL_GQL_QUERY=t.contentTags=t.CONTENT_TAGS_QUERY=t.channelTagsInfo=t.CHANNEL_TAG_GQL_QUERY=t.channelStreamInfo=t.CHANNEL_STREAM_GQL_QUERY=t.CHANNEL_VIEWER_GQL_QUERY=t.viewerInfo=t.VIEWER_INFO_GQL_QUERY=t.setResumeWatchingInfoGQL=t.SET_RESUME_WATCH_MUTATION=t.getResumeWatchingInfoGQL=t.USER_RESUME_WATCHING_INFO_QUERY=t.oauthToken=t.krakenUserInfo=t.videoInfo=t.channelInfo=t.TWITCH_GQL_ENDPOINT=void 0,t.krakenRequest=A,t.krakenRequestv5=C,t.streamInfo=function(e){return A("streams/"+T(e))},t.getSubscriptionInfo=function(e,t){return C("users/"+e+"/subscriptions/"+t,{})},t.getSubscriptionProducts=function(e){return S({url:u.apiHost+"/channels/"+T(e)+"/product"})},t.getChannelPixelUrls=function(e,t){return k(V,{login:e,allowAmazon:t.amazon.consent,allowComscore:t.comscore.consent,allowGoogle:t.google.consent,allowNielsen:t.nielsen.consent})},t.getFollowChannel=function(e,t){return C(P(e,t))},t.setFollowChannel=function(e,t,n){return C(P(e,t),{method:n?"PUT":"DELETE"})},t.setFollowNotifications=function(e,t,n){return C(P(e,t),{data:{notifications:n},method:"PUT"})},t.runCommercial=function(e,t,n,r,i,a){return C("channels/"+t+"/commercial",{data:{channelID:t,length:r,channelLogin:n,splice_event_id:i,avail_num:a},method:"POST"})},t.getFeaturedCollection=function(e){return S({url:u.apiHost+"/v5/channels/"+e+"/collections?limit=1&exclude_empty=true"})},t.collectionInfo=function(e){var t=S({url:u.apiHost+"/v5/collections/"+e}),n=S({url:u.apiHost+"/v5/collections/"+e+"/items"});return Promise.all([t,n])},t.setOAuthToken=function(e){var t=e.player,n=e.oauth_token;t!==c.PLAYER_CURSE&&t!==c.PLAYER_SITE&&t!==c.PLAYER_FRONTPAGE&&t!==c.PLAYER_FEED&&t!==c.PLAYER_ONBOARDING&&t!==c.PLAYER_CHANNEL_TRAILER||!n||N.cache.set(void 0,Promise.resolve(n))},t.channelUrl=I,t.videoUrl=function(e){var t=e.channel,n=e.video,r=e.params,i=e.isMobile,a=I({channel:t,params:null,isMobile:i}),o=n[0],l=n.substring(1);a+="/"+T(o)+"/"+T(l),r&&(a+="?"+(0,s.stringify)(r));return a},t.getAllActiveExtensionsForChannel=function(e){return N().then(function(e){return e},function(e){return null}).then(function(t){return d.extensionService.setEnvironmentOptions({authToken:t}),O(e)}).then(function(e){return d.extensionService.getInstalledExtensions(e._id)}).then(function(e){var t=(0,f.extensionInstallationsFromRest)(e).reduce(function(e,t){var n=t.extension,r=t.activationConfig,i=r.state===d.ExtensionActivationStatus.Active;return i&&n.token?e.concat((0,p.normalizeToInstallationProp)(t)):e},[]);return t}).catch(function(){return[]})},t.getBitsBalance=function(e){return S({url:u.apiHost+"/v5/users/"+e+"/bits/balance"})},t.postExtensionReport=function(e){return S({method:"POST",url:u.apiHost+"/v5/reports",data:e})},t.createClip=function(e,t){return N().then(function(e){return e},function(e){return null}).then(function(n){var r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:(0,s.stringify)(t)};return n&&(r.headers.Authorization="OAuth "+n),fetch(e,r)}).then(function(e){return e.json()})},t.makeGQLRequest=k,t.channelViewerInfo=function(e){return k(D,{channel:e})},t.getIsFromEEA=function(){return L().then(function(e){return e.requestInfo.isFromEEA})},t.canPrimeSubscribe=function(e){return k(G,{channel:e})},t.adContext=function(e){return k(W,{context:e})};var r=m(n("44Ds")),i=m(n("QkVN")),a=m(n("E+oP")),o=n("4gWZ"),s=n("ji7g"),l=h(n("IMEk")),u=h(n("J0qE")),c=h(n("uC+K")),d=n("1hWM"),f=n("lBSt"),p=n("vpBF"),_=n("1hnV");function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var E="application/vnd.twitchtv.v3+json",v="application/vnd.twitchtv.v5+json",y=t.TWITCH_GQL_ENDPOINT="https://gql.twitch.tv/gql",g={"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6","X-Device-Id":l.get(!1)};function T(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}function b(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}function S(e){return N().then(function(e){return e},function(e){return null}).then(function(t){var n=function(e){var t=e.oauthToken,n=e.opts,r=(0,i.default)({},g,n.headers);return t&&(r.Authorization="OAuth "+t),"GET"!==n.method&&"HEAD"!==n.method&&(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r}({oauthToken:t,opts:e});return fetch(e.url,{method:e.method||"GET",headers:n,credentials:e.xhrFields&&e.xhrFields.withCredentials?"include":"omit",body:e.data?(0,s.stringify)(e.data):void 0})}).then(b).then(function(e){return e.json().catch(function(){return e})})}function A(e){return S({url:u.apiHost+"/kraken/"+e,headers:{Accept:E}})}function C(e,t){var n={Accept:v};return t&&t.headers&&(n=(0,i.default)(n,t.headers)),S((0,i.default)({},t,{url:u.apiHost+"/kraken/"+e,headers:n}))}var O=t.channelInfo=(0,r.default)(function(e){return e?A("channels/"+T(e)):Promise.reject(new Error("No channel info available on null channel name"))});t.videoInfo=(0,r.default)(function(e){return null==e?Promise.reject(new Error("No video info available on null video ID")):C("videos/"+T(e)).then(function(e){var t=e.channel.name;return O(t).then(function(t){var n=e;return n.channel=t,n})})});function P(e,t){return"users/"+T(e.toString())+"/follows/channels/"+T(t.toString())}t.krakenUserInfo=(0,r.default)(function(){return A("user")},function(){return"krakenUserInfo"});var N=t.oauthToken=(0,r.default)(function(){try{var e=o.cookie.get("auth-token");return e?Promise.resolve(e):Promise.reject()}catch(e){return Promise.reject()}});function I(e){var t=e.channel,n=e.params,r=(e.isMobile?u.mobileWebTwitchHost:u.twitchHost)+"/"+T(t);return n&&(r+="?"+(0,s.stringify)(n)),r}var R=t.USER_RESUME_WATCHING_INFO_QUERY="query WebPlayerUserResumeWatchingInfo($userID: ID) {\n    user(id: $userID) {\n        viewedVideos(first: 100) {\n            edges {\n                node {\n                    id\n                }\n                history {\n                    position\n                    updatedAt\n                }\n            }\n        }\n    }\n}",w=(t.getResumeWatchingInfoGQL=(0,r.default)(function(e){return k(R,{id:e})}),t.SET_RESUME_WATCH_MUTATION="mutation updateUserViewedVideo($input: UpdateUserViewedVideoInput!) {\n    updateUserViewedVideo(input: $input) {\n        video {\n            id\n        }\n    }\n}");t.setResumeWatchingInfoGQL=(0,r.default)(function(e){return k(w,{input:e})});function k(e,t){return N().then(function(e){return e},function(e){return null}).then(function(n){return function(e){var t={"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6","X-Device-Id":l.get(!1)};return e&&(t.Authorization="OAuth "+e),new _.GraphQLClient(y,{headers:t})}(n).request(e,t)})}var M=t.VIEWER_INFO_GQL_QUERY="query WebPlayerViewerInfo {\n    currentUser {\n        id\n        login\n        hasTurbo\n    }\n    requestInfo {\n        countryCode\n        isFromEEA\n    }\n}",L=t.viewerInfo=(0,r.default)(function(){return k(M)}),D=t.CHANNEL_VIEWER_GQL_QUERY="query WebPlayerChannelViewer($channel: String) {\n    channel: user(login: $channel) {\n        viewer: self {\n            subscriptionBenefit {\n                product {\n                    name\n                }\n            }\n        }\n        subscriptionProducts {\n            name\n            hasAdFree\n        }\n        adProperties {\n            adServer\n            adServerDefault\n            hasPrerollsDisabled\n            hasPostrollsDisabled\n            hasVodAdsEnabled\n            vodArchiveMidrolls\n            vodArchiveMidrollsFrequency\n            vodArchiveMidrollsBreakLength\n            requiredAge\n            costreamers {\n                id\n            }\n        }\n    }\n}";var x=t.CHANNEL_STREAM_GQL_QUERY="query WebPlayerChannelStream($channel: String) {\n    channel: user(login: $channel) {\n        roles {\n            isPartner\n            isAffiliate\n        }\n        stream {\n            broadcasterSoftware\n            isEncrypted\n            tags {\n                tagName\n            }\n            game {\n                id\n                tags(tagType: CONTENT) {\n                    tagName\n                }\n            }\n            previewImageURL(height: 160, width: 285)\n        }\n        channel {\n            restriction {\n                type\n                options\n            }\n        }\n    }\n}",U=(t.channelStreamInfo=(0,r.default)(function(e){return k(x,{channel:e})}),t.CHANNEL_TAG_GQL_QUERY="query ChannelTags($channel: String) {\n    channel: user(login:$channel) {\n        stream {\n            id\n            tags{\n                id\n                localizedName\n            }\n        }\n    }\n}"),B=(t.channelTagsInfo=(0,r.default)(function(e){return k(U,{channel:e})}),t.CONTENT_TAGS_QUERY="query ContentTags($ids: [ID!]) {\n    contentTags(ids: $ids) {\n        id\n        localizedName\n    }\n}"),V=(t.contentTags=(0,r.default)(function(e){return k(B,{ids:e})}),t.CHANNEL_AD_PROPERTIES_PIXEL_GQL_QUERY="query WebPlayerPixelAnalyticsUrls(\n  $login: String,\n  $allowAmazon: Boolean,\n  $allowComscore: Boolean,\n  $allowGoogle: Boolean,\n  $allowNielsen: Boolean,\n) {\n  channel: user(login: $login) {\n    id\n    adProperties {\n      trackingPixels(consent: {\n        allowAmazon: $allowAmazon,\n        allowComscore: $allowComscore,\n        allowGoogle: $allowGoogle,\n        allowNielsen: $allowNielsen,\n      }) {\n        origin\n        service\n        type\n        url\n        timeOffsetSeconds\n      }\n    }\n  }\n}"),j=t.VIDEO_MOMENTS_GQL_QUERY="query moments($videoId: ID!) {\n    video(id: $videoId) {\n        moments(momentRequestType: VIDEO_CHAPTER_MARKERS) {\n            edges {\n                cursor\n                node {\n                    moments {\n                        edges {\n                            node {\n                                ...videoMomentNode\n                            }\n                        }\n                    }\n                    ...videoMomentNode\n                }\n            }\n        }\n    }\n}\n\nfragment videoMomentNode on VideoMoment {\n    id\n    description\n    durationMilliseconds\n    positionMilliseconds\n    subDescription\n    thumbnailURL\n    type\n    ...momentDetails\n    ...momentVideo\n}\n\nfragment momentVideo on VideoMoment {\n    video {\n      id\n      lengthSeconds\n    }\n  }\n\nfragment momentDetails on VideoMoment {\n    details {\n        ...on GameChangeMomentDetails {\n            game {\n                id\n                displayName\n                boxArtURL(width: 40, height: 53)\n            }\n        }\n        ...on HearthstoneMomentDetails {\n            broadcasterHero {\n                id\n                class\n                name\n            }\n            opponentHero {\n                id\n                class\n                name\n            }\n            gameMode {\n                type\n                value\n            }\n        }\n        ...on OverwatchMomentDetails {\n            role\n            heroName\n        }\n        ...on PUBGMomentDetails {\n            maxPlayerCount\n            minPlayerCount\n        }\n    }\n}",q=(t.videoMoments=(0,r.default)(function(e){return k(j,{videoId:e})}),t.FOLLOWS_AND_SUBSCRIPTIONS_GQL_QUERY="query followsAndSubscriptions($channel: String) {\n\tuser(login: $channel) {\n\t\tsubscriptionProducts {\n\t\t\tid\n\t\t}\n\t\tself {\n\t\t\tsubscriptionBenefit {\n\t\t\t\tid\n\t\t\t}\n\t\t\tfollower {\n\t\t\t\tfollowedAt,\n\t\t\t\tnotificationSettings {\n\t\t\t\t\tisEnabled\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}"),F=(t.fetchFollowsAndSubscriptions=(0,r.default)(function(e){return k(q,{channel:e})}),t.clipInfo=(0,r.default)(function(e){return k(F,{slug:e})}),t.CLIP_INFO_QUERY="query clipInfo($slug: ID!) {\n    clip(slug: $slug) {\n        durationSeconds\n        createdAt\n        id\n        title\n        broadcaster {\n            id\n            roles {\n                isPartner\n            }\n        }\n        video {\n            creator {\n                displayName\n            }\n        }\n        game {\n            name\n        }\n    }\n}"),H=(t.createClipGQL=(0,r.default)(function(e){return k(H,{input:e})}),t.CLIP_CREATE_MUTATION="mutation createClip($input: CreateClipInput!) {\n    createClip(input: $input) {\n        clip {\n            id\n            title\n            url\n        }\n    }\n}"),Y=(t.vodTagInfo=(0,r.default)(function(e){if((0,a.default)(e))return Promise.resolve({});var t=String(e).replace("v","");return k(Y,{id:t})}),t.VOD_TAG_INFO_QUERY="query vodInfo($id: ID!) {\n    video(id: $id) {\n        contentTags {\n            tagName\n        }\n    }\n}");var G=t.CAN_PRIME_SUBSCRIBE_QUERY="query canPrimeSubscribe($channel: String!) {\n    user(login: $channel) {\n        self {\n            canPrimeSubscribe\n        }\n    }\n}";var W=t.AD_CONTEXT_QUERY="query adContext($context: AdRequestContext!) {\n    adContext(context: $context) {\n        radToken\n        declineState {\n          shouldDecline\n          reason\n        }\n    }\n}"},"57ht":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromecastSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n("q1tI")),a=c(n("17x9")),o=c(n("TSYQ")),s=c(n("3OWR")),l=n("kKdq"),u=n("XU6G");function c(e){return e&&e.__esModule?e:{default:e}}var d={castingState:a.default.string,fill:a.default.string,viewBox:a.default.string};(t.ChromecastSVG=function(e){var t=(0,s.default)({},e,{className:(0,o.default)({"chromecast-icon":!0,"chromecast--available":e.castingState===u.AVAILABLE,"chromecast--connected":e.castingState===u.CONNECTED,"chromecast--connecting":e.castingState===u.CONNECTING})});return i.default.createElement(l.SVGWrapper,r({viewBox:"0 0 30 30"},t),i.default.createElement("path",{d:"M8 10h14v10h-6.223c.146.643.223 1.313.223 2h6a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v3c.687 0 1.357.077 2 .223V10z",fill:e.fill}),i.default.createElement("path",{className:"chromecast-connected",d:"M10,13.9V12h10v6h-5.9C13.2,16.2,11.8,14.8,10,13.9z",fill:e.fill}),i.default.createElement("path",{className:"chromecast-connecting-A",d:"M13,22h-1c0-3.3-2.7-6-6-6v-1C9.9,15,13,18.1,13,22z",fill:e.fill}),i.default.createElement("path",{className:"chromecast-connecting-B",d:"M10,22H9c0-1.7-1.3-3-3-3v-1C8.2,18,10,19.8,10,22z",fill:e.fill}),i.default.createElement("path",{className:"chromecast-connecting-C",d:"M7,22H6v-1C6.6,21,7,21.4,7,22z",fill:e.fill}))}).propTypes=d},"5Bbo":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPalette=void 0,t.ColorPaletteComponent=c;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=s(n("TSYQ"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={currentColor:i.default.string.isRequired,colors:i.default.array.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired};function c(e){var t=e.onSelect,n=e.currentColor,i=e.colors,a=e.t,s=i.map(function(e){var i;function a(){t(e)}var s="transparent"===e?r.default.createElement("hr",{className:"cc-no-color"}):null,u=(0,o.default)((l(i={"cc-color-palette__square":!0},"cc-color-palette__square-"+e,!0),l(i,"cc-color-palette__square-selected",e===n),i));return r.default.createElement("div",{className:"cc-color-palette__container",key:"color-palette."+e},s,r.default.createElement("div",{role:"button",className:u,onClick:a,onKeyUp:function(e){"Enter"===e.key&&a()},tabIndex:-1}))});return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"colorPalette"},a("Color")),r.default.createElement("div",{id:"colorPalette",className:"cc-color-palette"},s))}c.propTypes=u;t.ColorPalette=(0,a.translate)()(c)},"5Obg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizePalette=void 0,t.SizePaletteComponent=u;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("1fV9");function s(e){return e&&e.__esModule?e:{default:e}}var l={increaseSize:i.default.func.isRequired,decreaseSize:i.default.func.isRequired,t:i.default.func.isRequired};function u(e){var t=e.increaseSize,n=e.decreaseSize,i=e.t;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"sizePalette"},i("Size")),r.default.createElement(o.Button,{className:"cc-font-size cc-font-size--increment",id:"sizePalette",onClick:t},"A",r.default.createElement("span",{className:"player-tip","data-tip":i("Increase Size")})),r.default.createElement(o.Button,{className:"cc-font-size cc-font-size--decrement",id:"sizePalette",onClick:n},"A",r.default.createElement("span",{className:"player-tip","data-tip":i("Decrease Size")})))}u.propTypes=l;t.SizePalette=(0,a.translate)()(u)},"5Ow2":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityRestrictedOverlay=void 0,t.QualityRestrictedComponent=c;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("GX/C");function s(e){return e&&e.__esModule?e:{default:e}}var l="This video quality is only available to subscribers. Subscribe now to watch and support {{channelName}}.",u={channelName:i.default.string.isRequired,subscribeUrl:i.default.string.isRequired,onClose:i.default.func,t:i.default.func};function c(e){var t=e.channelName,n=e.subscribeUrl,i=e.onClose,a=e.t;return r.default.createElement("div",{className:"player-overlay player-overlay--wall pl-product-overlay"},r.default.createElement("div",{className:"player-product-overlay__close js-player-product-close"},r.default.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:i},r.default.createElement(o.CrossSVG,{id:"icon_close_md"}))),r.default.createElement("div",{className:"player-center-content player-product"},r.default.createElement("p",null,a(l,{channelName:t})),r.default.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"purchase_button"},a("Subscribe"))))}c.propTypes=u,c.defaultProps={tt:function(e){return e}};t.QualityRestrictedOverlay=(0,a.translate)()(c)},"5uSl":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiviewInfoDisplay=t.MultiviewInfoDisplayComponent=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n("q1tI")),a=d(n("17x9")),o=n("9kay"),s=d(n("TSYQ")),l=n("uC+K"),u=n("GX/C"),c=n("1fV9");function d(e){return e&&e.__esModule?e:{default:e}}var f={gameName:a.default.string,gameUrl:a.default.string,lang:a.default.object,live:a.default.bool,isEmbed:a.default.bool,playerType:a.default.string,title:a.default.string,viewerCount:a.default.number,className:a.default.string,onRemoveStream:a.default.func},p=(0,s.default)("player-text-link","player-text-link--no-color","qa-game-name"),_=t.MultiviewInfoDisplayComponent=function(e){var t=e.gameName,n=e.gameUrl,a=e.lang,d=e.live,f=e.playerType,_=e.title,h=e.viewerCount,m=e.className,E=e.isEmbed,v=e.onRemoveStream,y=Number(h).toLocaleString(a.shortCode),g=E?{target:"_blank",rel:"noopener noreferrer"}:{},T=f===l.PLAYER_MULTIVIEW_SECONDARY,b=i.default.createElement("a",r({className:p,href:n},g),t),S=i.default.createElement("span",null,y),A=null,C=null,O=(0,s.default)({"player-streaminfo__name":!0,"player-streaminfo__multiview-secondary":T});return d&&!T&&(A=i.default.createElement("div",{className:"player-streaminfo__viewers"},i.default.createElement(o.Interpolate,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:b,viewerCount:S,options:{count:h}}))),T&&(C=i.default.createElement(c.Button,{className:"remove-multiview-button",tabIndex:"-1",onClick:v},i.default.createElement(u.CrossSVG,{id:"icon_remove_stream",viewBox:"-2 8 25 25",className:"remove-multiview-button__svg"}))),i.default.createElement("div",{className:m},i.default.createElement("div",{className:O},_,C),i.default.createElement("div",{className:"player-streaminfo__game"},A))};_.propTypes=f;t.MultiviewInfoDisplay=(0,o.translate)()(_)},"69Hk":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTrackingProperties=function(e){return{type:r,properties:e}};var r=t.ACTION_SET_TRACKING_PROPERTIES="set tracking properties"},"6PyS":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MANIFEST_INFO=void 0,t.manifestInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.ACTION_SET_STREAM:return l;case r.ACTION_SET_MANIFEST_INFO:return(0,a.default)({},e,(0,o.default)(t.info,Object.keys(l)),{stream_time:parseFloat(t.info.stream_time,10)||0});default:return e}};var r=n("CeWH"),i=n("D3OJ"),a=s(n("3OWR")),o=s(n("JZM8"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DEFAULT_MANIFEST_INFO={abs:!1,broadcast_id:0,cluster:"",future:!1,manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",origin:"",region:"",segment_protocol:"",server_time:0,serving_id:"",stream_time:0,user_ip:"",suppress:!1,transcodestack:"not listed"}},"6R4w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PremiereSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.PremiereSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{fill:e.fill,d:"M10 1c4.9 0 9 4.1 9 9s-4 9-9 9-9-4-9-9 4-9 9-9zm0 1.8c-3.9 0-7.2 3.3-7.2 7.2 0 3.9 3.3 7.2 7.2 7.2 3.9 0 7.2-3.3 7.2-7.2 0-3.9-3.3-7.2-7.2-7.2zm3.668 7.737l-4.8 3.4C8.784 13.98 8.69 14 8.6 14c-.11 0-.22-.03-.316-.09-.177-.107-.284-.3-.284-.51V6.6c0-.208.107-.4.284-.51C8.38 6.03 8.49 6 8.6 6c.09 0 .184.02.268.063l4.8 3.4c.204.102.332.31.332.537 0 .227-.128.435-.332.537z"}))}).propTypes=l},"6bSu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=[5,15,45],o=t.NullNSecondPlay=function(){function e(){i(this,e)}return r(e,[{key:"setPeriods",value:function(){}},{key:"getPeriods",value:function(){return[]}},{key:"start",value:function(){}},{key:"reset",value:function(){}},{key:"onNSecondPlay",value:function(){}},{key:"destroy",value:function(){}}]),e}();t.NSecondPlay=function(e){function t(e){i(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._timeoutIds=[],n._callbacks=[],n._periods=a,n._window=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),r(t,[{key:"setPeriods",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;this.reset(),this._periods=e}},{key:"getPeriods",value:function(){return this._periods.slice()}},{key:"start",value:function(){var e=this;this._periods.forEach(function(t,n){var r=e._window.setTimeout(function(){return e._timeoutHandler(t)},1e3*t);e._timeoutIds[n]=r})}},{key:"reset",value:function(){var e=this;this._timeoutIds.forEach(function(t){e._window.clearTimeout(t)}),this._timeoutIds=[]}},{key:"_timeoutHandler",value:function(e){this._callbacks.forEach(function(t){t(e)})}},{key:"onNSecondPlay",value:function(e){this._callbacks.push(e)}},{key:"destroy",value:function(){this.reset(),this._callbacks=[],this._window=null,this._periods=[]}}]),t}()},"6qam":function(e,t){e.exports=function(e){return null===e}},"7Eji":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DELIVERY_TYPE=t.POSTROLL=t.MIDROLL=t.PREROLL=void 0,t.buildVAESAdTag=function(e,t,n){var r=t,i=g(e),a=n.withId("twitch-player-ui").withSize("640x480").withMediaType("v").build();for(var o in r=r.withSlot(a).withURL(e.url).withReturnType("vast3").withDuration(e.duration).withGeocode(e.countryCode).withPublisherID("twitch").withGDPRL({status:"no-cmp"}).withCurrentWindowSize().withBreakPosition(e.adType).withRawPageReferrer(e.embedUrl),i)r=r.withKeyValuePair(o,i[o]);return r.buildAdTagURL()},t.buildDFPIMATags=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"twitch.web",n=function(e){var t=T(e);t.playerType=e.playerType,t.sdk=e.sdk,t.broadcaster_software=e.broadcasterSoftware,null!==e.kruxId&&(t.kuid=e.kruxId);e.contentType===u.CONTENT_MODE_VOD&&(t.vod_id=e.vod.id,t.vod_name=e.vod.name,t.vod_type=e.vod.type);if(t.embed){var n=S(e.embedUrl);t.embed_url=n,t.curse_embed=n}var r=(0,l.getContentInfo)(e.broadcasterSoftware),i=r.live,a=r.contentMode;return t.live=i,t.content_mode=a,function(e,t){var n=t;return e.qsParams&&(n.qsParams=e.qsParams),n}(e,t)}(e),r={iu:"/"+a.imaNetworkID+"/"+t+"/client/desktop/live/"+e.channelId,ciu_szs:"300x250,300x60",sz:"640x480",impl:"s",gdfp_req:"1",env:"vp",output:"xml_vast3",url:e.url,correlator:Date.now(),cust_params:b(n),unviewed_position_start:"1"};e.isFromEEA&&(r.npa=function(e){return e.playerType!==o.PLAYER_EMBED&&e.playerType!==o.PLAYER_TWITCH_EVERYWHERE&&e.googleConsent}(e)?"0":"1");var s=(0,i.default)(r,function(e,t,n){return e.push(n+"="+t),e},[]).join("&");if(e.contentType===u.CONTENT_MODE_VOD)return a.doubleClickVODUrl+"?"+s;return a.doubleClickLiveUrl+"?"+s},t.formatCustomTag=function(e){return"string"==typeof e?e.toLowerCase().replace(/[^a-z0-9]+/g,"_"):""},t.getVAESCustomParameters=g;var i=f(n("xaJk")),a=n("J0qE"),o=n("uC+K"),s=n("uCED"),l=n("jby0"),u=n("VIow"),c=n("wsSb"),d=f(n("ijCd"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=t.PREROLL="preroll",h=t.MIDROLL="midroll",m=t.POSTROLL="postroll",E=t.DELIVERY_TYPE="csai",v=(p(r={},_,"1"),p(r,h,"2"),p(r,m,"3"),r),y=["qsParams"];function g(e){var t=T(e);return t.delivery_type=E,e.userId?t.loggedin=!0:t.loggedin=!1,e.contentType===u.CONTENT_MODE_VOD?t.vod_type=e.vod.type:t.vod_type=c.CONTENT_MODE_LIVE,t.embed?t.embed_url=S(e.embedUrl):t.embed_url=null,t.game_id=e.gameId,t.vb=null,t.tag=t.tag.replace(/,/g,"|"),t.adunit=e.platform+"_"+E,t}function T(e){var t={game:e.game,chan:e.channel,chanid:e.channelId,twitchcorrelator:e.twitchCorrelator,embed:e.playerType===o.PLAYER_EMBED||e.playerType===o.PLAYER_TWITCH_EVERYWHERE,platform:e.platform,mature:e.mature,pos:v[e.adType],timebreak:e.duration,tag:e.contentTag};return e.isPartner?t.chantype="partner":e.isAffiliate?t.chantype="affiliate":t.chantype="basic",t}function b(e){return(0,i.default)(e,function(e,t,n){var r=String(t);return(0,d.default)(y,n)?e.push(""+r.replace(/^&/,"")):(r=r.toLowerCase(),e.push(n+"="+r)),e},[]).join("&").replace(/[=&, ]/g,function(e){switch(e){case"=":return"%3D";case"&":return"%26";case",":return"%2C";case" ":return"_"}})}function S(e){var t=(0,s.parseUri)(e);return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)?t:t.host.split(".").slice(-2).join(".")}},"7FEK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionBitsBalanceContainer=t.ExtensionBitsBalanceContainerComponent=void 0;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=n("17x9"),o=(r=a)&&r.__esModule?r:{default:r},s=n("N58E"),l=n("86uj");var u={options:o.default.shape({success:o.default.bool}),bitsBalance:o.default.number,retrievingBitsBalance:o.default.bool},c=t.ExtensionBitsBalanceContainerComponent=function(e){var t=!!e.options&&e.options.success;return e.retrievingBitsBalance?null:i.createElement(l.ExtensionBitsBalance,{bitsBalance:e.bitsBalance,showSuccess:t})};c.propTypes=u;t.ExtensionBitsBalanceContainer=(0,s.connect)(function(e){return{bitsBalance:e.bits.bitsBalance,retrievingBitsBalance:e.bits.retrievingBitsBalance}})(c)},"7SVc":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BACKEND_HLS=void 0,t.BackendHls=y;var r=d(n("lSCD")),i=d(n("4O8T")),a=c(n("JZwe")),o=c(n("nC/T")),s=d(n("y+GA")),l=n("+eo6"),u=n("VPTj");function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="loadedmetadata",_="error",h={playbackRate:0,fps:0,bufferSize:0,skippedFrames:0,memoryUsage:"Unknown",hlsLatencyEncoder:0,hlsLatencyBroadcaster:0,videoResolution:"0x0",displayResolution:"0x0"},m=t.BACKEND_HLS="hls",E=3,v="NotAllowedError";function y(e,t){var n=this,r=void 0,c=void 0,d=void 0,y=void 0,g=void 0,T=void 0,b=!1,S=new Promise(function(e){T=e});n.attach=function(e){e.appendChild(c),c.addEventListener(_,function(){var e;if(null!==c.error){if(c.error.code===c.error.MEDIA_ERR_SRC_NOT_SUPPORTED)return r.emit(o.OFFLINE),void r.emit(a.ENDED);var n=(f(e={},c.error.MEDIA_ERR_NETWORK,s.default.CODES.NETWORK),f(e,c.error.MEDIA_ERR_DECODE,s.default.CODES.DECODE),f(e,c.error.MEDIA_ERR_ABORTED,s.default.CODES.ABORTED),e);t.dispatch((0,l.setError)(n[c.error.code]))}}),c.addEventListener(p,function(){t.dispatch((0,u.setLoading)(!0)),r.emit(o.QUALITY_CHANGE,n.getQuality())})},n.destroy=function(){},n.addEventListener=function(e,t){e===p?c.addEventListener("loadeddata",t):e!==_&&c.addEventListener(e,t),r.on(e,t)},n.removeEventListener=function(e,t){c.removeEventListener(e,t),r.off(e,t)},n.getNetworkProfile=function(){return[]},n.getError=function(){return null!==c.error&&c.error.code!==c.error.MEDIA_ERR_SRC_NOT_SUPPORTED?c.error:null},n.getSrc=function(){return c.src},n.setSrc=function(e){c.src=e,n.load(),T()},n.getNetworkState=function(){return c.networkState},n.getBuffered=function(){return c.buffered},n.load=function(){c.load(),n.getAutoplay()&&n.play()},n.getReadyState=function(){return c.readyState},n.getSeeking=function(){return c.seeking},n.getStats=function(){return h},n.getCurrentTime=function(){return c.currentTime},n.setCurrentTime=function(e){c.currentTime=e},n.getDuration=function(){return c.duration},n.getPaused=function(){return c.paused},n.getPlaybackRate=function(){return c.playbackRate},n.setPlaybackRate=function(e){c.playbackRate=e},n.getPlayed=function(){return c.played},n.getEnded=function(){return c.ended||!!c.error&&c.error.code===c.error.MEDIA_ERR_SRC_NOT_SUPPORTED},n.getAutoplay=function(){return g},n.setAutoplay=function(e){c.autoplay=e},n.setLoop=function(e){c.loop=e},n.play=function(){return b=!1,S.then(function(){return new Promise(function(e){c.readyState>=E?b||e(c.play()):c.addEventListener(a.CAN_PLAY,function t(){c.removeEventListener(a.CAN_PLAY,t),b||e(c.play())})})}).catch(function(e){e.name===v&&(n.getMuted()?(r.emit(a.PLAYBACK_BLOCKED),r.emit(a.PAUSE)):(n.setMuted(!0),r.emit(a.AUDIO_BLOCKED),n.play()))})},n.pause=function(){b=!0,c.pause()},n.getControls=function(){return!1},n.setControls=function(){},n.getVolume=function(){return c.volume},n.setVolume=function(e){c.volume=e},n.getMuted=function(){return c.muted},n.setMuted=function(e){e?c.setAttribute("muted",""):c.removeAttribute("muted"),c.muted=e},n.getChannel=function(){return d},n.setChannel=function(e,t){d=e,y=null,t.streamUrl.then(function(e){n.setSrc(e)}).catch(function(e){console.warn("Channel url not available:",e)})},n.setClip=function(){},n.getVideo=function(){return y},n.setVideo=function(e,t){y=e,d=null,t.streamUrl.then(function(e){n.setSrc(e)}).catch(function(e){console.warn("VOD url not available:",e)})},n.getQuality=function(){return"auto"},n.setQuality=function(){},n.getQualities=function(){return[{bandwidth:-1,resolution:"0x0",group:"auto",name:"Auto"}]},n.getVideoInfo=function(){return{}},n.getCaption=function(){},n.getBackend=function(){return m},n.getVersion=function(){},n.elapsedTime=function(){},n.absAvailable=function(){},n.setLiveLowLatencyEnabled=function(){},n.setLiveMaxLatency=function(){},n.setAutoMaxVideoSize=function(){},n.getBandwidthEstimate=function(){},n.getAverageBitrate=function(){},r=new i.default,c=document.createElement("video"),g=e.autoplay,e.playsinline&&(c.setAttribute("webkit-playsinline",""),c.setAttribute("playsinline","")),e.muted&&c.setAttribute("muted",""),setTimeout(function(){r.emit(o.PLAYER_INIT)},0)}y.canPlay=function(){var e=document.createElement("video");return!!(0,r.default)(e.canPlayType)&&e.canPlayType("application/vnd.apple.mpegURL")}},"7dWA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarHollowSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.StarHollowSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{d:"M15.21 8.985h.01-.01zm-9.968-.071L7.129 11a1 1 0 0 1 .243.842l-.515 2.954 2.688-1.39a.999.999 0 0 1 .918 0l2.687 1.39-.515-2.954a1.001 1.001 0 0 1 .242-.841l1.882-2.087-2.675-.424a.998.998 0 0 1-.737-.539l-1.344-2.676L8.66 7.95a.998.998 0 0 1-.737.539l-2.681.425zm8.244 8.088c-.273 0-.548-.066-.804-.197l-2.678-1.384-2.676 1.383a1.768 1.768 0 0 1-1.845-.149 1.737 1.737 0 0 1-.681-1.709l.516-2.967-1.865-2.062A1.758 1.758 0 0 1 3.1 8.158 1.747 1.747 0 0 1 4.479 7.01l2.625-.416 1.335-2.662C8.728 3.357 9.327 3 10.004 3c.676 0 1.275.357 1.563.933l1.336 2.662 2.619.415c.635.1 1.164.539 1.377 1.147a1.75 1.75 0 0 1-.35 1.757l-1.86 2.064.518 2.969a1.745 1.745 0 0 1-.687 1.712 1.739 1.739 0 0 1-1.034.343z",fill:e.fill,fillRule:"evenodd"}))}).propTypes=l},"7duF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUIMiddleware=function(){return function(e){return function(t){var n=void 0,r=e.getState(),p=r.window,h=function(){var t=e.getState(),n=t.env,r=t.onlineStatus,a=t.playback,o=t.ui,s=n.playerType===f.PLAYER_HIGHLIGHTER,l=o.onUIElement,c=a.paused,d=r===u.OFFLINE_STATUS;s||l||c||d||e.dispatch((0,i.setUIDisplay)(!1))},m=function(){p.clearTimeout(n)},E=function(e){m(),n=p.setTimeout(h,e)},v=function(){e.dispatch((0,i.hoveringOffUIElement)()),e.dispatch((0,i.setUIDisplay)(!1))},y=function(){var t=e.getState(),n=t.ui,r=t.collection,a=r.currentView===l.SIDEBAR_VIEW;n.isMini||a||e.dispatch((0,i.setUIDisplay)(!0))},g=function(){var t=e.getState(),n=t.screenMode,r=t.window;if(n.isFullScreen){var i=r.document.getElementsByClassName("player-root")[0];i&&i.classList.add("player-root--cursor_hidden")}};return e.dispatch((0,i.showUIWithAutoHide)()),E(d.initialControlsDelay),function(n){switch(n.type){case i.ACTION_SET_MINIPLAYER_MODE:n.value&&(v(),m());break;case a.ACTION_PAUSE:y();break;case i.ACTION_HIDE_UI:var r=e.getState(),l=r.env;l.playerType!==f.PLAYER_HIGHLIGHTER&&(v(),g()),m();break;case s.ACTION_SET_CASTING_STATE:(0,_.default)(["connected","connecting"],n.castingState)?e.dispatch((0,i.setUIDisplay)(!0)):E(d.hoverControlsDelay);break;case c.ACTION_SET_CURRENT_QUALITY:n.isAuto||(y(),E(d.hoverControlsDelay));break;case a.ACTION_PLAYER_SEEKING:case a.ACTION_PLAYING:case o.ACTION_SET_THEATRE_MODE:case i.ACTION_SHOW_UI_WITH_AUTO_HIDE:case o.ACTION_TOGGLE_THEATRE_MODE:y(),E(d.hoverControlsDelay);break;case i.ACTION_SET_UI_DISPLAY:n.showUI?(u=e.getState().window.document.getElementsByClassName("player-root")[0])&&u.classList.remove("player-root--cursor_hidden"):g()}var u;t(n)}}}};var r,i=n("Z4ex"),a=n("VPTj"),o=n("KE4D"),s=n("ut+t"),l=n("Ynch"),u=n("uAxA"),c=n("OyQT"),d=n("J0qE"),f=n("uC+K"),p=n("ijCd"),_=(r=p)&&r.__esModule?r:{default:r}},"7fgZ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SEEKABLE_TYPES=void 0;var r=n("VIow"),i=n("s4z8"),a=n("nqwM"),o=n("hURu");t.SEEKABLE_TYPES=[r.CONTENT_MODE_VOD,i.CONTENT_MODE_VIDEO_SOURCE,a.CONTENT_MODE_CLIP,o.CONTENT_MODE_CLIP_EDITING]},"7hSF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchPartyDetails=t.WATCH_PARTY_CLASSES=void 0;var r=o(n("17x9")),i=o(n("q1tI")),a=n("J0qE");function o(e){return e&&e.__esModule?e:{default:e}}t.WATCH_PARTY_CLASSES={container:"player-streaminfo__watchparty",divider:"player-streaminfo__watchparty-divider"};(t.WatchPartyDetails=function(e){var t=e.isViewable,n=e.vodId,r=e.vodTitle;return n&&0!==n.length?t?i.default.createElement("span",null,":Â ",i.default.createElement("a",{href:a.twitchHost+"/videos/"+n,target:"_blank",rel:"noopener noreferrer"},r)):i.default.createElement("span",null,":Â ",r):null}).propTypes={vodId:r.default.string,vodTitle:r.default.string,isViewable:r.default.bool}},"7hht":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DfpCreativeService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"getVastXmlResponse",value:function(e){var t="https://dfp-creative-service.twitch.tv/?creative_id="+e;return this._httpsGet(t).then(function(e){return e&&e.vast_xml_response?e.vast_xml_response:Promise.reject(new Error("Invalid response from dfp-creative-service "+e))})}},{key:"_httpsGet",value:function(e){var t=this._convertHttpToHttps(e);return fetch(t).then(function(e){return e.json()})}},{key:"_convertHttpToHttps",value:function(e){return e.replace(/^http:\/\//i,"https://")}}]),e}()},"7oTh":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.broadcasterStream=t.broadcasterPartnerStatus=t.broadcasterLiveStatus=t.DEFAULT_BROADCASTER_INFO=void 0,t.broadcasterInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.ACTION_BROADCASTER_INFO_LOADED:var n=(0,s.default)({},e);return n.byName[t.channelName]=(0,s.default)({},n.byName[t.channelName]||{},t.info),n.allNames=(0,a.addIfNotPresent)(n.allNames,t.channelName),n;default:return e}};var r,i=n("ggpQ"),a=n("ZI6j"),o=n("3OWR"),s=(r=o)&&r.__esModule?r:{default:r};var l=t.DEFAULT_BROADCASTER_INFO={byName:{},allNames:[]};var u=function(e,t,n){var r=e.broadcasterInfo.byName[t];return r&&r[n]?r[n]:i.NOT_AVAILABLE};t.broadcasterLiveStatus=function(e,t){return u(e,t,"liveStatus")},t.broadcasterPartnerStatus=function(e,t){return u(e,t,"partnerStatus")},t.broadcasterStream=function(e,t){return u(e,t,"stream")}},"7uxP":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TopBar=t.mapStateToProps=void 0,t.TopBarContainer=f;var r=u(n("q1tI")),i=u(n("17x9")),a=u(n("TSYQ")),o=n("N58E"),s=n("uC+K"),l=n("uNCh");function u(e){return e&&e.__esModule?e:{default:e}}var c={children:i.default.node.isRequired,isAmazonVSEPlayer:i.default.bool.isRequired,isShowingAd:i.default.bool.isRequired,playerType:i.default.string},d=t.mapStateToProps=function(e){var t=e.env,n=e.screen;return{isAmazonVSEPlayer:t.playerType===s.PLAYER_AMAZON_VSE,isShowingAd:n[0]===l.ADVERTISEMENT_SCREEN||n[0]===l.STITCHED_ADVERTISEMENT_SCREEN,playerType:t.playerType}};function f(e){var t=e.children,n=e.isAmazonVSEPlayer,i=e.isShowingAd,o=e.playerType;if(n||i)return null;var l=o===s.PLAYER_SQUAD_PRIMARY||o===s.PLAYER_SQUAD_SECONDARY,u=(0,a.default)({"pl-controls-top":!0,"js-controls-top":!0,"squad-player-type":l});return r.default.createElement("div",{className:u},t)}f.propTypes=c;t.TopBar=(0,o.connect)(d)(f)},"8+VK":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fontSizeMap=t.backgroundColorMap=t.fontColorMap=t.verticalPositionMap=t.fontBoldMap=t.fontItalicMap=t.fontUnderlineMap=t.alignmentMap=t.edgeMap=t.opacityMap=t.fontMap=t.presetMap=void 0,t.calculateRGBA=function(e,t){return"transparent"===e?"transparent":"rgba("+e+","+t+")"};var r,i=n("zdiy"),a=(r=i)&&r.__esModule?r:{default:r};var o={fontSize:20,font:"prop-sans-serif",fontOpacity:"solid",alignment:"left",edge:"none",verticalPosition:"bottom",backgroundColorName:"black",backgroundOpacity:"solid",windowColorName:"transparent",windowOpacity:"solid",fontUnderline:"none",fontBold:"none",fontItalic:"none"},s=(0,a.default)({},o,{backgroundColorName:"black",backgroundOpacity:"translucent"});t.presetMap={"white-on-black":(0,a.default)({},o,{fontColorName:"white"}),"cyan-on-black":(0,a.default)({},o,{fontColorName:"cyan"}),"yellow-on-black":(0,a.default)({},o,{fontColorName:"yellow"}),"lime-on-black":(0,a.default)({},o,{fontColorName:"green"}),"magenta-on-black":(0,a.default)({},o,{fontColorName:"magenta"}),"white-on-trans-black":(0,a.default)({},s,{fontColorName:"white"}),"cyan-on-trans-black":(0,a.default)({},s,{fontColorName:"cyan"}),"yellow-on-trans-black":(0,a.default)({},s,{fontColorName:"yellow"}),"lime-on-trans-black":(0,a.default)({},s,{fontColorName:"green"}),"magenta-on-trans-black":(0,a.default)({},s,{fontColorName:"magenta"}),"black-on-white":(0,a.default)({},o,{backgroundColorName:"white",fontColorName:"black"})},t.fontMap={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},t.opacityMap={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"},flashing:{opacityValue:1,animation:"blink .75s linear infinite"}},t.edgeMap={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},t.alignmentMap={left:{textAlign:"left"},center:{textAlign:"center"},right:{textAlign:"right"}},t.fontUnderlineMap={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},t.fontItalicMap={italic:{fontStyle:"italic"},none:{fontStyle:"normal"}},t.fontBoldMap={bold:{fontWeight:"bold"},none:{fontWeight:"normal"}},t.verticalPositionMap={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}};t.fontColorMap={black:{fontColorValue:"0,0,0"},white:{fontColorValue:"255,255,255"},red:{fontColorValue:"255,0,0"},green:{fontColorValue:"0,255,0"},blue:{fontColorValue:"0,0,255"},yellow:{fontColorValue:"255,255,0"},magenta:{fontColorValue:"255,0,255"},cyan:{fontColorValue:"0,255,255"}},t.backgroundColorMap={black:{backgroundColorValue:"0,0,0"},white:{backgroundColorValue:"255,255,255"},red:{backgroundColorValue:"255,0,0"},green:{backgroundColorValue:"0,255,0"},blue:{backgroundColorValue:"0,0,255"},yellow:{backgroundColorValue:"255,255,0"},magenta:{backgroundColorValue:"255,0,255"},cyan:{backgroundColorValue:"0,255,255"},lightgray:{backgroundColorValue:"199,199,199"},gray:{backgroundColorValue:"145,145,145"},darkgray:{backgroundColorValue:"91,91,91"},transparent:{backgroundColorValue:"transparent"}},t.fontSizeMap={increment:5,decrement:-5,max:40,min:10}},"85Qg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedMenu=t.AdvancedMenuComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=d(n("TSYQ")),s=n("9kay"),l=n("bDXi"),u=n("yrU0"),c=n("1fV9");function d(e){return e&&e.__esModule?e:{default:e}}var f={lowLatencyModeEnabled:a.default.bool.isRequired,miniPlayerEnabled:a.default.bool.isRequired,miniPlayerToggleEnabled:a.default.bool.isRequired,trackAdvancedHeaderClick:a.default.func,onLowLatencyToggle:a.default.func,onMenuTransition:a.default.func,onMiniPlayerToggle:a.default.func,shouldShowLLToggle:a.default.bool.isRequired,t:a.default.func.isRequired,onVideoStatsToggle:a.default.func.isRequired,onAdStatsToggle:a.default.func.isRequired,videoStatsToggleEnabled:a.default.bool.isRequired,adStatsToggleEnabled:a.default.bool.isRequired},p=(0,o.default)({ellipsis:!0,"qa-header-button":!0}),_=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),h=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),m=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"qa-item":!0}),E=t.AdvancedMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(){this.props.trackAdvancedHeaderClick(),this.props.onMenuTransition(l.IDENTIFIER_MAIN_MENU)}},{key:"render",value:function(){var e=this.props,t=e.miniPlayerEnabled,n=e.miniPlayerToggleEnabled,r=e.lowLatencyModeEnabled,a=e.onLowLatencyToggle,o=e.onMiniPlayerToggle,s=e.shouldShowLLToggle,l=e.onVideoStatsToggle,d=e.onAdStatsToggle,f=e.videoStatsToggleEnabled,E=e.adStatsToggleEnabled,v=e.t,y=s?i.default.createElement("div",{className:m},i.default.createElement(u.Toggle,{className:"qa-latency-mode-toggle",label:v("Low Latency"),onToggle:a,toggledOn:r})):null,g=n?i.default.createElement("div",{className:m},i.default.createElement(u.Toggle,{className:"qa-miniplayer-toggle",label:"Mini Player",onToggle:o,toggledOn:t})):null,T=i.default.createElement("div",{className:m},i.default.createElement(u.Toggle,{className:"qa-show-stats-button",label:v("Video Stats"),onToggle:l,toggledOn:f})),b=i.default.createElement("div",{className:m},i.default.createElement(u.Toggle,{className:"qa-show-ad-stats-button",label:v("Ad Stats"),onToggle:d,toggledOn:E}));return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:_},i.default.createElement(c.Button,{className:p,onClick:this.handleMenuTransition},i.default.createElement("span",null,v("Advanced")))),i.default.createElement("div",{className:h},y,g,T,b))}}]),t}();E.propTypes=f,E.defaultProps={trackAdvancedHeaderClick:function(){},onMenuTransition:function(){},onMiniPlayerToggle:function(){},onVideoStatsToggle:function(){},onAdStatsToggle:function(){}};t.AdvancedMenu=(0,s.translate)()(E)},"86uj":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionBitsBalance=t.ExtensionBitsBalanceComponent=t.SUCCESS_CLASS=void 0;var r=l(n("q1tI")),i=n("4AzW"),a=n("ic+G"),o=n("9kay"),s=l(n("17x9"));function l(e){return e&&e.__esModule?e:{default:e}}var u={t:s.default.func.isRequired,bitsBalance:s.default.number,showSuccess:s.default.bool},c=t.SUCCESS_CLASS="extension-notification__success-text",d=t.ExtensionBitsBalanceComponent=function(e){var t=e.bitsBalance,n=r.default.createElement(i.BitsCount,{count:t,bitsConfig:a.FALLBACK_BITS_CONFIG,withImage:!0,withText:!0,animated:!1}),s=e.showSuccess?r.default.createElement("span",{className:c},e.t("Success!")):null;return r.default.createElement("span",{className:"extension-notification__bits-balance"},s,r.default.createElement(o.Interpolate,{i18nKey:"Bits Balance {{bitsCount}}",bitsCount:n}))};d.propTypes=u;t.ExtensionBitsBalance=(0,o.translate)()(d)},"8BOE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionFrame=t.EXT_FRAME_HIDDEN=t.EXT_FRAME_WRAPPER_CLASS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("q1tI")),a=p(n("17x9")),o=p(n("TSYQ")),s=n("1hWM"),l=n("UD7r"),u=n("vpBF"),c=n("hm9X"),d=n("R/6P"),f=n("snxH");function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=t.EXT_FRAME_WRAPPER_CLASS="extension-frame-wrapper",m=t.EXT_FRAME_HIDDEN="extension-frame-wrapper__hidden",E={iframeClass:a.default.string.isRequired,installation:c.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,isLoggedIn:a.default.bool.isRequired,isVisible:a.default.bool.isRequired,isHighlighted:a.default.bool,language:a.default.string.isRequired,locale:a.default.string.isRequired,loginId:a.default.number.isRequired,onBeginPurchase:a.default.func,onDoubleClick:a.default.func,onIdentityLinked:a.default.func.isRequired,onMinimize:a.default.func,onModalRequested:a.default.func.isRequired,onModalNotification:a.default.func.isRequired,tracker:f.TRACKER_PROP_TYPE.isRequired,isPlayerRedesignExperiment:a.default.bool,trackingProperties:a.default.shape({channel:a.default.string.isRequired,channelId:a.default.number.isRequired,deviceId:a.default.string.isRequired,login:a.default.string.isRequired,platform:a.default.string.isRequired,playerType:a.default.string.isRequired})};(t.ExtensionFrame=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundGetDisplayState=e._getDisplayState.bind(e),e._boundOnFrameDoubleClick=e._onFrameDoubleClick.bind(e),e._boundOnIdentityLinked=e._onIdentityLinked.bind(e),e._boundOnModalRequested=e._onModalRequested.bind(e),e._boundOnShowBitsBalance=e._onShowBitsBalance.bind(e),e._boundOnShowUseBitsSuccess=e._onShowUseBitsSuccess.bind(e),e._boundIframeHostRefHandler=e._iframeHostRefHandler.bind(e),e._boundOnMinimize=e._onMinimize.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isLoggedIn,n=e.installation,r=e.isPlayerRedesignExperiment,i=n.extension,a=n.activationConfig,o=t?this.props.loginId:0;this.extensionFrame=new s.ExtensionFrame({anchor:a.anchor,channelId:this.props.trackingProperties.channelId,configuration:this.props.installation.configuration,dobbin:this.props.tracker,extension:i,features:{bits:!0,sharePubsub:!0},iframeClassName:this.props.iframeClass,installationAbilities:this.props.installation.abilities,getDisplayState:this._boundGetDisplayState,language:this.props.language,locale:this.props.locale,loginId:o,mode:s.ExtensionMode.Viewer,onBeginPurchase:this.props.onBeginPurchase,parentElement:this.parentElement,platform:s.ExtensionPlatform.Web,isPlayerRedesignExperiment:r,trackingProperties:{channel:this.props.trackingProperties.channel,device_id:this.props.trackingProperties.deviceId,login:this.props.trackingProperties.login,platform:this.props.trackingProperties.platform,player_type:this.props.trackingProperties.playerType}}),this.parentElement.addEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.on("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.on("requestModal",this._boundOnModalRequested),this.extensionFrame.on("showBitsBalance",this._boundOnShowBitsBalance),this.extensionFrame.on("showUseBitsSuccess",this._boundOnShowUseBitsSuccess),this.extensionFrame.on("minimize",this._boundOnMinimize)}},{key:"componentWillUnmount",value:function(){this.parentElement.removeEventListener("dblclick",this._boundOnFrameDoubleClick),this.extensionFrame.off("identityLinked",this._boundOnIdentityLinked),this.extensionFrame.off("requestModal",this._boundOnModalRequested),this.extensionFrame.off("showBitsBalance",this._boundOnShowBitsBalance),this.extensionFrame.off("showUseBitsSuccess",this._boundOnShowUseBitsSuccess),this.extensionFrame.off("minimize",this._boundOnMinimize),this.extensionFrame.destroy()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.installation.activationConfig,n=t.anchor,r=t.x,i=t.y,a=e.installation.activationConfig,o=a.x,s=a.y,u=this.props.installation.playerState.isHidden||!this.props.isVisible,c=e.installation.playerState.isHidden||!e.isVisible;n!==l.ExtensionAnchor.Component||r===o&&i===s||this.extensionFrame.setPosition({x:o,y:s}),c!==u&&this.extensionFrame.setVisible(!c)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.installation,r=t.isHighlighted,i=n.playerState.token.permissionsState===u.EXTENSION_PERMISSION_STATE_GRANTED,a=n.playerState.isUserIdentityLinked;a!==i&&(a?this.extensionFrame.linkIdentity():this.extensionFrame.unlinkIdentity()),r!==e.isHighlighted&&this.extensionFrame.setHighlighted(r)}},{key:"render",value:function(){var e,t=(0,o.default)((_(e={},h,!0),_(e,m,this.props.installation.playerState.isHidden),e));return i.default.createElement("div",{ref:this._boundIframeHostRefHandler,className:t})}},{key:"_onMinimize",value:function(){var e=this.props,t=e.installation;(0,e.onMinimize)(t.id)}},{key:"_onIdentityLinked",value:function(e){var t=this.props,n=t.installation,r=t.onIdentityLinked;r&&r(n.id,e)}},{key:"_onFrameDoubleClick",value:function(e){e.preventDefault(),this.props.onDoubleClick()}},{key:"_onModalRequested",value:function(e){this.props.onModalRequested(this.props.installation.activationConfig.slot,e)}},{key:"_onShowBitsBalance",value:function(){this.props.onModalNotification(d.EXTENSION_NOTIFICATION_TYPES.BITS_BALANCE)}},{key:"_onShowUseBitsSuccess",value:function(){this.props.onModalNotification(d.EXTENSION_NOTIFICATION_TYPES.BITS_BALANCE,{success:!0})}},{key:"_iframeHostRefHandler",value:function(e){this.parentElement=e}},{key:"_getDisplayState",value:function(){var e=this.props.installation,t=e.activationConfig,n=!e.playerState.isHidden&&this.props.isVisible;if(t.anchor===l.ExtensionAnchor.Component){var r={x:t.x,y:t.y};return{anchor:l.ExtensionAnchor.Component,isVisible:n,position:r}}return{anchor:l.ExtensionAnchor.Overlay,isVisible:n}}}]),t}()).propTypes=E},"8HDH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.CloseSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M16.414 15l5.293-5.293a1 1 0 0 0-1.414-1.414L15 13.586 9.707 8.293a1 1 0 1 0-1.414 1.414L13.586 15l-5.293 5.293a1 1 0 0 0 1.414 1.414L15 16.414l5.293 5.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L16.414 15z",fill:e.fill}))}).propTypes=l},"8PcY":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var a in e)t.hasOwnProperty(a)?i.length&&(r[a]=i,i=[]):i.push(a);var o=void 0,s={};for(var l in t){if(r.hasOwnProperty(l))for(o=0;o<r[l].length;o++){var u=r[l][o];s[r[l][o]]=n(u)}s[l]=n(l)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s};var r=n("q1tI")},"8Tv0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BalloonItems=t.HEADER_HEIGHT_PX=t.MINIMUM_BALLOON_HEIGHT_PX=t.BALLOON_ROW_HEIGHT_PX=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=u(n("GxwZ"));n("gZXI");var s=n("nNAs"),l=n("3Ypp");function u(e){return e&&e.__esModule?e:{default:e}}var c={currentTime:a.default.number.isRequired,header:a.default.string,markers:a.default.array.isRequired,onSubClick:a.default.func.isRequired,onVideoMarkerClick:a.default.func.isRequired,playerHeight:a.default.number.isRequired,trackEvent:a.default.func.isRequired},d=t.BALLOON_ROW_HEIGHT_PX=67,f=t.MINIMUM_BALLOON_HEIGHT_PX=2*d,p=t.HEADER_HEIGHT_PX=28,_=t.BalloonItems=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNavigateBackClick=n.onNavigateBackClick.bind(n),n.handleScrollbarRootRef=n.handleScrollbarRootRef.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.trackEvent("player_video_markers_balloon_load"),this.scrollbarRootRef&&(this.simplebarRef=new o.default(this.scrollbarRootRef))}},{key:"componentDidUpdate",value:function(){!this.simplebarRef&&this.scrollbarRootRef&&(this.simplebarRef=new o.default(this.scrollbarRootRef))}},{key:"componentWillUnmount",value:function(){this.scrollbarRootRef&&delete this.simplebarRef}},{key:"render",value:function(){var e=this,t=this.props.markers.reduce(function(e,t){return e&&t.parentMoment},!0);return i.default.createElement("div",{className:"video-markers-balloon__tail-wrapper",style:{height:m(this.props.playerHeight,this.props.markers.length)}},i.default.createElement("div",{className:"video-markers-balloon__tail"},i.default.createElement("div",{className:"video-markers-balloon__tail-symbol"})),i.default.createElement("div",{className:"video-markers-balloon__contents pl-flex pl-flex--column pl-flex--nowrap"},i.default.createElement(l.NavHeader,{header:this.props.header,showingChildren:t,onNavigateBackClick:this.onNavigateBackClick}),i.default.createElement("div",{className:"pl-flex pl-flex-column pl-flex--nowrap pl-flex--fullHeight video-markers-balloon-pl-relative"},i.default.createElement("div",{className:"video-markers-balloon__contents-scrollable-area",ref:this.handleScrollbarRootRef},i.default.createElement("div",{className:"video-markers-balloon__contents-scrollable-content"},i.default.createElement("div",{className:"video-markers-balloon__content-container pl-flex--fullHeight pl-pd-b-1"},this.props.markers.map(function(t,n,r){return i.default.createElement(s.BalloonItem,{key:t.label+"-"+t.offset+"-"+t.duration,active:h(t,r[n+1],e.props.currentTime),currentTime:e.props.currentTime,index:n,marker:t,trackEvent:e.props.trackEvent,onVideoMarkerClick:e.props.onVideoMarkerClick,onSubClick:e.props.onSubClick})})))))))}},{key:"onNavigateBackClick",value:function(){this.props.onSubClick(null)}},{key:"handleScrollbarRootRef",value:function(e){this.scrollbarRootRef=e}}]),t}(),h=function(e,t,n){return t?n>=e.offset&&n<t.offset:n>=e.offset},m=function(e,t){var n=e/2;return n>t*d&&(n=t*d),n<f&&(n=f),n+p+"px"};_.propTypes=c},"8U7r":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TIER_1_EVENTS=Object.freeze({VIDEO_PLAY:"video-play",MINUTE_WATCHED:"minute-watched",BUFFER_EMPTY:"buffer-empty",BUFFER_REFILL:"buffer-refill"}),t.VIDEO_PLAYBACK_ERROR="video_playback_error",t.N_SECOND_PLAY="n_second_play"},"8Y3c":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openModerationMenu=function(e){return{type:r,moderationType:e}};var r=t.ACTION_MODERATION_OPENED="moderation opened";t.CLIPS_MODERATION_REPORT_TYPE="report",t.CLIPS_MODERATION_DELETE_TYPE="delete",t.CLIPS_MODERATION_DELETE_ALL_TYPE="deleteAll"},"8d/D":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPerformanceMiddleware=function(){return function(e){return function(t){var n=0;return function(a){switch(a.type){case r.ACTION_VISIBILITY_CHANGE:if(a.hidden)n=e.getState().window.performance.now();else{var o=e.getState().window.performance.now();e.dispatch((0,i.updateTimeSpentHidden)(o-n))}}t(a)}}}};var r=n("Z4ex"),i=n("Yd1q")},"8jRI":function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function o(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="ï¿½";for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},"8prb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineRecommendationsOverlay=t.OfflineRecommendationsContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=n("N58E"),s=n("uNCh"),l=n("hj5q"),u=n("9Mp/"),c=n("VPTj");function d(e){return e&&e.__esModule?e:{default:e}}var f={recommendedVideos:a.default.array.isRequired,recommendationType:a.default.string.isRequired,lang:a.default.object.isRequired,windowObj:a.default.object.isRequired,showRecommendations:a.default.bool.isRequired,selectRecommendedVideo:a.default.func.isRequired,popScreen:a.default.func.isRequired,clearRecommendedVODs:a.default.func.isRequired,playerDimensions:a.default.shape({height:a.default.number,width:a.default.number}).isRequired,trackEvent:a.default.func.isRequired,streamHasPlayed:a.default.bool.isRequired},p=t.mapStateToProps=function(e){var t=e.lang,n=e.screen,r=e.recommendations,i=e.window,a=e.playerDimensions,o=e.analyticsTracker,l=e.playback;return{recommendedVideos:r.videos,recommendationType:r.type,windowObj:i,showRecommendations:n[0]===s.OFFLINE_RECOMMENDATIONS_SCREEN&&l.ended,playerDimensions:a,lang:t,trackEvent:o.trackEvent,streamHasPlayed:l.hasPlayed}},_=t.mapDispatchToProps=function(e){return{selectRecommendedVideo:function(t){e((0,c.selectRecommendedVideo)(t))},popScreen:function(){e((0,s.popScreen)())},clearRecommendedVODs:function(){e((0,u.clearRecommendedVODs)())}}},h=t.OfflineRecommendationsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.lang,r=e.windowObj,a=e.showRecommendations,o=e.playerDimensions,s=e.recommendationType,c=e.trackEvent,d=e.streamHasPlayed;if(t.length>0&&this._preloadVideoThumbnails(),!a||0===t.length)return null;switch(s){case u.OFFLINE_RECOMMENDATIONS_TYPE:return i.default.createElement(l.OfflineRecommendations,{videos:t,onSelectVOD:this.handleSelectVOD,windowObj:r,playerHeight:o.height,playerWidth:o.width,onExit:this.handleExitRecommendations,trackEvent:c,lang:n,streamWasOnline:d});default:return null}}},{key:"_preloadVideoThumbnails",value:function(){this.props.recommendedVideos.forEach(function(e){(new Image).src=e.thumbnailURL})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen(),this.props.clearRecommendedVODs()}}]),t}();h.propTypes=f;t.OfflineRecommendationsOverlay=(0,o.connect)(p,_)(h)},"9+6w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPlayerBackendType=function(e){return{type:r,playerBackendType:e}},t.usingWasmBackend=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:i,isWasm:e}};var r=t.ACTION_SET_PLAYER_BACKEND_TYPE="set player backend type",i=t.ACTION_USING_WASM_BACKEND="using wasm backend"},"9/en":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptionsProductsFetched=t.channelSubscriptionsFetched=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_ERROR=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_FINISHED=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_PENDING=t.ACTION_CHANNEL_PRIME_SUBSCRIBABLE_UPDATED=t.ACTION_CHANNEL_SUBSCRIBABLE_UPDATED=t.ACTION_CHANNEL_SUBSCRIPTION_UPDATED=t.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED=t.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED=void 0,t.fetchChannelSubscriptions=function(e,t){return function(n,i){return(0,r.getSubscriptionInfo)(e,t).then(function(){if(t===i().streamMetadata.channel.id)return n(f({isSubscribed:!0}))}).catch(function(){if(t===i().streamMetadata.channel.id)return n(f({isSubscribed:!1}))})}},t.fetchSubscriptionProducts=function(e){return function(t,n){return(0,r.getSubscriptionProducts)(e).then(function(){if(e===n().streamMetadata.channel.name)return t(p({isSubscribable:!0}))}).catch(function(){if(e===n().streamMetadata.channel.name)return t(p({isSubscribable:!1}))})}},t.fetchCanPrimeSubscribe=function(e){return function(t){return(0,r.canPrimeSubscribe)(e).then(function(e){return t(_(e.user&&e.user.self&&e.user.self.canPrimeSubscribe))}).catch(function(){return t(_(!1))})}},t.channelSubscribeUpdated=function(e){return{type:o,isSubscribed:e}},t.channelSubscribableUpdated=function(e){return{type:s,isSubscribable:e}},t.isPrimeSubscribableUpdated=_,t.primeSubscribePending=function(e){return{type:u,primeSubscribePending:e}},t.primeSubscribeFinished=function(e){return{type:c,primeSubscribeFinished:e}},t.primeSubscribeError=function(e){return{type:d,error:e}};var r=n("56nq"),i=t.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED="action channel subscriptions fetched",a=t.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED="action subscription products fetched",o=t.ACTION_CHANNEL_SUBSCRIPTION_UPDATED="action channel subscription updated",s=t.ACTION_CHANNEL_SUBSCRIBABLE_UPDATED="action channel subscribable updated",l=t.ACTION_CHANNEL_PRIME_SUBSCRIBABLE_UPDATED="action channel prime subscribable updated",u=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_PENDING="action channel prime subscribe pending",c=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_FINISHED="action channel prime subscribe finished",d=t.ACTION_CHANNEL_PRIME_SUBSCRIBE_ERROR="action channel prime subscribe error";var f=t.channelSubscriptionsFetched=function(e){return{type:i,subscriptions:e}},p=t.subscriptionsProductsFetched=function(e){return{type:a,subscriptions:e}};function _(e){return{type:l,isPrimeSubscribable:e}}},"9Mp/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OFFLINE_RECOMMENDATIONS_TYPE=t.POST_VOD_RECOMMENDATIONS_TYPE=t.CHANNEL_VODS=t.SIMILAR_VODS=t.MAX_JITTER_DELAY=t.TEN_PERCENT=t.FETCH_VODS_THRESHOLD=t.MINIMUM_WATCHED_LENGTH=t.MAX_RECOMMENDED_VODS_VISIBLE=t.FETCHED=t.FETCHING=t.UNFETCHED=t.ACTION_SET_FETCHING_STATUS=t.ACTION_SET_NUM_VODS_VISIBLE=t.ACTION_SET_RECOMMENDED_VODS_WATCHED=t.ACTION_CLEAR_RECOMMENDED_VODS=t.ACTION_SET_RECOMMENDED_VODS=void 0,t.fetchRecommendedVODs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T;return function(t,n){var r=n().streamMetadata.channel.name;if(n().recommendations.status!==p||""===r)return Promise.resolve();var o=Math.floor(Math.random()*v);return t({type:f,status:_}),new Promise(function(e){n().window.setTimeout(e,o)}).then(function(){return n().experiments.get(a.ExperimentIds.Pineapple)}).then(function(e){return"yes"===e?(t=n().stream.videoId,(0,i.krakenRequest)("videos/similar/"+t).then(function(e){var t=e.similar_videos;return 0===t.length?Promise.reject():t.map(function(e){return(0,s.default)(e,{recommendationType:y})})})):Promise.reject();var t}).catch(function(){return function(e,t){var n={limit:t,broadcast_type:"archive"};return(0,i.krakenRequest)("channels/"+e+"/videos?"+(0,l.stringify)(n)).then(function(e){var t=e.videos;return t.map(function(e){return(0,s.default)(e,{recommendationType:g})})})}(r,h+1)}).then(function(r){var i=n(),a=i.resumeWatch,o=i.streamMetadata,s=r.filter(function(e){return e.broadcast_id!==o.broadcastID}).sort(function(e,t){var n=S(e,a.times),r=S(t,a.times);return!n&&r?-1:n&&!r?1:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()}).map(b);t(A(s,e))})}},t.isWatched=S,t.setRecommendedVODs=A,t.clearRecommendedVODs=function(){return{type:c}},t.setVODVisibility=function(e){return{type:d,numVids:e}};var r,i=n("56nq"),a=n("Rnd+"),o=n("3OWR"),s=(r=o)&&r.__esModule?r:{default:r},l=n("ji7g");var u=t.ACTION_SET_RECOMMENDED_VODS="set VOD recommendations",c=t.ACTION_CLEAR_RECOMMENDED_VODS="clear VOD recommendations",d=(t.ACTION_SET_RECOMMENDED_VODS_WATCHED="set VOD recommendations watched",t.ACTION_SET_NUM_VODS_VISIBLE="set number of VOD recommendations visible"),f=t.ACTION_SET_FETCHING_STATUS="set fetching recommendations status",p=t.UNFETCHED="unfetched",_=t.FETCHING="fetching",h=(t.FETCHED="fetched",t.MAX_RECOMMENDED_VODS_VISIBLE=32),m=t.MINIMUM_WATCHED_LENGTH=300,E=(t.FETCH_VODS_THRESHOLD=12e3,t.TEN_PERCENT=.1),v=t.MAX_JITTER_DELAY=5e3,y=t.SIMILAR_VODS="similar",g=t.CHANNEL_VODS="channel",T=t.POST_VOD_RECOMMENDATIONS_TYPE="post vod recommendations";t.OFFLINE_RECOMMENDATIONS_TYPE="offline recommendations";function b(e){return{recommendationType:e.recommendationType,creationDate:e.created_at,thumbnailURL:e.thumbnails.length>0?e.thumbnails[0].url:"",title:e.title,channelName:e.channel.display_name,duration:e.length,id:e._id,game:e.game}}function S(e,t){if(!t.hasOwnProperty(e._id))return!1;var n=t[e._id];if(0===n)return!0;var r=Math.max(m,E*e.length);return e.length>m&&n>r}function A(e,t){return{type:u,recommendationsType:t,videos:e}}},"9Ppm":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWindow=function(e){return{type:r,window:e}};var r=t.ACTION_SET_WINDOW="set window"},"9kay":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),i=n.n(r),a=n("17x9"),o=n.n(a),s=n("2mql"),l=n.n(s),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.prototype.hasOwnProperty;function d(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p={wait:!1,withRef:!1,bindI18n:"languageChanged loaded",bindStore:"added removed",translateFuncName:"t",nsMode:"default",usePureComponent:!1,omitBoundRerender:!0},_=void 0;function h(e){p=f({},p,e)}function m(){return p}function E(e){_=e}function v(){return _}var y={type:"3rdParty",init:function(e){h(e.options.react),E(e)}},g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=!1,S=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.i18n=e.i18n||n.i18n||v(),r.namespaces=e.ns||r.i18n.options&&r.i18n.options.defaultNS,"string"==typeof r.namespaces&&(r.namespaces=[r.namespaces]);var i=r.i18n&&r.i18n.options&&r.i18n.options.react||{};r.options=g({},m(),i,e),e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.options.wait=!1),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r.i18n.options&&r.i18n.options.isInitialSSR&&(r.options.wait=!1);var a=r.i18n.languages&&r.i18n.languages[0],o=!!a&&r.namespaces.every(function(e){return r.i18n.hasResourceBundle(a,e)});return r.state={i18nLoadedAt:null,ready:o},r.t=r.getI18nTranslate(),r.onI18nChanged=r.onI18nChanged.bind(r),r.getI18nTranslate=r.getI18nTranslate.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),T(t,[{key:"getChildContext",value:function(){return{t:this.t,i18n:this.i18n}}},{key:"componentDidMount",value:function(){var e=this,t=function(){e.options.bindI18n&&e.i18n&&e.i18n.on(e.options.bindI18n,e.onI18nChanged),e.options.bindStore&&e.i18n.store&&e.i18n.store.on(e.options.bindStore,e.onI18nChanged)};this.mounted=!0,this.i18n.loadNamespaces(this.namespaces,function(){var n=function(){e.mounted&&!e.state.ready&&e.setState({ready:!0}),e.options.wait&&e.mounted&&t()};if(e.i18n.isInitialized)n();else{e.i18n.on("initialized",function t(){setTimeout(function(){e.i18n.off("initialized",t)},1e3),n()})}}),this.options.wait||t()}},{key:"componentWillUnmount",value:function(){var e=this;if(this.mounted=!1,this.onI18nChanged){if(this.options.bindI18n)this.options.bindI18n.split(" ").forEach(function(t){return e.i18n.off(t,e.onI18nChanged)});if(this.options.bindStore)this.options.bindStore.split(" ").forEach(function(t){return e.i18n.store&&e.i18n.store.off(t,e.onI18nChanged)})}}},{key:"onI18nChanged",value:function(){this.mounted&&(!this.state.ready&&this.options.omitBoundRerender||(this.t=this.getI18nTranslate(),this.setState({i18nLoadedAt:new Date})))}},{key:"getI18nTranslate",value:function(){return this.i18n.getFixedT(null,"fallback"===this.options.nsMode?this.namespaces:this.namespaces[0])}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.state.ready;return!n&&this.options.wait?null:(this.i18n.options&&this.i18n.options.isInitialSSR&&!b&&(b=!0,setTimeout(function(){delete e.i18n.options.isInitialSSR},100)),t(this.t,{i18n:this.i18n,t:this.t,ready:n}))}}]),t}(),A=S;S.contextTypes={i18n:o.a.object},S.childContextTypes={t:o.a.func.isRequired,i18n:o.a.object};var C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a,s=function(a){function o(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));i.i18n=n.i18n||t.i18n||r.i18n||v(),i.namespaces="function"==typeof e?e(n):e||r.defaultNS||i.i18n.options&&i.i18n.options.defaultNS,"string"==typeof i.namespaces&&(i.namespaces=[i.namespaces]);var a=i.i18n&&i.i18n.options&&i.i18n.options.react||{};return i.options=C({},m(),a,t),i.getWrappedInstance=i.getWrappedInstance.bind(i),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,r["Component"]),O(o,[{key:"shouldComponentUpdate",value:function(e){return!this.options.usePureComponent||!function(e,t){if(d(e,t))return!0;if("object"!==(void 0===e?"undefined":u(e))||null===e||"object"!==(void 0===t?"undefined":u(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!c.call(t,n[i])||!d(e[n[i]],t[n[i]]))return!1;return!0}(this.props,e)}},{key:"getWrappedInstance",value:function(){return this.options.withRef||console.error("To access the wrapped instance, you need to specify { withRef: true } as the second argument of the translate() call."),this.wrappedInstance}},{key:"render",value:function(){var e=this,t={};return this.options.withRef&&(t.ref=function(t){e.wrappedInstance=t}),i.a.createElement(A,C({ns:this.namespaces},this.options,this.props,{i18n:this.i18n}),function(r,a){var o=a.ready,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(a,["ready"]);return i.a.createElement(n,C({tReady:o},e.props,t,s))})}}]),o}();return s.WrappedComponent=n,s.contextTypes={i18n:o.a.object,defaultNS:o.a.string},s.displayName="Translate("+((a=n).displayName||a.name||"Component")+")",s.namespaces=e,l()(s,n)}}P.setDefaults=h,P.setI18n=E;var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var R=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n||n.i18n,r.t=e.t||n.t,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),I(t,[{key:"render",value:function(){var e=this,t=this.props.parent||"span",n=this.props.regexp||this.i18n.services.interpolator.regexp,r=this.props,a=r.className,o=r.style,s=this.props.useDangerouslySetInnerHTML||!1,l=this.props.dangerouslySetInnerHTMLPartElement||"span",u=N({},this.props.options,{interpolation:{prefix:"#$?",suffix:"?$#"}}),c=this.t(this.props.i18nKey,u);if(!c||"string"!=typeof c)return i.a.createElement("noscript",null);var d=[];c.split(n).reduce(function(t,n,r){var a=void 0;if(r%2==0){if(0===n.length)return t;a=s?i.a.createElement(l,{dangerouslySetInnerHTML:{__html:n}}):n}else a=function(t,n){if(t.indexOf(e.i18n.options.interpolation.formatSeparator)<0)return void 0===n[t]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+t+" for interpolating "+c),n[t];var r=t.split(e.i18n.options.interpolation.formatSeparator),i=r.shift().trim(),a=r.join(e.i18n.options.interpolation.formatSeparator).trim();return void 0===n[i]&&e.i18n.services.logger.warn("interpolator: missed to pass in variable "+i+" for interpolating "+c),e.i18n.options.interpolation.format(n[i],a,e.i18n.language)}(n,e.props);return t.push(a),t},d);var f={};if(this.i18n.options.react&&this.i18n.options.react.exposeNamespace){var p="string"==typeof this.t.ns?this.t.ns:this.t.ns[0];if(this.props.i18nKey&&this.i18n.options.nsSeparator&&this.props.i18nKey.indexOf(this.i18n.options.nsSeparator)>-1)p=this.props.i18nKey.split(this.i18n.options.nsSeparator)[0];this.t.ns&&(f["data-i18next-options"]=JSON.stringify({ns:p}))}return a&&(f.className=a),o&&(f.style=o),i.a.createElement.apply(this,[t,f].concat(d))}}]),t}();R.propTypes={className:o.a.string},R.defaultProps={className:""},R.contextTypes={i18n:o.a.object.isRequired,t:o.a.func.isRequired};var w=R,k=n("vM4K"),M=n.n(k),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function U(e){return e&&(e.children||e.props&&e.props.children)}function B(e){return e&&e.children?e.children:e.props&&e.props.children}function V(e,t,n){if(""===t)return[];if(!e)return[t];var r=function e(t,r){return"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),"[object Array]"!==Object.prototype.toString.call(r)&&(r=[r]),r.reduce(function(r,a,o){if("tag"===a.type){var s=t[parseInt(a.name,10)]||{},l=i.a.isValidElement(s);if("string"==typeof s)r.push(s);else if(U(s)){var u=e(B(s),a.children);s.dummy&&(s.children=u),r.push(i.a.cloneElement(s,D({},s.props,{key:o}),u))}else if("object"!==(void 0===s?"undefined":x(s))||l)r.push(s);else{var c=n.services.interpolator.interpolate(a.children[0].content,s,n.language);r.push(c)}}else"text"===a.type&&r.push(a.content);return r},[])}([{dummy:!0,children:e}],M.a.parse("<0>"+t+"</0>"));return B(r[0])}var j=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.a.Component),L(t,[{key:"render",value:function(){var e=D({i18n:this.context.i18n,t:this.context.t},this.props),t=e.children,n=e.count,r=e.parent,a=e.i18nKey,o=e.tOptions,s=e.values,l=e.defaults,u=e.components,c=e.ns,d=e.i18n,f=e.t,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","count","parent","i18nKey","tOptions","values","defaults","components","ns","i18n","t"]),_=f||d.t.bind(d),h=d.options&&d.options.react||{},m=void 0!==r?r:h.defaultTransParent,E=l||function e(t,n,r){return n?("[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),n.forEach(function(n,r){var a=""+r;if("string"==typeof n)t=""+t+n;else if(U(n))t=t+"<"+a+">"+e("",B(n),r+1)+"</"+a+">";else if(i.a.isValidElement(n))t=t+"<"+a+"></"+a+">";else if("object"===(void 0===n?"undefined":x(n))){var o=D({},n),s=o.format;delete o.format;var l=Object.keys(o);s&&1===l.length?t=t+"<"+a+">{{"+l[0]+", "+s+"}}</"+a+">":1===l.length?t=t+"<"+a+">{{"+l[0]+"}}</"+a+">":console&&console.warn&&console.warn("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",n)}else console&&console.warn&&console.warn("react-i18next: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",n)}),t):""}("",t),v=h.hashTransKey,y=a||(v?v(E):E),g=y?_(y,D({},o,s,s?{}:{interpolation:{prefix:"#$?",suffix:"?$#"}},{defaultValue:E,count:n,ns:c})):E;if(h.exposeNamespace){var T="string"==typeof _.ns?_.ns:_.ns[0];if(a&&d.options&&d.options.nsSeparator&&a.indexOf(d.options.nsSeparator)>-1)T=a.split(d.options.nsSeparator)[0];_.ns&&(p["data-i18next-options"]=JSON.stringify({ns:T}))}return m?i.a.createElement(m,p,V(u||t,g,d)):V(u||t,g,d)}}]),t}(),q=j;j.propTypes={count:o.a.number,parent:o.a.oneOfType([o.a.node,o.a.func]),i18nKey:o.a.string,i18n:o.a.object,t:o.a.func},j.contextTypes={i18n:o.a.object,t:o.a.func};var F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var H=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.i18n=e.i18n,r.defaultNS=e.defaultNS,e.initialI18nStore&&(r.i18n.services.resourceStore.data=e.initialI18nStore,r.i18n.options.isInitialSSR=!0),e.initialLanguage&&r.i18n.changeLanguage(e.initialLanguage),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["Component"]),F(t,[{key:"getChildContext",value:function(){return{i18n:this.i18n,defaultNS:this.defaultNS}}},{key:"componentWillReceiveProps",value:function(e){if(this.props.i18n!==e.i18n)throw new Error("[react-i18next][I18nextProvider]does not support changing the i18n object.")}},{key:"render",value:function(){var e=this.props.children;return r.Children.only(e)}}]),t}();H.propTypes={i18n:o.a.object.isRequired,children:o.a.element.isRequired,defaultNS:o.a.string},H.childContextTypes={i18n:o.a.object.isRequired,defaultNS:o.a.string},H.defaultProps={defaultNS:void 0};var Y=H,G=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K=Object.entries||function(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r};function Q(e){var t=[];return function(e,t){for(var n=0,r=e.length;n<r;n++)if("object"===W(e[n])){var i=!0,a=!1,o=void 0;try{for(var s,l=K(e[n])[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=G(s.value,2),c=u[0];t(u[1],n,c)}}catch(e){a=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(a)throw o}}}else t(e[n],n)}(e,function(e){e&&e.namespaces&&e.namespaces.forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}),t}function z(e){var t=e.components,n=e.i18n,r=Q(t);return new Promise(function(e){n.loadNamespaces(r,e)})}n.d(t,"translate",function(){return P}),n.d(t,"I18n",function(){return A}),n.d(t,"Interpolate",function(){return w}),n.d(t,"Trans",function(){return q}),n.d(t,"I18nextProvider",function(){return Y}),n.d(t,"loadNamespaces",function(){return z}),n.d(t,"reactI18nextModule",function(){return y}),n.d(t,"setDefaults",function(){return h}),n.d(t,"getDefaults",function(){return m}),n.d(t,"setI18n",function(){return E}),n.d(t,"getI18n",function(){return v})},"9ruY":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseModalSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.CloseModalSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M16.414 15l5.293-5.293a1 1 0 0 0-1.414-1.414L15 13.586 9.707 8.293a1 1 0 1 0-1.414 1.414L13.586 15l-5.293 5.293a1 1 0 0 0 1.414 1.414L15 16.414l5.293 5.293a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414L16.414 15z",fill:e.fill}))}).propTypes=l},A5Hy:function(e,t,n){"use strict";var r,i,a,o,s,l;n.d(t,"a",function(){return l}),function(e){e.False="false",e.True="true",e.Page="page",e.Step="step",e.Location="location",e.Date="date",e.Time="time"}(r||(r={})),function(e){e.False="false",e.True="true",e.Menu="menu",e.ListBox="listbox",e.Tree="tree",e.Grid="grid",e.Dialog="dialog"}(i||(i={})),function(e){e.False="false",e.True="true",e.Spelling="spelling",e.Grammar="grammar"}(a||(a={})),function(e){e.Off="off",e.Assertive="assertive",e.Polite="polite"}(o||(o={})),function(e){e.All="all",e.Additions="additions",e.AdditionsText="additions text",e.Removals="removals",e.Text="text"}(s||(s={})),function(e){e.Alert="alert",e.AlertDialog="alertdialog",e.Application="application",e.Article="article",e.Banner="banner",e.Button="button",e.Cell="cell",e.CheckBox="checkbox",e.ColumnHeader="columnheader",e.ComboBox="combobox",e.Complementary="complementary",e.Contentinfo="contentinfo",e.Definition="definition",e.Dialog="dialog",e.Directory="directory",e.Document="document",e.Feed="feed",e.Figure="figure",e.Form="form",e.Grid="grid",e.GridCell="gridcell",e.Group="group",e.Heading="heading",e.Img="img",e.Link="link",e.List="list",e.ListBox="listbox",e.ListItem="listitem",e.Log="log",e.Main="main",e.Marquee="marquee",e.Math="math",e.Menu="menu",e.Menubar="menubar",e.MenuItem="menuitem",e.MenuItemCheckBox="menuitemcheckbox",e.MenuItemRadio="menuitemradio",e.Navigation="navigation",e.None="none",e.Note="note",e.Option="option",e.Presentation="presentation",e.ProgressBar="progressbar",e.Radio="radio",e.RadioGroup="radiogroup",e.Region="region",e.Row="row",e.RowGroup="rowgroup",e.RowHeader="rowheader",e.ScrollBar="scrollbar",e.Search="search",e.SearchBox="searchbox",e.Separator="separator",e.Slider="slider",e.SpinButton="spinbutton",e.Status="status",e.Switch="switch",e.Tab="tab",e.Table="table",e.TabList="tablist",e.TabPanel="tabpanel",e.Term="term",e.TextBox="textbox",e.Timer="timer",e.ToolBar="toolbar",e.Tooltip="tooltip",e.Tree="tree",e.TreeGrid="treegrid",e.TreeItem="treeitem"}(l||(l={}))},"A6+3":function(e,t,n){},A8Fc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setClipsTracker=function(e){return{type:r,tracker:e}},t.trackClipsAppReadyEvent=function(){return{type:a}},t.trackClipsVideoStartedEvent=function(){return{type:i}};var r=t.ACTION_SET_CLIPS_TRACKER="set clips tracker",i=t.ACTION_CLIPS_TRACK_VIDEO_START_EVENT="track clips video started event",a=t.ACTION_CLIPS_TRACK_APP_READY_EVENT="track clips app ready event"},AUgO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_METADATA_TIMEOUT=t.SESSION_ID=t.CHANNEL_LOUDNESS=t.HAS_VIEWER_MANUALLY_ADJUSTED_AD_VOLUME=t.LAST_MOUNT_TIME=t.LAST_MOUNT_CHANNEL=t.LAST_MOUNT_SESSION_ID=t.LAST_UNMOUNT_PLAYER_PRE_IMPRESSION_VOLUME=t.LAST_UNMOUNT_CHANNEL_LOUDNESS=t.LAST_UNMOUNT_TIME=t.LAST_UNMOUNT_CHANNEL=t.LAST_UNMOUNT_SESSION_ID=t.VIEWERS_NOT_SET=t.ACTION_SET_STREAM_LOUDNESS=t.ACTION_UPDATE_TAGS=t.ACTION_UPDATE_STREAMMETADATA=t.ACTION_SET_STREAMMETADATA=void 0,t.setVODStreamMetadata=I,t.setStreamLoudness=function(e){return{type:E,streamLoudness:e}},t.setLiveStreamMetadata=R,t.updateLiveStreamMetadata=function(e){var t=e.gameName,n=e.title;return{type:h,streamMetadata:{gameName:t,title:n}}},t.fetchTagsFromIds=function(e){return function(t){(0,r.contentTags)(e).then(function(e){var n=e.contentTags;n&&t(w(n))})}},t.updateLiveStreamTags=w,t.setLiveStreamMetadataTags=k,t.updateBroadcastID=function(e){return{type:_,streamMetadata:{broadcastID:e}}},t.fetchCurrentBroadcastMetadata=function(){return function(e,t){var n=t().window,i=t().stream.channel,a=t().streamMetadata.broadcastID;return new Promise(function(s,l){!function n(i,a,u,c){if(a!==t().stream.channel||u!==t().streamMetadata.broadcastID||i>=N.length)return void l();(0,r.streamInfo)(a).then(function(t){t.stream&&t.stream._id===u?(e((0,o.updateViewerCount)(t.stream.viewers)),e(R(t.stream)),s(t)):c.setTimeout(function(){return n(i+1,a,u,c)},N[i])})}(0,i,a,n)})}},t.setLiveStreamLocalStorage=M,t.fetchAndSetStreamMetadata=function(e){return function(t,n){if(e.contentType===i.CONTENT_MODE_LIVE){(0,r.streamInfo)(e.channel).then(function(i){if(i.stream){var a=(0,l.default)(i,"stream.channel.name");M(a),t(R(i.stream))}else(0,r.channelInfo)(e.channel).then(function(r){var i=n().stream;void 0!==i&&i.channel===e.channel&&t({type:_,streamMetadata:x(r)})})}),r.channelStreamInfo.cache.delete(e.channel),(0,r.channelStreamInfo)(e.channel).then(function(r){var i=n().stream;void 0!==i&&i.channel===e.channel&&t({type:_,streamMetadata:L(r)})});var o=n();o.env.playerType!==c.PLAYER_SITE&&(0,r.channelTagsInfo)(e.channel).then(function(e){e.channel&&e.channel.stream&&t(k(e.channel.stream.tags))}),(0,r.channelViewerInfo)(e.channel).then(function(e){t((0,d.setChannelAdInfo)(e))})}else e.contentType===a.CONTENT_MODE_VOD&&(0,r.videoInfo)(e.videoId).then(function(e){t(I(e)),(0,r.channelViewerInfo)(e.channel.name).then(function(e){t((0,d.setChannelAdInfo)(e))})})}},t.fetchDeadLtvStreamMetadata=function(e){return function(t,n){(0,r.channelInfo)(e).then(function(e){t({type:_,streamMetadata:(0,s.default)({},x(e),{streamType:"dead_ltv"})})})}},t.setClipStreamMetadata=function(e){return{type:_,streamMetadata:(0,s.default)({},U(e))}},t.setEditClipStreamMetadata=function(e){return{type:_,streamMetadata:(0,s.default)({},(t=e,{duration:t.duration,slug:t.slug}))};var t};var r=n("56nq"),i=n("wsSb"),a=n("VIow"),o=n("k2Rd"),s=p(n("3OWR")),l=p(n("mwIZ")),u=p(n("TP7S")),c=n("uC+K"),d=n("QBeZ"),f=n("EoNM");function p(e){return e&&e.__esModule?e:{default:e}}var _=t.ACTION_SET_STREAMMETADATA="set streammetadata",h=t.ACTION_UPDATE_STREAMMETADATA="update streammetadata",m=t.ACTION_UPDATE_TAGS="update tags",E=t.ACTION_SET_STREAM_LOUDNESS="set stream loudness",v=t.VIEWERS_NOT_SET=0,y=t.LAST_UNMOUNT_SESSION_ID="lastUnmountSessionId",g=t.LAST_UNMOUNT_CHANNEL="lastUnmountChannel",T=t.LAST_UNMOUNT_TIME="lastUnmountTime",b=t.LAST_UNMOUNT_CHANNEL_LOUDNESS="lastUnmountChannelLoudness",S=(t.LAST_UNMOUNT_PLAYER_PRE_IMPRESSION_VOLUME="lastUnmountPlayerPreImpressionVolume",t.LAST_MOUNT_SESSION_ID="lastMountSessionId"),A=t.LAST_MOUNT_CHANNEL="lastMountChannel",C=t.LAST_MOUNT_TIME="lastMountTime",O=(t.HAS_VIEWER_MANUALLY_ADJUSTED_AD_VOLUME="hasViewerManuallyAdjustedAdVolume",t.CHANNEL_LOUDNESS="channelLoudness"),P=t.SESSION_ID="session_storage_unique_id",N=t.FETCH_METADATA_TIMEOUT=[15e3,3e4,6e4,12e4,3e5,6e5];function I(e){return{type:_,streamMetadata:D(e)}}function R(e){return{type:_,streamMetadata:(t=e,{broadcastID:t._id,type:"live",streamType:t.stream_type,name:"",channel:{displayName:t.channel.display_name,name:t.channel.name,id:t.channel._id,partner:t.channel.partner,status:t.channel.status,videoBanner:t.channel.video_banner,logo:t.channel.logo,mature:t.channel.mature},createdAt:t.created_at,game:t.game,preview:{template:t.preview.template},url:t.channel.url,viewers:t.viewers})};var t}function w(e){return{type:m,tags:e}}function k(e){return{type:_,streamMetadata:{tags:e}}}function M(e){var t=Date.now(),n=f.sessionStore.get(P),r=f.sessionStore.get(O),i=f.localStore.get(S),a=f.localStore.get(A),o=n!==i,s=!o&&e===a,l=!o&&e!==a,c=l&&(0,u.default)(r),d=l&&!(0,u.default)(r);o||s||c?(f.localStore.set(C,t),f.localStore.set(S,n),f.localStore.set(A,e)):d&&(f.localStore.set(T,t),f.localStore.set(y,i),f.localStore.set(g,a),f.localStore.set(C,t),f.localStore.set(S,n),f.localStore.set(A,e),f.localStore.set(b,r),f.sessionStore.remove(O))}function L(e){return{isEncrypted:!!(0,l.default)(e,"channel.stream.isEncrypted",!1),restrictionType:(0,l.default)(e,"channel.channel.restriction.type",""),restrictionOptions:(0,l.default)(e,"channel.channel.restriction.options",[]),previewUrl:(0,l.default)(e,"channel.stream.previewImageURL","")}}function D(e){return{broadcastID:e.broadcast_id,type:e.broadcast_type,name:e.title,channel:{displayName:e.channel.display_name,name:e.channel.name,id:e.channel._id,partner:e.channel.partner,status:e.status,videoBanner:e.channel.video_banner,logo:e.channel.logo,mature:e.channel.mature},createdAt:e.created_at,game:e.game,preview:{template:e.preview.template},url:e.url,viewers:v}}function x(e){return{channel:{displayName:e.display_name,name:e.name,id:e._id,partner:e.partner,status:e.status,videoBanner:e.video_banner,logo:e.logo,mature:e.mature},game:e.game,url:e.url}}function U(e){var t={id:e.tracking_id,channel:{channelUrl:e.broadcaster.channel_url,displayName:e.broadcaster.display_name,name:e.broadcaster.name,id:e.broadcaster.id,logo:e.broadcaster.logo},curator:{channelUrl:e.curator.channel_url,displayName:e.curator.display_name,name:e.curator.name,id:e.curator.id,logo:e.curator.logo},game:e.game,url:e.url,title:e.title,thumbnails:e.thumbnails,createdAt:e.created_at,duration:e.duration,embedHtml:e.embed_html,embedUrl:e.embed_url,language:e.language,slug:e.slug,viewCount:e.views,clipHasVod:!1,segments:e.segments},n={};return e.vod&&(n.clipVideoId=e.vod.id,n.clipVideoOffset=e.vod.offset,n.clipVideoPreviewImageUrl=e.vod.preview_image_url,n.clipHasVod=!0),(0,s.default)(t,n)}},AUsz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IMAManager=t.AD_BITRATE_MIN=t.AD_BITRATE_MAX=t.DFP_SPADE_SERVER=t.IMA_PROVIDER=t.VAES_AD_SERVER=t.DFP_AD_SERVER=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("7Eji"),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("TRt3")),s=n("qT8i"),l=n("fy/h"),u=n("7hht"),c=n("puQj"),d=(r=c)&&r.__esModule?r:{default:r},f=n("KR5+"),p=n("pB4y"),_=n("y6uH");function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.DFP_AD_SERVER="DFP",t.VAES_AD_SERVER="VAES";var m=t.IMA_PROVIDER="ima",E=t.DFP_SPADE_SERVER="dfp",v=[{width:300,height:250},{width:300,height:60}],y=t.AD_BITRATE_MAX=3e3,g=t.AD_BITRATE_MIN=500,T=(t.IMAManager=function(){function e(t,n,r,i){var a=this,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};h(this,e),this._videoContainer=t,this._backend=n,this._hooks=i,this._store=r,this._unsubs=[],this._paused=!1,this._contentPauseRequested=!1,this._currentAdsManager=b,this._imaLoaded=_.imaLoaded.then(function(){var e=a._store.getState(),t=e.window,n=e.env;a._aaxManager=new l.AAXManager(l.AAX_TWITCH_PUBLISHER_ID,l.AAX_VIDEO_AD_SERVER,a._store,u),t.google&&n.platform!==f.PLATFORM_MOBILE_WEB&&(a._unsubs.push((0,s.subscribe)(a._store,["playerDimensions"],a._resizeAd.bind(a))),a._configureVpaidMode(),a.initializeAdDisplayContainer(),a._setupAdsLoader())}).catch(function(e){return r.getState().analyticsTracker.trackEvent(o.AD_REQUEST_ERROR,{reason:"ima load failed"}),Promise.reject(e)})}return i(e,[{key:"loadSDK",value:function(){var e=this._store.getState().window;(0,_.loadIMA)(e)}},{key:"initializeAdDisplayContainer",value:function(){var e=this._store.getState().window,t=e.google;t&&(this._adContainer=e.document.createElement("div"),this._adContainer.classList.add("js-ima-ads-container","ima-ads-container"),this._videoContainer.appendChild(this._adContainer),this._adDisplayContainer=new t.ima.AdDisplayContainer(this._adContainer,this._videoContainer.querySelector("video, object")),this._adDisplayContainer.initialize())}},{key:"destroy",value:function(){this._adsLoader.destroy(),this._adDisplayContainer.destroy(),this._aaxManager.destroy(),this._unsubs.forEach(function(e){return e()})}},{key:"requestAds",value:function(e){var t=this;return this._imaLoaded.then(function(){return t._currentAdsManager.getRemainingTime()>0?Promise.resolve():t._isCreativeIdSet(e)?t._requestAdsInternalWithCreativeId(e):t._requestAdsInternal(e)})}},{key:"pause",value:function(){this._paused=!0,this._currentAdsManager.pause()}},{key:"play",value:function(){this._paused=!1,this._currentAdsManager.resume()}},{key:"stop",value:function(){this._paused=!1,this._currentAdsManager&&(this._currentAdsManager.destroy(),this._currentAdsManager=b)}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){var t=this._store.getState().playback;this._currentAdsManager.setVolume(e?0:t.volume)}},{key:"_setupAdsLoader",value:function(){var e=this,t=this._store.getState().window.google;this._adsLoader=new t.ima.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(t.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)}),this._adsLoader.addEventListener(t.ima.AdErrorEvent.Type.AD_ERROR,function(t){return e._onAdError(t)})}},{key:"_onAdsManagerLoaded",value:function(e){var t=this,n=this._store.getState().window.google,r=e.getUserRequestContext();this._hooks.trackAdRequestResponse({context:r,adServer:E,provider:m}),this._currentAdsManager=e.getAdsManager(new T(this._backend),this._getAdRenderSettings()),this._currentAdsManager.addEventListener(n.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t._onAdError(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.RESUMED,function(){return t._hooks.onAdResumed()}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.PAUSED,function(){return t._hooks.onAdPaused()}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(){return t._onContentPauseRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(){return t._hooks.onContentResumeRequested(r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.LOADED,function(e){return t._onAdLoaded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.STARTED,function(e){return t._onAdStarted(e)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.AD_PROGRESS,function(e){return t._onAdProgress(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.FIRST_QUARTILE,function(e){return t._onAdFirstQuartile(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.MIDPOINT,function(e){return t._onAdMidpoint(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.THIRD_QUARTILE,function(e){return t._onAdThirdQuartile(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.IMPRESSION,function(e){return t._onAdImpression(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.COMPLETE,function(e){return t._onAdEnded(e,r)}),this._currentAdsManager.addEventListener(n.ima.AdEvent.Type.SKIPPED,function(e){return t._onAdSkipped(e,r)}),this._currentAdsManager.init(this._videoContainer.offsetParent.offsetWidth,this._videoContainer.offsetParent.offsetHeight,n.ima.ViewMode.NORMAL),this._currentAdsManager.start()}},{key:"_onContentPauseRequested",value:function(e){var t=this._store.getState(),n=t.playback,r=t.ads;(0,p.isAdPlaying)({ads:r})||(this._currentAdsManager.setVolume(n.muted?0:n.volume),this._hooks.onContentPauseRequested(e))}},{key:"_onAdError",value:function(e){var t=e.getError(),n=e.getUserRequestContext()||{adSessionId:null,adType:null,duration:null};this._hooks.onAdError({adRequestContext:n}),this._hooks.trackAdError({context:n,provider:m,adServer:E,reason:t.getMessage(),errorCode:t.getErrorCode(),errorType:t.getType()}),this._isCreativeIdSet(n)&&console.error("Error playing creative "+n.creativeId+": "+t.getMessage()),this._currentAdsManager.destroy(),this._currentAdsManager=b}},{key:"_onAdLoaded",value:function(e,t){var n=this._store.getState().playback,r=e.getAd().g;this._currentAdsManager.setVolume(n.muted?0:n.volume),this._hooks.trackAdLoaded({context:t,provider:m,adServer:E,ad:r,adContainer:this._adContainer,adsManager:this._currentAdsManager})}},{key:"_onAdStarted",value:function(e){var t=this._retrieveCompanionAd(e);this._hooks.onCompanionAdRendered({provider:m,companionAd:t}),this._hooks.onAdStarted()}},{key:"_onAdProgress",value:function(e,t){var n=this._currentAdsManager.getRemainingTime(),r=this._store.getState().ads.details;this._hooks.trackAdTimeElapsed({context:t,timeElapsed:r.duration-n,provider:m,adServer:E,ad:r}),this._hooks.onAdProgress({remainingAdTime:n})}},{key:"_onAdFirstQuartile",value:function(e,t){this._hooks.trackAdQuartile({context:t,provider:m,adServer:E,ad:e.getAd().g,quartile:1})}},{key:"_onAdMidpoint",value:function(e,t){this._hooks.trackAdQuartile({context:t,provider:m,adServer:E,ad:e.getAd().g,quartile:2})}},{key:"_onAdThirdQuartile",value:function(e,t){this._hooks.trackAdQuartile({context:t,provider:m,adServer:E,ad:e.getAd().g,quartile:3})}},{key:"_retrieveCompanionAd",value:function(e){var t=e.getAd();return v.reduce(function(e,n){var r=t.getCompanionAds(n.width,n.height)[0];return r&&(r={content:r.getContent(),height:r.getHeight(),width:r.getWidth(),isEmpty:!1}),e||r||null},null)}},{key:"_onAdImpression",value:function(e,t){var n=e.getAd();this._hooks.onAdImpression({adRequestContext:t,ad:n.g,provider:m,adServer:E})}},{key:"_onAdEnded",value:function(e,t){var n=e.getAd();this._hooks.onAdEnded({adRequestContext:t,provider:m,adServer:E,ad:n.g})}},{key:"_onAdSkipped",value:function(e,t){var n=e.getAd();this._hooks.trackAdSkipped({context:t,provider:m,adServer:E,ad:n.g}),this._hooks.onAdSkipped()}},{key:"_resizeAd",value:function(e){var t=e.playerDimensions,n=this._store.getState().window.google;this._currentAdsManager.resize(t.width,t.height,n.ima.ViewMode.NORMAL)}},{key:"_getNewAdsRequest",value:function(){var e=this._store.getState().window.google,t=this._videoContainer.offsetParent,n=new e.ima.AdsRequest,r=this._store.getState().playback;return n.setAdWillAutoPlay(r.autoplay),n.setAdWillPlayMuted(r.muted),n.linearAdSlotWidth=t.offsetWidth,n.linearAdSlotHeight=t.offsetHeight,n.nonLinearAdSlotWidth=t.offsetWidth,n.nonLinearAdSlotHeight=t.offsetHeight,n}},{key:"_requestAdsInternal",value:function(e){var t=this,n=e;return this._hooks.trackAdRequested({context:n,provider:m,adServer:E}),this._requestAaxBids(n).then(function(e){n=t._aaxManager.getAdRequestContextWithAmazonBids(e,n);var r=t._getNewAdsRequest();r.adTagUrl=(0,a.buildDFPIMATags)(n),t._adsLoader.requestAds(r,n)}).catch(function(e){t._hooks.trackAdRequestError({context:n,provider:m,adServer:E,reason:e.message})})}},{key:"_requestAdsInternalWithCreativeId",value:function(e){var t=this;return this._getVastXmlResponse(e).then(function(n){var r=t._getNewAdsRequest();r.adTagUrl="",r.adsResponse=n,t._adsLoader.requestAds(r,e)}).catch(function(n){return console.error("Error requesting creative="+e.creativeId,n.message),t._requestAdsInternal(e)})}},{key:"_requestAaxBids",value:function(e){var t=this;return this._aaxManager.fetchBids(e).catch(function(n){t._hooks.trackErrorEvent({context:e,provider:m,adServer:E,eventName:o.AAX_AD_AUCTION_ERROR,reason:n.message})})}},{key:"_getVastXmlResponse",value:function(e){return(new u.DfpCreativeService).getVastXmlResponse(e.creativeId)}},{key:"_isCreativeIdSet",value:function(e){var t=e.creativeId;return t&&t>0}},{key:"_getTargetAdBitrate",value:function(e){var t=.8*e;return t>=y?y:t<g?g:t}},{key:"_getAdRenderSettings",value:function(){var e=this._store.getState().window.google,t=this._backend.getStats().playbackRate,n=new e.ima.AdsRenderingSettings;return n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.mimeTypes=["video/mp4","application/javascript"],t&&(n.bitrate=this._getTargetAdBitrate(t)),n}},{key:"_configureVpaidMode",value:function(){var e=this._store.getState().window.google;d.default.msedge?e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.DISABLED):e.ima.settings.setVpaidMode(e.ima.ImaSdkSettings.VpaidMode.INSECURE)}},{key:"paused",get:function(){return this._paused}},{key:"sdk",get:function(){return"html5"}}]),e}(),function(){function e(t){h(this,e),this._backend=t}return i(e,[{key:"currentTime",get:function(){return this._backend.getCurrentTime()}},{key:"duration",get:function(){return this._backend.getDuration()}}]),e}()),b=new(function(){function e(){h(this,e)}return i(e,[{key:"init",value:function(){}},{key:"destroy",value:function(){}},{key:"start",value:function(){}},{key:"resize",value:function(){}},{key:"pause",value:function(){}},{key:"resume",value:function(){}},{key:"setVolume",value:function(){}},{key:"addEventListener",value:function(){}},{key:"getRemainingTime",value:function(){return-1}}]),e}())},Aa1x:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NETWORK_EMPTY=0,t.NETWORK_IDLE=1,t.NETWORK_LOADING=2,t.NETWORK_NO_SOURCE=3},AaQW:function(e,t,n){},"B/WF":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosePopupButton=o;var r=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}var a={close:i(n("17x9")).default.func.isRequired};function o(e){var t=e.close;return r.default.createElement("button",{className:"close-popup-button__button","data-test-close-popup-button-close":!0,onClick:t},r.default.createElement("figure",{className:"close-popup-button__close-icon"},r.default.createElement("svg",{width:"16px",height:"16px",version:"1.1",viewBox:"0 0 16 16",x:"0px",y:"0px"},r.default.createElement("path",{d:"\n                            M8 6.586L3.757 2.343 2.343 3.757 6.586\n                            8l-4.243 4.243 1.414 1.414L8 9.414l4.243 4.243\n                            1.414-1.414L9.414\n                            8l4.243-4.243-1.414-1.414\n                        "}))))}o.propTypes=a},B11N:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionFollowModal=t.ExtensionFollowModalComponent=t.EXTENSION_FOLLOW_REQUEST_TYPE=t.MODAL_NOTIFICATION_TOGGLE=t.MODAL_BUTTON_CANCEL=t.MODAL_BUTTON_CONFIRM=t.MODAL_TITLE_CHANNEL=t.MODAL_TITLE_HEADER=void 0;var r,i,a,o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=h(n("q1tI")),u=h(n("17x9")),c=h(n("TSYQ")),d=n("9kay"),f=n("1fV9"),p=n("yrU0"),_=n("GX/C");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=t.MODAL_TITLE_HEADER="qa-follow-modal-title-header",v=t.MODAL_TITLE_CHANNEL="qa-follow-modal-title-channel",y=t.MODAL_BUTTON_CONFIRM="qa-follow-modal-button-confirm",g=t.MODAL_BUTTON_CANCEL="qa-follow-modal-button-cancel",T=t.MODAL_NOTIFICATION_TOGGLE="qa-notification-toggle",b=(0,c.default)({"pl-menu__inner":!0,"extension-modal__inner":!0}),S=(0,c.default)({"pl-menu__section":!0,"extension-modal__header":!0}),A=(0,c.default)((m(r={},E,!0),m(r,"pl-menu__item",!0),m(r,"extension-modal__title",!0),r)),C=(0,c.default)((m(i={},v,!0),m(i,"pl-menu__item--label",!0),m(i,"extension-modal__title-channel",!0),i)),O=(0,c.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),P=(0,c.default)({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),N=(0,c.default)((m(a={},y,!0),m(a,"pl-button",!0),m(a,"extension-modal__button",!0),a)),I=(0,c.default)((m(o={},g,!0),m(o,"pl-button",!0),m(o,"pl-button--hollow",!0),m(o,"extension-modal__button",!0),o)),R=(0,c.default)({"pl-close-button":!0,"extension-modal__close-button":!0}),w=t.EXTENSION_FOLLOW_REQUEST_TYPE=u.default.shape({channel:u.default.string.isRequired,isFollowing:u.default.bool.isRequired}),k={t:u.default.func.isRequired,options:w.isRequired,onClose:u.default.func.isRequired},M=t.ExtensionFollowModalComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={notifications:!1},e.confirmFollow=e._confirmFollow.bind(e),e.cancelFollow=e._cancelFollow.bind(e),e.onNotificationToggle=e._onNotificationToggle.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:b},this._renderHeader(),l.default.createElement("div",{className:O},this._renderButtons()),this._renderNotificationToggle())}},{key:"_renderHeader",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=void 0;r=t?n?"You are already following {{channelName}}":"You are about to follow {{channelName}}":"The channel you are attempting to follow does not exist";var i=void 0;if(t){var a=l.default.createElement("span",{className:C},t);i=l.default.createElement(d.Interpolate,{i18nKey:r,channelName:a})}else i=l.default.createElement("div",{className:"extension-modal__title-info"},this.props.t(r));return l.default.createElement("div",{className:S},l.default.createElement("div",{className:"extension-modal__header-row"},l.default.createElement("div",{className:A},i),l.default.createElement(f.Button,{className:R,onClick:this.cancelFollow},l.default.createElement(_.CrossSVG,{className:"pl-close-button__svg",id:"pl-icon_close"}))))}},{key:"_renderButtons",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing;return!t||n?l.default.createElement(f.Button,{className:I,onClick:this.cancelFollow},this.props.t("Close")):[l.default.createElement(f.Button,{key:"confirm",className:N,onClick:this.confirmFollow},this.props.t("Follow")),l.default.createElement(f.Button,{key:"cancel",className:I,onClick:this.cancelFollow},this.props.t("Cancel"))]}},{key:"_renderNotificationToggle",value:function(){var e=this.props.options,t=e.channel,n=e.isFollowing,r=this.state.notifications;return!t||n?null:l.default.createElement("div",{className:O},l.default.createElement(p.Toggle,{className:T,label:"Notifications",onToggle:this.onNotificationToggle,toggledOn:r}),l.default.createElement("div",{className:P},this.props.t("Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.")))}},{key:"_confirmFollow",value:function(){this.props.onClose({didFollow:!0,notifications:this.state.notifications})}},{key:"_cancelFollow",value:function(){this.props.onClose({didFollow:!1,notifications:!1})}},{key:"_onNotificationToggle",value:function(){this.setState({notifications:!this.state.notifications})}}]),t}();M.propTypes=k;t.ExtensionFollowModal=(0,d.translate)()(M)},B9JN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userLoggedIn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r,userInfo:e}},t.userNotLoggedIn=function(){return{type:i}};var r=t.ACTION_USER_LOGGED_IN="user logged in",i=t.ACTION_USER_NOT_LOGGED_IN="user not logged in"},BGUH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrackingLocation=void 0;var r=n("uC+K"),i=n("SaYp");t.getTrackingLocation=function(e){switch(e){case r.PLAYER_CLIPS_WATCH:return i.TRACKING_MEDIUM_WATCH;case r.PLAYER_CLIPS_EMBED:return i.TRACKING_MEDIUM_EMBED;case r.PLAYER_CLIPS_VIEWING:default:return i.TRACKING_LOCATION_CLIPS}}},BMy9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheatreModeSocialPanelComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N0h1"),s=n("rrx+"),l=f(n("TSYQ")),u=n("SXV3"),c=n("Rnd+"),d=n("56nq");function f(e){return e&&e.__esModule?e:{default:e}}var p={channelId:a.default.number,channelName:a.default.string,channelSubscriptionsFetched:a.default.func.isRequired,emitFollowChannel:a.default.func.isRequired,emitUnfollowChannel:a.default.func.isRequired,emitSubscribeChannel:a.default.func.isRequired,followInfoFetched:a.default.func.isRequired,isEnded:a.default.bool.isRequired,isRerun:a.default.bool.isRequired,isTheatre:a.default.bool.isRequired,subscriptionsProductsFetched:a.default.func.isRequired,videoId:a.default.string,userId:a.default.number};(t.TheatreModeSocialPanelComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={gqlErrors:!1},e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribeChannel=e.handleSubscribeChannel.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleFollowChannel",value:function(){this.props.emitFollowChannel()}},{key:"handleUnfollowChannel",value:function(){this.props.emitUnfollowChannel()}},{key:"handleSubscribeChannel",value:function(){this.props.emitSubscribeChannel()}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,a=this;t=this.props.userId,n=this.props.channelName,r=e.userId,i=e.channelName,void 0===t||void 0===n||""===n||0===t||t===r&&n===i||(0,d.fetchFollowsAndSubscriptions)(this.props.channelName).then(function(e){var t=e.user,n=t.subscriptionProducts,r=t.self;if(n&&r&&(a.props.subscriptionsProductsFetched(n&&n.length>0),a.props.channelSubscriptionsFetched(null!==r.subscriptionBenefit),r.follower)){var i=!!r.follower.followedAt,o=r.follower.notificationSettings&&r.follower.notificationSettings.isEnabled;a.props.followInfoFetched(i,o)}}).catch(function(){a.setState({gqlErrors:!0})})}},{key:"render",value:function(){var e=!!this.props.channelId,t=!!this.props.userId,n=t&&this.props.channelId===this.props.userId,r=null!==this.props.videoId,a=(0,l.default)({"player-social-panel":!0,"player-social-panel-videos":r,"player-social-panel-rerun":this.props.isRerun});return!this.state.gqlErrors&&!r&&this.props.isTheatre&&t&&e&&!n&&!this.props.isEnded&&i.default.createElement(u.Experiment,{uuid:c.ExperimentIds.TheatreModeSocialPanel,renderValue:"variant_a"},i.default.createElement("div",{className:a},i.default.createElement(o.FollowButton,{blurAfterClick:!0,onFollowChannel:this.props.emitFollowChannel,onUnfollowChannel:this.props.emitUnfollowChannel,hideChannelName:!0,hideUnfollowText:!0}),i.default.createElement(s.SubscribeButton,{onSubscribe:this.props.emitSubscribeChannel,canGiftSub:!0,hideChannelName:!0})))}}]),t}()).propTypes=p},Bb3z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.NullEventEmitter=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"emit",value:function(e){console.error("Attempted to emit "+e+" on NullEventEmitter")}}]),e}()},BlMj:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TextStylePalette=void 0,t.TextStylePaletteComponent=_;var i=u(n("q1tI")),a=u(n("17x9")),o=n("9kay"),s=u(n("TSYQ")),l=u(n("3WF5"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=Object.freeze((c(r={},"bold",{text:"B",enabledPropName:"boldText",styleMapName:"fontBold"}),c(r,"italic",{text:"I",enabledPropName:"italicText",styleMapName:"fontItalic"}),c(r,"underline",{text:"U",enabledPropName:"underlineText",styleMapName:"fontUnderline"}),r)),f={boldText:a.default.bool.isRequired,italicText:a.default.bool.isRequired,underlineText:a.default.bool.isRequired,selectTextStyle:a.default.func.isRequired,t:a.default.func.isRequired};var p=function(e){return function(t){"Enter"===t.key&&e()}};function _(e){var t=e.t,n=e.selectTextStyle,r=(0,l.default)(d,function(t,r){var a=t.text,o=t.enabledPropName,l=t.styleMapName;function u(){var t=e[o]?"none":r;n(l,t)}var f=p(u),_=function(e,t){var n;return d[e]&&void 0!==t?(0,s.default)((c(n={"pl-cc-button":!0,"cc-style-palette__square":!0},"cc-style-palette__square--"+e,!0),c(n,"pl-cc-button--selected",t),n)):"cc-style-palette__square"}(r,e[o]);return i.default.createElement("div",{className:"cc-style-palette__container",key:"text-style-palette."+r},i.default.createElement("div",{role:"button",tabIndex:-1,htmlFor:"style-"+r,className:_,onClick:u,onKeyUp:f},a))});return i.default.createElement("div",{className:"cc-customize-field"},i.default.createElement("div",null,t("Style")),i.default.createElement("div",{className:"cc-style-palette"},r))}_.propTypes=f;t.TextStylePalette=(0,o.translate)()(_)},Bmgm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailPreviews=c;var r=s(n("q1tI")),i=s(n("17x9")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("FxCM")),o=n("Nf5G");function s(e){return e&&e.__esModule?e:{default:e}}var l=148,u={hideThumbnailPreview:i.default.bool,duration:i.default.number,previews:i.default.object,mouseMoveClientX:i.default.number,seekbarLeftOffset:i.default.number,seekbarWidth:i.default.number};function c(e){var t=e.hideThumbnailPreview,n=e.duration,i=e.seekbarWidth,s=e.seekbarLeftOffset,u=e.previews,c=e.mouseMoveClientX-s,d=function(e,t,n){var r=Math.floor(e.count*(t/n)),i=r%(e.hq.cols*e.hq.rows),o=l/e.hq.width;return{thumbOver:{url:e.hq.URLs[Math.floor(r/(e.hq.cols*e.hq.rows))],height:e.hq.height*o,width:e.hq.width*o,sheetWidth:e.hq.width*e.hq.cols*o,x:i%e.hq.cols*e.hq.width*o,y:Math.floor(i/e.hq.cols)*e.hq.height*o},thumbUnder:{url:e.lq.URLs[0],height:e.hq.height*o,width:e.hq.width*o,sheetWidth:e.hq.width*e.lq.cols*o,x:r%e.lq.cols*e.hq.width*o,y:Math.floor(r/e.lq.cols)*e.hq.height*o},title:"",info:"",timestamp:a.toString(t,!1),width:l}}(u,n*(c/i),n);return r.default.createElement(o.SeekbarPopup,{popupLeftOffset:c,popupObject:d,popupWidth:l,seekbarWidth:i,hideThumbnailPreview:t})}c.propTypes=u,c.defaultProps={duration:0,seekbarLeftOffset:0,seekbarWidth:0}},BnOB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SCREEN_MODE=void 0,t.screenMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_SET_FULLSCREEN:return(0,a.default)({},e,{isFullScreen:t.isFullScreen});case o.ACTION_TOGGLE_FULLSCREEN:return e.canFullScreen?(0,a.default)({},e,{isFullScreen:!e.isFullScreen}):e;case o.ACTION_SET_CAN_FULLSCREEN:return(0,a.default)({},e,{canFullScreen:t.canFullScreen});case s.ACTION_SET_PROVIDED_OPTIONS:return(0,a.default)({},e,{canTheatreMode:t.playerOptions.showtheatre});case o.ACTION_SET_THEATRE_MODE:return(0,a.default)({},e,{isTheatreMode:t.isTheatreMode});case o.ACTION_TOGGLE_THEATRE_MODE:return e.canTheatreMode?(0,a.default)({},e,{isTheatreMode:!e.isTheatreMode}):e;default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("KE4D"),s=n("sqLg");var l=t.DEFAULT_SCREEN_MODE=Object.freeze({isFullScreen:!1,canFullScreen:!1,canTheatreMode:!1,isTheatreMode:!1})},C1iI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountessTracker=i;var r=n("ji7g");function i(e){this._host=e.host}i.prototype._trackEvent=function(e){(new Image).src=e},i.prototype.trackVODView=function(e){this._trackEvent(e.increment_view_count_url)},i.prototype.trackView=function(e,t){var n={type:e,id:t},i={u:JSON.stringify(n)},a=this._host+"/ping.gif?"+(0,r.stringify)(i);this._trackEvent(a)}},C9w8:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]);function i(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++){var a=n[i];r.has(a)&&(t[a]=e[a])}return t}},CEto:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundPanel=t.mapDispatchToProps=t.mapStateToProps=t.BACKGROUND=void 0,t.BackgroundPanelContainer=f;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("rSwD"),s=n("wTxB");function l(e){return e&&e.__esModule?e:{default:e}}t.BACKGROUND="Background";var u={selectColor:i.default.func.isRequired,selectOpacity:i.default.func.isRequired,currentColor:i.default.string.isRequired,currentOpacity:i.default.string.isRequired},c=t.mapStateToProps=function(e){var t=e.captions;return{currentColor:t.style.backgroundColorName,currentOpacity:t.style.backgroundOpacity}},d=t.mapDispatchToProps=function(e){return{selectColor:function(t){e((0,o.setCaptionsPreset)("custom",{backgroundColorName:t}))},selectOpacity:function(t){e((0,o.setCaptionsPreset)("custom",{backgroundOpacity:t}))}}};function f(e){var t=e.currentColor,n=e.selectColor,i=e.selectOpacity,a=e.currentOpacity;return r.default.createElement(s.BGandWindowPanel,{currentColor:t,currentOpacity:a,selectColor:n,selectOpacity:i})}f.propTypes=u;t.BackgroundPanel=(0,a.connect)(c,d)(f)},CFhT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PREVIOUS_PLAYSESSION=void 0,t.previousPlaySession=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.ACTION_SET_PREVIOUS_PLAYSESSIONID:return{previousPlaySessionId:t.previous};default:return e}};var r=n("D3OJ"),i=t.DEFAULT_PREVIOUS_PLAYSESSION={previousPlaySessionId:""}},CJqN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingOverlay=t.LoadingOverlayContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N58E"),s=n("Vdts"),l=n("uNCh"),u=n("uC+K"),c=n("XU6G"),d=n("4b1H");function f(e){return e&&e.__esModule?e:{default:e}}var p={isCasting:a.default.bool.isRequired,isPaused:a.default.bool.isRequired,isLoading:a.default.bool.isRequired,isAdvertisementScreen:a.default.bool.isRequired,hasPlayed:a.default.bool.isRequired,playStream:a.default.func,windowObj:a.default.object.isRequired},_=t.mapStateToProps=function(e){var t=e.chromecast,n=e.playback,r=e.screen,i=e.env,a=e.window;return{isCasting:t.castingState===c.CONNECTED||t.castingState===c.CONNECTING,isPaused:n.paused,isLoading:n.isLoading,hasPlayed:n.hasPlayed,isClipsEditingPlayer:i.playerType===u.PLAYER_CLIPS_EDITING,isAdvertisementScreen:r[0]===l.ADVERTISEMENT_SCREEN,windowObj:a}},h=t.mapDispatchToProps=function(e){return{playStream:function(){e((0,d.play)())}}},m=t.LoadingOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isUserOffline:!1,wasPausedOnOffline:!1,showLoadingIndicator:!1},e._onOfflineEvent=e._onOfflineEvent.bind(e),e._onOnlineEvent=e._onOnlineEvent.bind(e),e.showLoadingTimerId=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("offline",this._onOfflineEvent),this.props.windowObj.addEventListener("online",this._onOnlineEvent),this._updateShowLoading(this.props)}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("offline",this._onOfflineEvent),this.props.windowObj.removeEventListener("online",this._onOnlineEvent)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this._updateShowLoading(e)}},{key:"_onOfflineEvent",value:function(){this.setState({isUserOffline:!0,wasPausedOnOffline:this.props.isPaused})}},{key:"_onOnlineEvent",value:function(){this.state.wasPausedOnOffline||this.props.playStream(),this.setState({isUserOffline:!1,wasPausedOnOffline:!1})}},{key:"_updateShowLoading",value:function(e){var t=this,n=e.windowObj,r=e.isLoading,i=e.isPaused,a=e.isCasting,o=e.isAdvertisementScreen,s=e.hasPlayed,l=e.isClipsEditingPlayer;r&&!i&&!a&&!o||l&&!s?this.showLoadingTimerId||(this.showLoadingTimerId=n.setTimeout(function(){t.showLoadingTimerId=null,t.setState({showLoadingIndicator:!0})},150)):(this.showLoadingTimerId&&(clearTimeout(this.showLoadingTimerId),this.showLoadingTimerId=null),this.state.showLoadingIndicator&&this.setState({showLoadingIndicator:!1}))}},{key:"render",value:function(){return this.state.showLoadingIndicator?i.default.createElement(s.LoadingOverlay,{shouldShowOfflineOverlay:this.state.isUserOffline}):null}}]),t}();m.propTypes=p,m.defaultProps={playStream:function(){}};t.LoadingOverlay=(0,o.connect)(_,h)(m)},CM3j:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_TRACKING_CLIENTS=t.ACTION_RESET_PLAY_SESSION=t.ACTION_RESET_QUALITY_CHANGE_COUNT=t.ACTION_INCREMENT_QUALITY_CHANGE_COUNT=t.ACTION_INCREMENT_VIDEO_PLAY_COUNT=void 0,t.incrementVideoPlayCount=function(){return{type:i}},t.incrementQualityChangeCount=function(){return{type:a}},t.resetQualityChangeCount=function(){return{type:o}},t.resetPlaySession=function(){return{type:s,playSessionId:(0,r.generate)(),playSessionStartTime:Date.now()}},t.setTrackingClients=function(e){return{type:l,clients:e}};var r=n("uXPQ"),i=t.ACTION_INCREMENT_VIDEO_PLAY_COUNT="increment video play count",a=t.ACTION_INCREMENT_QUALITY_CHANGE_COUNT="increment quality change count",o=t.ACTION_RESET_QUALITY_CHANGE_COUNT="reset quality change count",s=t.ACTION_RESET_PLAY_SESSION="reset play session",l=t.ACTION_SET_TRACKING_CLIENTS="set new tracking clients"},CPEd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAccessToken=l,t.fetchVideoAccessToken=function(e,t,n){return l(s.apiHost+"/api/vods/"+e.substring(1)+"/access_token",t,n)},t.fetchChannelAccessToken=function(e,t,n){return l(s.apiHost+"/api/channels/"+e.toLowerCase()+"/access_token",t,n)};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("ji7g"),s=n("J0qE");function l(e,t,n){var r=(0,a.default)({},n,{oauth_token:t});return fetch(e+"?"+(0,o.stringify)(r),{credentials:"include",headers:{"Client-ID":"jzkbprff40iqj646a697cyrvl0zt2m6"}}).then(function(e){return e.ok?e.json():Promise.reject(new Error(e.statusText))})}},CUeK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Seekbar=t.SeekbarComponent=t.ANIMATION_SKIP_THRESHOLD=t.classNames=t.mapDispatchToProps=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=S(n("q1tI")),o=S(n("17x9")),s=S(n("puQj")),l=S(n("i8i4")),u=S(n("ijCd")),c=n("N58E"),d=n("HMmG"),f=n("XsBk"),p=n("H/LY"),_=n("f0FL"),h=n("iSDK"),m=n("VPTj"),E=n("4b1H"),v=n("Bmgm"),y=n("TaTA"),g=n("7fgZ"),T=n("uC+K"),b=n("uNCh");function S(e){return e&&e.__esModule?e:{default:e}}var A={buffer:o.default.shape({start:o.default.number,end:o.default.number}),currentTime:o.default.number,duration:o.default.number,getCurrentTime:o.default.func,isSeekableStream:o.default.bool.isRequired,isShowingAds:o.default.bool.isRequired,mutedSegments:o.default.arrayOf(o.default.shape({duration:o.default.number,offset:o.default.number})),seek:o.default.func.isRequired,thumbnailPreviews:o.default.object,isClipsPlayerType:o.default.bool.isRequired,windowObj:o.default.object,trackEvent:o.default.func.isRequired},C=t.mapDispatchToProps=function(e){return{seek:function(t){e((0,E.seek)(t)),e((0,m.setLoading)(!0))}}},O=t.classNames={slider:"player-slider js-player-slider",sliderLeft:"player-slider__left",sliderThumb:"player-slider__thumb"},P=(t.ANIMATION_SKIP_THRESHOLD=.05,t.SeekbarComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,mouseMoveClientX:0,mouseMoveOnSeekbar:!1,hideThumbnailPreview:!1},e.$seekbar=null,e.handleDragStart=e.handleDragStart.bind(e),e.handleDragStop=e.handleDragStop.bind(e),e.handleClick=e.handleClick.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.seekbarRefHandler=e.seekbarRefHandler.bind(e),e.seekToPosition=e.seekToPosition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"render",value:function(){var e=this.props,t=e.currentTime,n=e.duration,i=e.isSeekableStream,o=e.isShowingAds,s=e.isClipsPlayerType;if(!i||o)return null;var l=this.createSliderComponent(),u={currentTime:t,duration:n};return a.default.createElement("div",{className:"player-seek"},s?a.default.createElement(_.EditingSeekbarTimeDisplay,r({key:"editing-seekbar-time-display-"+n},u)):a.default.createElement(p.SeekbarTimeDisplay,r({key:"seekbar-time-display-"+n},u)),l)}},{key:"createSliderComponent",value:function(){var e=this.state,t=e.isDragging,n=e.mouseMoveOnSeekbar,r=this.props,i=r.buffer,o=r.duration,s=r.getCurrentTime,l=r.mutedSegments,u=r.windowObj,c=t?null:a.default.createElement(f.SeekbarBuffer,{key:"seekbar-buffer-"+o,start:i.start,end:i.end,max:o,min:0}),p=a.default.createElement(d.MutedSegments,{key:"muted-segments-"+o,duration:o,mutedSegments:l}),_=null;return n&&o>0&&(_=this.createSeekbarPreviews()),a.default.createElement(h.Slider,{classNames:O,max:o,min:0,onClick:this.handleClick,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut,ref:this.seekbarRefHandler,dragHandlers:{onStart:this.handleDragStart,onStop:this.handleDragStop},windowObj:u,getOptimizedValue:s,valueOptimizationEnabled:!0,behindSliderChildren:c,afterSliderChildren:[p,_]})}},{key:"getSeekbarDimensions",value:function(){var e=0,t=0;if(this.$seekbar){var n=this.$seekbar.getBoundingClientRect();e=n.width,t=n.left}return{seekbarWidth:e,seekbarLeftOffset:t}}},{key:"createSeekbarPreviews",value:function(){var e=this.state.mouseMoveClientX,t=this.props,n=t.duration,r=t.thumbnailPreviews,i=t.isClipsPlayerType,o=this.getSeekbarDimensions(),l=o.seekbarWidth,u=o.seekbarLeftOffset,c=s.default.msedge||s.default.msie;return r.count>0&&!c?a.default.createElement(v.ThumbnailPreviews,{key:"thumbnail-previews-"+n,hideThumbnailPreview:this.state.hideThumbnailPreview,duration:n,previews:r,mouseMoveClientX:e,seekbarLeftOffset:u,seekbarWidth:l}):a.default.createElement(y.TimestampPreview,{key:"timestamp-previews-"+n,duration:n,mouseMoveClientX:e,seekbarLeftOffset:u,seekbarWidth:l,shouldCleanString:i})}},{key:"seekbarRefHandler",value:function(e){this.$seekbar=l.default.findDOMNode(e)}},{key:"handleClick",value:function(e){this.state.isDragging&&this.seekToPosition(e)}},{key:"handleMouseMove",value:function(e){this.setState({mouseMoveOnSeekbar:!0,mouseMoveClientX:e.clientX})}},{key:"handleMouseOut",value:function(){var e=this;this.setState({hideThumbnailPreview:!0});setTimeout(function(){e.state.hideThumbnailPreview&&e.setState({mouseMoveOnSeekbar:!1,mouseMoveClientX:0,hideThumbnailPreview:!1})},750)}},{key:"handleDragStart",value:function(){this.setState({isDragging:!0})}},{key:"handleDragStop",value:function(e){this.setState({isDragging:!1}),this.seekToPosition(e)}},{key:"seekToPosition",value:function(e){this.props.seek(e),this.props.trackEvent("player_click_vod_seek")}}]),t}());P.propTypes=A;t.Seekbar=(0,c.connect)(function(e){var t=e.env,n=e.playback,r=e.screen,i=e.stream,a=e.timelineMetadata,o=e.window,s=e.analyticsTracker;return{buffer:n.buffer,currentTime:n.currentTime,duration:n.duration,isSeekableStream:(0,u.default)(g.SEEKABLE_TYPES,i.contentType),isShowingAds:r[0]===b.ADVERTISEMENT_SCREEN,mutedSegments:a.mutedSegments,thumbnailPreviews:a.previews,windowObj:o,trackEvent:s.trackEvent,isClipsPlayerType:(0,u.default)(T.CLIPS_PLAYER_TYPES,t.playerType)}},C)(P)},CeWH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_MANIFEST_INFO=void 0,t.setManifestInfo=function(e){return{type:o,info:s(e)}};var r,i=n("uM7l"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ACTION_SET_MANIFEST_INFO="set manifest info";function s(e){var t=(0,a.default)(e);return t.abs="true"===t.abs,t.suppress="true"===t.suppress,t.broadcast_id=parseInt(t.broadcast_id,10),t.future="true"===t.future,t}},ChFm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsNotificationContainer=t.ExtensionsNotificationComponent=void 0;var r,i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r},o=n("N58E"),s=n("hm9X"),l=n("R/6P");var u={notification:s.EXTENSION_NOTIFICATION_TYPE},c=t.ExtensionsNotificationComponent=function(e){return e.notification?a.default.createElement(l.ExtensionsNotification,{notification:e.notification}):null};c.propTypes=u;t.ExtensionsNotificationContainer=(0,o.connect)(function(e){return{notification:e.extensions.notification}})(c)},ChRQ:function(e,t){String.prototype.startsWith||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t={}.toString,n=function(e){if(null==this)throw TypeError();var n=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var r=n.length,i=String(e),a=i.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var l=Math.min(Math.max(s,0),r);if(a+l>r)return!1;for(var u=-1;++u<a;)if(n.charCodeAt(l+u)!=i.charCodeAt(u))return!1;return!0};e?e(String.prototype,"startsWith",{value:n,configurable:!0,writable:!0}):String.prototype.startsWith=n}()},CtjF:function(e,t,n){},CzhY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SquadStreamPanelContainer=t.SquadStreamPanel=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=n("N58E"),s=n("RIlF"),l=n("2GWp"),u=n("uC+K");function c(e){return e&&e.__esModule?e:{default:e}}var d={avatarURL:a.default.string,channelId:a.default.number.isRequired,playerType:a.default.string.isRequired,userId:a.default.number.isRequired,emitFollowChannel:a.default.func.isRequired,emitUnfollowChannel:a.default.func.isRequired,emitSubscribeChannel:a.default.func.isRequired},f=t.mapStateToProps=function(e){return{avatarURL:e.streamMetadata.channel.logo,channelId:e.streamMetadata.channel.id,playerType:e.env.playerType,userId:e.user.id}},p=t.mapDispatchToProps=function(e){return{emitFollowChannel:function(){e((0,l.emitFollowChannel)())},emitUnfollowChannel:function(){e((0,l.emitUnfollowChannel)())},emitSubscribeChannel:function(){e((0,l.emitSubscribeChannel)())}}},_=t.SquadStreamPanel=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribeChannel=e.handleSubscribeChannel.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleFollowChannel",value:function(){this.props.emitFollowChannel()}},{key:"handleUnfollowChannel",value:function(){this.props.emitUnfollowChannel()}},{key:"handleSubscribeChannel",value:function(){this.props.emitSubscribeChannel()}},{key:"render",value:function(){var e=this.props.playerType===u.PLAYER_SQUAD_PRIMARY||this.props.playerType===u.PLAYER_SQUAD_SECONDARY,t=this.props.channelId,n=this.props.userId&&this.props.channelId===this.props.userId;return e&&t&&!n?i.default.createElement(s.SquadStreamFollowPanel,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribeChannel:this.handleSubscribeChannel}):null}}]),t}();_.propTypes=d;t.SquadStreamPanelContainer=(0,o.connect)(f,p)(_)},D0BC:function(e,t,n){var r=n("vlbB"),i=n("mv/X"),a=n("ZCgT"),o=parseFloat,s=Math.min,l=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=a(e),void 0===t?(t=e,e=0):t=a(t)),e>t){var u=e;e=t,t=u}if(n||e%1||t%1){var c=l();return s(e+c*(t-e+o("1e-"+((c+"").length-1))),t)}return r(e,t)}},D3OJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_PREVIOUS_PLAYSESSIONID=t.TYPE_VIDEO_SOURCE=t.TYPE_CLIP_EDIT=t.TYPE_CLIP=t.TYPE_PROVIDED=t.TYPE_VIDEO=t.TYPE_CHANNEL=t.ACTION_SET_STREAM=void 0,t.setStream=function(e){return function(t,n){var h=n().analytics.playSessionId;n().stream instanceof i.LiveTwitchContentStream&&t(w(h)),t((0,f.resetPlaySession)());var R=n(),k=R.analytics,M=R.window;switch(k.videoPlayCount>=1&&t((0,v.playerSetBaseMilestone)("web_ttv_base",M.performance.now())),e.contentType){case O:return function(e,t,n){var r=e.customerId,i=e.contentId,a=n(),s=a.playback,l=a.usher;t((0,m.trackEvent)(d.VIDEO_PLAY_LOAD_START,{autoplay:s.autoplay,customer_id:r,content_id:i}));var u=new o.ProvidedContentStream({contentId:i,customerId:r,usherHostOverride:l.hostOverride});t({type:S,stream:u})}(e,t,n);case P:return function(e,t,n){var i=e.contentId,a=n(),o=a.playback,l=a.analyticsTracker;t((0,m.trackEvent)(d.VIDEO_PLAY_LOAD_START,{autoplay:o.autoplay}));var u=""+y.clipsAPIHost+i+"/status";return n().experiments.get(r.ExperimentIds.VodClipsWinterIsHere).then(function(e){var n=void 0,r=void 0;return"on"===e?(n=(0,T.getClipStatus)(i).then(function(e){return(0,T.normalizeGQLQualityData)(e.clip)}),r=T.incrementClipViewCountGQL):(n=fetch(u).then(function(e){return e.json()}),r=T.incrementClipViewCount),n.then(function(e){var n=(0,c.krakenRequestv5)("clips/"+i);l.setProperties(n.then(function(e){return{channel:e.broadcaster.name,channel_id:e.broadcaster.id,game:e.game,vod_id:e.tracking_id,content_mode:s.CONTENT_MODE_CLIP,vod_type:b.TRACKING_VOD_TYPE,live:!1}})),t((0,E.setClipQualities)(e.quality_options));var a=new s.ClipContentStream(i);return t({type:S,stream:a}),n.then(function(e){t((0,_.setClipStreamMetadata)(e)),r(i)})})})}(e,t,n);case N:return function(e,t,n){var i=e.contentId,a=e.contentSourceUrl,o=e.duration,s=e.slug,u=n().playback;t((0,m.trackEvent)(d.VIDEO_PLAY_LOAD_START,{autoplay:u.autoplay}));t((0,E.setClipQualities)([{quality:E.CLIPS_EDITING_STREAM_QUALITY,source:a,frame_rate:30}])),t({type:S,stream:new l.ClipEditingContentStream(i,a)}),t((0,E.selectQuality)(E.CLIPS_EDITING_STREAM_QUALITY+"p30")),t((0,_.setEditClipStreamMetadata)({contentId:i,duration:o,slug:s})),n().experiments.get(r.ExperimentIds.VodClipsWinterIsHere).then(function(e){"on"===e?(0,T.incrementClipViewCountGQL)(i):(0,T.incrementClipViewCount)(i)})}(e,t,n);case I:return function(e,t,n){var r=e.contentId,i=n().playback;t((0,m.trackEvent)(d.VIDEO_PLAY_LOAD_START,{autoplay:i.autoplay}));var a=new u.VideoSourceContentStream(r);t({type:S,stream:a})}(e,t,n);case A:case C:return function(e,t,n){var o=e.contentType,s=e.contentId,l=n(),u=l.accessToken,f=l.analytics,h=l.experiments,E=l.playback,y=l.usher,T=l.window,b=o===A?function(e){return String(e).replace(/[^A-Za-z0-9_]/g,"")}(s):null,O=o===C?(P=s,String(P).replace(/[^A-Za-z0-9_]/g,"")):null;var P;t((0,m.trackEvent)(d.VIDEO_PLAY_LOAD_START,{autoplay:E.autoplay,channel:b,vod_id:O}));var N=(0,c.oauthToken)().then(function(e){return e},function(){return null}).then(function(e){return t((0,m.trackEvent)(d.VIDEO_PLAY_OAUTH,{time_since_load_start:Date.now()-f.playSessionStartTime})),e}),I={reassignmentsSupported:h.get(r.ExperimentIds.VideoEdgeReassignment)},R=void 0;o===A?R=new i.LiveTwitchContentStream(b,N,y.params,u.params,I):o===C&&(R=new a.VODTwitchContentStream(O,N,y.params,u.params,I));t((0,v.performanceTimedMilestoneReached)(v.WEB_NAUTH_REQUEST_SENT,T.performance.now())),R.accessToken.then(function(){t((0,m.trackEvent)(d.VIDEO_PLAY_NAUTH,{time_since_load_start:Date.now()-f.playSessionStartTime})),t((0,v.performanceTimedMilestoneReached)(v.WEB_NAUTH_REQUEST_RECEIVED,T.performance.now()))}).catch(function(e){console.warn("Access token failed:",e)}),t({type:S,stream:R}),t((0,_.fetchAndSetStreamMetadata)(R));var w=n().env.playerType,k=n().multiview.parentChannelLogin,M=w===g.PLAYER_MULTIVIEW_PRIMARY&&k?k:R.channel;t((0,p.fetchExtensionInstallations)(M)),t((0,p.subscribeToExtensionControl)(M))}(e,t,n)}}},t.setPreviousPlaySessionId=w,t.clearStream=function(){return{type:S,stream:h.nullContentStream}};var r=n("Rnd+"),i=n("wsSb"),a=n("VIow"),o=n("wSP4"),s=n("nqwM"),l=n("hURu"),u=n("s4z8"),c=n("56nq"),d=n("aacC"),f=n("CM3j"),p=n("wy0h"),_=n("AUgO"),h=n("jC1Q"),m=n("YWLq"),E=n("OyQT"),v=n("Yd1q"),y=n("J0qE"),g=n("uC+K"),T=n("j0G+"),b=n("d4Wk"),S=t.ACTION_SET_STREAM="set stream",A=t.TYPE_CHANNEL="channel",C=t.TYPE_VIDEO="video",O=t.TYPE_PROVIDED="provided",P=t.TYPE_CLIP="clip",N=t.TYPE_CLIP_EDIT="clip edit",I=t.TYPE_VIDEO_SOURCE="video-source",R=t.ACTION_SET_PREVIOUS_PLAYSESSIONID="set previous playSessionId";function w(e){return{type:R,previous:e}}},D7px:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamStatus=t.StreamStatusComponent=t.mapStateToProps=void 0;var r=m(n("q1tI")),i=m(n("17x9")),a=n("N58E"),o=n("qHst"),s=n("wsSb"),l=n("uNCh"),u=n("uAxA"),c=n("R8B7"),d=n("6R4w"),f=n("nS/Q"),p=n("pya5"),_=m(n("TSYQ")),h=n("uC+K");function m(e){return e&&e.__esModule?e:{default:e}}var E={streamType:i.default.string,i18n:i.default.object.isRequired,isOnline:i.default.bool,inCollection:i.default.bool,isRerun:i.default.bool,isPremiere:i.default.bool,isTheatreMode:i.default.bool,showingOfflineRecs:i.default.bool,playerType:i.default.string},v=t.mapStateToProps=function(e){var t=e.lang,n=e.onlineStatus,r=e.stream,i=e.collection,a=e.streamMetadata,o=e.screen,s=e.screenMode,c=e.env;return{streamType:r.contentType,i18n:t,isOnline:n===u.ONLINE_STATUS,inCollection:Boolean(i.id),isRerun:"rerun"===a.streamType,isPremiere:"premiere"===a.streamType,isTheatreMode:s.isTheatreMode,showingOfflineRecs:o[0]===l.OFFLINE_RECOMMENDATIONS_SCREEN,playerType:c.playerType}},y=t.StreamStatusComponent=function(e){var t=e.streamType,n=e.i18n,i=e.isOnline,a=e.inCollection,l=e.isRerun,u=e.isPremiere,m=e.isTheatreMode,E=e.showingOfflineRecs,v=null,y=e.playerType===h.PLAYER_MULTIVIEW_SECONDARY;if(!a&&!E){var g=(0,_.default)("player-streamstatus__icon","player-streamstatus__icon--live","qa-live-label"),T=(0,_.default)("player-streamstatus__icon","player-streamstatus__icon--offline"),b=(0,_.default)("player-streamstatus__icon","player-streamstatus__icon--rerun"),S=(0,_.default)("player-streamstatus__icon","player-streamstatus__icon--premiere");t===s.CONTENT_MODE_LIVE&&(v=l&&i?r.default.createElement("span",null,r.default.createElement("span",{className:"player-streamstatus__container"},r.default.createElement(o.IconComponent,{label:"watchPartyStatus"},r.default.createElement(c.RerunSVG,{className:b,id:"icon_rerun"})),r.default.createElement("span",{className:"player-streamstatus__label"},n.translate("Rerun")))):u&&i?r.default.createElement("span",null,r.default.createElement("span",{className:"player-streamstatus__container"},r.default.createElement(o.IconComponent,{label:"watchPartyPremiereStatus"},r.default.createElement(d.PremiereSVG,{className:S,id:"icon_premiere"})),r.default.createElement("span",{className:"player-streamstatus__label"},n.translate("Premiere")))):i?r.default.createElement("span",null,r.default.createElement(o.IconComponent,{label:"liveStatus"},r.default.createElement(f.LiveSVG,{className:g,id:"icon_live"})),r.default.createElement("span",{className:"player-streamstatus__label"},n.translate("Live"))):r.default.createElement("span",null,r.default.createElement(o.IconComponent,{label:"offlineStatus"},r.default.createElement(p.OfflineSVG,{className:T,id:"icon_offline"})),r.default.createElement("span",{className:"player-streamstatus__label"},n.translate("Offline"))))}var A=(0,_.default)({"player-streamstatus":!0,"player-streamstatus--theatre":m,"player-streamstatus--multiview-secondary":y});return r.default.createElement("div",{className:A},v)};y.propTypes=E;t.StreamStatus=(0,a.connect)(v)(y)},DFRv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityButton=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("q1tI")),a=l(n("17x9")),o=l(n("TSYQ")),s=n("1fV9");function l(e){return e&&e.__esModule?e:{default:e}}var u={isActive:a.default.bool,selectItem:a.default.object,onSelectItem:a.default.func,displayName:a.default.string},c=(0,o.default)({ellipsis:!0,"pl-quality-option-button":!0}),d=t.QualityButton=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleClick",value:function(){this.props.onSelectItem(this.props.selectItem)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.displayName,r=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return i.default.createElement("div",{className:r},i.default.createElement(s.Button,{className:c,onClick:this.handleClick},i.default.createElement("span",null,n)))}}]),t}();d.propTypes=u,d.defaultProps={isActive:!1,onSelectItem:function(){}}},DHIc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BottomControls=t.BottomControlsContainer=t.mapStateToProps=t.CONTAINER_CLASSES=void 0;var r=E(n("q1tI")),i=E(n("17x9")),a=n("mawI"),o=n("nWaZ"),s=n("CUeK"),l=E(n("TSYQ")),u=n("N58E"),c=n("Ynch"),d=n("uNCh"),f=n("sr/1"),p=n("SXV3"),_=n("Rnd+"),h=n("EoNM"),m=n("vpBF");function E(e){return e&&e.__esModule?e:{default:e}}var v={getCurrentTime:i.default.func.isRequired,isShowingCollectionSidebar:i.default.bool.isRequired,isShowingAd:i.default.bool.isRequired},y=(t.CONTAINER_CLASSES=(0,l.default)("pl-controls-bottom","pl-flex","qa-controls-bottom"),t.mapStateToProps=function(e){var t=e.collection,n=e.screen;return{isShowingCollectionSidebar:t.currentView===c.SIDEBAR_VIEW,isShowingAd:n[0]===d.ADVERTISEMENT_SCREEN||n[0]===d.STITCHED_ADVERTISEMENT_SCREEN}}),g=t.BottomControlsContainer=function(e){var t=e.getCurrentTime,n=e.isShowingCollectionSidebar,i=e.isShowingAd;if(n)return null;var u=(0,l.default)({"pl-controls-bottom":!0,"pl-controls-bottom__advertisement":i,"pl-flex":!0,"qa-controls-bottom":!0}),c=h.localStore.get(m.DOCK_LOCALSTORAGE_FLAG,!1)?null:r.default.createElement(p.Experiment,{uuid:_.ExperimentIds.ExtensionsDock,renderValue:"off"},r.default.createElement(f.ExtensionTaskbar,null));return r.default.createElement("div",{className:u},r.default.createElement(s.Seekbar,{getCurrentTime:t}),r.default.createElement(a.BottomLeftControls,null),c,r.default.createElement(o.BottomRightControls,null))};g.propTypes=v;t.BottomControls=(0,u.connect)(y)(g)},DRA7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnterTheatreModeButton=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("cpUT");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClick:i.default.func.isRequired},d=(0,s.default)({"player-button":!0,"qa-theatre-mode-button":!0});(t.EnterTheatreModeButton=function(e){var t=e.onClick;return r.default.createElement(a.Button,{className:d,onClick:t,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Theatre Mode",labelClass:"player-tip--theater-mode"},r.default.createElement(l.TheatreSVG,{id:"icon_theatre",enabled:!0})))}).propTypes=c},DY5q:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("hnjF"),u=n("X2PJ"),c=n("2Ob2"),d=n("2nDl"),f=(n("utFH"),function(e){var t,n={"tw-select":!0,"tw-select--small":e.size===d.c.Small,"tw-select--large":e.size===d.c.Large,"tw-select--disabled":e.disabled,"tw-select--error":e.error,"tw-select--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var r=d.c.Default;return e.size&&(r=e.size),a.createElement(u.f,{display:l.d.Block,borderRadius:d.a[e.size?e.size:d.c.Default],fontSize:d.b[r],padding:{left:1,right:3,y:e.size===d.c.Small?void 0:.5},fullWidth:!0},a.createElement("select",i()({className:Object(o.a)(n),defaultValue:e.defaultValue,autoComplete:e.autoComplete,disabled:e.disabled,id:e.id,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,required:e.required,tabIndex:t,value:e.value,ref:e.refDelegate},Object(s.a)(e)),e.children))});f.displayName="SelectComponent",f.displayName="SelectComponent";var p=Object(c.c)(f)},DgUF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchGateOverlay=t.TwitchGateOverlayComponent=t.TWITCH_GATE_BUTTON_LABEL=t.TWITCH_GATE_WARNING_LABEL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("q1tI")),a=l(n("17x9")),o=l(n("TSYQ")),s=n("9kay");function l(e){return e&&e.__esModule?e:{default:e}}var u=t.TWITCH_GATE_WARNING_LABEL="You can only watch this stream on the Twitch website.",c=t.TWITCH_GATE_BUTTON_LABEL="Watch on Twitch",d=(0,o.default)("player-overlay","pl-overlay--wall","pl-overlay--gate"),f=(0,o.default)("player-center-content"),p=(0,o.default)("player-content-button"),_={url:a.default.string.isRequired,t:a.default.func.isRequired},h=t.TwitchGateOverlayComponent=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:d},i.default.createElement("div",{className:f},this.renderContent()))}},{key:"renderContent",value:function(){return i.default.createElement("div",null,i.default.createElement("p",null,this.props.t(u)),i.default.createElement("p",null,i.default.createElement("a",{className:p,href:this.props.url,target:"blank"},this.props.t(c))))}}]),t}();h.propTypes=_;t.TwitchGateOverlay=(0,s.translate)()(h)},DtOl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EffectsPanel=t.mapDispatchToProps=t.mapStateToProps=t.EFFECTS=void 0,t.EffectsPanelContainer=f;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("vkrI"),s=n("rSwD");function l(e){return e&&e.__esModule?e:{default:e}}t.EFFECTS="Effects";var u={boldText:i.default.bool.isRequired,italicText:i.default.bool.isRequired,underlineText:i.default.bool.isRequired,currentTextEffect:i.default.string.isRequired,selectTextEffect:i.default.func.isRequired,selectTextStyle:i.default.func.isRequired},c=t.mapStateToProps=function(e){var t=e.captions;return{boldText:"bold"===t.style.fontBold,italicText:"italic"===t.style.fontItalic,underlineText:"underline"===t.style.fontUnderline,currentTextEffect:t.style.edge}},d=t.mapDispatchToProps=function(e){return{selectTextEffect:function(t){e((0,s.setCaptionsPreset)(s.CUSTOM,{edge:t}))},selectTextStyle:function(t,n){var r,i,a;e((0,s.setCaptionsPreset)(s.CUSTOM,(a=n,(i=t)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r)))}}};function f(e){var t=e.boldText,n=e.italicText,i=e.underlineText,a=e.currentTextEffect,s=e.selectTextEffect,l=e.selectTextStyle;return r.default.createElement(o.EffectsPanel,{boldText:t,italicText:n,underlineText:i,currentTextEffect:a,selectTextStyle:l,selectTextEffect:s})}f.propTypes=u;t.EffectsPanel=(0,a.connect)(c,d)(f)},"E+Ha":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PubSub=t.EVENT_OFFLINE=t.EVENT_ONLINE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=b(n("hzCD")),a=b(n("Xdxp")),o=n("4gWZ"),s=b(n("B9ku")),l=n("56nq"),u=n("qT8i"),c=n("k2Rd"),d=n("XyCF"),f=n("rDCd"),p=n("QBeZ"),_=n("D3OJ"),h=n("9/en"),m=n("0Qzx"),E=n("/71H"),v=n("wsSb"),y=n("AUgO"),g=b(n("mwIZ")),T=n("GoSL");function b(e){return e&&e.__esModule?e:{default:e}}var S="production",A=(t.EVENT_ONLINE="stream-up",t.EVENT_OFFLINE="stream-down",3e5),C="user-subscribe-events-v1";t.PubSub=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._debugMode=r.debug,this._pubSub=s.default.getInstance(S),this._topics=[],this._onMessage=this._onPubSubMessage.bind(this),this._onUserSubscribeMessage=this._onUserSubscriptionsMessage.bind(this),this._jitteredFetchTagsFromIds=(0,T.createJitterFunc)(0,A,function(e){n._store.dispatch((0,y.fetchTagsFromIds)(e))}),this._unsubscribe=this._subscribe()}return r(e,[{key:"destroy",value:function(){var e=this;this._unsubscribe(),this._topics.forEach(function(t){(0,a.default)(t,C)?e._unlisten(t,e._onUserSubscribeMessage):e._unlisten(t)})}},{key:"_onPubSubMessage",value:function(e){var t=this._parseMessageString(e);if(t)switch(t.type){case"stream-up":this._store.dispatch((0,_.setStream)({contentType:_.TYPE_CHANNEL,contentId:this._store.getState().stream.channel}));break;case"stream-down":this._store.dispatch((0,d.setOnline)(!1));break;case"metadata_change":var n=(0,g.default)(t,"data.updates.tags.updated");n&&this._jitteredFetchTagsFromIds(n);break;case"viewcount":this._store.dispatch((0,c.updateViewerCount)(t.viewers));break;case"tos-strike":this._store.getState().window.document.location.reload();break;case"watchparty-vod":this._store.dispatch((0,m.updateWatchPartyVod)(t.vod));break;case"broadcast_settings_update":this._store.dispatch((0,y.updateLiveStreamMetadata)({gameName:t.game||t.old_game,title:t.status||t.old_status}));break;case"pixel_tracking_update":this._store.dispatch((0,f.fetchPixelInfo)(this._store.getState().stream.channel,this._store.getState().gdprConsent.vendors));break;default:this._debugMode&&console.warn("PubSub: Unrecognized message %o",t)}}},{key:"_onUserSubscriptionsMessage",value:function(e){var t=this,n=this._parseMessageString(e);if(n){var r=n.user_id,i=n.channel_id,a=this._store.getState().streamMetadata.channel,o=a.id,s=a.name;o===parseInt(i,10)&&((0,l.channelViewerInfo)(s).then(function(e){t._store.dispatch((0,p.setChannelAdInfo)(e))}),this._store.dispatch((0,h.fetchChannelSubscriptions)(r,parseInt(i,10))))}}},{key:"_parseMessageString",value:function(e){var t=void 0;try{t=JSON.parse(e)}catch(e){return void console.error("Pubsub error: %o",e)}return this._debugMode&&console.info("PubSub msg %o",t),t}},{key:"_subscribe",value:function(){var e=this;return(0,u.subscribe)(this._store,["user.loggedInStatus","streamMetadata.channel.id"],function(t,n){var r=n.streamMetadata.channel.id,i=n.streamMetadata.channelName,a=t.streamMetadata.channel.id,o=e._store.getState().stream,s=e._store.getState().user;s&&s.loggedInStatus===E.NOT_LOGGED_IN&&n.user&&n.user.id!==s.id&&e._unlisten(R(n.user.id),e._onUserSubscribeMessage),s.loggedInStatus===E.LOGGED_IN&&n.user.id!==s.id&&e._listen(R(s.id),e._onUserSubscribeMessage),r&&i&&(e._unlisten(O(r)),e._unlisten(P(r)),e._unlisten(N(r)),e._unlisten(I(r))),o.contentType===v.CONTENT_MODE_LIVE&&a&&(e._listen(O(a)),e._listen(P(a)),e._listen(N(a)),e._listen(I(a)))})}},{key:"_listen",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._onMessage;this._topics.push(e),this._pubSub.Listen({topic:e,auth:o.cookie.get("auth-token",""),success:function(){t._debugMode&&console.info("PubSub: successfully listened to %s",e)},failure:function(n){t._topics=(0,i.default)(t._topics,e),console.error('PubSub: error "%s" listening: %o',n,e)},message:n})}},{key:"_unlisten",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._onMessage;this._topics=(0,i.default)(this._topics,e),this._pubSub.Unlisten({topic:e,auth:o.cookie.get("auth-token",""),success:function(){t._debugMode&&console.info("PubSub: successfully unlistened to %s",e)},failure:function(n){t._topics.push(e),console.error("PubSub: error unlistening: %o",n)},message:n})}}]),e}();function O(e){return"video-playback-by-id."+e}function P(e){return"broadcast-settings-update."+e}function N(e){return"ad-property-refresh."+e}function I(e){return"stream-change-by-channel."+e}function R(e){return C+"."+e}},E9lB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontDropdown=void 0,t.FontDropdownComponent=E;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("+oT0");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentFont:i.default.string.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired},u=Object.freeze({value:"mono-serif",text:"Mono Serif"}),c=Object.freeze({value:"prop-serif",text:"Serif"}),d=Object.freeze({value:"mono-sans-serif",text:"Mono Sans-Serif"}),f=Object.freeze({value:"prop-sans-serif",text:"Sans-Serif"}),p=Object.freeze({value:"casual",text:"Casual"}),_=Object.freeze({value:"cursive",text:"Cursive"}),h=Object.freeze({value:"small-capitals",text:"Small Capitals"}),m=Object.freeze([u,c,d,f,p,_,h]);function E(e){var t=e.t,n=e.currentFont,i=e.onSelect;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"fontLabel"},t("Font")),r.default.createElement(o.SelectDropdown,{currentValue:n,id:"fontLabel",onSelect:i,options:m}))}E.propTypes=l;t.FontDropdown=(0,a.translate)()(E)},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},EZvc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.ACTION_ADD_NOTIFICATION:return(0,r.default)(t.notification,e);case a.ACTION_REMOVE_NOTIFICATION:return(0,i.default)(e,1);default:return e}};var r=o(n("NIJN")),i=o(n("Kssv")),a=n("Fbet");function o(e){return e&&e.__esModule?e:{default:e}}var s=[]},Eb0K:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createExtensionsMiddleware=function(){return function(e){return function(e){return function(t){switch(t.type){case i.ACTION_PAUSE:r.extensionService.postContext({isPaused:!0});break;case i.ACTION_PLAY:r.extensionService.postContext({isPaused:!1})}e(t)}}}};var r=n("1hWM"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("VPTj"))},Eh8G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenButton=d;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("et/A");function u(e){return e&&e.__esModule?e:{default:e}}var c={canFullScreen:i.default.bool.isRequired,hasBranding:i.default.bool.isRequired,isFullScreen:i.default.bool.isRequired,onFullScreen:i.default.func.isRequired,onUnFullScreen:i.default.func.isRequired};function d(e){var t=e.canFullScreen,n=e.hasBranding,i=e.isFullScreen,u=e.onFullScreen,c=e.onUnFullScreen,d=(0,s.default)({"player-button":!0,"qa-fullscreen-button":!0,"pl-button__fullscreen--cannot-fullscreen":!t,"pl-mg-r-1":!n,"pl-button__fullscreen--tooltip-left":!n});return i?r.default.createElement(a.Button,{className:d,onClick:c,disabled:!t,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Exit Fullscreen"},r.default.createElement(l.FullscreenSVG,{id:"icon_unfullscreen",enabled:!0}))):r.default.createElement(a.Button,{className:d,onClick:u,disabled:!t,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Fullscreen"},r.default.createElement(l.FullscreenSVG,{id:"icon_fullscreen",enabled:!1})))}d.propTypes=c},Em2t:function(e,t,n){var r=n("bahg"),i=n("quyA"),a=n("0JQy");e.exports=function(e){return i(e)?a(e):r(e)}},EoNM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(t){i(this,e),this._storage=t}return r(e,[{key:"get",value:function(e,t){if(this.has(e))try{return JSON.parse(this._storage.getItem(e))}catch(e){}return t}},{key:"has",value:function(e){return null!==this._storage.getItem(e)}},{key:"set",value:function(e,t){this._storage.setItem(e,JSON.stringify(t))}},{key:"remove",value:function(e){this._storage.removeItem(e)}},{key:"clear",value:function(){this._storage.clear()}},{key:"usesCache",value:function(){return!(this._storage instanceof o)}}]),e}(),o=function(){function e(){i(this,e),this._cache={}}return r(e,[{key:"key",value:function(e){return Object.keys(this._cache)[e]}},{key:"getItem",value:function(e){return this._cache.hasOwnProperty(e)?this._cache[e]:null}},{key:"setItem",value:function(e,t){this._cache[e]=String(t)}},{key:"removeItem",value:function(e){delete this._cache[e]}},{key:"clear",value:function(){this._cache={}}}]),e}();function s(e){try{return function(e){if(e){var t="test_item_"+Date.now();try{if(e.setItem(t,"OK"),"OK"===e.getItem(t))return e.removeItem(t),e}catch(e){}}return new o}(window[e])}catch(e){}return new o}t.sessionStore=new a(s("sessionStorage")),t.localStore=new a(s("localStorage")),t.memoryStore=new a(new o)},Er8A:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiviewButton=t.mapDispatchToProps=t.mapStateToProps=void 0,t.MultiviewButtonContainer=p;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("h3mL"),s=n("2GWp"),l=n("YWLq");function u(e){return e&&e.__esModule?e:{default:e}}var c={isHighlighted:i.default.bool.isRequired,multiviewEnabled:i.default.bool.isRequired,onHoverMessage:i.default.string,onMultiview:i.default.func.isRequired},d=t.mapStateToProps=function(e){var t=e.multiview;return{isHighlighted:Boolean(t.isFTUE),multiviewEnabled:Boolean(t.enabled),onHoverMessage:t.buttonText}},f=t.mapDispatchToProps=function(e){return{onMultiview:function(){e((0,s.emitEnterMultiview)()),e((0,l.trackEvent)("player_click_multiview"))}}};function p(e){var t=e.isHighlighted,n=e.multiviewEnabled,i=e.onHoverMessage,a=e.onMultiview;return r.default.createElement(o.MultiviewButton,{isHighlighted:t,multiviewEnabled:n,onHoverMessage:i,onMultiview:a})}p.propTypes=c;t.MultiviewButton=(0,a.connect)(d,f)(p)},EwQA:function(e,t,n){var r=n("zZ0H");e.exports=function(e){return"function"==typeof e?e:r}},FKuM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationPopUpsWrapper=t.NotificationPopUpsContainer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("N58E"),s=n("Fbet"),l=n("Z4ex");function u(e){return e&&e.__esModule?e:{default:e}}var c={i18n:a.default.object.isRequired,windowObj:a.default.object.isRequired,notifications:a.default.arrayOf(a.default.func).isRequired,removeCurrentNotification:a.default.func,currentMenu:a.default.string.isRequired},d=t.NotificationPopUpsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.currentMenu!==l.MENU_STATE_NONE;if(!t.length||n)return null;var r=t[0];return i.default.createElement(r,{onClose:this.handleClose,showNotification:!n})}},{key:"handleClose",value:function(){this.props.removeCurrentNotification()}}]),t}();d.propTypes=c;t.NotificationPopUpsWrapper=(0,o.connect)(function(e){var t=e.notifications,n=e.lang,r=e.ui,i=e.window;return{notifications:t,i18n:n,currentMenu:r.showSettings,windowObj:i}},function(e){return{removeCurrentNotification:function(){e((0,s.removeNotification)())}}})(d)},Fbet:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNotification=function(e){return{type:r,notification:e}},t.removeNotification=function(){return{type:i}};var r=t.ACTION_ADD_NOTIFICATION="add notification to notification array",i=t.ACTION_REMOVE_NOTIFICATION="remove notification from notification arrary"},Fbw6:function(e,t,n){},FfPP:function(e,t,n){var r=n("idmN"),i=n("hgQt");e.exports=function(e,t){return r(e,t,function(t,n){return i(e,n)})}},FxCM:function(e,t,n){"use strict";function r(e){for(var t=[e/3600,e/60%60,e%60],n=0;n<t.length;n++){var r=Math.floor(t[n]);t[n]=r<10?"0"+r:r}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e){var t=/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/.exec(e);if(!t)return null;for(var n=0,r=1;r<t.length;r++){var i=parseInt(t[r],10)||0;n=60*n+i}return n},t.toArray=r,t.toString=function(e,t){if(!isFinite(e)||e<0||e>=259200)return"00:00:00";var n=r(e).join(":");return t?function(e){for(var t=0;t<e.length;t++)if("0"!==e[t]&&":"!==e[t])return e.substring(t,e.length);return"0"}(n):n},t.toURLString=function(e){var t=r(e),n=["s","m","h"],i="";t=t.reverse();for(var a=0;a<t.length;a++)i=t[a]+n[a]+i;return i.replace(/00(h|m|s)/g,"")},t.toDateString=function(e,t){var n=e.getFullYear(),r=e.getMonth()+1,i=e.getDate();t&&(r=r<10?"0"+r:r,i=i<10?"0"+i:i);return n+"-"+r+"-"+i}},"G/1q":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("P3Dh");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})})},G9mL:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("q1tI"),i=n("Ws8v"),a=n("2Ob2"),o=(n("aEfP"),function(e){return r.createElement(i.a,{className:e.overlay?"tw-drop-down-menu-seperator--overlay":"",margin:{top:1,x:.5},padding:{bottom:1},borderTop:!e.overlay})});o.displayName="DropDownMenuSeparatorComponent",o.displayName="DropDownMenuSeparatorComponent";var s=Object(a.c)(o)},GBMM:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=n("2mql"),o=n("q1tI"),s=n("i8i4");e.exports=function(e){var t=e.displayName||e.name,n=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleClickOutside=t.handleClickOutside.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.Component),i(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside,!0)}},{key:"handleClickOutside",value:function(e){var t=this.__domNode;t&&t.contains(e.target)||!this.__wrappedInstance||"function"!=typeof this.__wrappedInstance.handleClickOutside||this.__wrappedInstance.handleClickOutside(e)}},{key:"render",value:function(){var t=this,n=this.props,i=n.wrappedRef,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["wrappedRef"]);return o.createElement(e,r({},a,{ref:function(e){t.__wrappedInstance=e,t.__domNode=s.findDOMNode(e),i&&i(e)}}))}}]),n}();return n.displayName="clickOutside("+t+")",a(n,e)}},GDAb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeOverlay=t.SubscribeOverlayContainer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=n("N58E"),o=d(n("17x9")),s=n("J0qE"),l=n("VPTj"),u=n("uNCh"),c=n("3PGf");function d(e){return e&&e.__esModule?e:{default:e}}var f={channelName:o.default.string.isRequired,contentIsShowing:o.default.func.isRequired,shouldRenderSubOverlay:o.default.bool.isRequired},p=t.SubscribeOverlayContainer=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"render",value:function(){var e=this.props,t=e.channelName;if(e.shouldRenderSubOverlay){var n=s.twitchHost+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return i.default.createElement(c.SubscribeOverlay,{channelName:t,subscribeUrl:n})}return null}}]),t}();p.propTypes=f,p.defaultProps={shouldRenderSubOverlay:!1};t.SubscribeOverlay=(0,a.connect)(function(e){var t=e.screen;return{channelName:e.streamMetadata.channel.name,shouldRenderSubOverlay:t[0]===u.VOD_RESTRICTED_SCREEN}},function(e){return{contentIsShowing:function(){e((0,l.contentIsShowing)())}}})(p)},GHcg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Links=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.withQueryParams=u,t.ttAnalyticsQuery=function(e,t,n){return u(e,{tt_medium:t,tt_content:n})};var i,a=n("ji7g"),o=n("3OWR"),s=(i=o)&&i.__esModule?i:{default:i};var l="https:"+n("J0qE").twitchHost;function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!e.split)return e;var n=e.split("?"),i=r(n,2),o=i[0],l=i[1];if(l){var u=(0,a.parse)(l);return o+"?"+(0,a.stringify)((0,s.default)({},u,t))}return o+"?"+(0,a.stringify)(t)}var c=t.Links={default:{getGameLink:function(e){return l+"/directory/game/"+encodeURIComponent(e)},getClipsOnGamePageLink:function(e){return c.default.getGameLink(e)+"/clips"},getClipsOnChannelPageLink:function(e){return l+"/"+e+"/clips"},getVodLink:function(e,t){return l+"/videos/"+e+"?t="+t}},android:{getChannelLink:function(e,t){return"intent://stream/"+e+"#Intent;scheme=twitch;package=tv.twitch.android.app;S.browser_fallback_url="+t+";end"}}}},"GX/C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.CrossSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M20.657 10.757L16.414 15l4.243 4.242-1.415 1.415L15 16.414l-4.243 4.243-1.414-1.415L13.586 15l-4.243-4.243 1.414-1.414L15 13.586l4.242-4.243 1.415 1.414z",fill:e.fill}))}).propTypes=l},GYg9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backendInfo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_PLAYER_BACKEND_TYPE:return(0,a.default)({},e,{playerBackendType:t.playerBackendType});case o.ACTION_USING_WASM_BACKEND:return(0,a.default)({},e,{isWasm:t.isWasm});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("9+6w");var s={playerBackendType:n("/ESh").BACKEND_BLANK_TYPE}},Gd1m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewContentOverlay=t.PreviewContentOverlayComponent=t.mapDispatchToProps=t.mapStateToProps=t.DEFAULT_PREVIEW_URL=t.TEST_SELECTORS=t.SHUTDOWN_STEPS=t.SHUTDOWN_TIME=t.SPADE_BANNER_STATE=t.SPADE_VIEWER_STATUS=t.SPADE_ACTION=t.SPADE_EVENT=t.TIMER_EXPERIMENT_RENDER_VALUE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=I(n("TSYQ")),a=I(n("q1tI")),o=n("N58E"),s=I(n("3OWR")),l=I(n("17x9")),u=n("9kay"),c=n("2GWp"),d=n("YWLq"),f=n("Z4ex"),p=n("4b1H"),_=n("1fV9"),h=n("0qR3"),m=n("7dWA"),E=n("D7px"),v=n("aaPA"),y=n("J0qE"),g=n("xa5l"),T=n("Vdts"),b=n("fOVM"),S=n("9/en"),A=n("/71H"),C=n("uC+K"),O=n("XbkD"),P=n("Rnd+"),N=n("SXV3");function I(e){return e&&e.__esModule?e:{default:e}}var R=t.TIMER_EXPERIMENT_RENDER_VALUE="enabled",w=t.SPADE_EVENT={Action:"preview_banner_action",Impression:"preview_banner_impression"},k=t.SPADE_ACTION={Subscribe:"subscribe",SubscribePrime:"subscribe_prime",SubscribePrimeTryAgain:"subscribe_prime_try_again",Login:"signup",Expand:"expand",Collapse:"collapse"},M=t.SPADE_VIEWER_STATUS={LoggedOut:"logged_out",Preview:"preview",ExpiredPreview:"expired_preview"},L=t.SPADE_BANNER_STATE={Collapsed:"collapsed",Expanded:"expanded",Full:"full",CollapsedPrime:"collapsed_prime",ExpandedPrime:"expanded_prime",FullPrime:"full_prime",ExpandedPrimeError:"expanded_prime_error",FullPrimeError:"full_prime_error"},D={Collapsed:L.CollapsedPrime,Expanded:L.ExpandedPrime,Full:L.FullPrime},x={Collapsed:L.CollapsedPrime,Expanded:L.ExpandedPrimeError,Full:L.FullPrimeError},U=t.SHUTDOWN_TIME=1e3,B=t.SHUTDOWN_STEPS=100,V=t.TEST_SELECTORS={ContentTimer:"qa-content-timer",LoginCTA:"qa-login-cta",SubscribeCTA:"qa-subscribe-cta",PrimeSubscribeTopCTA:"qa-prime-subscribe-top-cta",PrimeSubscribeBodyCTA:"qa-prime-subscribe-body-cta",PrimeSubscribeErrorPanel:"qa-prime-subscribe-error-panel",PrimeSubscribeTryAgain:"qa-prime-subscribe-try-again"},j=t.DEFAULT_PREVIEW_URL="https://static-cdn.jtvnw.net/ttv-static/404_preview-285x160.jpg",q={accessExpiration:l.default.instanceOf(Date),isLoggedIn:l.default.bool.isRequired,channelName:l.default.string,previewUrl:l.default.string,showUI:l.default.bool.isRequired,isMini:l.default.bool.isRequired,playerType:l.default.string,volume:l.default.number,userID:l.default.number,deviceID:l.default.string,channelID:l.default.number,restrictionOptions:l.default.array.isRequired,emitPromptLoginModal:l.default.func.isRequired,emitSubscribeChannel:l.default.func.isRequired,emitOpenSubCheckout:l.default.func.isRequired,resetPrimeSubscribe:l.default.func.isRequired,automatedPause:l.default.func.isRequired,hideControls:l.default.func.isRequired,changeVolume:l.default.func.isRequired,mutePlayer:l.default.func.isRequired,trackEvent:l.default.func.isRequired,isSubTier2Only:l.default.bool.isRequired,isSubTier3Only:l.default.bool.isRequired,isSubscribed:l.default.bool.isRequired,t:l.default.func.isRequired,isPrimeSubscribable:l.default.bool.isRequired,primeSubscribePending:l.default.bool,primeSubscribeFinished:l.default.bool,primeSubscribeError:l.default.any,emitPrimeSubscribeChannel:l.default.func.isRequired,experiments:l.default.object.isRequired},F=t.mapStateToProps=function(e){var t=e.env,n=e.multiview,r=e.playback,i=e.stream,a=e.streamMetadata,o=e.subscriptions,s=e.ui,l=e.user,u=e.experiments;return{accessExpiration:i.accessExpiration,isLoggedIn:l.loggedInStatus===A.LOGGED_IN,channelName:n&&n.parentChannelLogin||a.channelName,previewUrl:a.previewUrl||j,showUI:s.showUI,isMini:s.isMini,playerType:t.playerType,volume:r.volume,userID:l.id,deviceID:t.deviceId,channelID:a.channel&&a.channel.id,restrictionOptions:a&&a.restrictionOptions||[],isPrimeSubscribable:o&&o.isPrimeSubscribable,primeSubscribePending:o&&o.primeSubscribePending,primeSubscribeFinished:o&&o.primeSubscribeFinished,primeSubscribeError:o&&o.primeSubscribeError,experiments:u,isSubTier2Only:a.restrictionOptions&&a.restrictionOptions.includes(O.ALLOW_TIER_2_AND_3_ONLY),isSubTier3Only:a.restrictionOptions&&a.restrictionOptions.includes(O.ALLOW_TIER_3_ONLY),isSubscribed:o&&o.isSubscribed}},H=t.mapDispatchToProps=function(e){return{emitPromptLoginModal:function(){e((0,c.emitPromptLoginModal)())},emitSubscribeChannel:function(){e((0,c.emitSubscribeChannel)())},emitOpenSubCheckout:function(t){e((0,c.emitOpenSubCheckout)(t))},emitPrimeSubscribeChannel:function(){e((0,c.emitPrimeSubscribeChannel)())},resetPrimeSubscribe:function(){e((0,S.fetchCanPrimeSubscribe)()),e((0,S.primeSubscribePending)(!1)),e((0,S.primeSubscribeFinished)(!1)),e((0,S.primeSubscribeError)(void 0))},automatedPause:function(){e((0,p.automatedPause)(!1))},hideControls:function(){e((0,f.showPlayerControls)(!1))},changeVolume:function(t){e((0,p.changeVolume)(t))},mutePlayer:function(){e((0,p.mutePlayer)(!0,!0))},trackEvent:function(t,n){e((0,d.trackEvent)(t,n))}}},Y=function(e){return y.twitchHost+"/"+e+"/subscribe?ref=preview_overlay_subscribe"},G=t.PreviewContentOverlayComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderTimer=n.renderTimer.bind(n),n.renderDetails=n.renderDetails.bind(n),n.tick=n.tick.bind(n),n.calculateSecondsRemaining=n.calculateSecondsRemaining.bind(n),n.endCountdown=n.endCountdown.bind(n),n.pad=n.pad.bind(n),n.toggleCollapse=n.toggleCollapse.bind(n),n.handleClick=n.handleClick.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n.handleSubscribe=n.handleSubscribe.bind(n),n.handlePrimeSubscribe=n.handlePrimeSubscribe.bind(n),n.resetPrimeSubscribe=n.resetPrimeSubscribe.bind(n),n.handleLogin=n.handleLogin.bind(n),n.shutdownVideo=n.shutdownVideo.bind(n),n.spadeEventBaseData=n.spadeEventBaseData.bind(n),n.trackSpadeEventAction=n.trackSpadeEventAction.bind(n);var r=n.calculateSecondsRemaining();return n.state={secondsRemaining:r,neverPreview:r<=0,expanded:r<=0,primeUpsellExperimentEnabled:!1},n.shutdownStep=B,n.shutdownInterval=Math.floor(U/B),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.state.secondsRemaining>0&&this.props.trackEvent(w.Impression,this.spadeEventBaseData()),this.tick(),this.props.experiments.get(P.ExperimentIds.Coinslot).then(function(t){e.setState({primeUpsellExperimentEnabled:"enabled"===t})})}},{key:"componentWillUnmount",value:function(){clearInterval(this.tickRef)}},{key:"componentDidUpdate",value:function(e,t){!this.props.primeSubscribeError||e.primeSubscribeError||t.expanded||this.setState({expanded:!0})}},{key:"tick",value:function(){var e=this.calculateSecondsRemaining();e>0?(this.setState({secondsRemaining:e}),this.tickRef=setTimeout(this.tick,1e3)):this.endCountdown()}},{key:"calculateSecondsRemaining",value:function(){if(this.props.accessExpiration&&this.props.isLoggedIn){var e=Date.now(),t=Math.trunc((this.props.accessExpiration.getTime()-e)/1e3);if(!isNaN(t)&&t>0)return t}return 0}},{key:"endCountdown",value:function(){var e=this;this.setState({secondsRemaining:0},function(){e.props.trackEvent(w.Impression,e.spadeEventBaseData())}),this.shutdownVideo()}},{key:"shutdownVideo",value:function(){if(this.shutdownStep===B&&(this.props.hideControls(),this.shutdownStartVolume=this.props.volume),this.shutdownStep<=0||isNaN(this.shutdownStep))return this.props.automatedPause(),this.props.changeVolume(this.shutdownStartVolume),void this.props.mutePlayer();var e=this.shutdownStartVolume*this.shutdownStep/B;this.props.changeVolume(e),--this.shutdownStep,setTimeout(this.shutdownVideo,this.shutdownInterval)}},{key:"pad",value:function(e){var t="0"+e;return t.substr(t.length-2)}},{key:"toggleCollapse",value:function(){var e=this;this.setState(function(t){var n=t.expanded?k.Collapse:k.Expand;return e.trackSpadeEventAction(n),{expanded:!t.expanded}},function(){e.props.trackEvent(w.Impression,e.spadeEventBaseData())})}},{key:"handleClick",value:function(e){this.toggleCollapse(),e&&e.currentTarget&&e.currentTarget.blur()}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.toggleCollapse()}},{key:"handleSubscribe",value:function(){if(this.trackSpadeEventAction(k.Subscribe),this.props.isSubTier2Only||this.props.isSubTier3Only){var e=this.props.channelName+"_"+(this.props.isSubTier2Only?"2000":"3000");this.shouldEmitSubscriptionEvents()?this.props.emitOpenSubCheckout(e):window.open(function(e){return y.twitchHost+"/products/"+e+"?ref=preview_overlay_subscribe"}(e))}else this.shouldEmitSubscriptionEvents()?this.props.emitSubscribeChannel():window.open(Y(this.props.channelName))}},{key:"handlePrimeSubscribe",value:function(e){e&&e.stopPropagation&&e.stopPropagation(),this.trackSpadeEventAction(k.SubscribePrime),this.shouldEmitSubscriptionEvents()?this.props.emitPrimeSubscribeChannel():window.open(Y(this.props.channelName))}},{key:"resetPrimeSubscribe",value:function(){this.trackSpadeEventAction(k.SubscribePrimeTryAgain),this.props.resetPrimeSubscribe&&this.props.resetPrimeSubscribe()}},{key:"shouldEmitSubscriptionEvents",value:function(){return C.NON_EMBEDDED_PLAYER_TYPES.includes(this.props.playerType)}},{key:"handleLogin",value:function(){this.trackSpadeEventAction(k.Login);var e=y.twitchHost+"/login?ref=preview_overlay_subscribe";C.NON_EMBEDDED_PLAYER_TYPES.includes(this.props.playerType)?this.props.emitPromptLoginModal():window.open(e)}},{key:"renderTimer",value:function(){var e=Math.floor(this.state.secondsRemaining/3600),t=Math.floor(this.state.secondsRemaining/60)%60,n=Math.floor(this.state.secondsRemaining-60*t),r=this.pad(t)+":"+this.pad(n);return e>0&&(r=e+":"+r),r}},{key:"getTitleString",value:function(){var e=this.props.t("is streaming for subscribers"),t=e;return(this.props.isSubTier2Only||this.props.isSubTier3Only)&&(t=this.props.t("is streaming for Tier {{tier}} subscribers",{tier:this.props.isSubTier2Only?"2":"3"})),this.getTierGatedString(e,t)}},{key:"getCTADescriptionString",value:function(){var e=this.props.t("Subscribe to watch and support {{streamerName}}",{streamerName:this.props.channelName}),t=e;return(this.props.isSubTier2Only||this.props.isSubTier3Only)&&(t=this.props.t("Subscribe Tier {{tier}} to watch and support {{streamerName}}",{tier:this.props.isSubTier2Only?"2":"3"})),this.getTierGatedString(e,t)}},{key:"getCTAString",value:function(){var e=this.props.t("Subscribe to {{streamerName}}",{streamerName:this.props.channelName}),t=e;return this.props.isSubscribed&&(t=this.props.t("Upgrade your Subscription",{streamerName:this.props.channelName})),this.getTierGatedString(e,t)}},{key:"getTierGatedString",value:function(e,t){return a.default.createElement(a.default.Fragment,null,a.default.createElement(N.Experiment,{uuid:P.ExperimentIds.SuperSunrise,renderValue:"enabled"},t),a.default.createElement(N.Experiment,{uuid:P.ExperimentIds.SuperSunrise,renderValue:"disabled"},e))}},{key:"renderDetailsButtonBar",value:function(){var e=a.default.createElement(_.Button,{className:"preview-overlay__button",onClick:this.handleSubscribe,"data-test-selector":V.SubscribeCTA,blurAfterClick:!0},a.default.createElement(m.StarHollowSVG,{height:20,width:20,fill:"currentColor",className:"preview-overlay__star"}),this.getCTAString());return this.shouldShowPrimeUpsell()&&(e=a.default.createElement(a.default.Fragment,null,!this.props.primeSubscribeError&&this.renderPrimeUpsellButton("",this.props.t("Subscribe free with Prime"),V.PrimeSubscribeBodyCTA),this.props.primeSubscribeError&&a.default.createElement("div",{className:"preview-overlay__error-panel","data-test-selector":V.PrimeSubscribeErrorPanel},a.default.createElement(b.DeadGlitchSVG,{height:18,width:18,viewBox:"0 0 30 30",fill:"currentColor"}),a.default.createElement("span",{className:"preview-overlay__description preview-overlay__description--tertiary"},this.props.t("Something went wrong."),"Â ",a.default.createElement(_.Button,{blurAfterClick:!0,className:"preview-overlay__link-button",onClick:this.resetPrimeSubscribe,"data-test-selector":V.PrimeSubscribeTryAgain},this.props.t("Try again")))),a.default.createElement(_.Button,{className:"pl-button pl-button--text preview-overlay__text-button",blurAfterClick:!0,onClick:this.handleSubscribe},this.props.t("More options")))),a.default.createElement("div",{className:"preview-overlay__button-bar"},this.props.isLoggedIn?e:a.default.createElement(_.Button,{className:"preview-overlay__button",onClick:this.handleLogin,"data-test-selector":V.LoginCTA,blurAfterClick:!0},this.props.t("Sign up to watch a free preview")))}},{key:"renderDetails",value:function(e){var t=this.renderDetailsButtonBar(),n=a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"preview-overlay__description"},a.default.createElement("strong",null,this.props.channelName)," ",this.getTitleString()),a.default.createElement("p",{className:"preview-overlay__description preview-overlay__description--secondary"},this.props.t("Sign up now to join in:")),a.default.createElement("ul",{className:"preview-overlay__benefit-list"},a.default.createElement("li",null,a.default.createElement(h.FollowcheckSVG,{height:20,width:20,fill:"currentColor",className:"preview-overlay__check"}),this.props.t("Watch free previews of Subscriber Streams",{streamerName:this.props.channelName})),a.default.createElement("li",null,a.default.createElement(h.FollowcheckSVG,{height:20,width:20,fill:"currentColor",className:"preview-overlay__check"}),this.props.t("Follow {{streamerName}} and never miss a stream",{streamerName:this.props.channelName}))),t),r=a.default.createElement(a.default.Fragment,null,a.default.createElement(N.Experiment,{uuid:P.ExperimentIds.TickTock,renderValue:R},a.default.createElement("p",{className:"preview-overlay__description","data-test-selector":V.ContentTimer},a.default.createElement("span",{className:"preview-overlay__timer-text"},this.props.t("Your free preview ends in")),"Â ",a.default.createElement("strong",null,this.renderTimer()))),t,a.default.createElement("p",{className:"preview-overlay__description preview-overlay__description--secondary"},this.getCTADescriptionString()),a.default.createElement("p",{className:"preview-overlay__description preview-overlay__description--tertiary"},this.props.t("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge."))),i=a.default.createElement(a.default.Fragment,null,a.default.createElement("p",{className:"preview-overlay__description"},this.props.t("Your free preview has expired")),a.default.createElement("p",{className:"preview-overlay__description preview-overlay__description--secondary"},this.getCTADescriptionString()),a.default.createElement("p",{className:"preview-overlay__description preview-overlay__description--tertiary"},this.props.t("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.")),t),o=n;return this.props.isLoggedIn&&(o=e?i:r),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"preview-overlay__image"},a.default.createElement("img",{src:this.props.previewUrl,alt:this.props.channelName})),a.default.createElement("div",{className:"preview-overlay__content"},o))}},{key:"renderPrimeUpsellButton",value:function(e,t,n){return a.default.createElement(_.Button,{className:(0,i.default)(e,"preview-overlay__button",{"preview-overlay__button--loading":this.props.primeSubscribePending}),onClick:this.handlePrimeSubscribe,"data-test-selector":n,blurAfterClick:!0,disabled:this.props.primeSubscribePending},a.default.createElement(g.CrownSVG,{height:20,width:20,fill:"currentColor",className:"preview-overlay__crown"}),a.default.createElement("span",{className:"preview-overlay__button__text"},t),this.props.primeSubscribePending&&a.default.createElement("div",{className:"pl-loading-spinner"}))}},{key:"shouldShowPrimeUpsell",value:function(){return this.state.primeUpsellExperimentEnabled&&this.props.isPrimeSubscribable&&this.shouldEmitSubscriptionEvents()&&0===this.props.restrictionOptions.filter(function(e){return e===O.ALLOW_TIER_2_AND_3_ONLY||e===O.ALLOW_TIER_3_ONLY}).length}},{key:"render",value:function(){if(this.props.primeSubscribeFinished&&!this.props.primeSubscribeError)return a.default.createElement(T.LoadingOverlay,null);var e=(0,i.default)("preview-overlay",{"preview-overlay--full-screen":this.state.secondsRemaining<=0,"preview-overlay--fade":this.state.neverPreview,"preview-overlay--show-ui":(this.state.expanded||this.props.showUI||this.state.secondsRemaining<=20)&&!this.props.isMini}),t={backgroundImage:"url("+this.props.previewUrl+")"},n=(0,i.default)("preview-overlay__top-bar",{"preview-overlay__top-bar--expanded":this.state.expanded,"preview-overlay__top-bar--disabled":this.state.secondsRemaining<=0}),r=(0,i.default)("preview-overlay__button preview-overlay__top-bar__fadeable",{"preview-overlay__top-bar__fadeable--fade":this.state.secondsRemaining<=0||this.state.expanded,"preview-overlay__button--loading":this.props.primeSubscribePending}),o=(0,i.default)("preview-overlay__top-bar__countdown preview-overlay__top-bar__fadeable",{"preview-overlay__top-bar__fadeable--fade":this.state.secondsRemaining<=0||this.state.expanded}),s=(0,i.default)("preview-overlay__angle",{"preview-overlay__angle--rotate":!this.state.expanded,"preview-overlay__angle--fadeout":this.state.secondsRemaining<=0}),l=(0,i.default)("preview-overlay__info-wrapper",{"preview-overlay__info-wrapper--final":this.state.secondsRemaining<=0}),u=(0,i.default)("preview-overlay__info","preview-overlay__info--modal",{"preview-overlay__info--expanded":this.state.secondsRemaining>0&&this.state.expanded,"preview-overlay__info--fade-down":this.state.secondsRemaining<=0&&this.state.expanded}),c=(0,i.default)("preview-overlay__info","preview-overlay__info--final",{"preview-overlay__info--expanded":this.state.secondsRemaining<=0});return this.props.isMini&&this.state.secondsRemaining<=0?a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"preview-overlay__background",style:t}),a.default.createElement("div",{className:"preview-overlay__mini"},a.default.createElement("p",{className:"preview-overlay__description"},this.props.t("Your free preview has expired")))):a.default.createElement("div",null,this.state.secondsRemaining<=0&&a.default.createElement("div",{className:"preview-overlay__background",style:t}),a.default.createElement("div",{className:e},a.default.createElement("div",{className:n,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},this.props.isLoggedIn&&a.default.createElement("div",{className:"preview-overlay__title"},a.default.createElement("div",{className:"preview-overlay__title__ellipsis-wrapper"},a.default.createElement(v.AngleSVG,{height:20,width:20,fill:"currentColor",className:s}),a.default.createElement("strong",null,this.props.channelName)," ",this.getTitleString())),a.default.createElement("div",{className:"preview-overlay__top-bar__right"},this.shouldShowPrimeUpsell()&&!this.props.primeSubscribeError&&this.renderPrimeUpsellButton(r,this.props.t("Subscribe free"),V.PrimeSubscribeTopCTA),a.default.createElement(N.Experiment,{uuid:P.ExperimentIds.TickTock,renderValue:R},a.default.createElement("div",{className:o},a.default.createElement("div",{className:" preview-overlay__timer-text preview-overlay__title__ellipsis-wrapper "},!this.shouldShowPrimeUpsell()&&a.default.createElement(a.default.Fragment,null,a.default.createElement("span",{className:"preview-overlay__timer-text"},this.props.t("Your free preview ends in")),"Â ")),a.default.createElement("strong",null,this.renderTimer()))),a.default.createElement(E.StreamStatus,null))),a.default.createElement("div",{className:l},!this.state.neverPreview&&a.default.createElement("div",{className:u},this.renderDetails(!1)),a.default.createElement("div",{className:c},this.renderDetails(!0)))))}},{key:"trackSpadeEventAction",value:function(e){this.props.trackEvent(w.Action,(0,s.default)({},this.spadeEventBaseData(),{action:e}))}},{key:"spadeEventBaseData",value:function(){var e=M.LoggedOut;this.props.isLoggedIn&&(e=this.state.secondsRemaining>0?M.Preview:M.ExpiredPreview);var t=L;this.shouldShowPrimeUpsell()&&(t=this.props.primeSubscribeError?x:D);var n=this.state.expanded?t.Expanded:t.Collapsed;return this.state.secondsRemaining<=0&&(n=t.Full),{time:new Date,channel_id:this.props.channelID,channel:this.props.channelName,banner_state:n,viewer_status:e,user_id:this.props.userID,device_id:this.props.deviceID}}}]),t}();G.propTypes=q;t.PreviewContentOverlay=(0,u.translate)()((0,o.connect)(F,H)(G))},GdoJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromecastOverlay=void 0,t.ChromecastOverlayContainer=c;var r=l(n("q1tI")),i=l(n("17x9")),a=n("XU6G"),o=n("N58E"),s=n("cLSh");function l(e){return e&&e.__esModule?e:{default:e}}var u={deviceName:i.default.string.isRequired,castingState:i.default.string.isRequired};function c(e){var t=e.deviceName;return e.castingState!==a.CONNECTED?null:r.default.createElement(s.ChromecastOverlay,{deviceName:t})}c.propTypes=u;t.ChromecastOverlay=(0,o.connect)(function(e){var t=e.chromecast;return{castingState:t.castingState,deviceName:t.deviceName}})(c)},GnDj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ANALYTICS=void 0,t.analytics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_INCREMENT_VIDEO_PLAY_COUNT:return(0,a.default)({},e,{videoPlayCount:e.videoPlayCount+1});case o.ACTION_INCREMENT_QUALITY_CHANGE_COUNT:return(0,a.default)({},e,{qualityChangeCount:e.qualityChangeCount+1});case o.ACTION_RESET_QUALITY_CHANGE_COUNT:return(0,a.default)({},e,{qualityChangeCount:0});case o.ACTION_SET_TRACKING_CLIENTS:return(0,a.default)({},e,{trackingClients:t.clients});case o.ACTION_RESET_PLAY_SESSION:return(0,a.default)({},e,{playSessionId:t.playSessionId,playSessionStartTime:t.playSessionStartTime});default:return e}};var r,i=n("zdiy"),a=(r=i)&&r.__esModule?r:{default:r},o=n("CM3j");var s=t.DEFAULT_ANALYTICS={qualityChangeCount:0,playSessionId:"",playSessionStartTime:0,trackingClients:[],videoPlayCount:0}},Gnwe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StormWarningOverlay=t.mapStateToProps=void 0,t.StormWarningContainer=d;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("uNCh"),s=n("oq68");function l(e){return e&&e.__esModule?e:{default:e}}var u={shouldRenderStormWarning:i.default.bool.isRequired},c=t.mapStateToProps=function(e){return{shouldRenderStormWarning:e.screen[0]===o.STORM_WARNING_SCREEN}};function d(e){return e.shouldRenderStormWarning?r.default.createElement(s.StormWarningOverlay,null):null}d.propTypes=u,d.defaultProps={shouldRenderStormWarning:!1};t.StormWarningOverlay=(0,a.connect)(c)(d)},Gnwp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdsRequestContext=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("uXPQ"),a=n("/2o6"),o=n("uC+K"),s=n("VIow"),l=n("7Eji"),u=h(n("J2m7")),c=h(n("mwIZ")),d=h(n("v8eK")),f=h(n("xaJk")),p=h(n("E+oP")),_=n("wsSb");function h(e){return e&&e.__esModule?e:{default:e}}var m=30,E="LIVE",v="VOD";t.AdsRequestContext=function(){function e(t){var n=t.adType,r=t.channelInfo,a=t.channelStreamInfo,o=t.commercialId,s=t.creativeId,l=t.duration,u=t.embedPromo,c=t.forced,d=t.lastAdDisplay,f=t.lastPrerollAdDisplay,p=t.raid,_=t.requestType,h=t.state,E=t.viewerInfo,v=t.vodTagInfo,y=t.isAffiliate,g=t.isPartner;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.contentType=h.stream.contentType||"",this.adSessionId=(0,i.generate)(m),this.adType=n||"",this.raid=p,this.channel=r.name,this.channelId=r._id,this.commercialId=o,this.twitchCorrelator=(0,i.generate)(),this.duration=l,this.requestType=_,this.lastAdDisplay=d,this.lastPrerollAdDisplay=f,this.forced=c,this.requestTime=Date.now(),this.creativeId=s,this.embedPromo=u,this.isPartner=g,this.isAffiliate=y,this._nauth=h.stream._nAuth||{},this.nAuthToken=this._nauth.token,this.nAuthSignature=this._nauth.sig,this._initViewerInfoFields(E),this._initChannelInfoFields(r,a),this._initStateFields(h),this._initAmazonFields(),this._getContentTag(a,h,v)}return r(e,[{key:"_initSubscriptionDetails",value:function(e){var t=e.currentSubscriptionBenefit,n=e.currentSubscriptionProducts;if(this.hasChanSub=!1,this.hasAdFreeSubscription=!1,null!==t){this.hasChanSub=!0;var r=(0,u.default)(n,function(e){return e.name===t});this.hasAdFreeSubscription=(0,c.default)(r,"hasAdFree",!1)}}},{key:"_initViewerInfoFields",value:function(e){e.currentUser&&(this.login=e.currentUser.login,this.hasTurbo=e.currentUser.hasTurbo,this.userId=e.currentUser.id),e.requestInfo&&(this.countryCode=e.requestInfo.countryCode,this.isFromEEA=e.requestInfo.isFromEEA)}},{key:"_initChannelInfoFields",value:function(e,t){this.channel=e.name,this.channelId=e._id,e.game&&(this.game=(0,l.formatCustomTag)(e.game)),this.gameId=(0,c.default)(t,"channel.stream.game.id",""),this.mature=e.mature,this.partner=e.partner;var n=t.channel&&t.channel.stream?t.channel.stream:{};this.broadcasterSoftware=n.broadcasterSoftware}},{key:"_initChannelAdPropertiesFields",value:function(e){var t=e.currentAdProperties;this.vodAdsEnabled=t.hasVodAdsEnabled,this.prerollsEnabled=!t.hasPrerollsDisabled,this.postrollsEnabled=!t.hasPostrollsDisabled,this.requiredAge=t.requiredAge,this.adServer=t.adServerDefault||t.adServer,this.costreamers=t.costreamers}},{key:"_initStateFields",value:function(e){var t=e.ads,n=e.adsManager,r=e.gdprConsent,i=e.window,s=e.env,l=s.platform,u=s.playerType;this.contentType=e.stream.contentType,this.vodMidrollArchiveSetting=t.vodMidrollArchiveSetting,this.isMobileLocation=e.env.isMobileLocation,this.kruxId=i.Krux?i.Krux.user||"":null,this.platform=u===o.PLAYER_CURSE?u:l,this.playerType=e.env.playerType,this.embedUrl=i.document.referrer,this.url=(0,a.sanitizeQuery)(i.location.href),this.sdk=n.sdk,this.amazonConsent=r.vendors.amazon,this.googleConsent=r.vendors.google,this._initChannelAdPropertiesFields(t),this._initSubscriptionDetails(t),this._initVodFields(e)}},{key:"_initVodFields",value:function(e){var t=e.playback;this.vod={id:"",name:"",type:"",duration:-1},e.stream.contentType===s.CONTENT_MODE_VOD&&(this.vod.id=e.stream.videoId,this.vod.name=(0,l.formatCustomTag)(e.streamMetadata.name),this.vod.type=e.streamMetadata.type,this.vod.duration=t.duration)}},{key:"_initAmazonFields",value:function(){this.amzniid="",this.amznbid="",this.qsParams=""}},{key:"_getContentTag",value:function(e,t,n){var r=void 0;if(t.stream.contentType===_.CONTENT_MODE_LIVE){var i=(0,c.default)(e,"channel.stream.tags"),a=(0,c.default)(e,"channel.stream.game.tags");r=(0,d.default)(i,a)}else t.stream.contentType===s.CONTENT_MODE_VOD&&(r=(0,c.default)(n,"video.contentTags"));this.contentTag=(0,f.default)(r,function(e,t){return(0,p.default)(e)?""+e+(0,l.formatCustomTag)((0,c.default)(t,"tagName","")):e+","+(0,l.formatCustomTag)((0,c.default)(t,"tagName",""))},"")}},{key:"toGraphQLAdRequestContext",value:function(){var e=E;return this.contentType===s.CONTENT_MODE_VOD&&(e=v),{adSessionID:this.adSessionId,duration:parseInt(this.duration,10),rollType:this.adType.toUpperCase(),playerContext:{nauthToken:this.nAuthToken,nauthSig:this.nAuthSignature,contentType:e,isAutoPlay:!1},clientContext:{isAudioOnly:!1,isMiniTheater:!1,isPIP:!1,isUsingExternalPlayback:!1}}}}]),e}()},GoSL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createJitterFunc=function(e,t,n){var r=null;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];r&&(clearTimeout(r),r=null),r=setTimeout(function(){r=null,n.apply(void 0,o)},(0,a.default)(e,t))}};var r,i=n("D0BC"),a=(r=i)&&r.__esModule?r:{default:r}},"H/LY":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeekbarTimeDisplay=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("FxCM"));function o(e){return e&&e.__esModule?e:{default:e}}var s={currentTime:i.default.number,duration:i.default.number};(t.SeekbarTimeDisplay=function(e){var t=e.currentTime,n=e.duration,i=a.toString(t),o=a.toString(n);return r.default.createElement("div",{className:"player-seek__time-container"},r.default.createElement("span",{className:"player-seek__time"},i),r.default.createElement("span",{className:"player-seek__time player-seek__time--total"},o))}).propTypes=s},"H0/C":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipGenerator=t.CLIPS_FIXED_OFFSET=t.CLIPS_URL_COOKIE_KEY=t.CLIPS_QUERY_PARAM_KEY_CLIPS_TARGET=t.ALPHA_CLIPS_URL=t.STAGING_CLIPS_URL=t.PRODUCTION_CLIPS_URL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getClipsUrl=v,t.errorCodeToUrl=T,t.gqlErrorCodeToUrl=b;var i=n("idqK"),a=n("wsSb"),o=n("VIow"),s=n("uC+K"),l=n("4gWZ"),u=n("56nq"),c=n("ji7g"),d=n("Rnd+");var f=t.PRODUCTION_CLIPS_URL="https://clips.twitch.tv",p=t.STAGING_CLIPS_URL="https://clips-staging.twitch.tv",_=t.ALPHA_CLIPS_URL="https://clips-alpha.twitch.tv",h=t.CLIPS_QUERY_PARAM_KEY_CLIPS_TARGET="clips_target",m=t.CLIPS_URL_COOKIE_KEY="clips-staging",E=t.CLIPS_FIXED_OFFSET=8;function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(/\/\/(www|player|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e))return f;if(t[h])return"https://clips-"+t[h]+".twitch.tv";if(/\/\/betaplayer\.twitch\.tv/.test(e))return _;var n=l.cookie.get(m);return n||p}var y={channel_not_live:"channel_offline",user_banned:"user_banned",user_timed_out:"user_timedout",channel_banned:"channel_banned",channel_not_clippable:"channel_unclippable",not_logged_in:"logged_out",video_not_available:"video_unavailable",video_subonly:"video_subonly",clip_missing:"clip_missing",maintenance:"maintenance"},g={CHANNEL_NOT_LIVE:"channel_offline",USER_BANNED:"user_banned",USER_TIMED_OUT:"user_timedout",CHANNEL_BANNED:"channel_banned",CHANNEL_NOT_CLIPPABLE:"channel_unclippable"};function T(e){var t=y[e];return t||"500"}function b(e){var t=g[e];return t||"500"}t.ClipGenerator=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t;var n=this._store.getState().window.location,r=n.origin,i=n.search,a=(0,c.parse)(i);this._clipsUrl=v(r,a);var o=this._store.getState().experiments;this._experiment=o.get(d.ExperimentIds.VodClipsWinterIsHere)}return r(e,[{key:"recordClip",value:function(){var e=this._store.getState(),t=e.stream,n=e.streamMetadata,r=t.contentType,i=n.channel.name,s=n.channel.id;r===o.CONTENT_MODE_VOD?this._recordVodClip(i,s):r===a.CONTENT_MODE_LIVE&&this._recordLiveClip(i,s)}},{key:"_recordVodClip",value:function(e,t){var n=this._store.getState(),r=n.stream,i=n.analytics,a=n.backend,o=r.videoId,s=i.playSessionId,l={playerBackendType:a.getBackend(),channelName:e,channelID:t,offset:Math.round(a.getCurrentTime()),broadcastId:"",vodId:o.slice(1),playSessionId:s};this._createClip(l)}},{key:"_recordLiveClip",value:function(e,t){var n=this._store.getState(),r=n.backendInfo,a=n.manifestInfo,o=n.streamMetadata,s=n.analytics,l=n.backend,u=r.playerBackendType,c=o.broadcastID,d=s.playSessionId,f=void 0;u===i.BACKEND_MEDIA_PLAYER?f=l.elapsedTime():f=a.stream_time+l.getCurrentTime()-E;var p={playerBackendType:u,channelName:e,channelID:t,offset:Math.round(Math.max(f,0)),broadcastId:c,vodId:"",playSessionId:d};this._createClip(p)}},{key:"_createClip",value:function(e){var t=this,n=e.channelID,r=e.playerBackendType,i=e.channelName,a=e.offset,o=e.broadcastId,l=e.vodId,c=e.playSessionId,d=this._store.getState().env.playerType===s.PLAYER_CURSE,f=d?null:window.open("","_blank"),p={player_backend_type:r,channel:i,offset:a,broadcast_id:o,vod_id:l,play_session_id:c},_={broadcasterID:""+n,offsetSeconds:a,videoID:l};o&&(_.broadcastID=""+o),this._experiment.then(function(e){"on"===e?(0,u.createClipGQL)(_).then(function(e){var n=void 0;n=e.createClip.error&&e.createClip.error&&e.createClip.error.code?t._clipsUrl+"/clips/"+b(e.createClip.error.code):e.createClip.clip.url+"/edit",f&&!d?f.location=n:window.open(n,"_blank")}):(0,u.createClip)(t._clipsUrl+"/api/v2/clips",p).then(function(e){var n=void 0,r=e.code;n=r?t._clipsUrl+"/clips/"+T(r):e.url+"/edit",f&&!d?f.location=n:window.open(n,"_blank")})})}}]),e}()},H6wP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetTag=function(){return{type:s}},t.sendPlayerBeacon=function(){return function(e,t){var n=t(),r=n.window;l(r,i,a,"2246787049647177590","","","")}},t.sendVideoBeacon=function(){return function(e,t){var n=t(),i=n.window;l(i,r,a,"TWITCH","twitch.tv",o,"")}};var r="1",i="7",a="6745306",o="03",s=t.ACTION_RESET_TAG="reset tag";function l(e,t,n,r,i,a,o){var s={c1:t,c2:n,c3:r,c4:i,c5:a,c6:o};"COMSCORE"in e?e.COMSCORE.beacon(s):(e._comscore||(e._comscore=[]),e._comscore.push(s))}},"HCF/":function(e,t,n){var r=n("q/Rs");function i(e){this._url=e}e.exports=i,i.SERVICE_URL="//www.twitch.tv/experiments.json",i.prototype.getExperimentConfiguration=function(e,t){r.fetch(this._url,{},function(n,r){if(null===n)try{e(JSON.parse(r))}catch(e){t(new Error("Invalid JSON response from server: "+r))}else t(n)})}},HLqC:function(e,t,n){var r=n("R5Y4"),i=n("mv/X"),a=n("ZCgT");e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},HMmG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutedSegments=void 0;var r=s(n("lFKM")),i=s(n("q1tI")),a=s(n("17x9")),o=n("Yat3");function s(e){return e&&e.__esModule?e:{default:e}}var l={duration:a.default.number,mutedSegments:a.default.arrayOf(a.default.shape({duration:a.default.number,offset:a.default.number}))};(t.MutedSegments=function(e){var t=e.duration,n=e.mutedSegments;if(!(0,r.default)(t)||t<=0)return null;if(!Array.isArray(n)||n.length<=0)return null;var a=n.map(function(e){return i.default.createElement("span",{className:"player-slider__muted",style:{width:(0,o.getPercentage)(e.duration,t)+"%",left:(0,o.getPercentage)(e.offset,t)+"%"},key:e.offset+"_"+e.duration+"_"+t})});return i.default.createElement("div",{className:"player-slider__muted-segments js-muted-segments-container"},a)}).propTypes=l},HPHi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBanner=t.BackgroundBannerContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createBGImageUrl=T;var i=p(n("q1tI")),a=p(n("17x9")),o=n("N58E"),s=n("R0g0"),l=n("uAxA"),u=n("wsSb"),c=n("jC1Q"),d=n("QBeZ"),f=n("VPTj");function p(e){return e&&e.__esModule?e:{default:e}}var _={bannerType:a.default.string.isRequired,imgUrl:a.default.string,onContentShowing:a.default.func.isRequired},h="offline-banner",m="video-preview",E="none",v=t.mapStateToProps=function(e){var t=e.streamMetadata,n=t.channel,r=t.preview,i=function(e){var t=e.playback,n=e.stream,r=e.onlineStatus,i=e.ads.currentMetadata.contentType!==d.AdContentTypes.NONE,a=r===l.OFFLINE_STATUS,o=t.autoplay,s=t.ended,f=t.hasPlayed,p=t.paused,_=n.contentType,v=!o&&!f&&p&&!a||_===c.CONTENT_MODE_NONE,y=_===u.CONTENT_MODE_LIVE&&!i&&a&&s;if(v)return m;if(y)return h;return E}(e),a=n.videoBanner,o=r.template;return i===E?{bannerType:i,imgUrl:""}:{bannerType:i,imgUrl:T(i===h?a:o)}},y=t.mapDispatchToProps=function(e){return{onContentShowing:function(){e((0,f.contentIsShowing)())}}},g=t.BackgroundBannerContainer=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.bannerType!==E&&this.props.onContentShowing()}},{key:"render",value:function(){var e=this.props,t=e.bannerType,n=e.imgUrl;return t===E?null:i.default.createElement(s.BackgroundBanner,{imgUrl:n,bgType:t})}}]),t}();g.propTypes=_;t.BackgroundBanner=(0,o.connect)(v,y)(g);function T(e){return e?e.replace("{width}x{height}","1280x720").replace("-320x240","-1280x720"):""}},HVPV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.screen=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[a.CONTENT_SCREEN],t=arguments[1];switch(t.type){case l.ACTION_SET_AD_METADATA:switch(t.currentMetadata.contentType){case l.AdContentTypes.IMA:return e[0]!==a.ADVERTISEMENT_SCREEN?[a.ADVERTISEMENT_SCREEN].concat(e):e;case l.AdContentTypes.STITCHED:return e[0]!==a.STITCHED_ADVERTISEMENT_SCREEN?[a.STITCHED_ADVERTISEMENT_SCREEN].concat(e):e;case l.AdContentTypes.NONE:return(0,i.default)(e,a.ADVERTISEMENT_SCREEN,a.STITCHED_ADVERTISEMENT_SCREEN);default:return e}case a.ACTION_PUSH_SCREEN:return[t.screen].concat(e);case a.ACTION_POP_SCREEN:return 1===e.length?[a.CONTENT_SCREEN]:e.slice(1);case o.ACTION_SET_STREAM:return(0,r.default)([a.OFFLINE_RECOMMENDATIONS_SCREEN,a.POST_VOD_RECOMMENDATIONS_SCREEN,a.VOD_RESTRICTED_SCREEN,a.COLLECTION_EMPTY_SCREEN],e[0])?e.slice(1):e;case s.ACTION_ERROR:return(0,r.default)([a.ERROR_SCREEN,a.VOD_RESTRICTED_SCREEN,a.QUALITY_RESTRICTED_SCREEN,a.PREMIUM_CONTENT_RESTRICTED_SCREEN],e[0])?e:[a.ERROR_SCREEN].concat(e);case s.ACTION_CLEAR_ERROR:return e[0]===a.ERROR_SCREEN?e.slice(1):e;default:return e}};var r=u(n("ijCd")),i=u(n("Wt1U")),a=n("uNCh"),o=n("D3OJ"),s=n("+eo6"),l=n("QBeZ");function u(e){return e&&e.__esModule?e:{default:e}}},HXgr:function(e,t,n){var r=n("wMnI"),i=n("s91p");e.exports=l;var a=6e4,o=1e3,s=6e4;function l(e){var t,n,l=function(e){if(!e.defaults||Object.getPrototypeOf(e.defaults)!==Object.prototype)return new Error("Invalid defaults; expected object, got "+JSON.stringify(e.defaults));if("string"!=typeof e.deviceID||0===e.deviceID.length)return new Error("Invalid device ID; expected non-empty string, got `"+e.deviceID+"`");if("string"!=typeof e.platform||0===e.platform.length)return new Error("Invalid platform; expected non-empty string, got `"+e.platform+"`");if("object"!=typeof e.provider||"function"!=typeof e.provider.getExperimentConfiguration)return new Error("Invalid provider");if("function"!=typeof e.Promise)return new Error("Invalid Promise implementation");return null}(e);if(null!==l)throw l;this._config=function(e){return new e.Promise(function(t,n){e.provider.getExperimentConfiguration(t,n)}).then(function(e){var t=r.validate(e);if(t)throw t;return e})}(e),this._Promise=e.Promise,this._deviceID=e.deviceID,this._platform=e.platform,this._username=e.login||null,this._overrides=e.overrides||{},this._defaults=function(e,t,n){var r={};for(var i in t)r[i]=function(r){return e.resolve(n[i]).then(function(e){return"string"==typeof e?e:t[r]},function(){return t[r]})}(i);return r}(e.Promise,e.defaults,this._overrides),this._assignments=function(e,t,n,i,a,o){var s={};for(var l in n)n.hasOwnProperty(l)&&(s[l]=function(s){return t.then(function(e){if(!e.hasOwnProperty(s))throw new Error("Experiment `"+s+"` is deprecated");if(!e[s].t)throw new Error("Experiment `"+s+"` does not have a type");return 1==e[s].t?r.selectTreatment(s,e[s],a):o&&2==e[s].t?r.selectTreatment(s,e[s],o):n[s]},function(e){return n[s]}).then(function(t){return e.resolve(i[s]).then(function(e){return"string"==typeof e?e:t},function(){return t})})}(l));return s}(e.Promise,this._config,this._defaults,this._overrides,this._deviceID,this._username),this._spade_url=(t=this._config,n=i.SPADE_URL_PROJECT_UUID,t.then(function(e){return e[n]&&e[n].groups&&e[n].groups[0]?e[n].groups[0].value:""},function(e){return""})),this._batchTimer=0,this._eventQueue=[],this._resolveQueue=[],this._batchTimeOut=isNaN(e.batchTimeOut)?o:Math.min(e.batchTimeOut,a),this._throttleTime=isNaN(e.throttleTime)?0:Math.min(e.throttleTime,s),this._throttleCache={}}l.prototype.get=function(e,t){var n=function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);for(n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(r[n]=t[n]);return r}(t||{},{mustTrack:!1,channel:null,printt:!1}),a=this._Promise.all([this._config,this._assignments[e]]).then(function(t){var i=t[0],a=t[1];return 3==i[e].t&&n.channel?r.selectTreatment(e,i[e],n.channel):a},function(t){return console.warn(t),this._defaults[e]||null}.bind(this)).then(function(t){return this._Promise.resolve(this._overrides[e]).then(function(e){return"string"==typeof e?e:t},function(){return t})}.bind(this))||this._Promise.reject(new Error("No experiment with ID `"+e+"`")),o=this._Promise.all([this._config,a,this._spade_url]).then(function(t){var r=t[0],a=t[1],o=t[2];if(this._throttleTime>0){var s=this._throttleCache[e+"_"+a];if(Date.now()<1e3*s+this._throttleTime)return Promise.resolve()}var l={client_time:(new Date).getTime()/1e3,device_id:this._deviceID,experiment_id:e,experiment_group:a,platform:this._platform,experiment_version:0};if(this._throttleTime>0&&(this._throttleCache[e+"_"+a]=l.client_time),r[e])switch(l.experiment_name=r[e].name,l.experiment_version=r[e].v,r[e].t){case 1:l.experiment_type="device_id";break;case 2:l.experiment_type="user_id";break;case 3:l.experiment_type="channel_id"}return null!==this._username&&(l.login=this._username),null!==n.channel&&(l.channel=n.channel),n.mustTrack||0===this._batchTimeOut?new this._Promise(function(e,t){n.printt&&console.log(l),i.sendEvent(o,[{event:"experiment_branch",properties:l}],e)}).then(null,function(){return null}):new this._Promise(function(e,t){if(n.printt&&console.log(l),this._eventQueue.push({event:"experiment_branch",properties:l}),this._resolveQueue.push(e),this._eventQueue.length>=50)return clearTimeout(this._batchTimer),this._batchTimer=0,this._sendQueuedEvents(o,this._eventQueue,this._resolveQueue),this._eventQueue=[],void(this._resolveQueue=[]);this._batchTimer||(this._batchTimer=setTimeout(function(){this._batchTimer=0,this._sendQueuedEvents(o,this._eventQueue,this._resolveQueue),this._eventQueue=[],this._resolveQueue=[]}.bind(this),this._batchTimeOut))}.bind(this)).then(null,function(){return null})}.bind(this));return this._Promise.all([a,n.mustTrack?o:null]).then(function(e){return e[0]},function(t){return console.warn(t),this._defaults[e]||null}.bind(this))},l.prototype._sendQueuedEvents=function(e,t,n){i.sendEvent(e,t,function(){n.forEach(function(e){e()})}.bind(this))}},HzOX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromecastButton=void 0,t.ChromecastButtonContainer=_;var r=d(n("q1tI")),i=d(n("17x9")),a=n("N58E"),o=n("ut+t"),s=n("XU6G"),l=n("uC+K"),u=n("Tbnf"),c=d(n("ijCd"));function d(e){return e&&e.__esModule?e:{default:e}}var f={castingState:i.default.string.isRequired,playerType:i.default.string.isRequired,startCast:i.default.func,stopCast:i.default.func},p=[l.PLAYER_HIGHLIGHTER,l.PLAYER_RECAP];function _(e){var t=e.castingState,n=e.playerType,i=e.stopCast,a=e.startCast;if((0,c.default)(p,n))return null;var o=void 0;return o=t===s.AVAILABLE?a:t===s.CONNECTED?i:function(){},r.default.createElement(u.ChromecastButton,{castingState:t,onClick:o})}_.propTypes=f,_.defaultProps={startCast:function(){},stopCast:function(){}};t.ChromecastButton=(0,a.connect)(function(e){var t=e.chromecast,n=e.env;return{castingState:t.castingState,playerType:n.playerType}},function(e){return{startCast:function(){e((0,o.startCast)())},stopCast:function(){e((0,o.stopCast)())}}})(_)},I22O:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackSpeedButton=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n("q1tI")),a=l(n("17x9")),o=n("1fV9"),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}var u={isActive:a.default.bool.isRequired,label:a.default.string.isRequired,onClick:a.default.func,speedValue:a.default.number.isRequired},c=t.PlaybackSpeedButton=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.speedValue)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.label,r=(0,s.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--active":t});return i.default.createElement("div",{className:r},i.default.createElement(o.Button,{className:"ellipsis",onClick:this.handleClick},i.default.createElement("span",null,n)))}}]),t}();c.propTypes=u,c.defaultProps={onClick:function(){}}},I3vh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("B9JN"),a=n("56nq");t.UserManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this.updateUserInfo()}return r(e,[{key:"updateUserInfo",value:function(){var e=this;(0,a.oauthToken)().then(a.krakenUserInfo).then(this._normalizeUserInfo).then(function(t){return e._store.dispatch((0,i.userLoggedIn)(t))}).catch(function(){e._store.dispatch((0,i.userNotLoggedIn)())})}},{key:"_normalizeUserInfo",value:function(e){var t="staff"===e.type;return{id:e._id,name:e.name,isStaff:t,isAdmin:t||"admin"===e.type}}},{key:"destroy",value:function(){}}]),e}()},IB9i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FocusPlayerOverlay=t.FocusPlayerContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=d(i),o=d(n("17x9")),s=n("N58E"),l=n("2GWp"),u=n("uNCh"),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("uC+K"));function d(e){return e&&e.__esModule?e:{default:e}}var f=Object.freeze({isShowingAd:o.default.bool.isRequired,shouldEmitFocusPlayer:o.default.bool,emitFocusPlayer:o.default.func}),p=Object.freeze({shouldEmitFocusPlayer:!1,emitFocusPlayer:function(){}}),_=t.mapStateToProps=function(e){var t=e.env,n=e.screen;return{isShowingAd:n[0]===u.STITCHED_ADVERTISEMENT_SCREEN||n[0]===u.ADVERTISEMENT_SCREEN,shouldEmitFocusPlayer:c.FOCUSABLE_PLAYER_TYPES.includes(t.playerType)}},h=t.mapDispatchToProps=function(e){return{emitFocusPlayer:function(){e((0,l.emitFocusPlayer)())}}},m=t.FocusPlayerContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.focusPlayer=e.focusPlayer.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"focusPlayer",value:function(){this.props.emitFocusPlayer()}},{key:"render",value:function(){return!this.props.shouldEmitFocusPlayer||this.props.isShowingAd?null:a.default.createElement("div",{className:"player-overlay",onClick:this.focusPlayer,role:"presentation"})}}]),t}();m.propTypes=f,m.defaultProps=p;t.FocusPlayerOverlay=(0,s.connect)(_,h)(m)},IFdx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=function(){var e=this;e.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}},IMEk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e){var t=e?"session_unique_id":"unique_id",n=r.cookie.get(t);if(n&&"null"!==n&&n.length>=16&&"0000000000000000"!==n&&"00000000000000000000000000000000"!==n)return n;n=i.generate();var o=e?"":3650;return r.cookie.set(t,n,{expires:o,domain:"."+a.domain,path:"/",secure:!1}),n};var r=n("4gWZ"),i=o(n("uXPQ")),a=o(n("J0qE"));function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},IPyt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutomatedMuteOverlay=t.AutomatedMuteOverlayContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=_(n("q1tI")),a=_(n("17x9")),o=_(n("UnXY")),s=_(n("ijCd")),l=n("N58E"),u=n("4b1H"),c=n("YWLq"),d=n("phZZ"),f=n("uNCh"),p=n("KR5+");function _(e){return e&&e.__esModule?e:{default:e}}var h={unmutePlayer:a.default.func.isRequired,isMobileWeb:a.default.bool.isRequired,isPlaying:a.default.bool.isRequired,hasPlayed:a.default.bool.isRequired,isAutoMuted:a.default.bool.isRequired,setTimeout:a.default.func.isRequired,clearTimeout:a.default.func.isRequired,trackOverlayClick:a.default.func.isRequired,pushUnmuteScreen:a.default.func.isRequired,popScreen:a.default.func.isRequired,screenStack:a.default.arrayOf(a.default.string).isRequired},m=t.mapStateToProps=function(e){var t=e.env,n=e.playback,r=e.window,i=e.screen;return{isMobileWeb:t.platform===p.PLATFORM_MOBILE_WEB,isPlaying:n.playing,hasPlayed:n.hasPlayed,isAutoMuted:n.automatedMute,setTimeout:r.setTimeout,clearTimeout:r.clearTimeout,screenStack:i}},E=t.mapDispatchToProps=function(e){return{unmutePlayer:function(){e((0,u.mutePlayer)(!1))},trackOverlayClick:function(){e((0,c.trackEvent)("player_click",{component:"unmute_overlay"}))},pushUnmuteScreen:function(){e((0,f.pushScreen)(f.UNMUTE_SCREEN))},popScreen:function(){e((0,f.popScreen)())}}};var v=t.AutomatedMuteOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hideTimeoutId:0},e.handleClick=e.handleClick.bind(e),e.startTimeout=e.startTimeout.bind(e),e.cancelTimeout=e.cancelTimeout.bind(e),e.timeoutHandler=e.timeoutHandler.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isAutoMuted&&this.props.isPlaying&&this.props.hasPlayed&&!(0,s.default)(this.props.screenStack,f.UNMUTE_SCREEN)&&this.props.pushUnmuteScreen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isAutoMuted&&e.isPlaying||e.screenStack[0]!==f.UNMUTE_SCREEN||this.props.popScreen(),e.isAutoMuted&&function(e,t){return!e.hasPlayed&&t.hasPlayed&&t.isPlaying}(this.props,e)&&!(0,s.default)(e.screenStack,f.UNMUTE_SCREEN)&&this.props.pushUnmuteScreen(),this.props.screenStack[0]===f.UNMUTE_SCREEN&&e.screenStack[0]!==f.UNMUTE_SCREEN&&this.cancelTimeout(),this.props.screenStack[0]!==f.UNMUTE_SCREEN&&e.screenStack[0]===f.UNMUTE_SCREEN&&this.startTimeout()}},{key:"render",value:function(){var e=i.default.createElement(d.AnimatedUnmuteOverlay,{onClick:this.handleClick,isTapToUnmute:this.props.isMobileWeb}),t=this.props.screenStack[0]===f.UNMUTE_SCREEN?e:null;return i.default.createElement(o.default,{component:"div"},t)}},{key:"timeoutHandler",value:function(){var e=this.props,t=e.screenStack,n=e.popScreen;t[0]===f.UNMUTE_SCREEN&&n()}},{key:"startTimeout",value:function(){var e=this.props,t=e.setTimeout;(0,e.clearTimeout)(this.state.hideTimeoutId);var n=t(this.timeoutHandler,5e3);this.setState({hideTimeoutId:n})}},{key:"cancelTimeout",value:function(){(0,this.props.clearTimeout)(this.state.hideTimeoutId),this.setState({hideTimeoutId:0})}},{key:"handleClick",value:function(){var e=this.props,t=e.unmutePlayer,n=e.trackOverlayClick;t(),n()}}]),t}();v.propTypes=h;t.AutomatedMuteOverlay=(0,l.connect)(m,E)(v)},IS2M:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionUseBitsModalContainer=t.ExtensionUseBitsModalContainerComponent=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("wR1/"),s=n("IgQK"),l=n("lxK/");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClose:i.default.func.isRequired,options:i.default.shape({payload:i.default.shape({bitsRequired:i.default.number.isRequired,extensionItemLabel:i.default.string.isRequired,extensionName:i.default.string.isRequired}),error:i.default.string}),windowObj:i.default.object.isRequired,bitsBalance:i.default.number.isRequired},d=t.ExtensionUseBitsModalContainerComponent=function(e){var t=e.onClose,n=e.options,i=e.windowObj,a=e.bitsBalance;return n.error?r.default.createElement(l.ExtensionUseBitsModalError,{onClose:t}):a>=n.payload.bitsRequired?r.default.createElement(o.ExtensionUseBitsModal,{onClose:t,windowObj:i,bitsBalance:a,options:n.payload}):r.default.createElement(s.ExtensionUseBitsUpsellModal,{onClose:t,windowObj:i,bitsBalance:a,options:n.payload})};d.propTypes=c;t.ExtensionUseBitsModalContainer=(0,a.connect)(function(e){return{bitsBalance:e.bits.bitsBalance}})(d)},IacF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipGeneratorLoaded=function(e){return{type:r,generator:e}};var r=t.ACTION_CLIP_GENERATOR_LOADED="clip generator loaded"},IazR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USHER_PREFIX=t.ACTION_SET_USHER_HOST_OVERRIDE=t.ACTION_SET_USHER_PARAMS=void 0,t.setUsherParams=function(e,t){var n={player_backend:e};return(0,a.default)(t,function(e,t){if(0===t.indexOf(l)){var r=t.substring(l.length);n[r]=e}}),n.p=Math.floor(9999999*Math.random()),{type:o,params:n}},t.setUsherHostOverride=function(e){return{type:s,hostOverride:e}};var r,i=n("mUg4"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ACTION_SET_USHER_PARAMS="set usher params",s=t.ACTION_SET_USHER_HOST_OVERRIDE="set usher host override",l=t.USHER_PREFIX="usher_"},IdQn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MoatAnalytics=t.MOAT_VE_SLICER_1=t.EXPERIMENT_DEFAULT=t.EXPERIMENT_ENABLED=t.FRING_PROVIDER=t.MOAT_PARTNER_CODE_NATIVE=t.MOAT_PARTNER_CODE_IMA=t.MOAT_PARTNER_CODE_ORIGINAL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.buildSlicer=g,t.buildAudienceVerification=T,t.sendMoatSpadeEvent=function(e,t){var n=e.getState(),r=n.ads,i=n.playback,a=i.volume,o=i.muted,s=r.moatAnalytics,l=[u.AdContentTypes.IMA,u.AdContentTypes.STITCHED];s&&l.includes(r.currentMetadata.contentType)&&s.dispatchEvent({type:t,adVolume:o?0:a})};var i,a=n("NBx9"),o=n("AUsz"),s=n("z3zQ"),l=n("bWEd"),u=n("QBeZ"),c=n("XHH3"),d=n("wjyp"),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("TRt3")),p=n("zdiy"),_=(i=p)&&i.__esModule?i:{default:i};var h=t.MOAT_PARTNER_CODE_ORIGINAL="twitchvpaid2756206246",m=t.MOAT_PARTNER_CODE_IMA="twitchhostedvpaid424814161142",E=t.MOAT_PARTNER_CODE_NATIVE="twitchhostedssai720355954647",v=t.FRING_PROVIDER="fring",y=(t.EXPERIMENT_ENABLED="enabled",t.EXPERIMENT_DEFAULT="control",t.MOAT_VE_SLICER_1="www.twitch.tv");t.MoatAnalytics=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._adContainer=t,this._store=n,this._moatCallback=this._moatCallback.bind(this),r.stitched?(this._moatTracking=c.initMoatNativeTracking,this._provider=v,this._adServer=o.DFP_SPADE_SERVER):r.vaes?(this._moatTracking=c.initMoatVAESTracking,this._provider=s.SPADE_AMAZON_PROVIDER,this._adServer=s.SPADE_VAES_SERVER):(this._google=n.getState().window.google,this._moatOriginalTracking=c.initMoatTracking,this._moatTracking=c.initMoatIMATracking,this._provider=o.IMA_PROVIDER,this._adServer=o.DFP_SPADE_SERVER)}return r(e,[{key:"_moatCallback",value:function(e,t,n){var r=this._store.getState(),i=r.user,o=r.streamMetadata.channel,s=o.id,l=o.name,u=r.window.navigator.userAgent||"",c=r.window.navigator.languages||r.window.navigator.language||"",p=(0,_.default)((0,d.initializeAdSpadeEvent)(t,n),{accept_languages:c,app_version:a.APP_VERSION,channel:l,channel_id:s,query_string:e,stitched:this._provider===v,user_agent:u,user_id:i?i.id:null});(0,d.sendAdSpadeEvent)({store:this._store,provider:this._provider,adServer:this._adServer,eventName:f.AD_VIDEO_MOAT_VIEWABILITY,data:p})}},{key:"trackAd",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&(t.adServer===l.VAES_AD_SERVER?this.trackAmazonAd(t,n):t.adServer===l.DFP_AD_SERVER&&(this.trackAdOriginal(e,t),this.trackDFPAd(e,t,n)))}},{key:"trackAdStitched",value:function(e,t){var n=this,r={level3:t.adId,level4:t.creativeId,slicer1:y,slicer2:g(e)};if(e.adServer===l.VAES_AD_SERVER){if(void 0===t.advertiserId&&void 0===t.campaignId)return;this._adServer=s.SPADE_VAES_SERVER,r.level1=t.advertiserId,r.level2=t.campaignId}try{var i=this._moatTracking(this._adContainer,r,t.duration,E,null,function(r){return n._moatCallback(r,e,t)});this._store.dispatch((0,u.setMoatAnalytics)(i))}catch(e){}}},{key:"trackDFPAd",value:function(e,t,n){var r=this,i={partnerCode:m,viewMode:this._google.ima.ViewMode.NORMAL,slicer1:y,slicer2:g(t)},a=(0,_.default)(i,T(t));try{this._moatTracking(e,a,this._adContainer,function(e){return r._moatCallback(e,t,n)})}catch(e){}}},{key:"trackAdOriginal",value:function(e,t){var n={partnerCode:h,viewMode:this._google.ima.ViewMode.NORMAL,slicer1:y,slicer2:g(t)},r=(0,_.default)(n,T(t));try{this._moatOriginalTracking(e,r,this._adContainer)}catch(e){}}},{key:"trackAmazonAd",value:function(e,t){var n=this,r={level1:t.viewability.advertiserCfId,level2:t.viewability.campaignCfId,level3:t.viewability.adCfId,level4:t.viewability.creativeCfId,slicer1:y,slicer2:g(e)};try{var i=this._moatTracking(this._adContainer,r,t.duration,m,null,function(r){return n._moatCallback(r,e,t)});this._store.dispatch((0,u.setMoatAnalytics)(i))}catch(e){}}}]),e}();function g(e){var t="unknown";return e&&e.channel&&(t=e.channel),e&&e.game&&(t=t+" + "+e.game),t}function T(e){return{zMoatChannel:e.channel,zMoatChannelID:e.channelId,zMoatGame:e.game}}},IgQK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionUseBitsUpsellModal=t.ExtensionUseBitsUpsellModalComponent=t.MODAL_BUY_URL=t.MODAL_BUTTON_CANCEL=t.MODAL_BUTTON_BUY=t.MODAL_BUTTON_CONFIRM=t.MODAL_TITLE_HEADER=void 0;var r,i,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=_(n("q1tI")),l=_(n("17x9")),u=_(n("TSYQ")),c=n("9kay"),d=n("1fV9"),f=n("4AzW"),p=n("ic+G");function _(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=t.MODAL_TITLE_HEADER="qa-use-bits-modal-title-header",E=(t.MODAL_BUTTON_CONFIRM="qa-use-bits-modal-button-confirm",t.MODAL_BUTTON_BUY="qa-use-bits-modal-button-buy"),v=t.MODAL_BUTTON_CANCEL="qa-use-bits-modal-button-cancel",y=t.MODAL_BUY_URL="https://www.twitch.tv/bits",g=(0,u.default)({"pl-menu__inner":!0,"extension-modal__inner":!0}),T=(0,u.default)({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0}),b=(0,u.default)((h(r={},m,!0),h(r,"pl-menu__item",!0),h(r,"extension-modal__title",!0),r)),S=(0,u.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),A=(0,u.default)((h(i={},E,!0),h(i,"pl-button",!0),h(i,"pl-button--hollow",!0),h(i,"extension-modal__button",!0),i)),C=(0,u.default)((h(a={},v,!0),h(a,"pl-button",!0),h(a,"pl-button--hollow",!0),h(a,"extension-modal__button",!0),a)),O={t:l.default.func.isRequired,onClose:l.default.func.isRequired,options:l.default.shape({bitsRequired:l.default.number.isRequired,extensionItemLabel:l.default.string.isRequired,extensionName:l.default.string.isRequired}),bitsBalance:l.default.number.isRequired,windowObj:l.default.object.isRequired},P=t.ExtensionUseBitsUpsellModalComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.buyBits=e._buyBits.bind(e),e.cancelUseBits=e._cancelUseBits.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"render",value:function(){return s.default.createElement("div",{className:g},this._renderHeader(),s.default.createElement("div",{className:S},this._renderButtons()))}},{key:"_renderHeader",value:function(){var e=s.default.createElement(f.BitsCount,{bitsConfig:p.FALLBACK_BITS_CONFIG,count:this.props.options.bitsRequired-this.props.bitsBalance,withText:!1,withNumber:!0,withImage:!0,animated:!1}),t=s.default.createElement("div",null,s.default.createElement("div",{className:"extension-modal__title-use-bits"},s.default.createElement("span",{className:"extension-modal__item-label"},this.props.options.extensionItemLabel),s.default.createElement(f.BitsCount,{bitsConfig:p.FALLBACK_BITS_CONFIG,count:this.props.options.bitsRequired,withText:!0,withImage:!0,animated:!1})),s.default.createElement("div",null,this.props.options.extensionName),s.default.createElement("div",{className:"extension-modal__use-bits-desc"},s.default.createElement(c.Interpolate,{i18nKey:"You need {{bitsRequired}} more Bits to proceed.",bitsRequired:e})));return s.default.createElement("div",{className:T},s.default.createElement("div",{className:"extension-modal__header-row"},s.default.createElement("div",{className:b},t)))}},{key:"_renderButtons",value:function(){return s.default.createElement("div",null,s.default.createElement(d.Button,{className:A,onClick:this.buyBits},this.props.t("Buy Bits")),s.default.createElement(d.Button,{className:C,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}},{key:"_buyBits",value:function(){this.props.windowObj.open(y)}}]),t}();P.propTypes=O;t.ExtensionUseBitsUpsellModal=(0,c.translate)()(P)},IhrN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserOfflineOverlay=void 0,t.UserOfflineOverlayComponent=u;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s="You seem to be offline. Please wait while we try to reconnect.",l={t:i.default.func.isRequired};function u(e){var t=e.t;return r.default.createElement("div",null,r.default.createElement("p",null,t(s)))}u.propTypes=l;t.UserOfflineOverlay=(0,a.translate)()(u)},IpWL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsButton=void 0,t.NotificationsButtonComponent=d;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("9kay"),s=u(n("TSYQ")),l=n("0qR3");function u(e){return e&&e.__esModule?e:{default:e}}var c={notificationsEnabled:i.default.bool.isRequired,enable:i.default.func.isRequired,disable:i.default.func.isRequired,t:i.default.func.isRequired,className:i.default.string};function d(e){var t=e.className,n=e.notificationsEnabled,i=e.enable,o=e.disable,u=e.t,c=(0,s.default)("pl-button","pl-button--icon","pl-button--status",t),d=(0,s.default)("pl-button",t),f=r.default.createElement(a.Button,{className:c,onClick:o,blurAfterClick:!0},r.default.createElement("span",null,r.default.createElement("figure",null,r.default.createElement(l.FollowcheckSVG,{id:"icon_pl-followcheck"})),u("Notifications"))),p=r.default.createElement(a.Button,{className:d,onClick:i,blurAfterClick:!0},r.default.createElement("span",null,u("Turn On Notifications")));return n?f:p}d.propTypes=c;t.NotificationsButton=(0,o.translate)()(d)},Ipgj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WarpConnectivityExperimentManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("Rnd+"),a=n("UuYt");t.WarpConnectivityExperimentManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t;var n=this.store.getState().window;this.initialDelay=Math.round(6e4*Math.random()),this.timeoutId=n.setTimeout(this.runExperiment.bind(this),this.initialDelay)}return r(e,[{key:"runExperiment",value:function(){var e=this,t=this.store.getState(),n=t.experiments,r=t.window;Promise.all([n.get(i.ExperimentIds.WarpIPv4),n.get(i.ExperimentIds.WarpIPv6)]).then(function(t){e.resetExperimentModules(),"enabled"===t[0]&&(e.ipv4Manager=new a.WarpConnectivityExperiment({store:e.store,isIPv4:!0})),"enabled"===t[1]&&(e.ipv6Manager=new a.WarpConnectivityExperiment({store:e.store,isIPv4:!1})),"enabled"!==t[0]&&"enabled"!==t[1]||(e.timeoutId=r.setTimeout(e.runExperiment.bind(e),6e4))})}},{key:"resetExperimentModules",value:function(){this.ipv4Manager&&this.ipv4Manager.destroy(),this.ipv6Manager&&this.ipv6Manager.destroy(),this.ipv4Manager=null,this.ipv6Manager=null}},{key:"destroy",value:function(){this.store.getState().window.clearTimeout(this.timeoutId),this.resetExperimentModules()}}]),e}()},Irul:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoType=t.ACTION_VOD_SET_IS_SEEKED=t.ACTION_VOD_SET_USER=t.ACTION_VOD_POST_BACKEND_TIME=t.ACTION_LIVESTREAM_SET_RESUME_TIME=t.ACTION_LIVESTREAM_CANCEL_RESUME=t.ACTION_VOD_SET_RESUME_TIME=t.ACTION_VOD_CANCEL_RESUME=t.ACTION_VOD_INIT_RESUME=t.ACTION_SET_RESUME_TIMES=void 0,t.initVodResume=function(){return{type:l,times:r.localStore.get(m,{}),watch:r.localStore.get(E,{}),streamTimes:r.localStore.get(v,{}),lastTimeStamp:0,userId:null,isSeeked:!1}},t.setUser=function(e){return{type:_,userId:e}},t.setIsSeeked=function(e){return{type:h,isSeeked:e}},t.getResumeTimes=function(e){if(!e)return Promise.reject();return(0,i.getResumeWatchingInfoGQL)(e).then(function(e){return O(e)})},t.setResumeTimes=function(e){return{type:s,resumeTimes:e}},t.setVodResumeTime=function(e,t){return function(n,r){var i=r(),a=i.resumeWatch;a.userId?n(b(e,t)):(n({type:c,videoID:e,time:t}),A(r()))}},t.cancelVodResumeTime=function(e){return function(t,n){var r=n(),i=r.resumeWatch;i.userId?t(b(e,0)):(t({type:u,videoID:e}),A(n()))}},t.setLivestreamResumeTime=function(e,t){return function(n,r){var i=r(),a=i.resumeWatch;a.userId?n(S(e,t)):(n({type:f,broadcastID:e,time:t}),A(r()))}},t.cancelLivestreamResumeTime=function(e){return function(t,n){var r=n(),i=r.resumeWatch;i.userId?t(S(e,0)):(t({type:d,broadcastID:e}),A(n()))}},t.normalizeResumeWatchGQLInfo=O,t.videoTypeToGQLVideoTypeEnum=N;var r=n("EoNM"),i=n("56nq"),a=n("VIow"),o=n("wsSb"),s=t.ACTION_SET_RESUME_TIMES="set resume times",l=t.ACTION_VOD_INIT_RESUME="initialize vod resume",u=t.ACTION_VOD_CANCEL_RESUME="cancel vod resume",c=t.ACTION_VOD_SET_RESUME_TIME="set vod resume time",d=t.ACTION_LIVESTREAM_CANCEL_RESUME="cancel livestream resume",f=t.ACTION_LIVESTREAM_SET_RESUME_TIME="set livestream resume time",p=t.ACTION_VOD_POST_BACKEND_TIME="post vod backend time",_=t.ACTION_VOD_SET_USER="set user",h=t.ACTION_VOD_SET_IS_SEEKED="set isSeeked",m="vodResumeTimes",E="vodResumeWatcheds",v="livestreamResumeTimes";function y(e,t,n,r){var a={userID:""+e,videoID:""+t,videoType:N(r),position:Math.floor(n)};return(0,i.setResumeWatchingInfoGQL)(a)}function g(e,t,n){return t-e>n}function T(e,t,n){return 0===t&&0!==e||Math.abs(e-t)>n}function b(e,t){return function(n,r){var i=r(),o=i.resumeWatch,s=i.window,l=i.analytics;o.userId&&g(l.playSessionStartTime,s.Date.now(),o.initUpdateOffset)&&T(t,o.lastTimeStamp,o.updateInterval)&&(y(o.userId,e,t,a.CONTENT_MODE_VOD),n({type:p,lastTimeStamp:Math.floor(t)}))}}function S(e,t){return function(n,r){var i=r(),a=i.resumeWatch,s=i.window,l=i.analytics;a.userId&&g(l.playSessionStartTime,s.Date.now(),a.initUpdateOffset)&&T(t,a.lastTimeStamp,a.updateInterval)&&(y(a.userId,e,t,o.CONTENT_MODE_LIVE),n({type:p,lastTimeStamp:Math.floor(t)}))}}function A(e){r.localStore.set(m,e.resumeWatch.times),r.localStore.set(E,e.resumeWatch.watch),r.localStore.set(v,e.resumeWatch.streamTimes)}var C=[];function O(e){return e&&e.user&&e.user.viewedVideos&&e.user.viewedVideos.edges&&0!==!e.user.viewedVideos.edges.length?e.user.viewedVideos.edges.filter(function(e){return e&&e.node&&""!==e.node.id}).map(function(e){return{position:e.history.position,updated_at:e.history.updatedAt,video:{_id:"v"+e.node.id}}}):C}var P=t.VideoType={LIVE:"LIVE",VOD:"VOD"};function N(e){switch(e.toLowerCase()){case a.CONTENT_MODE_VOD:return P.VOD;case o.CONTENT_MODE_LIVE:return P.LIVE}}},IvOd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsButton=void 0,t.ClipsButtonComponent=d;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=n("3322"),l=n("9kay");function u(e){return e&&e.__esModule?e:{default:e}}var c={hasAltShortcut:i.default.bool.isRequired,onClip:i.default.func.isRequired,t:i.default.func.isRequired,disabled:i.default.bool};function d(e){var t=e.hasAltShortcut,n=e.onClip,i=e.t,l=e.disabled,u=void 0!==l&&l,c=t?"Clip (Alt+X)":"Clip",d=null;return u&&(c="",d=r.default.createElement("div",{className:"pl-menu clips-disabled__notification"},i("Clips is under maintenance and will be back in a few hours."))),r.default.createElement("div",{className:"clips-disabled__hover"},d,r.default.createElement(a.Button,{className:"player-button pl-clips-button",onClick:n,disabled:u},r.default.createElement(o.Icon,{label:c},r.default.createElement(s.ClipsSVG,{id:"icon_clips"}))))}d.propTypes=c;t.ClipsButton=(0,l.translate)()(d)},IyFf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CATEGORY_ORDER=t.ACTION_CLIP_RECOMMENDATIONS_LOADED=void 0,t.clipRecommendationsLoaded=s,t.fetchClipRecommendations=function(){return function(e,t){var n=t().streamMetadata.slug;t().experiments.get(i.ExperimentIds.VodClipsWinterIsHere).then(function(t){("on"===t?(0,r.fetchRecommendationsSetsGQL)(n).then(function(e){return(0,r.normalizedGQLClipSets)(e.clip.relatedClips)}):(0,r.fetchRecommendationsSets)(n,o).then(function(t){e(s(n,t.clipSets))})).then(function(t){e(s(n,t))}).catch(function(e){console.debug("fetchClipRecommendations error: "+e)})})}};var r=n("j0G+"),i=n("Rnd+"),a=t.ACTION_CLIP_RECOMMENDATIONS_LOADED="clip recommendations loaded",o=t.CATEGORY_ORDER=["similar","channel","game","top"];function s(e,t){return{type:a,recommendationId:e,recommendationSets:t}}},J0qE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipsAPIHost=t.resumewatchingHost=t.livestreamResumePushback=t.cancelResumeAmount=t.clipsHotkeySeekAmount=t.hotkeySeekAmount=t.defaultLanguage=t.leaveDialog=t.imaNetworkID=t.doubleClickLiveUrl=t.doubleClickVODUrl=t.volumeStepAmount=t.embedParameters=t.debugIgnoreEvents=t.allEvents=t.customEvents=t.mediaEvents=t.hoverControlsDelay=t.initialControlsDelay=t.qualityChangeDuration=t.chromecastId=t.popoutSize=t.gamePath=t.countessHost=t.playerHost=t.usherHost=t.apiHost=t.mobileWebTwitchHost=t.twitchHost=t.domain=t.DEFAULT_AVATAR_URL=t.TWITCH_SIGNUP_URL=t.PLAYER_HARDCODED_ORIGIN=void 0;var r=p(n("v8eK")),i=n("uCED"),a=f(n("UvTj")),o=f(n("nC/T")),s=f(n("JZwe")),l=n("hzFE"),u=n("kDMx"),c=p(n("ijCd")),d=n("0gEH");function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}var _=t.PLAYER_HARDCODED_ORIGIN="https://player.twitch.tv",h=["https://clips.twitch.tv","https://clips-beta.twitch.tv"],m=(t.TWITCH_SIGNUP_URL="https://www.twitch.tv/signup",t.DEFAULT_AVATAR_URL="https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",t.domain=d.twitchDomain,t.twitchHost="//www.twitch.tv"),E=(t.mobileWebTwitchHost="//m.twitch.tv",t.apiHost="https://api.twitch.tv"),v=(t.usherHost="https://usher.ttvnw.net",t.playerHost=function(){var e=document.currentScript,t=document.getElementsByTagName("script");if(!e){var n=Array.prototype.filter.call(t,function(e){return e.src&&e.src.match(/player(?:\.\w+)?\.js$/i)});e=1===n.length?n[0]:t[t.length-1]}if(!e)return"";var r=(0,i.parseUri)(e.src);if("testplayer.twitch.tv"===r.authority){var a=r.path.split("/").slice(1,-2).join("/");return r.protocol+"://"+r.authority+"/"+a}return(0,c.default)(h,window.location.origin)?_:r.protocol+"://"+r.authority}(),t.countessHost="//countess.twitch.tv",t.gamePath=m+"/directory/game",t.popoutSize={width:853,height:480},t.chromecastId="B3DCF968",t.qualityChangeDuration=6e3,t.initialControlsDelay=8e3,t.hoverControlsDelay=5e3,t.mediaEvents=[s.LOADSTART,s.ABORT,s.ERROR,s.STALLED,s.LOADED_METADATA,s.LOADED_DATA,s.CAN_PLAY,s.CAN_PLAY_THROUGH,s.PLAYING,s.WAITING,s.SEEKING,s.SEEKED,s.ENDED,s.DURATION_CHANGE,s.TIME_UPDATE,s.PLAY,s.PAUSE,s.VOLUME_CHANGE,s.RATE_CHANGE]),y=t.customEvents=["usherfail",a.AD_END,a.AD_IMPRESSION,a.AD_IMPRESSION_COMPLETE,a.AD_START,a.COMPANION_AD_BUFFERED,a.COMPANION_RENDERED,u.EXTERNAL_FULLSCREEN_CHANGE,l.FULLSCREEN_CHANGE,o.BUFFER_CHANGE,o.CAPTION_UPDATE,o.CASTING_CHANGE,o.CLIPS_MODERATION_OPEN,o.CONTENT_RESTRICTED,o.CONTENT_SHOWING,o.FOCUS_PLAYER,o.FOLLOW_CHANNEL,o.MANIFEST_EXTRA_INFO,o.OFFLINE,o.ONLINE,o.OPEN_STREAM,o.PERSISTENT_PLAYER_TOGGLE,o.PLAYER_INIT,o.PLAYER_READY,o.PROMPT_LOGIN_MODAL,o.QUALITY_CHANGE,o.RESTRICTED,o.SEGMENT_CHANGE,o.STATS_UPDATE,o.STITCHED_AD_END,o.STITCHED_AD_START,o.SUBSCRIBE_CHANNEL,o.PRIME_SUBSCRIBE_CHANNEL,o.THEATRE_CHANGE,o.TRANSITION_TO_COLLECTION_VOD,o.TRANSITION_TO_RECOMMENDED_VOD,o.UNFOLLOW_CHANNEL,o.VIEWERS_CHANGE,o.PLAYBACK_ERROR,o.MASTER_MANIFEST_READY,s.PLAYBACK_BLOCKED,s.AUDIO_BLOCKED];t.allEvents=(0,r.default)(v,y),t.debugIgnoreEvents=[s.TIME_UPDATE,o.BUFFER_CHANGE],t.embedParameters=Object.freeze(["autoplay","allowfullscreen","channel","channelId","collection","controls","debug","debug_ads","force_manifest_node","html5","flash","muted","origin","playsinline","quality","showMature","stream","t","time","tt_content","tt_medium","video"]),t.volumeStepAmount=.1,t.doubleClickVODUrl="//pubads.g.doubleclick.net/gampad/ads",t.doubleClickLiveUrl="//pubads.g.doubleclick.net/gampad/live/ads",t.imaNetworkID="3576121",t.leaveDialog={enabled:!1,sinceEnded:45,viewerThreshold:5e4,text:"Don't panicBasket. The broadcast is down, but don't refresh just yet. When the broadcast is back, the player will automatically reload for you.",refreshTimeout:20,warningDuration:45},t.defaultLanguage="en-US",t.hotkeySeekAmount=5,t.clipsHotkeySeekAmount=2,t.cancelResumeAmount=120,t.livestreamResumePushback=30,t.resumewatchingHost=E+"/v5/resumewatching/user",t.clipsAPIHost="https://clips.twitch.tv/api/v2/clips/"},JLTs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CAST_SENDER_URL=t.BackendChromecast=void 0;var r=_(n("4O8T")),i=p(n("J0qE")),a=n("56nq"),o=p(n("JZwe")),s=p(n("Aa1x")),l=p(n("e063")),u=n("nC/T"),c=n("XU6G"),d=_(n("y+GA")),f=n("+eo6");function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function _(e){return e&&e.__esModule?e:{default:e}}var h=t.BackendChromecast={},m=t.CAST_SENDER_URL="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",E=5,v=Object.freeze({group:"auto",name:"Auto"});!function(){var e=h,t=new r.default,n={},p=void 0,_=void 0,y=void 0,g=void 0,T=void 0,b=void 0,S=void 0,A=void 0,C=void 0,O=!1,P=null,N=[],I=void 0;function R(e){if(e){var t=new chrome.cast.SessionRequest(i.chromecastId),n=new chrome.cast.ApiConfig(t,w,M,chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED);chrome.cast.initialize(n,function(){},function(e){console.error("The chromecast init failed",e)})}}function w(e){(p=e).addUpdateListener(k),y&&P?x():g&&P&&U(),p.addMessageListener("urn:x-cast:com.twitch.custom",function(e,n){var r=JSON.parse(n);"Ready"===r.event&&r.qualities?(N=r.qualities,t.emit(o.CAN_PLAY),t.emit(o.LOADED_METADATA)):"PlayerQualityChanged"===r.event&&t.emit(u.QUALITY_CHANGE,{quality:r.currentQuality.group,isAuto:r.auto})})}function k(){switch(p.status){case chrome.cast.SessionStatus.CONNECTED:var e=p.receiver;n.volume!==e.volume.level&&(n.volume=e.volume.level,t.emit(o.VOLUME_CHANGE)),n.muted!==e.volume.muted&&(n.muted=e.volume.muted,t.emit(o.VOLUME_CHANGE));break;case chrome.cast.SessionStatus.STOPPED:L(null),p.removeUpdateListener(k),p=null,S=!1,V()}}function M(e){b=e===chrome.cast.ReceiverAvailability.AVAILABLE,V()}function L(e){_&&_.removeUpdateListener(D),S=!1,(_=e)&&(_.addUpdateListener(D),T&&(_.seek(T),T=null)),V()}function D(){n.currentTime!==_.currentTime&&(n.currentTime=_.currentTime,t.emit(o.TIME_UPDATE)),n.volume!==_.volume.level&&(n.volume=_.volume.level,t.emit(o.VOLUME_CHANGE)),n.muted!==_.volume.muted&&(n.muted=_.volume.muted,t.emit(o.VOLUME_CHANGE)),n.playbackRate!==_.playbackRate&&(n.playbackRate=_.playbackRate,t.emit(o.RATE_CHANGE));var e=_.playerState;n.playerState!==_.playerState&&(e===chrome.cast.media.PlayerState.PLAYING?t.emit(o.PLAYING):e===chrome.cast.media.PlayerState.PAUSED?t.emit(o.PAUSE):e===chrome.cast.media.PlayerState.BUFFERING||e===chrome.cast.media.PlayerState.IDLE&&t.emit(o.ENDED),n.playerState=_.playerState)}function x(){S=!0,V(),(0,a.channelInfo)(y).then(function(e){var t=new chrome.cast.media.MediaInfo(P,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.LIVE;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.display_name,n.images=[new chrome.cast.Image(e.logo)],t.metadata=n,t.customData={channel:y,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,p.loadMedia(r,L)},function(e){p.stop(),B()})}function U(){S=!0,V(),(0,a.videoInfo)(g).then(function(e){var t=new chrome.cast.media.MediaInfo(P,"application/x-mpegurl");t.streamType=chrome.cast.media.StreamType.OTHER;var n=new chrome.cast.media.GenericMediaMetadata;n.subtitle=e.game,n.title=e.title,n.images=[new chrome.cast.Image(e.preview)],t.metadata=n,t.customData={vod_id:g,analytics:{chromecast_sender:"player-ui-web"}};var r=new chrome.cast.media.LoadRequest(t);r.autoplay=!0,p.loadMedia(r,L)},function(e){p.stop(),B()})}function B(){I&&I.dispatch((0,f.setError)(d.default.CODES.ABORTED))}function V(){var e=A,n=C;_?(A=s.NETWORK_LOADING,C=l.HAVE_METADATA):S?(A=s.NETWORK_LOADING,C=l.HAVE_NOTHING):b?(A=s.NETWORK_IDLE,C=l.HAVE_NOTHING):(A=s.NETWORK_EMPTY,C=l.HAVE_NOTHING),A!==e&&A===s.NETWORK_LOADING&&t.emit(o.LOADSTART),C!==n&&(C===l.HAVE_METADATA?t.emit(o.LOADED_METADATA):C===l.HAVE_NOTHING&&t.emit(o.ENDED)),t.emit(u.CASTING_CHANGE,j())}function j(){return C===l.HAVE_NOTHING?A===s.NETWORK_EMPTY?c.UNAVAILABLE:A===s.NETWORK_IDLE?c.AVAILABLE:c.CONNECTING:c.CONNECTED}function q(e){B()}e.init=function(e){return t.removeAllListeners(),O?j():(O=!0,I=e,b=!1,V(),new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src=m}).then(function(){return!!window.chrome&&(!(!chrome.cast||!chrome.cast.isAvailable)||new Promise(function(e){window.__onGCastApiAvailable=function(t){e(t)};var t=E,n=setInterval(function(){var r=!(!chrome.cast||!chrome.cast.isAvailable);(r||t<=0)&&(e(r),clearInterval(n)),t--},1e3)}))}).then(R),j())},e.destroy=function(){},e.addEventListener=function(e,n){t.on(e,n)},e.removeEventListener=function(e,n){t.off(e,n)},e.getNetworkProfile=function(){return[]},e.getError=function(){},e.getSrc=function(){},e.setSrc=function(){},e.setAutoplay=function(){},e.getNetworkState=function(){return A},e.load=function(){chrome.cast.requestSession(w,q)},e.getBuffered=function(){return{length:0}},e.getReadyState=function(){return C},e.getSeeking=function(){},e.getCurrentTime=function(){return _?_.currentTime:n.currentTime||0},e.setCurrentTime=function(e){window.chrome&&window.chrome.cast&&((T=new chrome.cast.media.SeekRequest).currentTime=e,_&&(_.seek(T),T=null))},e.getDuration=function(){},e.getPaused=function(){if(_)return _.playerState===chrome.cast.media.PlayerState.PAUSED},e.getPlaybackRate=function(){return 1},e.setPlaybackRate=function(){},e.getPlayed=function(){},e.getEnded=function(){},e.getAutoplay=function(){},e.setLoop=function(){},e.play=function(){if(_){var t=new chrome.cast.media.PlayRequest;_.play(t)}else e.load()},e.pause=function(){if(_){var e=new chrome.cast.media.PauseRequest;_.pause(e)}},e.getControls=function(){},e.setControls=function(){},e.elapsedTime=function(){},e.getVolume=function(){if(_)return _.volume.level},e.setVolume=function(e){if(_){var t=new chrome.cast.Volume(e,null),n=new chrome.cast.media.VolumeRequest(t);_.setVolume(n)}},e.getMuted=function(){return _?_.volume.muted:p?p.receiver.volume.muted:void 0},e.setMuted=function(e){if(_){var t=new chrome.cast.Volume(null,e),n=new chrome.cast.media.VolumeRequest(t);_.setVolume(n)}},e.getQuality=function(){return"auto"},e.setQuality=function(e){p&&p.sendMessage("urn:x-cast:com.twitch.custom",{quality:e})},e.getQualities=function(){return[v].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(N)).map(function(e){return Object.assign({},e,{bandwidth:e.bitrate})})},e.getChannel=function(){return y},e.setChannel=function(e,t){y=e,g=null,t.streamUrl.then(function(e){P=e,p&&y&&P&&x()}).catch(function(e){console.warn("Error generating live url:",e)})},e.setClip=function(){},e.getVideo=function(){return g},e.setVideo=function(e,t){g=e,y=null,t.streamUrl.then(function(e){P=e,p&&g&&P&&U()}).catch(function(e){console.warn("Error generating vod url:",e)})},e.getStats=function(){return{}},e.getVideoInfo=function(){return{}},e.getCaption=function(){},e.getBackend=function(){return"chromecast"},e.stop=function(){p&&p.stop()},e.getDevice=function(){if(p&&p.receiver)return p.receiver.friendlyName},e.absAvailable=function(){},e.setLiveLowLatencyEnabled=function(){},e.setLiveMaxLatency=function(){},e.setAutoMaxVideoSize=function(){},e.getBandwidthEstimate=function(){},e.getAverageBitrate=function(){}}()},JZM8:function(e,t,n){var r=n("FfPP"),i=n("xs/l")(function(e,t){return null==e?{}:r(e,t)});e.exports=i},JZwe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOADSTART="loadstart",t.ERROR="error",t.LOADED_METADATA="loadedmetadata",t.CAN_PLAY="canplay",t.CAN_PLAY_THROUGH="canplaythrough",t.PLAYING="playing",t.WAITING="waiting",t.SEEKING="seeking",t.SEEKED="seeked",t.ENDED="ended",t.DURATION_CHANGE="durationchange",t.TIME_UPDATE="timeupdate",t.PLAY="play",t.PAUSE="pause",t.VOLUME_CHANGE="volumechange",t.RATE_CHANGE="ratechange",t.LOADED_DATA="loadeddata",t.STALLED="stalled",t.ABORT="abort",t.PLAYBACK_BLOCKED="playbackblocked",t.AUDIO_BLOCKED="audioblocked",t.TRACKING="tracking"},JicT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsBanner=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=o(n("TSYQ"));function o(e){return e&&e.__esModule?e:{default:e}}var s={bannerLabel:i.default.string.isRequired,showBanner:i.default.bool.isRequired},l=(0,a.default)({"pl-settings-container":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0});(t.SettingsBanner=function(e){var t=e.bannerLabel,n=e.showBanner,i=(0,a.default)({"pl-pill":!0,"pl-settings-banner--animateIn":n,"pl-settings-banner--animateOut":!n,"qa-settings-banner-span":!0});return r.default.createElement("div",{className:l},r.default.createElement("span",{className:i},t))}).propTypes=s},JnVa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdClickThroughOverlay=o;var r=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}var a={clickThroughUrl:i(n("17x9")).default.string.isRequired};function o(e){var t=e.clickThroughUrl;return r.default.createElement("div",{className:"pl-overlay"},r.default.createElement("a",{className:"pl-overlay__clickthrough",target:"_blank",rel:"noopener noreferrer",href:t}))}o.propTypes=a},"Ju/E":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleFullscreenOverlay=t.ToggleFullscreenContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N58E"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("uC+K")),l=n("KE4D"),u=n("uNCh"),c=n("QE8m"),d=n("KR5+");function f(e){return e&&e.__esModule?e:{default:e}}var p=Object.freeze({trackEvent:a.default.func,isFullScreen:a.default.bool,shouldRenderFullscreenOverlay:a.default.bool,toggleFullScreen:a.default.func,isAd:a.default.bool}),_=Object.freeze({trackEvent:function(){},toggleFullScreen:function(){}}),h=t.mapStateToProps=function(e){var t=e.analyticsTracker,n=e.env,r=e.screen,i=e.screenMode;return{trackEvent:t.trackEvent,isFullScreen:!i.isFullScreen,shouldRenderFullscreenOverlay:n.playerType!==s.PLAYER_FRONTPAGE&&!s.PREVIEW_PLAYER_TYPES.includes(n.playerType)&&n.playerType!==s.PLAYER_FEED&&n.playerType!==s.PLAYER_ONBOARDING&&n.playerType!==s.PLAYER_MULTIVIEW_SECONDARY&&n.PlayerType!==s.PLAYER_CHANNEL_TRAILER&&n.platform!==d.PLATFORM_MOBILE_WEB,isAd:r[0]===u.ADVERTISEMENT_SCREEN}},m=t.mapDispatchToProps=function(e){return{toggleFullScreen:function(){e((0,l.toggleFullScreen)())}}},E=t.ToggleFullscreenContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDoubleClick=e.handleDoubleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleDoubleClick",value:function(){var e=this.props,t=e.trackEvent,n=e.isFullScreen,r=e.toggleFullScreen;t("player_click_fullscreen",{action:!n}),r()}},{key:"render",value:function(){var e=this.props,t=e.shouldRenderFullscreenOverlay,n=e.isAd;return!t||n?null:i.default.createElement(c.ToggleFullscreen,{handleDoubleClick:this.handleDoubleClick})}}]),t}();E.propTypes=p,E.defaultProps=_;t.ToggleFullscreenOverlay=(0,o.connect)(h,m)(E)},"K/KT":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),u=n("vCsY"),c=n("1H2c"),d=n("2Ob2"),f=(n("oDQa"),function(e){var t,n=Object(c.a)(),r={"tw-toggle":!0,"tw-toggle--error":e.error,"tw-toggle--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);e.error,e.overlay;var a=o()(e,["error","overlay"]);return s.createElement("div",i()({className:Object(l.a)(r)},Object(u.a)(e)),s.createElement("input",i()({},Object(u.b)(a),{className:"tw-toggle__input",id:e.id?e.id:n,tabIndex:t,type:"checkbox","data-a-target":"tw-toggle"})),s.createElement("label",{htmlFor:e.id?e.id:n,className:"tw-toggle__button"}))});f.displayName="ToggleComponent",f.displayName="ToggleComponent";var p=Object(d.c)(f)},K3Ut:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedClient=t.PLAYBACK_PLAYING=t.PLAYBACK_PAUSED=t.PLAYBACK_ENDED=t.BRIDGE_STORE_STATE_UPDATE=t.BRIDGE_STATE_UPDATE=t.BRIDGE_REQ_SUBSCRIBE=t.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD=t.BRIDGE_PLAYER_EVENT=t.BRIDGE_HOST_READY=t.BRIDGE_HOST_NAMESPACE=t.BRIDGE_DOCUMENT_EVENT=t.BRIDGE_DESTROY=t.BRIDGE_CLIENT_NAMESPACE=t.METHOD_SHOW_PLAYER_CONTROLS=t.METHOD_SET_VOLUME=t.METHOD_SET_VIDEO_SOURCE=t.METHOD_SET_VIDEO=t.METHOD_SET_TRACKING_PROPERTIES=t.METHOD_SET_THEATRE=t.METHOD_SET_QUALITY=t.METHOD_SET_PLAYER_TYPE=t.METHOD_SET_MUTE=t.METHOD_SET_MINI_PLAYER_MODE=t.METHOD_SET_LIVE_MAX_LATENCY=t.METHOD_SET_LIVE_LOW_LATENCY_ENABLED=t.METHOD_SET_FULLSCREEN=t.METHOD_SET_EDIT_CLIP=t.METHOD_SET_CONTENT=t.METHOD_SET_COLLECTION=t.METHOD_SET_CLIP=t.METHOD_SET_CHANNEL_ID=t.METHOD_SET_CHANNEL=t.METHOD_SET_CAPTION_SIZE=t.METHOD_SET_AUTO_MAX_VIDEO_SIZE=t.METHOD_SET_AUTOPLAY=t.METHOD_SEEK=t.METHOD_PLAY=t.METHOD_PAUSE=t.METHOD_ENABLE_CAPTIONS=t.METHOD_DISABLE_CAPTIONS=t.METHOD_DESTROY=t.METHOD_CLOSE_CLIPS_MODERATION_MODAL=t.EVENT_EMBED_ERROR=t.EVENT_EMBED_VIDEO_PLAYBACK_ERROR=t.EVENT_EMBED_VIDEO_PLAY=t.EVENT_EMBED_N_SECOND_PLAY=t.EVENT_EMBED_MINUTE_WATCHED=t.EVENT_EMBED_BUFFER_EMPTY=t.EVENT_EMBED_MATURE_FLAG_CHANGE=t.EVENT_THEATRE_EXITED=t.EVENT_THEATRE_ENTERED=t.EVENT_FULLSCREEN_EXITED=t.EVENT_FULLSCREEN_ENTERED=t.EVENT_EMBED_WHEEL=t.EVENT_EMBED_VIEWERS_CHANGE=t.EVENT_EMBED_TRANSITION_TO_REC_VOD=t.EVENT_EMBED_TRANSITION_TO_COLLECTION_VOD=t.EVENT_EMBED_TIME_UPDATE=t.EVENT_EMBED_STATS_UPDATE=t.EVENT_EMBED_SEEKED=t.EVENT_EMBED_READY=t.EVENT_EMBED_PLAYING=t.EVENT_EMBED_PLAYBACK_BLOCKED=t.EVENT_EMBED_PLAY=t.EVENT_EMBED_PAUSE=t.EVENT_EMBED_OPEN_STREAM=t.EVENT_EMBED_ONLINE=t.EVENT_EMBED_OFFLINE=t.EVENT_EMBED_FLASH_AD_COMPANION_RENDERED=t.EVENT_EMBED_ENDED=t.EVENT_EMBED_CONTENT_SHOWING=t.EVENT_EMBED_CAPTIONS=t.EVENT_EMBED_AD_COMPANION_RENDERED=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("lFKM")),a=d(n("Puqe")),o=d(n("3OWR")),s=d(n("4O8T")),l=n("uCED"),u=n("ZtkW"),c=n("E2g8");function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){var e="https://player.twitch.tv";if(document.currentScript)e=document.currentScript.src;else{var t=Array.prototype.filter.call(document.scripts,function(e){return/twitch\.tv.*embed/.test(e.src)});e=t.length>0?t[0].src:document.scripts[document.scripts.length-1].src}var n=(0,l.parseUri)(e),r=n.path.split("/");if("testplayer.twitch.tv"===n.host.toLowerCase())return e.replace(/\/js\/embed\/v1.js/g,"");return/^(\d+\.)(\d+\.)(\d+)$/.test(r[1])?n.protocol+"://"+n.authority+"/"+r[1]:n.protocol+"://"+n.authority}(),p=Object.freeze({channelName:"",currentTime:0,duration:0,mature:!1,muted:!1,playback:"",quality:"",qualitiesAvailable:[],stats:{},videoID:"",viewers:0,volume:0}),_=Object.freeze({height:390,width:640,allowfullscreen:!1}),h=(t.EVENT_EMBED_AD_COMPANION_RENDERED="adcompanionrendered",t.EVENT_EMBED_CAPTIONS="captions",t.EVENT_EMBED_CONTENT_SHOWING="contentShowing",t.EVENT_EMBED_ENDED="ended",t.EVENT_EMBED_FLASH_AD_COMPANION_RENDERED="flashAdcompanionrendered",t.EVENT_EMBED_OFFLINE="offline",t.EVENT_EMBED_ONLINE="online",t.EVENT_EMBED_OPEN_STREAM="openStream",t.EVENT_EMBED_PAUSE="pause",t.EVENT_EMBED_PLAY="play",t.EVENT_EMBED_PLAYBACK_BLOCKED="playbackBlocked",t.EVENT_EMBED_PLAYING="playing",t.EVENT_EMBED_READY="ready"),m=(t.EVENT_EMBED_SEEKED="seeked",t.EVENT_EMBED_STATS_UPDATE="statsupdate",t.EVENT_EMBED_TIME_UPDATE="timeUpdate",t.EVENT_EMBED_TRANSITION_TO_COLLECTION_VOD="transitionToCollectionVod",t.EVENT_EMBED_TRANSITION_TO_REC_VOD="transitionToRecommendedVod",t.EVENT_EMBED_VIEWERS_CHANGE="viewerschange",t.EVENT_EMBED_WHEEL="wheel",t.EVENT_FULLSCREEN_ENTERED="fullscreenentered",t.EVENT_FULLSCREEN_EXITED="fullscreenexited",t.EVENT_THEATRE_ENTERED="theatreentered",t.EVENT_THEATRE_EXITED="theatreexited",t.EVENT_EMBED_MATURE_FLAG_CHANGE="matureflagchanged",t.EVENT_EMBED_BUFFER_EMPTY="bufferEmpty",t.EVENT_EMBED_MINUTE_WATCHED="minuteWatched",t.EVENT_EMBED_N_SECOND_PLAY="nSecondPlay",t.EVENT_EMBED_VIDEO_PLAY="videoPlay",t.EVENT_EMBED_VIDEO_PLAYBACK_ERROR="videoError",t.EVENT_EMBED_ERROR="error",t.METHOD_CLOSE_CLIPS_MODERATION_MODAL="closeModeration",t.METHOD_DESTROY="destroy"),E=(t.METHOD_DISABLE_CAPTIONS="disableCaptions",t.METHOD_ENABLE_CAPTIONS="enableCaptions",t.METHOD_PAUSE="pause",t.METHOD_PLAY="play",t.METHOD_SEEK="seek",t.METHOD_SET_AUTOPLAY="setAutoplay",t.METHOD_SET_AUTO_MAX_VIDEO_SIZE="setAutoMaxVideoSize",t.METHOD_SET_CAPTION_SIZE="setCaptionSize",t.METHOD_SET_CHANNEL="channel",t.METHOD_SET_CHANNEL_ID="channelId",t.METHOD_SET_CLIP="setclip",t.METHOD_SET_COLLECTION="collection",t.METHOD_SET_CONTENT="setcontent",t.METHOD_SET_EDIT_CLIP="setEditClip",t.METHOD_SET_FULLSCREEN="fullscreen",t.METHOD_SET_LIVE_LOW_LATENCY_ENABLED="setLiveLowLatencyEnabled",t.METHOD_SET_LIVE_MAX_LATENCY="setLiveMaxLatency",t.METHOD_SET_MINI_PLAYER_MODE="setminiplayermode",t.METHOD_SET_MUTE="mute",t.METHOD_SET_PLAYER_TYPE="setPlayerType",t.METHOD_SET_QUALITY="quality",t.METHOD_SET_THEATRE="theatre",t.METHOD_SET_TRACKING_PROPERTIES="setTrackingProperties",t.METHOD_SET_VIDEO="video",t.METHOD_SET_VIDEO_SOURCE="setvideosource",t.METHOD_SET_VOLUME="volume",t.METHOD_SHOW_PLAYER_CONTROLS="showplayercontrols",t.BRIDGE_CLIENT_NAMESPACE="player.embed.client"),v=t.BRIDGE_DESTROY="bridgedestroy",y=(t.BRIDGE_DOCUMENT_EVENT="bridgedocumentevent",t.BRIDGE_HOST_NAMESPACE="player.embed.host"),g=t.BRIDGE_HOST_READY="ready",T=t.BRIDGE_PLAYER_EVENT="bridgeplayerevent",b=t.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD="bridgeplayereventwithpayload",S=t.BRIDGE_REQ_SUBSCRIBE="subscribe",A=t.BRIDGE_STATE_UPDATE="bridgestateupdate",C=t.BRIDGE_STORE_STATE_UPDATE="bridgestorestateupdate";t.PLAYBACK_ENDED="ended",t.PLAYBACK_PAUSED="paused",t.PLAYBACK_PLAYING="playing",t.EmbedClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._eventEmitter=new s.default,this._playerStateEmitter=new s.default,this._playerState=p,this._storeState={},this._onHostReady=this._getHostReady(),this._iframe=this._createPlayerIframe(n),t.appendChild(this._iframe),this._host=this._iframe.contentWindow,this._send(S)}return r(e,[{key:"destroy",value:function(){this.callPlayerMethod(m)}},{key:"_createPlayerIframe",value:function(e){var t=this._normalizeOptions(e);t.origin=document.location.origin;var n=document.createElement("iframe"),r=(0,u.toString)((0,a.default)(t,"width","height")),i=f+"/?"+r;return n.setAttribute("src",i),n.setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),n.setAttribute("allow","autoplay; fullscreen"),t.allowfullscreen&&n.setAttribute("allowfullscreen",""),n}},{key:"_normalizeOptions",value:function(e){var t=(0,o.default)({},_,e);return!1!==e.allowfullscreen&&(t.allowfullscreen=!0),t}},{key:"_getHostReady",value:function(){var e=this;return new c.Promise(function(t,n){var r=function(e){this._isClientMessage(e)&&e.data.method===g&&(this._storeState=e.data.args[0],window.removeEventListener("message",r),window.addEventListener("message",this),this._eventEmitter.emit(h),t())}.bind(e);window.addEventListener("message",r),setTimeout(n,15e3)})}},{key:"_send",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={namespace:y,method:e,args:n};this._host.postMessage(i,"*")}},{key:"_deferSend",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this._onHostReady.then(function(){return e._send.apply(e,n)})}},{key:"_isClientMessage",value:function(e){return!!this._iframe&&(Boolean(e.data)&&e.data.namespace===E&&e.source===this._iframe.contentWindow)}},{key:"handleEvent",value:function(e){if(this._isClientMessage(e))switch(e.data.method){case A:this._playerState=e.data.args[0],this._playerStateEmitter.emit("playerstateupdate",this._playerState);break;case T:this._eventEmitter.emit(e.data.args[0].event);break;case b:this._eventEmitter.emit(e.data.args[0].event,e.data.args[0].data);break;case C:this._storeState=e.data.args[0];break;case v:this._iframe.parentNode.removeChild(this._iframe),window.removeEventListener("message",this),delete this._iframe,delete this._host}}},{key:"getPlayerState",value:function(){return this._playerState}},{key:"getStoreState",value:function(){return this._storeState}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"addPlayerStateListener",value:function(e){this._playerStateEmitter.on("playerstateupdate",e),e(this._playerState)}},{key:"removePlayerStateListener",value:function(e){this._playerStateEmitter.off("playerstateupdate",e)}},{key:"removeEventListener",value:function(e,t){this._eventEmitter.off(e,t)}},{key:"callPlayerMethod",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._deferSend.apply(this,[e].concat(n))}},{key:"setWidth",value:function(e){(0,i.default)(e)&&e>=0&&this._iframe.setAttribute("width",e)}},{key:"setHeight",value:function(e){(0,i.default)(e)&&e>=0&&this._iframe.setAttribute("height",e)}}]),e}()},K4vF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.freeze({ABORTED:{code:1e3,message:"The video download was cancelled. Please try again."},NETWORK:{code:2e3,message:"There was a network error. Please try again."},CCU_CAP_REACHED:{code:2001,message:"An error occurred. Please try again."},DECODE:{code:3e3,message:"Your browser encountered an error while decoding the video."},FORMAT_NOT_SUPPORTED:{code:4e3,message:"This video is either unavailable or not supported in this browser."},CONTENT_NOT_AVAILABLE:{code:5e3,message:"This video is unavailable."},RENDERER_NOT_AVAILABLE:{code:6e3,message:"Your browser does not support playback of this video."},DRM_GEOBLOCKED:{code:7e3,message:"This premium content is not available in your region."},DRM_UNSUPPORTED_DEVICE:{code:7001,message:"Your device does not support playback of this premium content. Please try a different device."},DRM_UNBLOCKER:{code:7002,message:"A proxy or unblocker has been detected. This premium content will not be available to you while it is in use."},DRM_CELLULAR_NETWORK_PROHIBITED:{code:7003,message:"Please connect to a Wi-Fi network to watch this premium content."},DRM_SAFARI_UNSUPPORTED_DEVICE:{code:7004,message:"Safari is not currently supported for this stream. Please try Chrome or Firefox."}});t.default=r},K5r4:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.imageSourcesFromTier=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?"static":"animated";if(t)return{themed:!0,dark:r({},t+"x",e.indexedImages.DARK[n].get(t)),light:r({},t+"x",e.indexedImages.LIGHT[n].get(t))};return{themed:!0,dark:{"1x":e.indexedImages.DARK[n].get(1),"1.5x":e.indexedImages.DARK[n].get(1.5),"2x":e.indexedImages.DARK[n].get(2),"3x":e.indexedImages.DARK[n].get(3),"4x":e.indexedImages.DARK[n].get(4)},light:{"1x":e.indexedImages.LIGHT[n].get(1),"1.5x":e.indexedImages.LIGHT[n].get(1.5),"2x":e.indexedImages.LIGHT[n].get(2),"3x":e.indexedImages.LIGHT[n].get(3),"4x":e.indexedImages.LIGHT[n].get(4)}}};t.EMPTY_BITS_CONFIG={indexedActions:{},orderedActions:[]}},KAcK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,t=arguments[1];switch(t.type){case r.ACTION_SET_WINDOW:return t.window;default:return e}};var r=n("9Ppm")},KDuh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adsManager=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.nullAdsManager,t=arguments[1];switch(t.type){case r.ACTION_CREATE_ADS_MANAGER:return t.adsManager;default:return e}};var r=n("f3ZV"),i=n("bMe5")},KE4D:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setFullScreen=function(e){return{type:r,isFullScreen:e}},t.setCanFullScreen=function(e){return{type:i,canFullScreen:e}},t.toggleFullScreen=function(){return{type:a}},t.setTheatreMode=function(e){return{type:o,isTheatreMode:e}},t.toggleTheatreMode=function(){return{type:s}};var r=t.ACTION_SET_FULLSCREEN="set fullscreen",i=t.ACTION_SET_CAN_FULLSCREEN="set can fullscreen",a=t.ACTION_TOGGLE_FULLSCREEN="toggle fullscreen",o=t.ACTION_SET_THEATRE_MODE="set theatre mode",s=t.ACTION_TOGGLE_THEATRE_MODE="toggle theatre mode"},KQRg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenCollectionSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.OpenCollectionSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 18 18"},e),i.default.createElement("path",{fill:e.fill,d:"M12.999 2H5.001a1 1 0 1 1 0-2h7.998a1 1 0 0 1 0 2M15 5H3a1 1 0 1 1 0-2h12a1 1 0 0 1 0 2m-3.332 7.521l-4.8 2.4A.599.599 0 0 1 6 14.384v-4.8a.596.596 0 0 1 .868-.535l4.8 2.4a.6.6 0 0 1 0 1.072M17 6.002H1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1"}))}).propTypes=l},"KR5+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ENVIRONMENT=t.PLATFORM_MOBILE_WEB=t.PLATFORM_WEB=void 0,t.env=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments[1];switch(t.type){case s.ACTION_SET_ENVIRONMENT:return(0,r.default)({},e,{deviceId:t.deviceId});case s.ACTION_SET_PLAYER_TYPE:var n=(0,c.default)(u.ALL_PLAYER_TYPES,t.playerType)?t.playerType:e.playerType;return(0,r.default)({},e,{playerType:n});case s.ACTION_SET_TWITCH_EVERYWHERE_PARAMS:return(0,r.default)({},e,{twitchEverywhere:t.params});case l.ACTION_SET_WINDOW:return(0,r.default)({},e,{platform:y((t.window.navigator||{}).userAgent),isMobileLocation:g(t.window)});default:return e}};var r=p(n("3OWR")),i=p(n("puQj")),a=n("uCED"),o=n("uC+K"),s=n("bnTl"),l=n("9Ppm"),u=n("uC+K"),c=p(n("ijCd")),d=p(n("L5/0")),f=p(n("gb7j"));function p(e){return e&&e.__esModule?e:{default:e}}var _=t.PLATFORM_WEB="web",h=t.PLATFORM_MOBILE_WEB="mobile_web",m=t.DEFAULT_ENVIRONMENT=Object.freeze({deviceId:"",playerType:o.PLAYER_POPOUT,platform:_,isMobileLocation:!1}),E="m.twitch.tv",v="https";function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=i.default._detect(e);return t.mobile||t.tablet?h:_}function g(e){var t,n,r=(0,a.parseUri)(e.document.referrer),i=void 0;try{i=e!==e.top}catch(e){i=!0}return i&&(0,d.default)(r.protocol)===v&&(t=r.host,(n=(0,d.default)(t))===E||(0,f.default)(n,"."+E))}},KRLB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityMenu=t.QualityMenuComponent=t.CLASSES_MENU_HEADER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=d(n("TSYQ")),s=n("9kay"),l=n("bDXi"),u=n("DFRv"),c=n("+i0y");function d(e){return e&&e.__esModule?e:{default:e}}var f={availableQualities:a.default.arrayOf(a.default.shape({group:a.default.string,name:a.default.string})).isRequired,selectedQuality:a.default.string.isRequired,qualityNameOverride:a.default.object,onMenuTransition:a.default.func,onQualitySelect:a.default.func,t:a.default.func.isRequired},p=t.CLASSES_MENU_HEADER=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),_=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),h=t.QualityMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(l.IDENTIFIER_MAIN_MENU)}},{key:"render",value:function(){var e=this.props.t,t=this._getQualityItems();return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:p},i.default.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e("Video Quality"))),i.default.createElement("div",{className:_},t))}},{key:"_getQualityItems",value:function(){var e=this.props,t=e.availableQualities,n=e.selectedQuality,r=e.qualityNameOverride,a=e.onQualitySelect,o=e.t;return t.map(function(e){var s=e.group===n,l=void 0;return l=r&&r[e.group]?r[e.group]:(0,c.getTranslatedQualityName)(t,e.group,o),i.default.createElement(u.QualityButton,{isActive:s,key:e.group,displayName:l,selectItem:e,onSelectItem:a})})}}]),t}();h.propTypes=f,h.defaultProps={onMenuTransition:function(){},onQualitySelect:function(){}};t.QualityMenu=(0,s.translate)()(h)},Kae6:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n("pVnL"),i=n.n(r),a=n("q1tI"),o=n("fNzW"),s=n("vCsY"),l=n("hnjF"),u=n("X2PJ"),c=n("2nDl"),d=(n("VFp6"),function(e){var t,n={"tw-textarea":!0,"tw-textarea--no-resize":e.noResize,"tw-textarea--error":e.error};e.tabIndex&&(t=e.tabIndex);var r=c.c.Default;e.size&&(r=e.size);var d={paddingRight:e.paddingRight?e.paddingRight/10+"rem":void 0};return a.createElement(u.f,{display:l.d.Block,borderRadius:u.b.Medium,overflow:e.overflow,fontSize:c.b[r],fullWidth:!0},a.createElement("textarea",i()({className:Object(o.a)(n),autoComplete:e.autoComplete,autoFocus:e.autoFocus,cols:e.cols,disabled:e.disabled,id:e.id,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,style:d,placeholder:e.placeholder,rows:e.rows,tabIndex:t,value:e.value,defaultValue:e.defaultValue,ref:e.refDelegate,readOnly:e.readOnly},Object(s.a)(e))))});d.displayName="TextArea",d.displayName="TextArea"},Kiig:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLOSE_BUTTON_CLASS=t.POPUP_CLASS=void 0,t.NotificationPopUp=d;var r=s(n("q1tI")),i=s(n("17x9")),a=s(n("TSYQ")),o=n("GX/C");function s(e){return e&&e.__esModule?e:{default:e}}var l={onClose:i.default.func,children:i.default.node},u=t.POPUP_CLASS=(0,a.default)({"pl-notif":!0,"pl-notif--with-triangle":!1}),c=t.CLOSE_BUTTON_CLASS=(0,a.default)({"pl-close-button":!0,"pl-notice__close":!0});function d(e){var t=e.children,n=e.onClose;return r.default.createElement("div",{className:u},r.default.createElement("button",{type:"button",className:c,onClick:n},r.default.createElement(o.CrossSVG,{className:"pl-close-button__svg",id:"#pl-icon_close"})),t)}d.propTypes=l},KmPj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_LANGUAGE=t.I18N_INSTANCE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.missingKeyHandler=p,t.getI18N=function(e){var t=e.replace(/-[a-zA-Z]{2}$/,function(e){return e.toUpperCase()}),n=e.replace(/-[a-zA-Z]{2}$/,"");(0,u.default)(d,t)||(t=f[n]||n);return new Promise(function(e,r){i.default.changeLanguage(t,function(i,a){i?r(i):e(new h(n,t,a))})})};var i=c(n("jKim")),a=c(n("z21g")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("J0qE")),s=c(n("xaJk")),l=c(n("3OWR")),u=c(n("ijCd"));function c(e){return e&&e.__esModule?e:{default:e}}var d=n("bj99").locales,f=(0,l.default)((0,s.default)(d,function(e,t){return e[t.replace(/-[a-zA-Z]{2}$/,"")]=t,e},{}),{es:"es-ES",pt:"pt-PT",zh:"zh-CN"});function p(e,t,n){0}var _=void 0;_=Object({API_BASE_URL:void 0,CDN_URL:"https://static.twitchcdn.net/",GQL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://static.twitchcdn.net/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",TEMPO_ADDR:void 0}).useRelativePathForLocalization?""+o.playerHost:""+o.PLAYER_HARDCODED_ORIGIN,i.default.use(a.default).init({fallbackLng:"en-US",load:"currentOnly",backend:{crossDomain:!0,loadPath:_+"/localization/{{lng}}/strings.json"},interpolation:{escapeValue:!1},nsSeparator:!1,keySeparator:!1,missingKeyHandler:p,saveMissing:!0}),i.default.addResourceBundle("en-US",i.default.options.ns[0],n("opCn"));var h=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.shortCode=t,this.langCode=n,this._translate=r}return r(e,[{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._translate(e,t);return t.replacements&&Object.keys(t.replacements).map(function(e){n=n.replace(e,t.replacements[e])}),n}}]),e}();t.I18N_INSTANCE=i.default,t.DEFAULT_LANGUAGE=new h("en","en-US",i.default.getFixedT("en-US"))},Kssv:function(e,t,n){var r=n("KxBF"),i=n("mv/X"),a=n("Sxd8");e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&i(e,t,n)?(t=0,n=o):(t=null==t?0:a(t),n=void 0===n?o:a(n)),r(e,t,n)):[]}},Kvvj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionFeatureNeedsAuthModal=t.ExtensionFeatureNeedsAuthModalComponent=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=u(n("TSYQ")),o=n("9kay"),s=n("1fV9"),l=n("GX/C");function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,a.default)({"pl-menu__inner":!0,"extension-modal__inner":!0}),d=(0,a.default)({"pl-menu__section":!0,"extension-modal__header":!0}),f=(0,a.default)({"pl-menu__item":!0,"extension-modal__title":!0}),p=(0,a.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),_=(0,a.default)({"pl-button":!0,"pl-button--hollow":!0,"extension-modal__button":!0}),h=(0,a.default)({"pl-close-button":!0,"extension-modal__close-button":!0}),m={t:i.default.func.isRequired,onClose:i.default.func.isRequired},E=t.ExtensionFeatureNeedsAuthModalComponent=function(e){return r.default.createElement("div",{className:c},r.default.createElement("div",{className:d},r.default.createElement("div",{className:"extension-modal__header-row"},r.default.createElement("div",{className:f},r.default.createElement("div",{className:"extension-modal__title-info"},e.t("You must be logged in to use this extension feature"))),r.default.createElement(s.Button,{className:h,onClick:e.onClose},r.default.createElement(l.CrossSVG,{className:"pl-close-button__svg",id:"pl-icon_close"})))),r.default.createElement("div",{className:p},r.default.createElement(s.Button,{className:_,onClick:e.onClose},e.t("Close"))))};E.propTypes=m;t.ExtensionFeatureNeedsAuthModal=(0,o.translate)()(E)},KwwK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventRefreshDialog=function(e,t,n,l){var u,c,d;function f(){if(u){var e=function(e){var t=r.sessionStore.get("leaveData");if(!t)return;return t[e]}(u);if(e){var t=(new Date).getTime()/1e3;e.time+i.leaveDialog.refreshTimeout<t||n.dispatch((0,s.trackEvent)("page_reload",{storm_detected:e.stormDetected,leave_dialog:e.stormDialog,refresh_warning:e.stormWarning}))}}}function p(){if(!u)return!1;if(!e.getEnded())return!1;if(!c||c<l.leaveDialogViewerThreshold)return!1;var t=(new Date).getTime()/1e3;return!(!d||d+i.leaveDialog.sinceEnded<t)}function _(){u=e.getChannel(),c=null,d=null,f()}function h(){c=n.getState().viewercount,d=(new Date).getTime()/1e3;var e=p();e&&l.refreshWarningEnabled&&(n.dispatch((0,a.pushScreen)(a.STORM_WARNING_SCREEN)),setTimeout(function(){n.dispatch((0,a.popScreen)())},1e3*i.leaveDialog.warningDuration))}function m(e){var t=p(),o=t&&l.leaveDialogEnabled;if(function(e,t){var n=r.sessionStore.get("leaveData");n||(n={});n[e]=t,r.sessionStore.set("leaveData",n)}(u,{time:(new Date).getTime()/1e3,stormDetected:t,stormDialog:o,stormWarning:n.getState().screen===a.STORM_WARNING_SCREEN}),o)return function(e){return n.dispatch((0,s.trackEvent)("page_leave_attempt",{viewers:c})),setTimeout(function(){setTimeout(function(){n.dispatch((0,s.trackEvent)("page_leave_cancel",{viewers:c}))},1e3)},1),e.returnValue=i.leaveDialog.text,i.leaveDialog.text}(e)}this.destroy=function(){window.removeEventListener("beforeunload",m)},e.addEventListener(o.LOADSTART,_),e.addEventListener(o.ENDED,h),window.addEventListener("beforeunload",m),e.getChannel()&&_()};var r=n("EoNM"),i=l(n("J0qE")),a=n("uNCh"),o=l(n("JZwe")),s=n("YWLq");function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},"L5/0":function(e,t,n){var r=n("dt0z");e.exports=function(e){return r(e).toLowerCase()}},L5pO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_PERSISTENCE=t.ACTION_SET_LOW_LATENCY_MODE=t.ACTION_INITIALIZE_SETTINGS=void 0,t.initializeSettings=function(){return{type:a,settings:{lowLatencyModeEnabled:r.localStore.get("lowLatencyModeEnabled",!0),persistenceEnabled:r.localStore.get("persistenceEnabled",!0)}}},t.enableLowLatencyMode=function(e){return{type:o,enable:e}},t.enablePlayerPersistence=function(){return function(e,t){var n=t(),a=n.analyticsTracker,o=n.playerOptions;a.trackEvent(i.SITE_MINIPLAYER_ACTION,{action:"persistence_enable"}),!0===o.persistUserPreferences&&r.localStore.set("persistenceEnabled",!0),e({type:s,value:!0})}},t.disablePlayerPersistence=function(){return function(e,t){var n=t(),a=n.analyticsTracker,o=n.playerOptions;a.trackEvent(i.SITE_MINIPLAYER_ACTION,{action:"persistence_disable"}),!0===o.persistUserPreferences&&r.localStore.set("persistenceEnabled",!1),e({type:s,value:!1})}};var r=n("EoNM"),i=n("aacC"),a=t.ACTION_INITIALIZE_SETTINGS="initialize ui settings",o=t.ACTION_SET_LOW_LATENCY_MODE="set low latency mode",s=t.ACTION_SET_PERSISTENCE="set persistence"},LDmb:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var r=n("pVnL"),i=n.n(r),a=n("VbXa"),o=n.n(a),s=n("q1tI"),l=n("A5Hy"),u=n("vCsY"),c=n("ygYM"),d=n("hnjF"),f=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(c.a,i()({},Object(u.a)(this.props),{elevation:this.props.elevation,offsetX:this.props.offsetX,offsetY:this.props.offsetY,direction:this.props.direction,noTail:!this.props.tail,size:this.props.size?this.props.size:c.c.Large,show:this.props.show,background:this.props.background}),s.createElement(d.g,{display:d.d.Flex,flexDirection:d.e.Column,role:l.a.Dialog,ariaLabelledby:this.props.popoverId+"-header",ariaDescribedby:this.props.popoverId+"-body"},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},this.props.children)))},t}(s.Component);f.displayName="Popover"},LjNF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CAPTION=void 0,t.captions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1],n=(0,i.default)(t,"captions.data.text.length",0);switch(t.type){case o.ACTION_SHOW_CC_MODAL:return(0,r.default)({},e,{showCCModal:t.showCCModal});case o.ACTION_INITIALIZE_CAPTIONS_SETTINGS:case o.ACTION_SET_CAPTIONS_PRESET:case o.ACTION_TOGGLE_CAPTIONS:return(0,r.default)({},e,t.captions);case o.ACTION_SET_CAPTIONS_DATA:return(0,r.default)({},e,{data:t.captions.data,available:e.available||n>0});case s.ACTION_SET_STREAM:return(0,r.default)({},e,{available:u.available,data:u.data});case o.ACTION_UPDATE_CAPTIONS_FONT_SIZE:return(0,r.default)({},e,{style:t.style});default:return e}};var r=l(n("zdiy")),i=l(n("mwIZ")),a=n("8+VK"),o=n("rSwD"),s=n("D3OJ");function l(e){return e&&e.__esModule?e:{default:e}}var u=t.DEFAULT_CAPTION={enabled:!1,available:!1,preset:"white-on-black",data:null,style:a.presetMap["white-on-black"],showCCModal:!1}},Lnk8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayButtonOverlay=t.mapStateToProps=void 0,t.PlayButtonOverlayContainer=m;var r=p(n("q1tI")),i=p(n("17x9")),a=n("N58E"),o=n("4b1H"),s=n("xkJG"),l=n("VIow"),u=n("XU6G"),c=n("uNCh"),d=n("uAxA"),f=n("Ynch");function p(e){return e&&e.__esModule?e:{default:e}}var _={showOverlay:i.default.bool.isRequired,play:i.default.func.isRequired,collectionsSidebarOpen:i.default.bool.isRequired},h=t.mapStateToProps=function(e){var t=e.chromecast,n=e.collection,r=e.error,i=e.playback,a=e.onlineStatus,o=e.screen,s=e.stream,p=e.ui,_=i.paused,h=p.isMini,m=r.hasError,E=a===d.OFFLINE_STATUS,v=s.contentType===l.CONTENT_MODE_VOD&&i.ended,y=t.castingState===u.CONNECTING||t.castingState===u.CONNECTED,g=o[0]===c.OFFLINE_RECOMMENDATIONS_SCREEN||o[0]===c.POST_VOD_RECOMMENDATIONS_SCREEN||o[0]===c.ADVERTISEMENT_SCREEN,T=s.accessExpiration&&s.accessExpiration<new Date;return{collectionsSidebarOpen:n.currentView===f.SIDEBAR_VIEW,showOverlay:(_||v)&&!y&&!h&&!g&&!m&&!E&&!T}};function m(e){var t=e.showOverlay,n=e.play,i=e.collectionsSidebarOpen;return t?r.default.createElement(s.PlayButtonOverlay,{onClick:n,collectionsSidebarOpen:i}):null}m.propTypes=_;t.PlayButtonOverlay=(0,a.connect)(h,function(e){return{play:function(){e((0,o.play)())}}})(m)},LzuL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComscoreAnalytics=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=T(n("3OWR")),o=T(n("QQZ/")),s=T(n("xaJk")),l=T(n("OFL0")),u=T(n("mwIZ")),c=g(n("JZwe")),d=g(n("UvTj")),f=n("7Eji"),p=T(n("+arh")),_=n("56nq"),h=n("wsSb"),m=n("VIow"),E=n("nqwM"),v=n("H6wP"),y=n("QBeZ");function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}var b={Creative:"Creative",Poker:"Poker",Music:"Music"},S="Gaming",A=6e5,C={ns_st_cl:null,ns_st_st:null,ns_st_pu:null,ns_st_pr:null,ns_st_ep:null,ns_st_sn:null,ns_st_en:null,ns_st_ge:null,ns_st_ti:null,ns_st_ia:!1,ns_st_ce:!1,ns_st_ddt:null,ns_st_tdt:null,c3:"TWITCH",c4:"twitch.tv",c6:null};t.ComscoreAnalytics=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.analytics=t,this.player=n,this.store=r,this.ended=!1;var i=r.getState().window;n.addEventListener(c.PLAYING,this.onPlaying.bind(this)),n.addEventListener(c.PAUSE,this.onPause.bind(this)),n.addEventListener(c.SEEKING,this.onSeeking.bind(this)),n.addEventListener(c.ENDED,this.onEnded.bind(this)),n.addEventListener(d.AD_START,this.onAdStart.bind(this)),n.addEventListener(d.AD_IMPRESSION,this.onAdImpression.bind(this)),n.addEventListener(d.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),n.addEventListener(d.AD_END,this.onAdEnd.bind(this)),i.addEventListener("beforeunload",this)}return i(e,[{key:"handleEvent",value:function(e){switch(e.type){case"beforeunload":this._stop()}}},{key:"onPlaying",value:function(){var e=this.store.getState();e.ads.currentMetadata.contentType===y.AdContentTypes.NONE&&Promise.all([O(e),P(e),(0,_.getIsFromEEA)()]).then(function(t){var n=r(t,3),i=n[0],a=n[1],o=n[2],s=N(e,o);e.comscore.streamingTag.playVideoContentPart(I(i,s),a)}),this.ended=!1}},{key:"onPause",value:function(){this.store.getState().ads.currentMetadata.contentType===y.AdContentTypes.NONE&&this._stop()}},{key:"onSeeking",value:function(){this.analytics.hasPlayed&&!this.player.paused&&(this.ended?(this.store.dispatch((0,v.resetTag)()),this.ended=!1):this._stop())}},{key:"onEnded",value:function(){this._stop(),this.ended=!0}},{key:"onAdStart",value:function(e){e.roll_type!==f.POSTROLL&&this._stop()}},{key:"onAdImpression",value:function(e){var t=this.store.getState();(0,_.getIsFromEEA)().then(function(n){var r=N(t,n);t.comscore.streamingTag.playVideoAdvertisement(I({ns_st_cl:(1e3*e.time_break).toString()},r),function(e,t){if(e.stream instanceof h.LiveTwitchContentStream)return p.default.StreamingTag.AdType.LinearLive;if(e.stream instanceof m.VODTwitchContentStream)switch(t.roll_type){case f.PREROLL:return p.default.StreamingTag.AdType.LinearOnDemandPreRoll;case f.MIDROLL:return p.default.StreamingTag.AdType.LinearOnDemandMidRoll;case f.POSTROLL:return p.default.StreamingTag.AdType.LinearOnDemandPostRoll}return p.default.StreamingTag.AdType.Other}(t,e))})}},{key:"onAdImpressionComplete",value:function(){this._stop()}},{key:"onAdEnd",value:function(e){e.roll_type!==f.POSTROLL&&this.onPlaying()}},{key:"onBeforeUnload",value:function(){this._stop()}},{key:"destroy",value:function(){this._stop()}},{key:"_stop",value:function(){this.store.getState().comscore.streamingTag.stop()}}]),e}();function O(e){return e.stream instanceof h.LiveTwitchContentStream?Promise.resolve((0,a.default)({},C,{ns_st_ci:e.streamMetadata.broadcastID,ns_st_cl:0,ns_st_st:e.streamMetadata.channel.displayName,ns_st_ep:e.streamMetadata.channel.status,ns_st_ge:b[e.streamMetadata.game]||S,ns_st_ddt:R(new Date(e.streamMetadata.createdAt)),ns_st_ce:!0})):e.stream instanceof m.VODTwitchContentStream?(0,_.videoInfo)(e.stream.videoId).then(function(e){return(0,a.default)({},C,{ns_st_ci:e.broadcast_id,ns_st_cl:1e3*e.length,ns_st_st:e.channel.display_name,ns_st_ep:e.title,ns_st_ge:b[e.game]||S,ns_st_ddt:R(new Date(e.recorded_at)),ns_st_ce:"archive"===e.broadcast_type})}):e.stream instanceof E.ClipContentStream?(0,_.clipInfo)(e.stream.slug).then(function(e){return(0,a.default)({},C,{ns_st_ci:String((0,u.default)(e,"clip.id",""))+String((0,u.default)(e,"clip.broadcaster.id","")),ns_st_cl:1e3*(0,u.default)(e,"clip.durationSeconds",1),ns_st_st:(0,u.default)(e,"clip.video.creator.displayName",""),ns_st_ep:(0,u.default)(e,"clip.title",""),ns_st_ge:b[(0,u.default)(e,"clip.game.name","")]||S,ns_st_ddt:(0,l.default)(e.clip,"createdAt")?R(new Date(e.clip.createdAt)):"",ns_st_ce:!1})}):Promise.reject(new Error("No stream is currently playing; no metadata is available."))}function P(e){return e.stream instanceof h.LiveTwitchContentStream?e.streamMetadata.channel.partner?p.default.StreamingTag.ContentType.Live:p.default.StreamingTag.ContentType.UserGeneratedLive:e.stream instanceof m.VODTwitchContentStream?(0,_.videoInfo)(e.stream.videoId).then(function(e){var t=1e3*e.length>=A;return e.partner?t?p.default.StreamingTag.ContentType.LongFormOnDemand:p.default.StreamingTag.ContentType.ShortFormOnDemand:t?p.default.StreamingTag.ContentType.UserGeneratedLongFormOnDemand:p.default.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):e.stream instanceof E.ClipContentStream?(0,_.clipInfo)(e.stream.slug).then(function(e){return e.clip.broadcaster.roles.isPartner?p.default.StreamingTag.ContentType.ShortFormOnDemand:p.default.StreamingTag.ContentType.UserGeneratedShortFormOnDemand}):p.default.StreamingTag.ContentType.Other}function N(e,t){var n=e.gdprConsent;return t&&!n.vendors.comscore.hasUserSavedGDPRConsent?{cs_ucfr:null}:{cs_ucfr:n.vendors.comscore.consent}}function I(e,t){var n=(0,a.default)({},e,t);return(0,s.default)(n,function(e,t,n){return e[n]=function(e){switch(e){case!0:return"1";case!1:return"0";case null:return"*null"}return String(e)}(t),e},{})}function R(e){return e.getUTCFullYear()+"-"+(0,o.default)(e.getUTCMonth()+1,2,"0")+"-"+(0,o.default)(e.getUTCDate(),2,"0")}},M8Au:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=t.Timer=function(){function e(t,n,r){i(this,e),this.interval=n,this.callback=t,this.windowObj=r,this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}return r(e,[{key:"start",value:function(){var e=this;0===this.timerId&&(this.lastStartTimestamp=Date.now(),this.timerId=this.windowObj.setTimeout(function(){return e.timeoutCallback()},this.intervalRemaining))}},{key:"pause",value:function(){if(0!==this.timerId){this.windowObj.clearTimeout(this.timerId);var e=Date.now();this.intervalRemaining=this.intervalRemaining-(e-this.lastStartTimestamp),this.timerId=0}}},{key:"timeoutCallback",value:function(){this.callback()}},{key:"destroy",value:function(){this.windowObj.clearTimeout(this.timerId)}}]),e}();t.IntervalTimer=function(e){function t(e,n,r){return i(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a),r(t,[{key:"timeoutCallback",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"timeoutCallback",this).call(this),this.restartTimer()}},{key:"_reset",value:function(){this.windowObj.clearTimeout(this.timerId),this.timerId=0,this.lastStartTimestamp=0,this.intervalRemaining=this.interval}},{key:"restartTimer",value:function(){this._reset(),this.start()}}]),t}()},MBA2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionBorder=t.EXT_BORDER_HIGHLIGHT=t.EXT_BORDER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=l(n("17x9")),o=l(n("TSYQ")),s=n("y/jJ");function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.EXT_BORDER="extension-border",d=t.EXT_BORDER_HIGHLIGHT="extension-border__highlight",f={anchorClassName:a.default.string.isRequired,collapseTarget:a.default.shape({x:a.default.number.isRequired,y:a.default.number.isRequired}),height:a.default.number.isRequired,isHidden:a.default.bool.isRequired,isHighlighted:a.default.bool.isRequired,onHover:a.default.func,onHoverEnd:a.default.func,width:a.default.number.isRequired,x:a.default.number.isRequired,y:a.default.number.isRequired,children:a.default.oneOfType([a.default.arrayOf(a.default.element),a.default.element,a.default.node])};(t.ExtensionBorder=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._ref=i.createRef(),n._originalPosition={left:e.x,top:e.y},n._boundOnHover=n._onHover.bind(n),n._boundOnHoverEnd=n._onHoverEnd.bind(n),n._boundOnTransitionEnd=n._onTransitionEnd.bind(n),n.state={isAnimating:!1,isCollapsed:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.isHidden===t.isCollapsed||t.isAnimating?null:{isAnimating:!0}}}]),r(t,[{key:"componentDidMount",value:function(){this._originalPosition=(0,s.getElementPosition)(this._ref.current)}},{key:"componentDidUpdate",value:function(){this.state.isAnimating||this.state.isCollapsed||(this._originalPosition=(0,s.getElementPosition)(this._ref.current))}},{key:"render",value:function(){var e,t=this.props,n=t.anchorClassName,r=t.collapseTarget,a=t.height,s=t.isHidden,l=t.isHighlighted,f=t.width,p=t.x,_=t.y,h=(0,o.default)((u(e={},n,!0),u(e,c,!0),u(e,d,l),e)),m={width:f+"px",height:a+"px",top:_+"px",left:p+"px"};if(this.state.isCollapsed&&!this.state.isAnimating&&(m.visibility="hidden"),r&&s){var E=1/f,v=1/a,y=r.x-this._originalPosition.left,g=r.y-this._originalPosition.top;m.transform="translate("+y+"px, "+g+"px) scale("+E+", "+v+")"}return i.createElement("div",{className:h,style:m,onMouseOver:this._boundOnHover,onFocus:this._boundOnHover,onMouseOut:this._boundOnHoverEnd,onBlur:this._boundOnHoverEnd,onTransitionEnd:this._boundOnTransitionEnd,ref:this._ref},this.props.children)}},{key:"_onHover",value:function(e){this.props.onHover&&this.props.onHover(e)}},{key:"_onHoverEnd",value:function(e){this.props.onHoverEnd&&this.props.onHoverEnd(e)}},{key:"_onTransitionEnd",value:function(e){"transform"===e.propertyName&&this.setState({isCollapsed:this.props.isHidden,isAnimating:!1})}}]),t}()).propTypes=f},MCKP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdOverlay=t.mapStateToProps=t.NO_SUPPORT_BANNER_CHANNELS=void 0,t.AdOverlayContainer=g,t.getAdLabel=I;var r=m(n("mwIZ")),i=m(n("q1tI")),a=m(n("17x9")),o=n("N58E"),s=m(n("ijCd")),l=n("JnVa"),u=n("gZP+"),c=n("YzPC"),d=n("uNCh"),f=n("wsSb"),p=n("QBeZ"),_=n("SXV3"),h=n("Rnd+");function m(e){return e&&e.__esModule?e:{default:e}}var E=t.NO_SUPPORT_BANNER_CHANNELS=Object.freeze(["overwatchleague","overwatchleague_kr","overwatchleague_fr","overwatchleague_zh","overwatchleague_zhtw"]),v={clickThroughUrl:a.default.string.isRequired,streamMetadataLoaded:a.default.bool.isRequired,isPartner:a.default.bool.isRequired,displayName:a.default.string.isRequired,isShowingAd:a.default.bool.isRequired,isShowingCountdown:a.default.bool.isRequired,isStitchedAd:a.default.bool.isRequired,rollType:a.default.string.isRequired,streamType:a.default.string,remainingAdTime:a.default.number,remainingStitchedAdTime:a.default.number,adPosition:a.default.number,totalAds:a.default.number},y=t.mapStateToProps=function(e){var t=e.ads,n=e.screen,i=e.stream,a=e.streamMetadata;return{clickThroughUrl:t.clickThrough,streamMetadataLoaded:null!==a.channelName,isPartner:a.channel.partner,displayName:a.channel.displayName,isShowingAd:n[0]===d.STITCHED_ADVERTISEMENT_SCREEN||n[0]===d.ADVERTISEMENT_SCREEN,isShowingCountdown:t.details.remainingAdTime>0||t.currentMetadata.remainingStitchedAdTime>0,isStitchedAd:n[0]===d.STITCHED_ADVERTISEMENT_SCREEN,rollType:t.currentMetadata.rollType,streamType:(0,r.default)(i,"contentType"),remainingAdTime:t.details.remainingAdTime,remainingStitchedAdTime:t.currentMetadata.remainingStitchedAdTime,adPosition:t.details.adPodInfo.adPosition,totalAds:t.details.adPodInfo.totalAds}};function g(e){var t=e.clickThroughUrl,n=e.isPartner,r=e.displayName,a=e.isShowingAd,o=e.isShowingCountdown,d=e.isStitchedAd,p=e.rollType,m=e.streamType,v=e.remainingAdTime,y=e.remainingStitchedAdTime,g=e.adPosition,b=e.totalAds,S=e.streamMetadataLoaded;if(!a||!S)return null;var A=T,C=null;d&&"string"==typeof t&&""!==t&&(C=i.default.createElement(l.AdClickThroughOverlay,{clickThroughUrl:t}));var O=m===f.CONTENT_MODE_LIVE;return(0,s.default)(E,r.toLowerCase())||(A=I(n,O,p)),d?i.default.createElement("div",null,C,i.default.createElement(u.AdNotice,{label:A,channelName:r}),i.default.createElement(_.Experiment,{uuid:h.ExperimentIds.AdCountdownTimersSureStream,renderValue:"test"},i.default.createElement(c.AdCountdown,{remainingAdTime:y,adPosition:g,totalAds:b,isShowingCountdown:o}))):i.default.createElement("div",null,C,i.default.createElement(u.AdNotice,{label:A,channelName:r}),i.default.createElement(_.Experiment,{uuid:h.ExperimentIds.AdCountdownTimers,renderValue:"test"},i.default.createElement(c.AdCountdown,{remainingAdTime:v,adPosition:g,totalAds:b,isShowingCountdown:o})))}var T="This Ad supports Twitch",b="This Ad supports {{channelName}}",S="This video will be back shortly. This Ad supports Twitch.",A="This video will be back shortly. This Ad supports {{channelName}}.",C="{{channelName}} will be back shortly. This Ad supports Twitch.",O="{{channelName}} will be back shortly. This Ad supports them.",P="Thanks for watching the stream! This Ad supports Twitch.",N="Thanks for watching the stream! This Ad supports {{channelName}}.";function I(e,t,n){var r=T;return n===p.AdRollTypes.PREROLL?(r=T,e&&(r=b)):n===p.AdRollTypes.MIDROLL?t?(r=C,e&&(r=O)):(r=S,e&&(r=A)):n===p.AdRollTypes.POSTROLL&&(t?(r=P,e&&(r=N)):(r=T,e&&(r=b))),r}g.propTypes=v;t.AdOverlay=(0,o.connect)(y)(g)},MPW3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentedPersistence=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.convertOldKey=function(e,t){var n=i.localStore.get(e);void 0!==n&&(i.localStore.remove(e),t.set(void 0,n))};var i=n("EoNM");t.SegmentedPersistence=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.get=this.get.bind(this),this.set=this.set.bind(this),this.segmentKeyFromPlayerType=this.segmentKeyFromPlayerType.bind(this),this.storedSegments=this.storedSegments.bind(this);var n={};t.segments.forEach(function(e){e.playerTypes.forEach(function(t){n[t]=e.key})}),this.storageKey=t.storageKey,this.playerTypeToSegmentKey=n}return r(e,[{key:"get",value:function(e){return this.storedSegments()[this.segmentKeyFromPlayerType(e)]}},{key:"set",value:function(e,t){var n=this.storedSegments(),r=this.segmentKeyFromPlayerType(e);try{n[r]=t}catch(e){(n={})[r]=t}i.localStore.set(this.storageKey,n)}},{key:"segmentKeyFromPlayerType",value:function(e){var t=this.playerTypeToSegmentKey[e];return t||"default"}},{key:"storedSegments",value:function(){return i.localStore.get(this.storageKey)||{}}}]),e}()},Mv0S:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOverlay=void 0,t.ErrorOverlayComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={errorMessage:i.default.string.isRequired,errorCode:i.default.number.isRequired,t:i.default.func.isRequired};function l(e){var t=e.errorMessage,n=e.errorCode,i=e.t;return r.default.createElement("div",{className:"pl-error"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("p",null,i(t)+" ("+i("Error")+" #"+n+")")))}l.propTypes=s;t.ErrorOverlay=(0,a.translate)()(l)},N0h1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FollowButton=t.mapStateToProps=void 0,t.FollowButtonComponent=p;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("1fV9"),s=c(n("TSYQ")),l=n("9kay"),u=n("jCcP");function c(e){return e&&e.__esModule?e:{default:e}}var d={blurAfterClick:i.default.bool,channelName:i.default.string.isRequired,isOwnChannel:i.default.bool.isRequired,isFollowing:i.default.bool.isRequired,onFollowChannel:i.default.func.isRequired,onUnfollowChannel:i.default.func.isRequired,hideChannelName:i.default.bool,hideUnfollowText:i.default.bool,t:i.default.func.isRequired},f=t.mapStateToProps=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isFollowing:e.follow.following}};function p(e){var t=e.blurAfterClick,n=e.channelName,i=e.isFollowing,a=e.onFollowChannel,l=e.onUnfollowChannel,c=e.hideChannelName,d=e.hideUnfollowText,f=e.t;if(e.isOwnChannel)return null;var p=(0,s.default)("pl-button","pl-button--follow","pl-button--icon",d?"pl-button--icon-only":"","pl-button--status"),_=(0,s.default)("pl-button","pl-button--follow","pl-button--icon"),h=d?null:r.default.createElement("span",{className:"pl-button__text"},f("Unfollow")),m=d?null:r.default.createElement("span",{className:"pl-button__text"},f("Following")),E=r.default.createElement(o.Button,{className:p,onClick:l,blurAfterClick:t||!1},r.default.createElement("span",{className:"pl-button__status pl-button__status--hover"},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.HeartSVG,{id:"icon_unheart",disabled:!0})),h),r.default.createElement("span",{className:"pl-button__status pl-button__status--primary"},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.HeartSVG,{id:"icon_heart",disabled:!1})),m)),v=c?f("Follow"):f("Follow {{channelName}} on Twitch",{channelName:n}),y=r.default.createElement(o.Button,{className:_,onClick:a,blurAfterClick:t||!1},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.HeartSVG,{id:"icon_heart",disabled:!1})),r.default.createElement("span",{className:"pl-button__text"},v));return i?E:y}p.propTypes=d,p.defaultProps={blurAfterClick:!1,hideChannelName:!1,hideUnfollowText:!1};var _=(0,a.connect)(f);t.FollowButton=(0,l.translate)()(_(p))},N58E:function(e,t,n){"use strict";n.r(t);var r=n("dI71"),i=n("q1tI"),a=n("17x9"),o=n.n(a),s=o.a.shape({trySubscribe:o.a.func.isRequired,tryUnsubscribe:o.a.func.isRequired,notifyNestedSubs:o.a.func.isRequired,isSubscribed:o.a.func.isRequired}),l=o.a.shape({subscribe:o.a.func.isRequired,dispatch:o.a.func.isRequired,getState:o.a.func.isRequired});function u(e){var t;void 0===e&&(e="store");var n=e+"Subscription",a=function(t){Object(r.a)(o,t);var a=o.prototype;function o(n,r){var i;return(i=t.call(this,n,r)||this)[e]=n.store,i}return a.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},a.render=function(){return i.Children.only(this.props.children)},o}(i.Component);return a.propTypes={store:l.isRequired,children:o.a.element.isRequired},a.childContextTypes=((t={})[e]=l.isRequired,t[n]=s,t),a}var c=u();function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var f=n("wx14"),p=n("zLVn"),_=n("2mql"),h=n.n(_),m=n("QLaP"),E=n.n(m),v=n("TOwV"),y=null,g={notify:function(){}};var T=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=g}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=y,e=y},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==y&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=g)},e}(),b=0,S={};function A(){}function C(e,t){var n,a;void 0===t&&(t={});var o=t,u=o.getDisplayName,c=void 0===u?function(e){return"ConnectAdvanced("+e+")"}:u,_=o.methodName,m=void 0===_?"connectAdvanced":_,y=o.renderCountProp,g=void 0===y?void 0:y,C=o.shouldHandleStateChanges,O=void 0===C||C,P=o.storeKey,N=void 0===P?"store":P,I=o.withRef,R=void 0!==I&&I,w=Object(p.a)(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),k=N+"Subscription",M=b++,L=((n={})[N]=l,n[k]=s,n),D=((a={})[k]=s,a);return function(t){E()(Object(v.isValidElementType)(t),"You must pass a component to the function returned by "+m+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=c(n),o=Object(f.a)({},w,{getDisplayName:c,methodName:m,renderCountProp:g,shouldHandleStateChanges:O,storeKey:N,withRef:R,displayName:a,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var r;return(r=n.call(this,e,t)||this).version=M,r.state={},r.renderCount=0,r.store=e[N]||t[N],r.propsMode=Boolean(e[N]),r.setWrappedInstance=r.setWrappedInstance.bind(d(d(r))),E()(r.store,'Could not find "'+N+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+N+'" as a prop to "'+a+'".'),r.initSelector(),r.initSubscription(),r}Object(r.a)(s,n);var l=s.prototype;return l.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[k]=t||this.context[k],e},l.componentDidMount=function(){O&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(e){this.selector.run(e)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=A,this.store=null,this.selector.run=A,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return E()(R,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+m+"() call."),this.wrappedInstance},l.setWrappedInstance=function(e){this.wrappedInstance=e},l.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(O){var e=(this.propsMode?this.props:this.context)[k];this.subscription=new T(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(S)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(e){if(!(R||g||this.propsMode&&this.subscription))return e;var t=Object(f.a)({},e);return R&&(t.ref=this.setWrappedInstance),g&&(t[g]=this.renderCount++),this.propsMode&&this.subscription&&(t[k]=this.subscription),t},l.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(i.createElement)(t,this.addExtraProps(e.props))},s}(i.Component);return s.WrappedComponent=t,s.displayName=a,s.childContextTypes=D,s.contextTypes=L,s.propTypes=L,h()(s,t)}}var O=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function N(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!O.call(t,n[i])||!P(e[n[i]],t[n[i]]))return!1;return!0}var I=n("fvjX");function R(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function w(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function k(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=w(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=w(i),i=r(t,n)),i},r}}var M=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:R(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?R(function(t){return Object(I.bindActionCreators)(e,t)}):void 0}];var L=[function(e){return"function"==typeof e?k(e):void 0},function(e){return e?void 0:R(function(){return{}})}];function D(e,t,n){return Object(f.a)({},n,e,t)}var x=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?i&&a(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function U(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function B(e,t,n,r,i){var a,o,s,l,u,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function _(i,p){var _,h,m=!d(p,o),E=!c(i,a);return a=i,o=p,m&&E?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),u=n(s,l,o)):m?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),u=n(s,l,o)):E?(_=e(a,o),h=!f(_,s),s=_,h&&(u=n(s,l,o)),u):u}return function(i,c){return p?_(i,c):(s=e(a=i,o=c),l=t(r,o),u=n(s,l,o),p=!0,u)}}function V(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Object(p.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),l=i(e,a);return(a.pure?B:U)(o,s,l,e,a)}function j(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}var F,H,Y,G,W,K,Q,z,X,J,Z,$,ee=(Y=(H=void 0===F?{}:F).connectHOC,G=void 0===Y?C:Y,W=H.mapStateToPropsFactories,K=void 0===W?L:W,Q=H.mapDispatchToPropsFactories,z=void 0===Q?M:Q,X=H.mergePropsFactories,J=void 0===X?x:X,Z=H.selectorFactory,$=void 0===Z?V:Z,function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.pure,o=void 0===a||a,s=i.areStatesEqual,l=void 0===s?q:s,u=i.areOwnPropsEqual,c=void 0===u?N:u,d=i.areStatePropsEqual,_=void 0===d?N:d,h=i.areMergedPropsEqual,m=void 0===h?N:h,E=Object(p.a)(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=j(e,K,"mapStateToProps"),y=j(t,z,"mapDispatchToProps"),g=j(n,J,"mergeProps");return G($,Object(f.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:y,initMergeProps:g,pure:o,areStatesEqual:l,areOwnPropsEqual:c,areStatePropsEqual:_,areMergedPropsEqual:m},E))});n.d(t,"Provider",function(){return c}),n.d(t,"createProvider",function(){return u}),n.d(t,"connectAdvanced",function(){return C}),n.d(t,"connect",function(){return ee})},NBx9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APP_VERSION="9.71.0"},"NE/w":function(e,t,n){var r;!function(i,a,o){"use strict";var s=/i(Pad|Phone|Pod)/.test(navigator.userAgent)&&parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/,"$1.$2"),10)>=7,l=function(){var e=a.createElement("video"),t={request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"]},n={};for(var r in t)for(var i=0,o=t[r].length;i<o;i++)if(t[r][i]in e||t[r][i]in a||"on"+t[r][i].toLowerCase()in a){n[r]=t[r][i];break}return n}();function u(e){var t=null;if("VIDEO"===e.tagName)t=e;else{var n=e.getElementsByTagName("video");n[0]&&(t=n[0])}return t}var c=null,d=null,f=function(){},p=[],_=!1;function h(e){var t=u(e);if(t&&t.webkitEnterFullscreen){try{t.readyState<t.HAVE_METADATA?(t.addEventListener("loadedmetadata",function e(){t.removeEventListener("loadedmetadata",e,!1),t.webkitEnterFullscreen(),d=!!t.getAttribute("controls")},!1),t.load()):(t.webkitEnterFullscreen(),d=!!t.getAttribute("controls")),c=t}catch(t){return g("not_supported",e)}return!0}return g(void 0===l.request?"not_supported":"not_enabled",e)}function m(){T.element||(y(),E())}function E(){o&&"webkitfullscreenchange"===l.change&&window.removeEventListener("resize",m,!1)}navigator.userAgent.indexOf("Android")>-1&&navigator.userAgent.indexOf("Chrome")>-1&&(_=parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/,"$1"),10)||!0);var v=function(e){var t=p[p.length-1];t&&(e!==t.element&&e!==c||!t.hasEntered)&&("VIDEO"===e.tagName&&(c=e),1===p.length&&T.onenter(T.element),t.enter.call(t.element,e||t.element),t.hasEntered=!0)},y=function(){!c||d||s||(c.setAttribute("controls","controls"),c.removeAttribute("controls")),c=null,d=null;var e=p.pop();e&&(e.exit.call(e.element),T.element||(p.forEach(function(e){e.exit.call(e.element)}),p=[],T.onexit()))},g=function(e,t){if(p.length>0){var n=p.pop();t=t||n.element,n.error.call(t,e),T.onerror(t,e)}},T={request:function(e,t,n,r){if(e=e||a.body,p.push({element:e,enter:t||f,exit:n||f,error:r||f}),void 0!==l.request)if(o&&!1===a[l.enabled])h(e);else if(!1!==_&&_<32)h(e);else{if(o&&void 0===l.enabled)return l.enabled="webkitFullscreenEnabled",e[l.request](),void setTimeout(function(){a[l.element]?a[l.enabled]=!0:(a[l.enabled]=!1,h(e))},250);try{e[l.request](),setTimeout(function(){a[l.element]||g(o?"not_enabled":"not_allowed",e)},100)}catch(t){g("not_enabled",e)}}else h(e)},exit:function(){E(),a[l.exit]()},toggle:function(e,t,n,r){T.element?T.exit():T.request(e,t,n,r)},videoEnabled:function(e){if(T.enabled)return!0;var t=u(e=e||a.body);return!(!t||void 0===t.webkitSupportsFullscreen)&&(t.readyState<t.HAVE_METADATA?"maybe":t.webkitSupportsFullscreen)},onenter:f,onexit:f,onchange:f,onerror:f};try{Object.defineProperties(T,{element:{enumerable:!0,get:function(){return c&&c.webkitDisplayingFullscreen?c:a[l.element]||null}},enabled:{enumerable:!0,get:function(){return"webkitCancelFullScreen"===l.exit&&!o||!(!1!==_&&_<32)&&(a[l.enabled]||!1)}}}),l.change&&a.addEventListener(l.change,function(e){if(T.onchange(T.element),T.element){var t=p[p.length-2];t&&t.element===T.element?y():(v(T.element),o&&"webkitfullscreenchange"===l.change&&window.addEventListener("resize",m,!1))}else y()},!1),a.addEventListener("webkitbeginfullscreen",function(e){var t=!0;if(p.length>0)for(var n=0,r=p.length;n<r;n++){if(u(p[n].element)===e.srcElement){t=!1;break}}t&&p.push({element:e.srcElement,enter:f,exit:f,error:f}),T.onchange(e.srcElement),v(e.srcElement)},!0),a.addEventListener("webkitendfullscreen",function(e){T.onchange(e.srcElement),y(e.srcElement)},!0),l.error&&a.addEventListener(l.error,function(e){g("not_allowed")},!1)}catch(e){T.element=null,T.enabled=!1}void 0===(r=function(){return T}.call(t,n,t,e))||(e.exports=r)}(0,document,self!==top)},NIJN:function(e,t,n){var r=n("CH3K"),i=n("XGnz"),a=n("Q1l4"),o=n("Z0cm");e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return r(o(n)?a(n):[n],i(t,1))}},NWFT:function(e,t){},NYFb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PinnedVOD=t.PinnedVODComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("gCUw"),s=f(n("TSYQ")),l=n("9kay"),u=n("i0u+"),c=n("Zlad"),d=n("pWOI");function f(e){return e&&e.__esModule?e:{default:e}}var p={video:a.default.shape({thumbnailURL:a.default.string.isRequired,title:a.default.string.isRequired,channelName:a.default.string.isRequired,creationDate:a.default.string.isRequired,duration:a.default.number.isRequired,id:a.default.string.isRequired,recommendationType:a.default.string.isRequired}).isRequired,onClose:a.default.func,onSelect:a.default.func.isRequired,t:a.default.func.isRequired,trackEvent:a.default.func.isRequired},_=(0,s.default)("pl-pinned-item__title","pl-flex"),h=(0,s.default)("pl-flex__item","pl-flex__item--grow"),m=t.PinnedVODComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=e.onClose,a=i.default.createElement("div",{className:_},i.default.createElement("span",{className:h},n("Watch Now")),i.default.createElement(u.RecCloseButton,{onClick:r})),s=i.default.createElement("span",null,i.default.createElement("figure",{className:"pl-card__smallicon"},i.default.createElement(d.PlayVodSVG,{id:"pl-icon_vod"})),i.default.createElement("span",null,n("Most Recent Video")));return i.default.createElement("div",{className:"pl-pinned-item"},a,i.default.createElement(o.PlayerCard,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:s,onSelect:this.handleSelect,selectItem:t,hasThumbZoom:!0,hasBorder:!0}),i.default.createElement(c.FeaturedCollection,null))}},{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),r(e)}}]),t}();m.defaultProps={onClose:function(){}},m.propTypes=p;t.PinnedVOD=(0,l.translate)()(m)},Nf5G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeekbarPopup=t.ARROW_WIDTH=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=o(n("TSYQ"));function o(e){return e&&e.__esModule?e:{default:e}}var s=t.ARROW_WIDTH=20,l={popupLeftOffset:i.default.number,popupObject:i.default.object,popupWidth:i.default.number,seekbarWidth:i.default.number,hideThumbnailPreview:i.default.bool};function u(e,t,n){var r=e-.5*t,i=Math.max(0,Math.min(r,n-t));return isNaN(i)?0:i}(t.SeekbarPopup=function(e){var t=e.popupLeftOffset,n=e.popupObject,i=e.popupWidth,o=e.seekbarWidth,l=e.hideThumbnailPreview,c=(0,a.default)({"seekbar__popup--fadein":!l,"seekbar__popup--fadeout":l});return r.default.createElement("div",{className:c},r.default.createElement("div",{className:"player-slider__popup-container",style:{width:n.width,left:u(t,i,o)}},r.default.createElement("div",{className:"popup-thumb-wrapper",style:{width:n.thumbOver.width,height:n.thumbOver.height,maxHeight:n.thumbOver.height}},r.default.createElement("div",{className:"popup-marker-thumbunder",style:{height:n.thumbUnder.height,width:n.thumbUnder.width,backgroundSize:n.thumbUnder.sheetWidth+"px",backgroundImage:"url("+n.thumbUnder.url+")",backgroundPosition:"-"+n.thumbUnder.x+"px -"+n.thumbUnder.y+"px"}}),r.default.createElement("div",{className:"popup-marker-thumbover",style:{height:n.thumbOver.height,width:n.thumbOver.width,backgroundSize:n.thumbOver.sheetWidth+"px",backgroundImage:"url("+n.thumbOver.url+")",backgroundPosition:"-"+n.thumbOver.x+"px -"+n.thumbOver.y+"px"}})),r.default.createElement("div",{className:"popup-info-wrapper"},r.default.createElement("span",{className:"popup-title"},n.title),r.default.createElement("span",{className:"popup-info",dangerouslySetInnerHTML:{__html:n.info}})),r.default.createElement("span",{className:"popup-timestamp"},n.timestamp)),r.default.createElement("div",{className:"popup-arrow",style:{left:u(t,s,o)}}))}).propTypes=l},Nicn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VodPostplayRecommendations=t.VodPostplayRecommendationsContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=E(n("Y+p1")),a=n("q1tI"),o=E(a),s=E(n("17x9")),l=n("N58E"),u=n("uNCh"),c=n("9Mp/"),d=n("VPTj"),f=E(n("ijCd")),p=n("ipln"),_=n("VIow"),h=n("uC+K"),m=n("P7PG");function E(e){return e&&e.__esModule?e:{default:e}}var v=[h.PLAYER_DASHBOARD,h.PLAYER_FRONTPAGE,h.PLAYER_FEED,h.PLAYER_CREATIVE,h.PLAYER_HIGHLIGHTER,h.PLAYER_RECAP,h.PLAYER_ONBOARDING,h.PLAYER_CHANNEL_TRAILER],y={hasVideoEnded:s.default.bool.isRequired,recommendedVideos:s.default.array.isRequired,windowObj:s.default.object.isRequired,lang:s.default.object.isRequired,selectRecommendedVideo:s.default.func.isRequired,popScreen:s.default.func.isRequired,clearRecommendedVODs:s.default.func.isRequired,playerDimensions:s.default.shape({height:s.default.number,width:s.default.number}).isRequired,trackEvent:s.default.func.isRequired,isMiniPlayer:s.default.bool.isRequired,shouldShowRecommendations:s.default.bool.isRequired,pushVODRecScreen:s.default.func.isRequired,fetchRecommendedVODs:s.default.func.isRequired,shouldFetchRecommendations:s.default.bool.isRequired,screen:s.default.array.isRequired},g=t.mapStateToProps=function(e){var t=e.recommendations,n=e.playback,r=e.lang,i=e.screen,a=e.window,o=e.playerDimensions,s=e.analyticsTracker,l=e.ui,u=e.stream,d=e.env,h=u.contentType===_.CONTENT_MODE_VOD&&n.ended&&!l.isMini&&!(0,f.default)(v,d.playerType)&&t.status===c.FETCHED&&n.transitionScheme===p.TRANSITION_TYPE_RECOMMENDATIONS&&t.type===c.POST_VOD_RECOMMENDATIONS_TYPE,m=n.transitionScheme===p.TRANSITION_TYPE_RECOMMENDATIONS&&u.contentType===_.CONTENT_MODE_VOD&&1e3*(n.duration-n.currentTime)<c.FETCH_VODS_THRESHOLD&&t.status===c.UNFETCHED;return{hasVideoEnded:n.ended,recommendedVideos:t.videos,windowObj:a,lang:r,playerDimensions:o,trackEvent:s.trackEvent,isMiniPlayer:l.isMini,shouldShowRecommendations:h,shouldFetchRecommendations:m,screen:i}},T=t.mapDispatchToProps=function(e){return{fetchRecommendedVODs:function(){e((0,c.fetchRecommendedVODs)(c.POST_VOD_RECOMMENDATIONS_TYPE))},pushVODRecScreen:function(){e((0,u.pushScreen)(u.POST_VOD_RECOMMENDATIONS_SCREEN))},selectRecommendedVideo:function(t){e((0,d.selectRecommendedVideo)(t))},popScreen:function(){e((0,u.popScreen)())},clearRecommendedVODs:function(){e((0,c.clearRecommendedVODs)())}}},b=t.VodPostplayRecommendationsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectVOD=e.handleSelectVOD.bind(e),e.handleExitRecommendations=e.handleExitRecommendations.bind(e),e.state={isImagePreloadingComplete:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.hasVideoEnded&&this.props.shouldShowRecommendations&&this.props.recommendedVideos.length>0&&this.props.screen[0]!==u.ADVERTISEMENT_SCREEN&&this.props.screen[0]!==u.STITCHED_ADVERTISEMENT_SCREEN&&!(0,f.default)(this.props.screen,u.POST_VOD_RECOMMENDATIONS_SCREEN)&&this.props.pushVODRecScreen(),this.props.shouldFetchRecommendations&&this.props.fetchRecommendedVODs()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(!(0,i.default)(this.props,e)){var t=e.recommendedVideos!==this.props.recommendedVideos,n=e.screen[0]!==u.ADVERTISEMENT_SCREEN&&e.screen[0]!==u.STITCHED_ADVERTISEMENT_SCREEN&&!(0,f.default)(e.screen,u.POST_VOD_RECOMMENDATIONS_SCREEN)&&e.shouldShowRecommendations,r=this.props.hasVideoEnded&&0===this.props.recommendedVideos.length&&e.recommendedVideos.length>0,a=!this.props.hasVideoEnded&&e.hasVideoEnded&&this.props.recommendedVideos.length>0;t&&e.recommendedVideos.length>0&&!1===this.state.isImagePreloadingComplete&&this._preloadVideoThumbnails(e.recommendedVideos),(r||a)&&n?this.props.pushVODRecScreen():e.shouldFetchRecommendations?this.props.fetchRecommendedVODs():e.shouldShowRecommendations||e.screen[0]!==u.POST_VOD_RECOMMENDATIONS_SCREEN||this.props.popScreen()}}},{key:"render",value:function(){var e=this.props,t=e.recommendedVideos,n=e.windowObj,r=e.playerDimensions,i=e.trackEvent,a=e.isMiniPlayer,s=e.screen,l=e.lang;return s[0]!==u.POST_VOD_RECOMMENDATIONS_SCREEN?null:o.default.createElement(m.PostVODRecommendations,{videos:t,onSelectVOD:this.handleSelectVOD,windowObj:n,playerHeight:r.height,playerWidth:r.width,onExit:this.handleExitRecommendations,trackEvent:i,isMiniPlayer:a,lang:l})}},{key:"_preloadVideoThumbnails",value:function(e){e.forEach(function(e){(new Image).src=e.thumbnailURL}),this.setState({isImagePreloadingComplete:!0})}},{key:"handleSelectVOD",value:function(e){this.props.selectRecommendedVideo(e.id),this.handleExitRecommendations()}},{key:"handleExitRecommendations",value:function(){this.props.popScreen()}}]),t}();b.propTypes=y;t.VodPostplayRecommendations=(0,l.connect)(g,T)(b)},"Np8/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionListButton=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n("q1tI")),a=s(n("17x9")),o=n("1fV9");function s(e){return e&&e.__esModule?e:{default:e}}var l={installation:n("hm9X").EXTENSION_INSTALLATION_PROP_TYPE.isRequired,onClick:a.default.func},u=t.ExtensionListButton=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.installation)}},{key:"render",value:function(){return i.default.createElement(o.Button,{onClick:this.handleClick,className:"qa-extension-list-button"},i.default.createElement("span",null,this.props.installation.extension.name))}}]),t}();u.propTypes=l,u.defaultProps={onClick:function(){}}},O8dT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.comscore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;switch(arguments[1].type){case o.ACTION_SET_STREAM:case s.ACTION_RESET_TAG:return e.streamingTag.stop(),{streamingTag:new a.default.StreamingTag({customerC2:l})};default:return e}};var r,i=n("+arh"),a=(r=i)&&r.__esModule?r:{default:r},o=n("D3OJ"),s=n("H6wP");var l="6745306",u={streamingTag:new a.default.StreamingTag({customerC2:l})}},OFL0:function(e,t,n){var r=n("lvO4"),i=n("4sDh");e.exports=function(e,t){return null!=e&&i(e,t,r)}},OM3L:function(e,t,n){},ONdw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdStats=t.AdStatsContainer=t.mapDispatchToProps=t.mapStateToProps=t.formatAdStatsToDisplay=t.filterAdStatsToDisplay=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=_(i),o=_(n("17x9")),s=n("N58E"),l=n("3EEV"),u=n("0D68"),c=n("j4+h"),d=_(n("RBan")),f=_(n("3WF5")),p=_(n("mwIZ"));function _(e){return e&&e.__esModule?e:{default:e}}var h={closeStats:o.default.func.isRequired,show:o.default.bool.isRequired,adStats:o.default.array.isRequired},m=t.filterAdStatsToDisplay=function(e){var t=e.adStats,n=(0,p.default)(t,"id"),r=(0,p.default)(t,"impressionTime"),i=(0,p.default)(t,"adPodInfo.adPosition"),a=(0,p.default)(t,"adPodInfo.totalAds"),o=(0,p.default)(t,"creativeId"),s=JSON.stringify((0,p.default)(t,"adWrapperIds")),l=(0,p.default)(t,"title"),u=(0,p.default)(t,"system"),c=(0,p.default)(t,"contentType"),d=(0,p.default)(t,"vastMediaBitrate");return{id:n,impressionTime:r,adPosition:i,totalAds:a,creativeId:o,adWrapperIds:s,title:l,system:u,contentType:c,vastMediaHeight:(0,p.default)(t,"vastMediaHeight"),vastMediaWidth:(0,p.default)(t,"vastMediaWidth"),vastMediaBitrate:d}},E=t.formatAdStatsToDisplay=function(e){var t=e.adStats,n=m({adStats:t});return(0,f.default)(n,function(e,t){return{value:e,statName:t}})},v=t.mapStateToProps=function(e){var t=e.stats,n=t.displayState,r=t.adStats,i=n===c.DISPLAY_AD_STATS,a=(0,d.default)(r);return{show:i,adStats:E({adStats:a})}},y=t.mapDispatchToProps=function(e){return{closeStats:function(){e((0,u.displayStats)(c.DISPLAY_NONE))}}},g=t.AdStatsContainer=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.adStats;return t?a.default.createElement(l.AdStats,{adStats:n,onClose:this.onClose}):null}}]),t}();g.propTypes=h;t.AdStats=(0,s.connect)(v,y)(g)},ObcS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BITS_DATA=void 0,t.bits=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_BITS_BALANCE:return(0,a.default)({},e,{bitsBalance:t.bitsBalance,retrievingBitsBalance:!1});case o.ACTION_RETRIEVING_BITS_BALANCE:return(0,a.default)({},e,{retrievingBitsBalance:!0});case o.ACTION_BITS_BALANCE_RETRIEVED:return(0,a.default)({},e,{retrievingBitsBalance:!1});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("pBkb");var s=t.DEFAULT_BITS_DATA=Object.freeze({bitsBalance:null,retrievingBitsBalance:!1})},Os9p:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSettingsMiddlware=function(){return function(e){return function(e){return function(t){switch(t.type){case i.ACTION_SET_LOW_LATENCY_MODE:t.enable?r.localStore.set("lowLatencyModeEnabled",!0):r.localStore.set("lowLatencyModeEnabled",!1)}e(t)}}}};var r=n("EoNM"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("L5pO"))},OyQT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SOURCE_QUALITY_SET_TIMESTAMP=t.CLIP_RESOLUTION_MAP=t.DEFAULT_STREAM_BITRATE_IN_BPS=t.DEFAULT_STREAM_FORMAT=t.QUALITY_AUTO_OBJECT=t.QUALITY_SOURCE=t.QUALITY_AUTO=t.KEY_SEEN_AUTO_QUALITY_NOTIFICATION=t.KEY_AUTO_QUALITY_FORCED=t.CLIPS_EDITING_STREAM_QUALITY=t.ACTION_SET_ABS_AVAILABILITY=t.ACTION_SET_QUALITIES=t.ACTION_SET_CURRENT_QUALITY=t.ACTION_SELECT_QUALITY=void 0,t.setABSAvailability=function(e){return{type:p,absAvailable:e}},t.initializeQuality=function(){return function(e,t){var n=t(),r=n.quality,i=n.env;e({type:c,quality:s.qualityPersistence.get(i.playerType)||r.selected,bitrate:o.localStore.get("quality-bitrate",r.bitrate)})}},t.selectQuality=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;return function(n,o){var s=o(),l=s.analyticsTracker,u=s.manifestInfo,d=s.quality,f=s.stream,p=s.env;if(-1===f.restrictedBitrates.indexOf(e)){l.trackEvent("quality_change_request",{prev_quality:d.current,new_quality:e,serving_id:u.serving_id});var h=(0,r.default)(a.CLIPS_PLAYER_TYPES,p.playerType)?d.selected:d.current;e!==_&&h!==e&&n((0,i.setLoading)(!0)),n({type:c,quality:e,bitrate:t})}else n({type:i.ACTION_QUALITY_RESTRICTED_ERROR})}},t.setPreferredQuality=function(e){return function(t,n){var r=n(),i=r.playerOptions,a=r.env;!0===i.persistUserPreferences&&(s.qualityPersistence.set(a.playerType,e.group),o.localStore.set("quality-bitrate",e.bandwidth))}},t.setCurrentQuality=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:d,quality:e,isAuto:t}},t._getMatchingTranscodeQuality=E,t.setQualities=function(e){return function(t,n){var i=n(),a=i.quality,o=i.stream,s=e.filter(function(e){return!(0,r.default)(o.restrictedBitrates,e.group)});if(s.length>0&&!s.some(function(e){return e.group===a.selected})&&a.selected!==_){var u=s.sort(function(e,t){return t.bandwidth-e.bandwidth}),d=E(a.selected,u),p=(0,l.default)(u,function(e){return e.bandwidth<=a.bitrate}),h=d||p||u[u.length-1],m=h.group,v=h.bandwidth;t({type:c,quality:m,bitrate:v})}t({type:f,qualities:e})}},t.setClipQualities=function(e){var t=e.map(function(e){return{name:e.quality+"p",group:e.quality+"p"+e.frame_rate,bitrate:"",resolution:m[e.quality],source:e.source}});return{type:f,qualities:t}};var r=u(n("ijCd")),i=n("VPTj"),a=n("uC+K"),o=n("EoNM"),s=n("+ivd"),l=u(n("J2m7"));function u(e){return e&&e.__esModule?e:{default:e}}var c=t.ACTION_SELECT_QUALITY="select quality",d=t.ACTION_SET_CURRENT_QUALITY="set current quality",f=t.ACTION_SET_QUALITIES="set qualities",p=t.ACTION_SET_ABS_AVAILABILITY="abs is availabile",_=(t.CLIPS_EDITING_STREAM_QUALITY="source",t.KEY_AUTO_QUALITY_FORCED="auto-quality-forced-v2",t.KEY_SEEN_AUTO_QUALITY_NOTIFICATION="has-seen-abs-notification",t.QUALITY_AUTO="auto"),h=(t.QUALITY_SOURCE="chunked",t.QUALITY_AUTO_OBJECT=Object.freeze({bitrate:0,resolution:"0x0",group:"auto",name:"Auto"}),t.DEFAULT_STREAM_FORMAT="medium",t.DEFAULT_STREAM_BITRATE_IN_BPS=992e3),m=t.CLIP_RESOLUTION_MAP=Object.freeze({1080:"1920x1080",720:"1280x720",480:"854x480",360:"640x360"});t.SOURCE_QUALITY_SET_TIMESTAMP="s-qs-ts";function E(e,t){return(0,l.default)(t,function(t){return t.group+"2"===e||e+"2"===t.group})}},"P/NM":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedMenu=t.AdvancedMenuContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n("puQj")),a=h(n("q1tI")),o=h(n("17x9")),s=n("N58E"),l=n("85Qg"),u=n("uC+K"),c=n("0D68"),d=n("j4+h"),f=n("L5pO"),p=n("4b1H"),_=n("YWLq");function h(e){return e&&e.__esModule?e:{default:e}}var m={isLowLatencyStream:o.default.bool.isRequired,isLowLatencyModeEnabled:o.default.bool.isRequired,isMiniPlayerEnabled:o.default.bool.isRequired,isSitePlayer:o.default.bool.isRequired,trackAdvancedHeaderClick:o.default.func,onMenuTransition:o.default.func,toggleLowLatencyMode:o.default.func.isRequired,toggleMiniPlayer:o.default.func.isRequired,displayStats:o.default.func.isRequired,videoStatsToggleEnabled:o.default.bool.isRequired,adStatsToggleEnabled:o.default.bool.isRequired},E=t.mapStateToProps=function(e){var t=e.env,n=e.manifestInfo,r=e.settings,i=e.stats;return{isLowLatencyStream:n.future,isLowLatencyModeEnabled:r.lowLatencyModeEnabled,isMiniPlayerEnabled:r.persistenceEnabled,isSitePlayer:t.playerType===u.PLAYER_SITE,displayState:i.displayState,videoStatsToggleEnabled:i.displayState===d.DISPLAY_VIDEO_STATS,adStatsToggleEnabled:i.displayState===d.DISPLAY_AD_STATS}},v=t.mapDispatchToProps=function(e){return{trackAdvancedHeaderClick:function(){e({type:_.ACTION_TRACK_EVENT,eventName:"player_click",eventProperties:{component:"advanced_menu",component_state:"hide"}})},displayStats:function(t){e((0,c.displayStats)(t))},toggleLowLatencyMode:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e((0,p.setLiveLowLatencyEnabled)(t)),e((0,f.enableLowLatencyMode)(t)),e({type:_.ACTION_TRACK_EVENT,eventName:"player_click",eventProperties:{component:"latency_mode_toggle",component_state:t?"enable":"disable"}})},toggleMiniPlayer:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(t?(0,f.enablePlayerPersistence)():(0,f.disablePlayerPersistence)())}}},y=t.AdvancedMenuContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.trackAdvancedHeaderClick=e.trackAdvancedHeaderClick.bind(e),e.toggleLowLatencyMode=e.toggleLowLatencyMode.bind(e),e.toggleMiniPlayer=e.toggleMiniPlayer.bind(e),e.onVideoStatsToggle=e.onVideoStatsToggle.bind(e),e.onAdStatsToggle=e.onAdStatsToggle.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"trackAdvancedHeaderClick",value:function(){this.props.trackAdvancedHeaderClick()}},{key:"onVideoStatsToggle",value:function(){var e=this.props,t=e.videoStatsToggleEnabled;(0,e.displayStats)(t?d.DISPLAY_NONE:d.DISPLAY_VIDEO_STATS)}},{key:"onAdStatsToggle",value:function(){var e=this.props,t=e.adStatsToggleEnabled;(0,e.displayStats)(t?d.DISPLAY_NONE:d.DISPLAY_AD_STATS)}},{key:"toggleLowLatencyMode",value:function(){this.props.toggleLowLatencyMode(!this.props.isLowLatencyModeEnabled)}},{key:"toggleMiniPlayer",value:function(){this.props.toggleMiniPlayer(!this.props.isMiniPlayerEnabled)}},{key:"render",value:function(){var e=this.props,t=e.isLowLatencyStream,n=e.isLowLatencyModeEnabled,r=e.isMiniPlayerEnabled,o=e.isSitePlayer,s=e.onMenuTransition,u=e.videoStatsToggleEnabled,c=e.adStatsToggleEnabled,d=Boolean(t)&&(Boolean(i.default.chrome)||Boolean(i.default.firefox));return a.default.createElement("div",null,a.default.createElement(l.AdvancedMenu,{shouldShowLLToggle:d,miniPlayerEnabled:r,miniPlayerToggleEnabled:o,trackAdvancedHeaderClick:this.trackAdvancedHeaderClick,onLowLatencyToggle:this.toggleLowLatencyMode,lowLatencyModeEnabled:n,onMenuTransition:s,onMiniPlayerToggle:this.toggleMiniPlayer,videoStatsToggleEnabled:u,adStatsToggleEnabled:c,onVideoStatsToggle:this.onVideoStatsToggle,onAdStatsToggle:this.onAdStatsToggle}))}}]),t}();y.propTypes=m,y.defaultProps={trackAdvancedHeaderClick:function(){},onMenuTransition:function(){},displayStats:function(){}};t.AdvancedMenu=(0,s.connect)(E,v)(y)},P5Jw:function(e,t,n){"use strict";var r=n("rHrb").CopyToClipboard;r.CopyToClipboard=r,e.exports=r},P7PG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostVODRecommendations=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("17x9")),a=u(n("q1tI")),o=n("PjPV"),s=n("iec6"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,l.default)("player-overlay","recommendations-overlay","pl-rec-wrapper"),d={videos:i.default.array.isRequired,onSelectVOD:i.default.func.isRequired,playerHeight:i.default.number.isRequired,playerWidth:i.default.number.isRequired,onExit:i.default.func.isRequired,trackEvent:i.default.func.isRequired,lang:i.default.object.isRequired,windowObj:i.default.object.isRequired,isMiniPlayer:i.default.bool.isRequired};(t.PostVODRecommendations=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n.state={showAutoplayingVOD:!e.isMiniPlayer},n.handleCancelAutoplayVOD=n.handleCancelAutoplayVOD.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show",{type:"postVOD"})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.showAutoplayingVOD&&e.isMiniPlayer&&this.setState({showAutoplayingVOD:!1})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.windowObj,r=e.playerHeight,i=e.playerWidth,l=e.onSelectVOD,u=e.onExit,d=e.trackEvent,f=e.isMiniPlayer,p=e.lang,_=this.state.showAutoplayingVOD;if(f)return null;var h=a.default.createElement(s.OtherVODs,{height:r,width:i,videos:t,onSelect:l,onClose:u,trackEvent:d,lang:p,windowObj:n}),m=a.default.createElement(o.AutoplayingPinnedVOD,{onClose:this.handleCancelAutoplayVOD,onSelect:l,width:i,video:t[0],trackEvent:d,windowObj:n}),E=_?m:h;return a.default.createElement("div",{className:c},E)}},{key:"handleCancelAutoplayVOD",value:function(){this.setState({showAutoplayingVOD:!1})}}]),t}()).propTypes=d},Pd9b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgeGateOverlay=t.AgeGateOverlayContainer=t.AGE_GATE_CHANNEL_AGES=t.KEY_AGE_GATE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.hasPassedAgeGateForChannel=y;var i=h(n("q1tI")),a=h(n("17x9")),o=n("N58E"),s=n("VccO"),l=n("EoNM"),u=n("4b1H"),c=n("VPTj"),d=n("ipln"),f=n("wsSb"),p=n("QBeZ"),_=n("7Eji");function h(e){return e&&e.__esModule?e:{default:e}}var m=t.KEY_AGE_GATE="age_gate",E=t.AGE_GATE_CHANNEL_AGES=Object.freeze({budlight:21,budlightcanada:19}),v={playback:a.default.object.isRequired,stream:a.default.object.isRequired,streamMetadata:a.default.object.isRequired,ads:a.default.object.isRequired,mutePlayer:a.default.func.isRequired,contentIsShowing:a.default.func.isRequired,play:a.default.func.isRequired,pause:a.default.func.isRequired,requestAds:a.default.func.isRequired,contentRestricted:a.default.func.isRequired};function y(e){return l.localStore.get(m,{})[e]}var g=t.AgeGateOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showAgeGateOverlay:!1,playerPaused:!1},e.handleAgeGatePassed=e.handleAgeGatePassed.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidUpdate",value:function(){var e=this.state.showAgeGateOverlay,t=this.props.playback.isLoading&&!this.state.playerPaused,n=this._shouldShowOverlay();if(n){var r=this._requiredAge(this.props);e||(this.setState({showAgeGateOverlay:!0,requiredAge:r}),this.props.contentIsShowing(),this.props.contentRestricted()),t&&(this.props.mutePlayer(!0,!0),this.props.pause(),this.setState({playerPaused:!0,requiredAge:r}))}else!n&&e&&this.setState({showAgeGateOverlay:!1})}},{key:"_shouldShowOverlay",value:function(){return this._requiredAge()>0&&!y(this._channelName())}},{key:"_requiredAge",value:function(){var e=this._channelName(),t=this.props,n=t.stream,r=t.ads.currentAdProperties,i=void 0;return n.contentType===f.CONTENT_MODE_LIVE&&(i=r.requiredAge),E[e]||i||0}},{key:"_channelName",value:function(){var e=this.props,t=e.stream,n=e.streamMetadata;return t.contentType===f.CONTENT_MODE_LIVE?t.channel:n.channel.name}},{key:"render",value:function(){if(this.state.showAgeGateOverlay){var e=this._channelName();return i.default.createElement(s.AgeGateOverlay,{handleAgeGatePassed:this.handleAgeGatePassed,channelName:e,requiredAge:this.state.requiredAge})}return null}},{key:"handleAgeGatePassed",value:function(){var e=this.props.playback,t=this._channelName(),n=l.localStore.get(m,{});n[t]=!0,l.localStore.set(m,n),this.setState({showAgeGateOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0),e.autoplay&&this.props.requestAds(_.PREROLL,p.DEFAULT_AD_DURATION)}}]),t}();g.propTypes=v,g.defaultProps={playback:function(){},streamMetadata:function(){},mutePlayer:function(){},contentIsShowing:function(){},play:function(){},pause:function(){},requestAds:function(){},contentRestricted:function(){}};t.AgeGateOverlay=(0,o.connect)(function(e){return{playback:e.playback,stream:e.stream,streamMetadata:e.streamMetadata,ads:e.ads}},function(e){return{mutePlayer:function(t,n){e((0,u.mutePlayer)(t,n))},contentIsShowing:function(){e((0,c.contentIsShowing)(d.CONTENT_RESTRICTED_AGE))},contentRestricted:function(){e((0,c.contentRestricted)())},play:function(){e((0,u.play)())},pause:function(){e((0,u.pause)())},requestAds:function(t,n){e((0,p.requestAds)(t,n))}}})(g)},PhUq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PIXELS=void 0,t.pixel=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.ACTION_SET_PIXELS:var n=t.pixels.sort(function(e,t){return e.timeOffsetSeconds-t.timeOffsetSeconds});return n=n.map(function(e){return(0,i.default)({},e,{channelId:t.channelId})}),(0,r.default)({},{pixels:n});case o.ACTION_SET_STREAM:return{pixels:[]};default:return e}};var r=s(n("zdiy")),i=s(n("QkVN")),a=n("rDCd"),o=n("D3OJ");function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DEFAULT_PIXELS={pixels:[]}},PjPV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoplayingPinnedVOD=t.AutoplayingPinnedVODComponent=t.AUTOPLAY_PERIOD_IN_MS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("gCUw"),s=f(n("TSYQ")),l=n("Yat3"),u=n("9kay"),c=n("1fV9"),d=n("pWOI");function f(e){return e&&e.__esModule?e:{default:e}}var p={video:a.default.shape({thumbnailURL:a.default.string.isRequired,title:a.default.string.isRequired,channelName:a.default.string.isRequired,creationDate:a.default.string.isRequired,duration:a.default.number.isRequired,id:a.default.string.isRequired,recommendationType:a.default.string.isRequired}).isRequired,onClose:a.default.func,windowObj:a.default.object.isRequired,onSelect:a.default.func.isRequired,t:a.default.func.isRequired,trackEvent:a.default.func.isRequired},_=t.AUTOPLAY_PERIOD_IN_MS=2e4,h=(0,s.default)("pl-pinned-item","pl-pinned-item--centered"),m=(0,s.default)("pl-pinned-item__title","pl-flex"),E=(0,s.default)("pl-flex__item","pl-flex__item--grow"),v=(0,s.default)("pl-rec__cancel","pl-button","pl-button--hollow","pl-button--white"),y=t.AutoplayingPinnedVODComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={timeRemaining:_},e._updateTimeRemainingIntervalID=null,e.handleExitButtonClick=e.handleExitButtonClick.bind(e),e.handleSelect=e.handleSelect.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.video,n=e.t,r=this.state.timeRemaining,a=n("{{timeRemaining}} second",{timeRemaining:Math.round(r/1e3),count:r}),s=i.default.createElement("div",{className:m},i.default.createElement("span",{className:E},n("Playing in"),i.default.createElement("span",{className:"pl-pinned-item__title-highlight"}," ",a)),i.default.createElement(c.Button,{className:v,onClick:this.handleExitButtonClick},n("Cancel"))),u=i.default.createElement("span",null,i.default.createElement("figure",{className:"pl-card__smallicon"},i.default.createElement(d.PlayVodSVG,{id:"pl-icon_vod"})),i.default.createElement("span",null,n("Most Recent Video")));return i.default.createElement("div",{className:h},s,i.default.createElement(o.PlayerCard,{className:"pl-rec__item",thumbnailURL:t.thumbnailURL,info:u,onSelect:this.handleSelect,selectItem:t,progressBarPercentage:(0,l.getPercentage)(r,_),hasThumbZoom:!0,hasBorder:!0}))}},{key:"UNSAFE_componentWillMount",value:function(){this.props.trackEvent("player_rec_show_featured",{recommended_vod_id:this.props.video.id,recommended_vod_type:this.props.video.recommendationType})}},{key:"componentDidMount",value:function(){this.startAutoplayCountdown()}},{key:"componentWillUnmount",value:function(){this.stopAutoplayCountdown()}},{key:"startAutoplayCountdown",value:function(){var e=this,t=this.props,n=t.windowObj,r=t.onSelect,i=t.video,a=n.Date.now();this._updateTimeRemainingIntervalID=n.setInterval(function(){var t=n.Date.now()-a;t<_?e.setState({timeRemaining:_-t}):(e.stopAutoplayCountdown(),e.props.trackEvent("player_rec_autoplay",{recommended_vod_id:e.props.video.id,recommended_vod_type:e.props.video.recommendationType}),r(i))},100)}},{key:"stopAutoplayCountdown",value:function(){this.props.windowObj.clearInterval(this._updateTimeRemainingIntervalID),this._updateTimeRemainingIntervalID=null}},{key:"handleExitButtonClick",value:function(){this.stopAutoplayCountdown(),this.props.onClose()}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent,r=t.onSelect;n("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"featured"}),this.stopAutoplayCountdown(),r(e)}}]),t}();y.defaultProps={onClose:function(){}},y.propTypes=p;t.AutoplayingPinnedVOD=(0,u.translate)()(y)},QBeZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_AD_DETAILS=t.DEFAULT_AD_PROPERTIES=t.INVALID_AD_ACTION=t.AdRollTypes=t.AdContentTypes=t.ACTION_SET_MOAT_ANALYTICS=t.ACTION_SET_REMAINING_STITCHED_AD_TIME=t.ACTION_SET_REMAINING_AD_TIME=t.ACTION_SET_CHANNEL_AD_INFO=t.ACTION_SET_AD_PLAYBACK=t.ACTION_SET_AD_DETAILS=t.ACTION_SET_VOD_MIDROLL_ARCHIVE_SETTING=t.ACTION_IMA_SCRIPT_LOADED=t.ACTION_SET_AD_METADATA=t.ACTION_SET_CLICKTHROUGH_URL=t.DEFAULT_AD_DURATION=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.requestAds=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return function(u,c){var d=c(),f=d.adsManager;return k(e,t,c(),n,r,i,o.commercialId).then(function(n){if((!n.mature||l.localStore.get(p.KEY_MATURE,!1))&&(!(n.contentType===a.CONTENT_MODE_LIVE&&n.requiredAge>0)||(0,_.hasPassedAgeGateForChannel)(n.channel))&&(c().manifestInfo.suppress||f.requestAds(n),e===P.MIDROLL&&null!==o.spliceEventID&&null!==o.availNum)){var r=n.costreamers.some(function(e){return e.id===n.userId});r&&(0,s.runCommercial)(n.userId,n.userId,n.login,t,o.spliceEventId,o.availNum)}})}},t.setAdPlayback=function(e){return{type:T,playback:e}},t.setAdDetails=function(e){return{type:g,values:e}},t.setChannelAdInfo=function(e){var t=(0,u.default)(e,"channel.viewer.subscriptionBenefit.product.name",null),n=(0,u.default)(e,"channel.subscriptionProducts",[]),r=(0,d.default)({},R,(0,u.default)(e,"channel.adProperties",{}));return{type:b,currentAdProperties:r,currentSubscriptionBenefit:t,currentSubscriptionProducts:n}},t.setCurrentAdMetadata=w,t.clearCurrentAdMetadata=function(){return w(I)},t.pauseAd=function(){return function(e,t){var n=t(),r=n.adsManager;r.pause()}},t.playAd=function(){return function(e,t){var n=t(),r=n.adsManager;r.play()}},t.setVodMidrollArchiveSetting=function(e){return{type:y,setting:e}},t.setAdClickThrough=function(e){return{type:m,URL:e}},t.imaScriptLoaded=function(e){return{type:v,imaScriptLoaded:e}},t.getRequestContext=k,t.setRemainingAdTime=function(e){return{type:S,remainingAdTime:e}},t.setRemainingStitchedAdTime=function(e){return{type:A,remainingStitchedAdTime:e}},t.setMoatAnalytics=function(e){return{type:C,moatAnalytics:e}};var i=n("Gnwp"),a=n("wsSb"),o=n("VIow"),s=n("56nq"),l=n("EoNM"),u=h(n("mwIZ")),c=h(n("ijCd")),d=h(n("QkVN")),f=n("uCED"),p=n("Xz9n"),_=n("Pd9b");function h(e){return e&&e.__esModule?e:{default:e}}t.DEFAULT_AD_DURATION=30;var m=t.ACTION_SET_CLICKTHROUGH_URL="set clickthrough url",E=t.ACTION_SET_AD_METADATA="set ad metadata",v=t.ACTION_IMA_SCRIPT_LOADED="check to see if ima script loaded",y=t.ACTION_SET_VOD_MIDROLL_ARCHIVE_SETTING="set vod midroll archive setting",g=t.ACTION_SET_AD_DETAILS="ACTION_SET_AD_DETAILS",T=t.ACTION_SET_AD_PLAYBACK="ACTION_SET_AD_PLAYBACK",b=t.ACTION_SET_CHANNEL_AD_INFO="ACTION_SET_CHANNEL_AD_INFO",S=t.ACTION_SET_REMAINING_AD_TIME="ACTION_SET_REMAINING_AD_TIME",A=t.ACTION_SET_REMAINING_STITCHED_AD_TIME="ACTION_SET_REMAINING_STITCHED_AD_TIME",C=t.ACTION_SET_MOAT_ANALYTICS="ACTION_SET_MOAT_ANALYTICS",O=t.AdContentTypes=Object.freeze({NONE:"none",IMA:"ima",STITCHED:"stitched"}),P=t.AdRollTypes=Object.freeze({NONE:"none",PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"}),N=t.INVALID_AD_ACTION={type:"an invalid ad action"},I={contentType:O.NONE,rollType:P.NONE},R=t.DEFAULT_AD_PROPERTIES={hasVodAdsEnabled:!0,hasPrerollsDisabled:!0,hasPostrollsDisabled:!0,requiredAge:0};t.DEFAULT_AD_DETAILS={remainingAdTime:0,remainingStitchedAdTime:0,stitchedAdDuration:0,stitchedAdStartTime:0,adPodInfo:{adPosition:0,totalAds:0}};function w(e){return function(e){if(!e.hasOwnProperty("contentType")||!e.hasOwnProperty("rollType"))return!1;if(!(0,c.default)(O,e.contentType)||!(0,c.default)(P,e.rollType))return!1;if(e.contentType===O.NONE&&e.rollType!==P.NONE)return!1;if(e.rollType===P.NONE&&e.contentType!==O.NONE)return!1;return!0}(e)?{type:E,currentMetadata:e}:N}function k(e,t,n,c){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",_=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"";return function(e){if(e instanceof a.LiveTwitchContentStream)return Promise.resolve(e.channel);if(e instanceof o.VODTwitchContentStream)return(0,s.videoInfo)(e.videoId).then(function(e){return e.channel.name});return Promise.reject(new Error("Invalid stream: "+e))}(n.stream).then(function(e){return Promise.all([(0,s.viewerInfo)(),(0,s.channelInfo)(e),(0,s.channelStreamInfo)(e),(0,s.vodTagInfo)((0,u.default)(n,"streamMetadata.videoId"))])}).then(function(a){var o=r(a,4),s=o[0],h=o[1],m=o[2],E=o[3],v=(0,f.parseUri)(n.window.location.href).queryKey,y="raid"===v.referrer,g="true"===v.promo;return new i.AdsRequestContext({adType:e,channelInfo:h,channelStreamInfo:m,commercialId:_,creativeId:d,duration:t,embedPromo:g,forced:c,lastAdDisplay:l.localStore.get("lastAdDisplay",0),lastPrerollAdDisplay:l.localStore.get("lastPrerollAdDisplay",{channelId:null,time:0}),raid:y,requestType:p,sdk:n.sdk,state:n,viewerInfo:s,vodTagInfo:E,isAffiliate:(0,u.default)(m,"channel.roles.isAffiliate",!1),isPartner:(0,u.default)(m,"channel.roles.isPartner",!1)})})}},QE8m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToggleFullscreen=o;var r=i(n("q1tI"));function i(e){return e&&e.__esModule?e:{default:e}}var a={handleDoubleClick:i(n("17x9")).default.func.isRequired};function o(e){var t=e.handleDoubleClick;return r.default.createElement("div",{className:"player-overlay pl-overlay__fullscreen",onDoubleClick:t})}o.propTypes=a},QEeW:function(e,t){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},"QQZ/":function(e,t,n){var r=n("Sq3C"),i=n("Z1HP"),a=n("Sxd8"),o=n("dt0z");e.exports=function(e,t,n){e=o(e);var s=(t=a(t))?i(e):0;return t&&s<t?r(t-s,n)+e:e}},QcJP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.embedHostLoaded=function(e){return{type:r,embedHost:e}},t.adCompanionRendered=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:i,event:e,data:t}},t.emitWheelEvent=function(e){return{type:a,data:{deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,shiftKey:e.shiftKey}}},t.emitFirstPartyAnalyticEmbedEvent=function(e){return{type:o,event:e.name,data:e.properties}},t.emitPlaybackBlockedEvent=function(){return{type:s}};var r=t.ACTION_USE_EMBED_EVENT_EMITTER="use embed event emitter",i=t.ACTION_AD_COMPANION_EVENT="ad companion rendered",a=t.ACTION_EMBED_WHEEL_EVENT="wheel event embedded player",o=t.ACTION_FIRST_PARTY_ANALYTIC_EMBED_EVENT="first party analytic embed event",s=t.ACTION_PLAYBACK_BLOCKED_EVENT="playback blocked event"},QfJK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgeGateFailedSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string},u=t.AgeGateFailedSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 92 81"},e),i.default.createElement("path",{d:"M0 75.6l3.067-5.4L9.2 59.4l12.267-21.6 12.266-21.6 6.134-10.8L42.933 0h6.134l3.066 5.4 6.134 10.8 12.266 21.6L82.8 59.4l6.133 10.8L92 75.6 89.06 81H3.44L0 75.6zM40 27h12v13l-3 19h-6l-3-19V27zm1 34h10v10H41V61z",fill:e.fill,fillRule:"evenodd"}))};u.propTypes=l,u.defaultProps={fill:"#F9F7FC"}},QgMV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionComponent=t.EXT_COMPONENT_IFRAME_CLASS=t.EXT_COMPONENT_HIGHLIGHT=t.EXT_COMPONENT_CLASS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("G/1q")),a=d(n("q1tI")),o=d(n("17x9")),s=n("MBA2"),l=n("8BOE"),u=n("hm9X"),c=n("snxH");function d(e){return e&&e.__esModule?e:{default:e}}var f=t.EXT_COMPONENT_CLASS="extension-component",p=(t.EXT_COMPONENT_HIGHLIGHT="extension-component__highlight",t.EXT_COMPONENT_IFRAME_CLASS="extension-component__iframe"),_={installation:u.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,isLoggedIn:o.default.bool.isRequired,isVisible:o.default.bool.isRequired,language:o.default.string.isRequired,locale:o.default.string.isRequired,loginId:o.default.number.isRequired,onBeginPurchase:o.default.func,onDoubleClick:o.default.func.isRequired,onIdentityLinked:o.default.func.isRequired,onMinimize:o.default.func,onModalRequested:o.default.func.isRequired,onModalNotification:o.default.func.isRequired,onHover:o.default.func.isRequired,playerHeight:o.default.number.isRequired,playerWidth:o.default.number.isRequired,tracker:c.TRACKER_PROP_TYPE.isRequired,trackingProperties:o.default.shape({channel:o.default.string.isRequired,channelId:o.default.number.isRequired,deviceId:o.default.string.isRequired,login:o.default.string.isRequired,platform:o.default.string.isRequired,playerType:o.default.string.isRequired})};(t.ExtensionComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundOnHover=e._onHover.bind(e),e._boundOnHoverEnd=e._onHoverEnd.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.installation,n=e.trackingProperties,r=t.extension.views.component.zoom,i=t.playerState.isHighlighted,o=void 0;return o=r?{width:this.size.width/this.size.zoomScale+"px",height:this.size.height/this.size.zoomScale+"px",transformOrigin:"0 0",transform:"scale("+this.size.zoomScale+")"}:{width:"100%",height:"100%"},a.default.createElement(s.ExtensionBorder,{anchorClassName:f,collapseTarget:t.playerState.collapseLocation,height:this.size.height,width:this.size.width,isHidden:t.playerState.isHidden,isHighlighted:i,onHover:this._boundOnHover,onHoverEnd:this._boundOnHoverEnd,x:this.position.x,y:this.position.y},a.default.createElement("div",{style:o},a.default.createElement(l.ExtensionFrame,{iframeClass:p,installation:t,isLoggedIn:this.props.isLoggedIn,isVisible:this.props.isVisible,isHighlighted:i,key:t.id,language:this.props.language,locale:this.props.locale,loginId:this.props.loginId,onBeginPurchase:this.props.onBeginPurchase,onDoubleClick:this.props.onDoubleClick,onIdentityLinked:this.props.onIdentityLinked,onMinimize:this.props.onMinimize,onModalRequested:this.props.onModalRequested,onModalNotification:this.props.onModalNotification,tracker:this.props.tracker,trackingProperties:n})))}},{key:"_onHover",value:function(){this.props.onHover(this.props.installation)}},{key:"_onHoverEnd",value:function(){this.props.onHover(null)}},{key:"size",get:function(){var e=this.props,t=e.playerWidth,n=e.playerHeight,r=e.installation.extension.views.component;return i.getComponentSizeFromView(t,n,r)}},{key:"position",get:function(){var e=this.props,t=e.playerWidth,n=e.playerHeight,r=e.installation.activationConfig,a={x:r.x||0,y:r.y||0};return i.getComponentPositionFromView(t,n,a)}}]),t}()).propTypes=_},QkVN:function(e,t,n){var r=n("+Qka"),i=n("LsHQ")(function(e,t,n){r(e,t,n)});e.exports=i},Qkup:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stream=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.nullContentStream,t=arguments[1];switch(t.type){case r.ACTION_SET_STREAM:return t.stream;default:return e}};var r=n("D3OJ"),i=n("jC1Q")},Qn3q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmbed=a,t.getPlayerType=function(){if(!Twitch.notScript)return i.PLAYER_SITE;if(a()&&!(0,r.isTwitchEmbed)())return i.PLAYER_EMBED;return i.PLAYER_POPOUT};var r=n("0gEH"),i=n("uC+K");function a(){try{return window.self!==window.top}catch(e){return!0}}},Qntv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("yKzH")),o=n("hspN"),s=(r=o)&&r.__esModule?r:{default:r};var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n),this.type="backend"}return i(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=a.defaults(t,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:s.default})}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"==typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n)}},{key:"loadUrl",value:function(e,t){var n=this;this.options.ajax(e,this.options,function(r,i){if(i.status>=500&&i.status<600)return t("failed loading "+e,!0);if(i.status>=400&&i.status<500)return t("failed loading "+e,!1);var a=void 0,o=void 0;try{a=n.options.parse(r,e)}catch(t){o="failed parsing "+e+" to json"}if(o)return t(o,!1);t(null,a)})}},{key:"create",value:function(e,t,n,r){var i=this;"string"==typeof e&&(e=[e]);var a={};a[n]=r||"",e.forEach(function(e){var n=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:t});i.options.ajax(n,i.options,function(e,t){},a)})}}]),e}();l.type="backend",t.default=l},Qpe6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PauseSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.PauseSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M13 8v14H9V8h4zm8 0v14h-4V8h4z",fill:e.fill}))}).propTypes=l},Qrca:function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},"Qua/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaffMenu=t.StaffMenuComponent=t.CLASSES_MENU_HEADER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=c(n("TSYQ")),s=n("9kay"),l=n("bDXi"),u=n("1fV9");function c(e){return e&&e.__esModule?e:{default:e}}var d={onMenuTransition:a.default.func,onRunLocalPrerollAd:a.default.func,onRunLocalMidrollAd:a.default.func,onRunLocalPostrollAd:a.default.func,t:a.default.func.isRequired},f=t.CLASSES_MENU_HEADER=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),p=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),_=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0}),h=t.StaffMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(l.IDENTIFIER_MAIN_MENU)}},{key:"render",value:function(){var e=this.props.t,t=this._renderLocalAdButtons();return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:f},i.default.createElement(u.Button,{className:"qa-header-button",onClick:this.handleMenuTransition},e("Staff"))),i.default.createElement("div",{className:p},t))}},{key:"_renderLocalAdButtons",value:function(){var e=this.props,t=e.onRunLocalPrerollAd,n=e.onRunLocalMidrollAd,r=e.onRunLocalPostrollAd,a=i.default.createElement("div",{className:_},i.default.createElement(u.Button,{className:"ellipsis",onClick:t},i.default.createElement("span",null,"Run Local Preroll Ad"))),o=i.default.createElement("div",{className:_},i.default.createElement(u.Button,{className:"ellipsis",onClick:n},i.default.createElement("span",null,"Run Local Midroll Ad"))),s=i.default.createElement("div",{className:_},i.default.createElement(u.Button,{className:"ellipsis",onClick:r},i.default.createElement("span",null,"Run Local Postroll Ad")));return i.default.createElement("div",null,a,o,s)}}]),t}();h.propTypes=d,h.defaultProps={onRunLocalPrerollAd:function(){},onRunLocalMidrollAd:function(){},onRunLocalPostrollAd:function(){},onMenuTransition:function(){}};t.StaffMenu=(0,s.translate)()(h)},QxQ9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionDetailsMenu=t.ExtensionDetailsMenuComponent=t.EXT_MANAGE_ACCESS_BUTTON=t.EXT_DETAILS_BUTTON=t.EXT_REPORT_BUTTON=t.EXT_BACK_BUTTON=t.TWITCH_EXT_DETAILS_BASE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=f(n("TSYQ")),s=n("9kay"),l=n("hm9X"),u=n("1fV9"),c=n("yrU0"),d=n("vpBF");function f(e){return e&&e.__esModule?e:{default:e}}var p=t.TWITCH_EXT_DETAILS_BASE="https://www.twitch.tv/ext",_={installation:l.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,isLoggedIn:a.default.bool.isRequired,showBackButton:a.default.bool,onMenuTransition:a.default.func,onVisibilityToggle:a.default.func,promptLogin:a.default.func,showExtensionReportMenu:a.default.bool.isRequired,trackEvent:a.default.func.isRequired,windowObj:a.default.object.isRequired,t:a.default.func.isRequired},h=(0,o.default)({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-menu-details__header":!0}),m=(0,o.default)({"pl-menu__item--label":!0,"extension-menu-details__desc":!0}),E=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),v=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0}),y=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),g=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),T=t.EXT_BACK_BUTTON="qa-extension-back-button",b=t.EXT_REPORT_BUTTON="qa-extension-report-button",S=t.EXT_DETAILS_BUTTON="qa-extension-details-button",A=t.EXT_MANAGE_ACCESS_BUTTON="qa-extension-manage-access-button",C=t.ExtensionDetailsMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleViewDetailsClick=e.handleViewDetailsClick.bind(e),e.handleManageAccessClick=e.handleManageAccessClick.bind(e),e.handleReportExtensionClick=e.handleReportExtensionClick.bind(e),e.handleToggleVisibilityClick=e.handleToggleVisibilityClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(d.EXTENSION_MENU_MAIN)}},{key:"handleViewDetailsClick",value:function(){var e=this.props.installation.extension,t=e.clientId,n=e.version,r=p+"/"+t+"-"+n;this.props.windowObj.open(r,"_blank")}},{key:"handleToggleVisibilityClick",value:function(){var e=this.props.installation;this.props.trackEvent("extension_viewer_overlay_settings_toggle",e,{visibility_state:e.playerState.isHidden?"on":"off"}),this.props.onVisibilityToggle(e.id)}},{key:"handleManageAccessClick",value:function(){this.props.onMenuTransition(d.EXTENSION_MENU_MANAGE_ACCESS)}},{key:"handleReportExtensionClick",value:function(){var e=this.props,t=e.installation,n=e.isLoggedIn;this.props.trackEvent("extension_ui_interaction_client",t,{extension_interaction:"report"}),n?this.props.onMenuTransition(d.EXTENSION_MENU_REPORT):this.props.promptLogin()}},{key:"render",value:function(){var e=this.props,t=e.installation,n=e.onVisibilityToggle,r=e.showExtensionReportMenu,a=e.t,o=this._renderHeader(),s=i.default.createElement("div",{className:v},i.default.createElement(u.Button,{onClick:this.handleViewDetailsClick,className:S},a("View Details"))),l=this._renderManageAccess(),d=r?i.default.createElement("div",{className:y},i.default.createElement(u.Button,{onClick:this.handleReportExtensionClick,className:b},a("Report Extension"))):null,f=n?i.default.createElement("div",{className:v},i.default.createElement(c.Toggle,{label:a("Visible"),onToggle:this.handleToggleVisibilityClick,toggledOn:!t.playerState.isHidden})):null;return i.default.createElement("div",{className:"pl-menu__inner"},o,i.default.createElement("div",{className:g},i.default.createElement("div",{className:m},t.extension.summary),s,f,l,d))}},{key:"_renderHeader",value:function(){var e=this.props,t=e.installation;return e.showBackButton?i.default.createElement("div",{className:E},i.default.createElement(u.Button,{onClick:this.handleBackButtonClick,className:T},t.extension.name)):i.default.createElement("div",{className:h},t.extension.name)}},{key:"_renderManageAccess",value:function(){var e=this.props,t=e.installation,n=e.t,r=t.extension,a=t.playerState,s=r.requestIdentityLink,l=r.token.permissionsState===d.EXTENSION_PERMISSION_STATE_GRANTED;if(!(a.token.role!==d.EXTENSION_ROLE_BROADCASTER&&this.props.isLoggedIn&&(s||l)))return null;var c=(0,o.default)({"pl-pill":!0,"extension-access-granted":a.isUserIdentityLinked,"extension-access-requested":!a.isUserIdentityLinked}),f="Manage Access",p="!";return a.isUserIdentityLinked&&(f="Access",p=n("Granted")),i.default.createElement("div",{className:y},i.default.createElement(u.Button,{onClick:this.handleManageAccessClick,className:A},i.default.createElement("span",null,n(f)),"Â ",i.default.createElement("span",{className:c},p)))}}]),t}();C.propTypes=_,C.defaultProps={onMenuTransition:function(){},showBackButton:!0};t.ExtensionDetailsMenu=(0,s.translate)()(C)},Qybh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MobileWebUnmuteOverlay=t.MobileWebUnmuteOverlayContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=_(n("q1tI")),a=_(n("17x9")),o=_(n("UnXY")),s=n("N58E"),l=n("4b1H"),u=n("YWLq"),c=n("phZZ"),d=_(n("ijCd")),f=n("uNCh"),p=n("KR5+");function _(e){return e&&e.__esModule?e:{default:e}}var h={unmutePlayer:a.default.func.isRequired,autoplayEnabled:a.default.bool.isRequired,isMobileWeb:a.default.bool.isRequired,isPlaying:a.default.bool.isRequired,hasPlayed:a.default.bool.isRequired,isMuted:a.default.bool.isRequired,setTimeout:a.default.func.isRequired,clearTimeout:a.default.func.isRequired,trackOverlayClick:a.default.func.isRequired,pushUnmuteScreen:a.default.func.isRequired,popScreen:a.default.func.isRequired,screenStack:a.default.arrayOf(a.default.string).isRequired},m=t.mapStateToProps=function(e){var t=e.playback,n=e.env,r=e.window,i=e.screen;return{autoplayEnabled:t.autoplay,isMobileWeb:n.platform===p.PLATFORM_MOBILE_WEB,isPlaying:t.playing,hasPlayed:t.hasPlayed,isMuted:t.muted,setTimeout:r.setTimeout,clearTimeout:r.clearTimeout,screenStack:i}},E=t.mapDispatchToProps=function(e){return{unmutePlayer:function(){e((0,l.mutePlayer)(!1))},trackOverlayClick:function(){e((0,u.trackEvent)("player_click",{component:"unmute_overlay"}))},pushUnmuteScreen:function(){e((0,f.pushScreen)(f.UNMUTE_SCREEN))},popScreen:function(){e((0,f.popScreen)())}}};var v=t.MobileWebUnmuteOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hideTimeoutId:0},e.handleClick=e.handleClick.bind(e),e.startTimeout=e.startTimeout.bind(e),e.cancelTimeout=e.cancelTimeout.bind(e),e.timeoutHandler=e.timeoutHandler.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.isMuted&&this.props.autoplayEnabled&&this.props.isPlaying&&this.props.isMobileWeb&&!(0,d.default)(this.props.screenStack,f.UNMUTE_SCREEN)&&this.props.pushUnmuteScreen()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.autoplayEnabled&&e.isMobileWeb&&(e.isMuted&&e.isPlaying||e.screenStack[0]!==f.UNMUTE_SCREEN||this.props.popScreen(),e.isMuted&&function(e,t){return!e.hasPlayed&&!e.isPlaying&&t.isPlaying}(this.props,e)&&!(0,d.default)(e.screenStack,f.UNMUTE_SCREEN)&&this.props.pushUnmuteScreen(),this.props.screenStack[0]===f.UNMUTE_SCREEN&&e.screenStack[0]!==f.UNMUTE_SCREEN&&this.cancelTimeout(),this.props.screenStack[0]!==f.UNMUTE_SCREEN&&e.screenStack[0]===f.UNMUTE_SCREEN&&this.startTimeout())}},{key:"render",value:function(){var e=i.default.createElement(c.AnimatedUnmuteOverlay,{onClick:this.handleClick,isTapToUnmute:this.props.isMobileWeb}),t=this.props.screenStack[0]===f.UNMUTE_SCREEN?e:null;return i.default.createElement(o.default,{component:"div"},t)}},{key:"timeoutHandler",value:function(){var e=this.props,t=e.screenStack,n=e.popScreen;t[0]===f.UNMUTE_SCREEN&&n()}},{key:"startTimeout",value:function(){var e=this.props,t=e.setTimeout;(0,e.clearTimeout)(this.state.hideTimeoutId);var n=t(this.timeoutHandler,5e3);this.setState({hideTimeoutId:n})}},{key:"cancelTimeout",value:function(){(0,this.props.clearTimeout)(this.state.hideTimeoutId),this.setState({hideTimeoutId:0})}},{key:"handleClick",value:function(){var e=this.props,t=e.unmutePlayer,n=e.trackOverlayClick;t(),n()}}]),t}();v.propTypes=h;t.MobileWebUnmuteOverlay=(0,s.connect)(m,E)(v)},"R/6P":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsNotification=t.propTypes=t.EXTENSION_NOTIFICATION_TYPES=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),i=n("hm9X"),a=n("7FEK");var o=t.EXTENSION_NOTIFICATION_TYPES={BITS_BALANCE:"show bits balance"},s=t.propTypes={notification:i.EXTENSION_NOTIFICATION_TYPE};(t.ExtensionsNotification=function(e){var t=null;if(!e.notification)return t;switch(e.notification.type){case o.BITS_BALANCE:t=r.createElement(a.ExtensionBitsBalanceContainer,{options:e.notification.options});break;default:t=null}return t?r.createElement("div",{className:"pl-menu extension-modal__notification"},t):t}).propTypes=s},R0g0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBanner=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=o(n("TSYQ"));function o(e){return e&&e.__esModule?e:{default:e}}var s={imgUrl:i.default.string.isRequired,bgType:i.default.string.isRequired};(t.BackgroundBanner=function(e){var t=e.imgUrl,n=e.bgType,i=(0,a.default)({"pl-background-banner":!0,"pl-background-banner--offline":"offline-banner"===n,"pl-background-banner--preview":"video-preview"===n,"js-video-background-banner":!0});return r.default.createElement("div",{className:i,style:{backgroundImage:"url("+t+")"}})}).propTypes=s},R1R7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchEverywhereFollowPanel=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N0h1"),o=n("rrx+"),s=n("J0qE"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c={avatarURL:i.default.string,onFollowChannel:i.default.func.isRequired,onUnfollowChannel:i.default.func.isRequired,onSubscribe:i.default.func.isRequired};(t.TwitchEverywhereFollowPanel=function(e){var t=(0,l.default)({"pl-pinned-panel":!0,"pl-pinned-panel--te":!0});return r.default.createElement("div",{className:t},r.default.createElement("figure",{className:"pl-pinned-panel__avatar"},r.default.createElement("img",{src:e.avatarURL||s.DEFAULT_AVATAR_URL,alt:"Avatar",height:30,width:30})),r.default.createElement(a.FollowButton,{onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel}),r.default.createElement(o.SubscribeButton,{onSubscribe:e.onSubscribe}))}).propTypes=c},R2mi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMarkersBalloonButtonComponent=t.VideoMarkersBalloonButtonPresentation=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=d(n("GBMM")),s=n("1fV9"),l=n("Zh7d"),u=n("Uwt0"),c=n("qHst");function d(e){return e&&e.__esModule?e:{default:e}}n("v7iZ");var f={currentTime:a.default.number.isRequired,markers:a.default.array.isRequired,playerHeight:a.default.number.isRequired,seekToTime:a.default.func.isRequired,trackEvent:a.default.func.isRequired},p=t.VideoMarkersBalloonButtonPresentation=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggleBalloonVisibility=e.toggleBalloonVisibility.bind(e),e.handleVideoMarkerClick=e.handleVideoMarkerClick.bind(e),e.handleBalloonButtonClick=e.handleBalloonButtonClick.bind(e),e.state={visible:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props.markers.length>0,t=void 0;return this.state.visible&&(t=i.default.createElement(l.BalloonMenu,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,markers:this.props.markers,playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent})),e?i.default.createElement("div",{className:"player-button video-markers-balloon__button-wrapper pl-mg-t-05 pl-mg-l-05"},t,i.default.createElement(s.Button,{onClick:this.handleBalloonButtonClick,tabIndex:"-1",className:"player-button"},i.default.createElement(c.Icon,{label:"Chapter Select",labelClass:"player-tip--aleft"},i.default.createElement(u.ListSVG,{id:"icon_list"})))):null}},{key:"handleClickOutside",value:function(){this.hideBalloon()}},{key:"handleVideoMarkerClick",value:function(e){this.props.seekToTime(e),this.hideBalloon()}},{key:"handleBalloonButtonClick",value:function(){this.toggleBalloonVisibility(),this.props.trackEvent("player_video_marker_balloon_click",{visible:this.state.visible})}},{key:"hideBalloon",value:function(){this.setState({visible:!1})}},{key:"toggleBalloonVisibility",value:function(){this.setState(function(e){return{visible:!e.visible}})}}]),t}();p.propTypes=f;t.VideoMarkersBalloonButtonComponent=(0,o.default)(p)},R5Y4:function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,i,a){for(var o=-1,s=r(n((t-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},R8B7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RerunSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.RerunSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{fill:e.fill,d:"M17.953 4.797c-.004-.404-.25-.766-.626-.917-.12-.05-.247-.073-.373-.073-.264 0-.522.104-.713.3l-1.49 1.526c-.725-.937-1.677-1.684-2.795-2.167-1.745-.754-3.68-.783-5.45-.084-1.766.702-3.154 2.048-3.91 3.795-.753 1.744-.783 3.68-.083 5.446.7 1.767 2.048 3.156 3.794 3.91 1.745.756 3.68.785 5.447.084.563-.222.838-.858.615-1.42-.22-.564-.856-.838-1.42-.615-1.224.485-2.563.464-3.77-.058-1.21-.522-2.143-1.484-2.63-2.707-.483-1.225-.462-2.562.06-3.772.523-1.21 1.484-2.14 2.707-2.626 1.225-.49 2.563-.47 3.773.05.867.375 1.585.983 2.104 1.745L11.3 9.142c-.283.288-.364.718-.206 1.09.155.37.517.608.92.608h.01l4.993-.046c.552-.006.995-.457.99-1.01L17.96 4.79z"}))}).propTypes=l},R8J5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionManager=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n("3OWR")),o=n("56nq"),s=n("ipln"),l=n("VIow"),u=n("qT8i"),c=m(n("UfWW")),d=n("rRi7"),f=n("VPTj"),p=n("uNCh"),_=n("4b1H"),h=n("D3OJ");function m(e){return e&&e.__esModule?e:{default:e}}t.CollectionManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this.unsubs=[],this.unsubs.push((0,u.subscribe)(this._store,["collection.pendingRequest"],this.onPendingRequestChange.bind(this))),this.unsubs.push((0,u.subscribe)(this._store,["collection.id","stream"],this.onStreamChange.bind(this))),this.unsubs.push((0,u.subscribe)(this._store,["playback.ended"],this._streamEnded.bind(this)))}return i(e,[{key:"_fetchCollectionInfo",value:function(e){return(0,o.collectionInfo)(e).then(function(e){var t=r(e,2),n=t[0],i=t[1];return(0,a.default)({},n,{items:i.items})})}},{key:"_collectionHasVideo",value:function(e,t){return e.some(function(e){return t==="v"+e.item_id})}},{key:"_loadVideo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this._store.dispatch((0,h.setStream)({contentType:h.TYPE_VIDEO,contentId:e})),this._store.dispatch((0,f.setStartTime)(t))}},{key:"onPendingRequestChange",value:function(e){var t=this,n=e.collection.pendingRequest,r=n.collectionId,i=n.videoId,a=n.timestamp,o=n.preferVideo;if(r)return this._fetchCollectionInfo(r).then(function(e){if(0===e.items.length)return t._store.dispatch((0,d.setCollection)(e)),t._showEmptyCollectionOverlay(e);var n=t._collectionHasVideo(e.items,i),r="v"+e.items[0].item_id;return n?(t._store.dispatch((0,d.setCollection)(e)),t._loadVideo(i,a)):""===i||!o&&""!==i?(t._store.dispatch((0,d.setCollection)(e)),t._loadVideo(r,a)):o&&""!==i?t._loadVideo(i,a):void 0}).catch(function(){i&&t._loadVideo(i,a)})}},{key:"onStreamChange",value:function(){var e=this._store.getState(),t=e.stream,n=e.collection;if(n.id&&0!==n.items.length){var r=n.items[n.items.length-1];t.contentType===l.CONTENT_MODE_VOD&&t.videoId==="v"+r.itemId?this._store.dispatch((0,d.loadedLastCollectionItem)()):this._store.dispatch((0,d.loadedCollectionItem)())}}},{key:"_showEmptyCollectionOverlay",value:function(){this._store.dispatch((0,p.pushScreen)(p.COLLECTION_EMPTY_SCREEN)),this._store.dispatch((0,_.pause)())}},{key:"_streamEnded",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;!e.ui.isMini&&t.ended&&t.transitionScheme===s.TRANSITION_TYPE_COLLECTION&&n.contentType===l.CONTENT_MODE_VOD&&this._playNextVideo()}},{key:"_playNextVideo",value:function(){var e=this,t=this._store.getState(),n=t.stream,r=t.collection,i=t.window;if(0!==r.items.length){var a=n.videoId,o=(0,c.default)(r.items,function(e){return"v"+e.itemId===a});if(o+1!==r.items.length){var s=r.items[o+1];i.setTimeout(function(){e._store.dispatch((0,f.selectCollectionVideo)("v"+s.itemId,r.id))},0)}}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},RIlF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SquadStreamFollowPanel=t.SquadStreamFollowPanelComponent=t.mapStateToProps=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N0h1"),o=n("rrx+"),s=n("J0qE"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c={avatarURL:i.default.string,onFollowChannel:i.default.func.isRequired,onUnfollowChannel:i.default.func.isRequired,onSubscribeChannel:i.default.func.isRequired},d=(t.mapStateToProps=function(e){return{displayName:e.streamMetadata.channel.displayName}},t.SquadStreamFollowPanelComponent=function(e){var t=(0,l.default)({"pl-pinned-panel":!0,"pl-pinned-panel--ss":!0});return r.default.createElement("div",{className:t},r.default.createElement("figure",{className:"pl-pinned-panel__avatar"},r.default.createElement("img",{src:e.avatarURL||s.DEFAULT_AVATAR_URL,alt:"Avatar",height:30,width:30})),r.default.createElement(a.FollowButton,{blurAfterClick:!0,onFollowChannel:e.onFollowChannel,onUnfollowChannel:e.onUnfollowChannel,hideChannelName:!0,hideUnfollowText:!0}),r.default.createElement(o.SubscribeButton,{onSubscribe:e.onSubscribeChannel,canGiftSub:!0,hideChannelName:!0}))});d.propTypes=c;t.SquadStreamFollowPanel=d},RJgt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgeGateSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={requiredAge:a.default.number.isRequired,fill:a.default.string,viewBox:a.default.string},u=t.AgeGateSVG=function(e){return 19===e.requiredAge?i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 98 86"},e),i.default.createElement("path",{d:"M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm18.718 32.407h6.42V65h-7.446V44.272h-5.127v-5.615h1.197c1.562 0 2.779-.431 3.65-1.294.87-.862 1.306-2.148 1.306-3.857v-1.099zm29.614 18.994c-.911 1.058-1.827 1.856-2.747 2.393-.92.537-1.843.806-2.77.806-2.182 0-4.09-1.034-5.726-3.101-1.635-2.067-2.453-4.622-2.453-7.666 0-3.32.984-6.144 2.954-8.472 1.97-2.327 4.419-3.49 7.348-3.49 3.337 0 6.063 1.496 8.18 4.491 2.115 2.995 3.173 7.137 3.173 12.427 0 2.962-.468 5.717-1.404 8.264-.936 2.547-2.409 4.598-4.419 6.153-2.01 1.554-4.423 2.331-7.239 2.331-2.001 0-4.174-.48-6.518-1.44v-7.202c2.132 1.464 3.988 2.197 5.566 2.197 1.71 0 3.068-.643 4.077-1.929 1.01-1.286 1.669-3.206 1.978-5.762zm0-6.933c-.163-1.937-.541-3.443-1.135-4.517-.594-1.074-1.29-1.611-2.088-1.611-.813 0-1.473.476-1.977 1.428-.505.952-.757 2.128-.757 3.528 0 1.383.236 2.494.708 3.332.472.839 1.099 1.258 1.88 1.258.553 0 1.11-.285 1.672-.855.562-.57 1.127-1.424 1.697-2.563z",fillRule:"evenodd",fill:e.fill})):i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 98 86"},e),i.default.createElement("path",{d:"M24 8h50v10h12V8h10a2 2 0 0 1 2 2v74a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2h10v10h12V8zm52-8h8v16h-8V0zM14 0h8v16h-8V0zm13.638 33.726c2.978-1.237 5.656-1.856 8.032-1.856 3.076 0 5.55.83 7.422 2.49 1.872 1.66 2.807 3.817 2.807 6.47 0 2.083-.52 3.87-1.562 5.359-1.042 1.49-3.027 3.455-5.957 5.896-2.1 1.742-3.414 3.02-3.943 3.833-.529.814-.826 1.782-.891 2.905h12.89V65h-20.36v-3.906c0-3.142.487-5.587 1.464-7.337s3.15-4.04 6.519-6.872c1.595-1.351 2.632-2.364 3.112-3.04.48-.675.72-1.38.72-2.112 0-.96-.374-1.77-1.122-2.429-.75-.659-1.734-.989-2.955-.989-1.79 0-3.849.863-6.176 2.588v-7.177zm32.592-1.319h6.421V65h-7.446V44.272h-5.127v-5.615h1.196c1.563 0 2.78-.431 3.65-1.294.871-.862 1.306-2.148 1.306-3.857v-1.099z",fillRule:"evenodd",fill:e.fill}))};u.propTypes=l,u.defaultProps={fill:"#F9F7FC"}},RfeP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.trustedSpadeURI="//video-edge-fd459e.sjc02.hls.ttvnw.net/v1/segment/CgBZNT6pqrYfbTQdOnDF9SJvurldeopAsPwugybwEQjZWJilNdjiVNhxTkopGVT6JBiYwvRKUxNrFoVmlWRG65JJhQRkXISREwQSMUqfxTUnlzulyi41WblJnnpVynWEsX832O2SFrmfqAdP6WUQWQM5JpA-OCX9pTlpRxaO1xoG95yue-o2-47lN2wdDOIX3oArfc6zUkE-rVHwC8hKvfQlQYKkM42eeTAZvIyvcp0rIeWW2d6coFuxmMvJSt3FJM8_gUkVOJ1zw6KHzcCHp_m6_DVF-wm1lzDNHH6LuIfEXdTILLYLQcx8DM-pc6k4qWoIKikmbXk2It3dwfqv4yB4QyuinhIHPDLd7hGvhMTCdETAjAzLIx_7LAK5hQajAgEkJ_ByBfcZePNZ9waU1WdF83gBDOZJwxoY654lV3AHklTa_5CxwLcDVoHWEmxrLZtcKV1fxIXgU6cO8o14xoU_wHZTkvW3GQwJFxMCvagsAR1SWebpXZmau3FiJ1Iahiv2B9T6qKyo9yFrP5wPrIC6HplLuj9_t3F1h1EScA0r2_D8Jo0lQS_nVH7RJI37BQ5doZL1s7RVKAGQPAzILuGf8q3Sl6Npx5-z9b9B0vipSHlYHQm-VW1qHbE7OX04g-Wep2ZsMhd4CNGW3fjH4rn9zKo9B6hk1XJBodkhGM3fKLuVjoDqAs7AFo3scYAgvEm9tFs1upx0n_JNWwMZu-Lw2F_ftcx5ySA1ol96S4liVKbuJpnSdEENbUTzd.ts"},RhBK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.createStore)(ve,e,(0,i.compose)((0,i.applyMiddleware)(o.default,(0,pe.createVideoApiMiddleware)()),(0,i.applyMiddleware)(o.default,(0,_e.createIssueReportingMiddleware)()),(0,i.applyMiddleware)(o.default,(0,ue.createEventEmitterMiddleware)()),(0,i.applyMiddleware)(o.default,(0,ce.createExtensionsMiddleware)()),(0,i.applyMiddleware)(o.default,(0,le.createEmbedHostMiddleware)()),(0,i.applyMiddleware)(o.default,(0,se.createAnalyticsTrackerMiddleware)()),(0,i.applyMiddleware)(o.default,(0,he.clipsTrackerMiddleware)()),(0,i.applyMiddleware)(o.default,(0,fe.createUIMiddleware)()),(0,i.applyMiddleware)(o.default,(0,de.createPerformanceMiddleware)()),(0,i.applyMiddleware)(o.default,(0,me.createSettingsMiddlware)()),(0,i.applyMiddleware)(o.default,(0,Ee.createCaptionsMiddleware)()),(window.devToolsExtension,function(e){return e})))};var r,i=n("fvjX"),a=n("TdMD"),o=(r=a)&&r.__esModule?r:{default:r},s=n("bWha"),l=n("pB4y"),u=n("KDuh"),c=n("GnDj"),d=n("T1kE"),f=n("WaHt"),p=n("GYg9"),_=n("ObcS"),h=n("7oTh"),m=n("LjNF"),E=n("XU6G"),v=n("XN9g"),y=n("r3kr"),g=n("13Ki"),T=n("/Qvl"),b=n("Ynch"),S=n("O8dT"),A=n("KR5+"),C=n("Z5jU"),O=n("jGRf"),P=n("hm9X"),N=n("zyzd"),I=n("XuXH"),R=n("pQoL"),w=n("6PyS"),k=n("xrA/"),M=n("EZvc"),L=n("eBJc"),D=n("uAxA"),x=n("u0WJ"),U=n("PhUq"),B=n("ipln"),V=n("mPFt"),j=n("/njL"),q=n("CFhT"),F=n("xsDr"),H=n("biAU"),Y=n("wGJd"),G=n("HVPV"),W=n("BnOB"),K=n("gcXI"),Q=n("j4+h"),z=n("Qkup"),X=n("XbkD"),J=n("USpt"),Z=n("pbqf"),$=n("wOLs"),ee=n("byJi"),te=n("/71H"),ne=n("duhj"),re=n("i48D"),ie=n("l0UL"),ae=n("vJTo"),oe=n("KAcK"),se=(n("9Ppm"),n("Irul"),n("aNnM")),le=n("yVH7"),ue=n("mrID"),ce=n("Eb0K"),de=n("8d/D"),fe=n("7duF"),pe=n("xVnJ"),_e=n("VpNB"),he=n("XpsQ"),me=n("Os9p"),Ee=n("h+ef");var ve=(0,i.combineReducers)({accessToken:s.accessToken,ads:l.ads,adsManager:u.adsManager,analytics:c.analytics,analyticsTracker:d.analyticsTracker,backend:f.backend,backendInfo:p.backendInfo,bits:_.bits,broadcasterInfo:h.broadcasterInfo,captions:m.captions,chromecast:E.chromecast,clipRecommendations:v.clipRecommendations,clips:y.clips,clipsData:g.clipsData,clipsEditing:T.clipsEditing,collection:b.collection,comscore:S.comscore,env:A.env,error:C.error,experiments:O.experiments,extensions:P.extensions,follow:N.follow,gdprConsent:I.gdprConsent,lang:R.lang,manifestInfo:w.manifestInfo,multiview:k.multiview,notifications:M.notifications,online:L.online,onlineStatus:D.onlineStatus,performance:x.performance,pixel:U.pixel,playback:B.playback,playerDimensions:V.playerDimensions,playerOptions:j.playerOptions,previousPlaySession:q.previousPlaySession,quality:F.quality,recommendations:H.recommendations,resumeWatch:Y.resumeWatch,screen:G.screen,screenMode:W.screenMode,settings:K.settings,stats:Q.stats,stream:z.stream,streamMetadata:X.streamMetadata,subscriptions:J.subscriptions,timelineMetadata:Z.timelineMetadata,tracking:$.tracking,ui:ee.ui,user:te.user,usher:ne.usher,viewercount:re.viewercount,vod:ie.vod,watchParty:ae.watchParty,window:oe.windowReducer})},Rmx2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionTopBar=t.CollectionTopBarContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N58E"),s=n("Ynch"),l=n("rRi7"),u=n("yUy9"),c=n("uNCh"),d=n("VIow");function f(e){return e&&e.__esModule?e:{default:e}}var p={collectionItems:a.default.array.isRequired,shouldShowTopBar:a.default.bool.isRequired,showDivider:a.default.bool.isRequired,stream:a.default.object.isRequired,showSidebar:a.default.func,title:a.default.string.isRequired,win:a.default.object.isRequired},_=t.mapStateToProps=function(e){var t=e.collection,n=e.playerOptions,r=e.ui,i=e.stream,a=e.window,o=e.screenMode,l=e.screen;return{title:t.title,shouldShowTopBar:t.currentView===s.COLLAPSED_VIEW&&!r.isMini&&l[0]===c.CONTENT_SCREEN,showDivider:n.showInfo||o.isTheatreMode,collectionItems:t.items,stream:i,win:a}},h=t.mapDispatchToProps=function(e){return{showSidebar:function(){e((0,l.openCollectionSidebar)())}}},m=t.CollectionTopBarContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.showSidebar=e.showSidebar.bind(e),e.onMouseEnter=e.onMouseEnter.bind(e),e.onMouseLeave=e.onMouseLeave.bind(e),e._hoverTimeout=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"onMouseEnter",value:function(){this._hoverTimeout=this.props.win.setTimeout(this.showSidebar,250)}},{key:"onMouseLeave",value:function(){this.props.win.clearTimeout(this._hoverTimeout),this._hoverTimeout=0}},{key:"showSidebar",value:function(){this.props.showSidebar()}},{key:"render",value:function(){var e=this.props,t=e.collectionItems,n=e.shouldShowTopBar,r=e.showDivider,a=e.stream,o=e.title;return n&&a.contentType===d.CONTENT_MODE_VOD?i.default.createElement(u.CollectionTopBar,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,collectionItems:t,showDivider:r,showSidebar:this.showSidebar,streamId:String(a.videoId).substr(1),title:o}):null}}]),t}();m.propTypes=p,m.defaultProps={showSidebar:function(){}};t.CollectionTopBar=(0,o.connect)(_,h)(m)},"Rnd+":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentIds=t.EXPERIMENT_CONFIGS=void 0,t.bakingBreadSafeBrowser=function(e){var t=c.default._detect(e);if(!t.firefox)return!0;return!!t.version&&parseInt(t.version.slice(0,2),10)>45},t.createClient=function(e){var t=(0,o.default)(l.default.SERVICE_URL,"http")?l.default.SERVICE_URL:"https:"+l.default.SERVICE_URL,n=m.reduce(function(e,t){var n,r=h[_[t]],i=r.staffOverride;return i&&(e[r.id]=(n=i,(0,u.krakenUserInfo)().then(function(e){return"staff"===e.type?n:Promise.reject()}))),e},{});return new s.default({defaults:E,deviceID:e.deviceID,overrides:(0,a.default)(n,JSON.parse(i.cookie.get("experiment_overrides","{}"))),platform:"web",login:e.login,provider:new l.default(t),Promise:Promise})};var i=n("4gWZ"),a=f(n("3OWR")),o=f(n("Xdxp")),s=f(n("HXgr")),l=f(n("HCF/")),u=n("56nq"),c=f(n("puQj")),d=n("m7yn");function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={AdCountdownTimers:"AD_COUNTDOWN_TIMERS",AdCountdownTimersSureStream:"AD_COUNTDOWN_TIMERS_SURESTREAM",AdLibs:"AD_LIBS",AdLoudnessPhase1:"AD_LOUDNESS_PHASE_1",AdLoudnessRealTime:"AD_LOUDNESS_REAL_TIME",ClipsOnTheBrain:"CLIPS_ON_THE_BRAIN",Coinslot:"player_ui_coinslot",DisabledFeaturedCollections:"DISABLED_FEATURED_COLLECTIONS",EnableVP9:"ENABLE_VP9",ExtensionsDock:"extensions_dock",ExtensionsTurnOffForViewers:"EXTENSIONS_TURN_OFF_FOR_VIEWERS",MediaplayerVersionControl:"MEDIAPLAYER_VERSION_CONTROL",MoatTracking:"MOAT_TRACKING",NetworkProfileCollection:"NETWORK_PROFILE_COLLECTION",NielsenAnalytics:"NIELSEN_ANALYTICS",Pineapple:"PINEAPPLE",PlayerCoreStaffVersion:"PLAYER_CORE_STAFF_VERSION",PlayerCoreWASM:"PLAYER_CORE_WASM",PlayerWatchFollowTwilight:"PLAYER_WATCH_FOLLOW_TWILIGHT",PlayerWatchNotifications:"PLAYER_WATCH_ANON_NOTIFICATIONS",Sunrise:"player_ui_sunrise",SuperSunrise:"player_ui_super_sunrise",TheatreModeSocialPanel:"THEATRE_MODE_SOCIAL_PANEL",TickTock:"player_ui_tick_tock",TwilightVodArcher:"TWILIGHT_VOD_ARCHER",TwilightVodTopShelf:"TWILIGHT_VOD_TOP_SHELF",UntrustedTier1:"UNTRUSTED_TIER_1",VideoEdgeReassignment:"VIDEO_EDGE_REASSIGNMENT",VodClipsWinterIsHere:"vod_clips_winter_is_here",WarpIPv4:"WARP_IPv4",WarpIPv6:"WARP_IPv6",GrandPere:"grandpere"},h=t.EXPERIMENT_CONFIGS=(p(r={},_.ExtensionsTurnOffForViewers,{id:"5684b8eb-5d61-4685-84e2-43090b32179d",control:"control"}),p(r,_.NetworkProfileCollection,{id:"5fbb67a0-b4ff-4775-b836-e9a348a87481",control:"no"}),p(r,_.Pineapple,{id:"1a42d36b-3f3f-4b80-8252-bdd6cc675ec3",control:"no",staffOverride:"yes"}),p(r,_.MediaplayerVersionControl,{id:"ec70bd08-dbc8-4f48-9f60-d035fec3eb20",control:"2.9.2"}),p(r,_.ClipsOnTheBrain,{id:"f75ab09d-daf7-46db-bdd5-bb5a2f413cf7",control:"control"}),p(r,_.PlayerCoreWASM,{id:"49083595-80d4-4c13-93a2-20a605b3318e",control:"asmjs",staffOverride:"wasm"}),p(r,_.PlayerCoreStaffVersion,{id:"3c3a5d48-117f-43ac-8b35-091f13b2d479",control:"2.9.2"}),p(r,_.VideoEdgeReassignment,{id:"e2fecbd4-98e4-45e0-aad5-624cc70d6b85",control:"no"}),p(r,_.NielsenAnalytics,{id:"7cdee701-0ac3-4b47-94d3-b47b3b707dc8",control:d.EXPERIMENT_INACTIVE}),p(r,_.TwilightVodTopShelf,{id:"9edf91e6-0499-49f2-b171-30f85573bf5a",control:"control"}),p(r,_.TwilightVodArcher,{id:"de013c6f-a800-45ee-9ab4-7965c405e3eb",control:"control"}),p(r,_.DisabledFeaturedCollections,{id:"bd9234fc-3c40-45f6-a544-868478744ba7",control:"control"}),p(r,_.UntrustedTier1,{id:"70c05c72-ccfe-4604-895c-48ff3fc98128",control:"send"}),p(r,_.TheatreModeSocialPanel,{id:"4a567053-3ece-44bc-9496-9519a37a6053",control:"control",staffOverride:"variant_a"}),p(r,_.AdLibs,{id:"921a6d36-7e97-4908-9b29-e4198fa3e34d",control:"control"}),p(r,_.AdCountdownTimers,{id:"af3153dc-5bdf-474e-8bb4-3f15f9f4c70c",control:"control"}),p(r,_.AdCountdownTimersSureStream,{id:"a51bc8be-9cad-477b-b084-83931bb04413",control:"control"}),p(r,_.EnableVP9,{id:"6a55a881-2e43-4e1b-9ff2-de8916d6f80e",control:"control",staffOverride:"treatment"}),p(r,_.PlayerWatchNotifications,{id:"89328310-2ae2-448b-9cf6-b801b20470f7",control:"control"}),p(r,_.PlayerWatchFollowTwilight,{id:"f21b3a40-dd87-44eb-a7e6-1c9a1feb2816",control:"control"}),p(r,_.AdLoudnessPhase1,{id:"25b8b06e-fbe7-4a2d-9d79-3cb343ae73fa",control:"control"}),p(r,_.AdLoudnessRealTime,{id:"fd69ae98-8bd8-4c37-adc3-79d16f534ccd",control:"control"}),p(r,_.VodClipsWinterIsHere,{id:"74faa05a-b304-4b75-920b-be61038a4ef6",control:"off"}),p(r,_.Sunrise,{id:"d0d1bc40-ca2a-423e-b539-70e39de71c95",control:"disabled",staffOverride:"enabled"}),p(r,_.SuperSunrise,{id:"635f2342-d579-4966-9710-c2a3f0157b06",control:"disabled",staffOverride:"enabled"}),p(r,_.TickTock,{id:"8a7f5215-ecad-441f-beaf-700e443005b9",control:"enabled",staffOverride:"enabled"}),p(r,_.Coinslot,{id:"c4ffb9a9-0e6d-43a6-ac54-bfcac4728a59",control:"disabled",staffOverride:"enabled"}),p(r,_.ExtensionsDock,{id:"eb1b8c9b-cd6d-4221-ac97-4d12883921f1",control:"off"}),p(r,_.MoatTracking,{id:"93404bb5-eb2b-4568-803b-e77ce64cac81",control:"control",staffOverride:"enabled"}),p(r,_.WarpIPv4,{id:"cd1c4693-e7a8-49d9-837c-3d175f61f438",control:"control",staffOverride:"control"}),p(r,_.WarpIPv6,{id:"ac3b2071-3a44-4e27-8a80-ac72977fea63",control:"control",staffOverride:"control"}),p(r,_.GrandPere,{id:"42285932-9144-4be5-9532-afc42580ebf2",control:"control"}),r),m=Object.keys(_);t.ExperimentIds=m.reduce(function(e,t){var n=h[_[t]];return e[t]=n.id,e},{});var E=m.reduce(function(e,t){var n=h[_[t]];return e[n.id]=n.control,e},{})},Rpcs:function(e,t,n){var r;e.exports=(r=n("K2sX"),r.enc.Utf8)},RrkA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchPartyStreamInfo=t.WatchPartyStreamInfoComponent=t.WATCH_PARTY_CLASSES=void 0;var r=s(n("17x9")),i=s(n("q1tI")),a=n("9kay"),o=n("7hSF");function s(e){return e&&e.__esModule?e:{default:e}}var l=t.WATCH_PARTY_CLASSES={container:"player-streaminfo__watchparty",divider:"player-streaminfo__watchparty-divider"};var u=t.WatchPartyStreamInfoComponent=function(e){var t=e.vodIsViewable,n=e.t,r=e.vodId,a=e.vodTitle,s=e.vodBroadcastType;return i.default.createElement("div",{className:l.container},n(function(e){switch(e){case"highlight":return"Playing highlight";case"archive":return"Playing past broadcast";case"upload":return"Playing uploaded video";case"rerun":return"Rerun of video";case"premiere":return"Premiering video";default:return"Playing pre-recorded video"}}(s)),i.default.createElement(o.WatchPartyDetails,{vodId:r,vodTitle:a,isViewable:t}),i.default.createElement("div",{className:l.divider}))};u.propTypes={t:r.default.func,vodId:r.default.string,vodTitle:r.default.string,vodIsViewable:r.default.bool,vodBroadcastType:r.default.string};t.WatchPartyStreamInfo=(0,a.translate)()(u)},RvzI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMarkersWithErrorHandling=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("q1tI"),o=(r=a)&&r.__esModule?r:{default:r},s=n("gEVs");t.VideoMarkersWithErrorHandling=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasError:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),i(t,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?null:o.default.createElement(s.VideoMarkersBalloonButton,null)}}]),t}()},"S+31":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumContentOverlay=void 0,t.PremiumContentOverlayComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={t:i.default.func.isRequired};function l(e){var t=e.t;return r.default.createElement("div",{className:"pl-overlay pl-overlay--wall"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("p",null,t("Content is restricted"))))}l.propTypes=s;t.PremiumContentOverlay=(0,a.translate)()(l)},SGH6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsBanner=t.SettingsBannerContainer=t.QUALITY_CHANGE_DURATION=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=f(n("ijCd")),s=n("N58E"),l=n("9kay"),u=n("JicT"),c=n("+i0y"),d=n("mWCY");function f(e){return e&&e.__esModule?e:{default:e}}var p=t.QUALITY_CHANGE_DURATION=5e3,_={availableQualities:a.default.array.isRequired,currentQuality:a.default.string.isRequired,playbackRate:a.default.number.isRequired,countryCode:a.default.string,t:a.default.func.isRequired,windowObj:a.default.object.isRequired},h=t.SettingsBannerContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={canRenderBanner:!1,lastQuality:"",hasChangedQuality:!1},e.bannerHideTimeout=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.currentQuality!==this.state.lastQuality&&this._onQualityPropChange(e),this.state.hasChangedQuality||e.currentQuality!==this.state.lastQuality||1!==e.playbackRate&&this._isValidPlaybackSpeed(e.playbackRate)?this.setState({canRenderBanner:!0}):this.setState({canRenderBanner:!1})}},{key:"componentWillUnmount",value:function(){0!==this.bannerHideTimeout&&this.props.windowObj.clearTimeout(this.bannerHideTimeout)}},{key:"clearBannerHideTimeout",value:function(){this.props.windowObj.clearTimeout(this.bannerHideTimeout),this.bannerHideTimeout=0}},{key:"showBannerForQuality",value:function(e){this.setState({lastQuality:e,hasChangedQuality:!0})}},{key:"hideBannerForQuality",value:function(){this.setState({hasChangedQuality:!1}),this.bannerHideTimeout=0}},{key:"_onQualityPropChange",value:function(e){var t=this;0!==this.bannerHideTimeout&&this.clearBannerHideTimeout(),this.showBannerForQuality(e.currentQuality),this.bannerHideTimeout=e.windowObj.setTimeout(function(){t.hideBannerForQuality()},p)}},{key:"render",value:function(){var e=this.props.playbackRate,t=this.state,n=t.canRenderBanner,r=t.hasChangedQuality||1!==e&&this._isValidPlaybackSpeed(e),a=this._getBannerLabel();return n?i.default.createElement(u.SettingsBanner,{bannerLabel:a,showBanner:r}):null}},{key:"_getBannerLabel",value:function(){var e=this.props,t=e.playbackRate,n=e.availableQualities,r=e.currentQuality,i=e.countryCode,a=e.t;return this.state.hasChangedQuality?"KR"===i&&n.length>1&&n[1].group===r&&"auto"!==r?"HD":(0,c.getTranslatedQualityName)(n,r,a):1!==t&&this._isValidPlaybackSpeed(t)?t+"x":""}},{key:"_isValidPlaybackSpeed",value:function(e){return(0,o.default)(d.PLAYBACK_SPEEDS,e)}}]),t}();h.propTypes=_;t.SettingsBanner=(0,l.translate)()((0,s.connect)(function(e){var t=e.playback,n=e.quality,r=e.window,i=e.user;return{availableQualities:n.available,currentQuality:n.current,playbackRate:t.playbackRate,countryCode:i.countryCode,windowObj:r}})(h))},SIsj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenStreamOverlay=t.OpenStreamContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("N58E"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("uC+K")),l=n("2GWp");function u(e){return e&&e.__esModule?e:{default:e}}var c=Object.freeze({shouldEmitOpenStream:a.default.bool,emitOpenStream:a.default.func}),d=Object.freeze({shouldEmitOpenStream:!1,emitOpenStream:function(){}}),f=t.mapStateToProps=function(e){var t=e.env;return{shouldEmitOpenStream:t.playerType===s.PLAYER_FRONTPAGE||t.playerType===s.PLAYER_FEED}},p=t.mapDispatchToProps=function(e){return{emitOpenStream:function(){e((0,l.emitOpenStream)())}}},_=t.OpenStreamContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.openStream=e.openStream.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"openStream",value:function(){(0,this.props.emitOpenStream)()}},{key:"render",value:function(){return this.props.shouldEmitOpenStream?i.default.createElement("div",{className:"player-overlay pl-overlay__openstream",onClick:this.openStream,role:"presentation"}):null}}]),t}();_.propTypes=c,_.defaultProps=d;t.OpenStreamOverlay=(0,o.connect)(f,p)(_)},SOC7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityRestrictedOverlay=t.QualityRestrictedContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=n("N58E"),s=n("J0qE"),l=n("VPTj"),u=n("uNCh"),c=n("5Ow2");function d(e){return e&&e.__esModule?e:{default:e}}var f={channelName:a.default.string.isRequired,contentIsShowing:a.default.func.isRequired,popScreen:a.default.func.isRequired,shouldRenderQualityOverlay:a.default.bool.isRequired,dispatchQualityRestrictedScreen:a.default.func.isRequired,clearQualityRestrictedError:a.default.func.isRequired},p=t.mapStateToProps=function(e){var t=e.playback,n=e.streamMetadata;return{shouldRenderQualityOverlay:t.restrictedQualityError,channelName:n.channel.name}},_=t.mapDispatchToProps=function(e){return{contentIsShowing:function(){e((0,l.contentIsShowing)())},dispatchQualityRestrictedScreen:function(){e((0,u.pushScreen)(u.QUALITY_RESTRICTED_SCREEN))},popScreen:function(){e((0,u.popScreen)())},clearQualityRestrictedError:function(){e((0,l.clearQualityRestrictedError)())}}},h=t.QualityRestrictedContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.contentIsShowing()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.shouldRenderQualityOverlay&&this.props.dispatchQualityRestrictedScreen()}},{key:"render",value:function(){var e=this.props,t=e.channelName,n=e.shouldRenderQualityOverlay,r=s.twitchHost+"/"+t+"/subscribe?ref=chansub_overlay_subscribe";return n?i.default.createElement(c.QualityRestrictedOverlay,{channelName:t,subscribeUrl:r,onClose:this.onClose}):null}},{key:"onClose",value:function(){var e=this.props,t=e.popScreen;(0,e.clearQualityRestrictedError)(),t()}}]),t}();h.propTypes=f,h.defaultProps={shouldRenderQualityOverlay:!1};t.QualityRestrictedOverlay=(0,o.connect)(p,_)(h)},SXV3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Experiment=t.ExperimentContainer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n("q1tI")),a=s(n("17x9")),o=n("N58E");function s(e){return e&&e.__esModule?e:{default:e}}var l={uuid:a.default.string.isRequired,renderValue:a.default.string.isRequired,experiments:a.default.object.isRequired,children:a.default.node.isRequired},u=t.ExperimentContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={experimentValue:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"shouldComponentUpdate",value:function(e,t){return""!==t.experimentValue}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.experiments,r=t.uuid;n.get(r).then(function(t){e.setState({experimentValue:t})})}},{key:"render",value:function(){var e=this.state.experimentValue,t=this.props,n=t.renderValue,r=t.children;return n!==e||""===e?null:r}}]),t}();u.propTypes=l;t.Experiment=(0,o.connect)(function(e){return{experiments:e.experiments}})(u)},SaYp:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});t.TRACKING_LOCATION_CLIPS="clips",t.TRACKING_PROPERTY_ITEM_TYPE="clip",t.TRACKING_MEDIUM_EMBED="clips_embed",t.TRACKING_MEDIUM_WATCH="clips_watch",t.TRACKING_CONTENT_TITLE="player_title",t.TRACKING_CONTENT_CHANNEL="player_channel_name",t.TRACKING_CONTENT_PROFILE_IMAGE="player_profile_img",t.TRACKING_CONTENT_GAME="player_game",t.TRACKING_VIDEO_SHARE_EVENT="video_share",t.TRACKING_PROPERTY_EMBED_CLIP_REC="recommendation",t.TRACKING_CLIPS_MINUTE="clips_minute_watched",t.TRACKING_PROPERTY_TWITCH_LOGO="player_twitch_logo",t.TRACKING_CLIP_FORMAT="mp4";var a=t.CATEGORY_TOP="top",o=t.CATEGORY_SIMILAR="similar",s=t.CATEGORY_GAME="game",l=t.CATEGORY_CHANNEL="channel";t.TRACKING_PROPERTY_CONTENT_MAP=Object.freeze((i(r={},a,"popular_clips"),i(r,o,"similar_popular_clips"),i(r,s,"game_popular_clips"),i(r,l,"channel_popular_clips"),r)),t.TRACKING_PROPERTY_CAROUSEL_CONTENT="similar_clips",t.TRACKING_ITEM_SECTION_CLICK="item_section_click",t.TRACKING_ITEM_SECTION_LOAD="item_section_load",t.TRACKING_PAGEVIEW_EVENT="pageview",t.TRACKING_BENCHMARK_FETCH_START="benchmark_fetch_start",t.TRACKING_BENCHMARK_COMPLETE_TRANSITION="benchmark_complete_transition",t.TRACKING_BENCHMARK_VIDEO_STARTED="benchmark_video_started",t.TRACKING_CLIPS_QOS="clips_qos",t.TRACKING_CLIPS_BUFFER_EMPTY="buffer-empty",t.TRACKING_CLIPS_BUFFER_REFILL="buffer-refill"},Si5T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePlayerDimensions=function(e){return{type:r,playerDimensions:e}};var r=t.ACTION_UPDATE_PLAYER_DIMENSIONS="update player dimensions"},Sq3C:function(e,t,n){var r=n("sKgW"),i=n("zoYe"),a=n("wy8a"),o=n("quyA"),s=n("Z1HP"),l=n("Em2t"),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":i(t)).length;if(n<2)return n?r(t,e):t;var c=r(t,u(e/s(t)));return o(t)?a(l(c),0,e).join(""):c.slice(0,e)}},T1AV:function(e,t,n){var r=n("t2Dn"),i=n("5Tg0"),a=n("yP5f"),o=n("Q1l4"),s=n("+iFO"),l=n("03A+"),u=n("Z0cm"),c=n("3L66"),d=n("DSRE"),f=n("lSCD"),p=n("GoyQ"),_=n("YO3V"),h=n("c6wG"),m=n("itsj"),E=n("jeLo");e.exports=function(e,t,n,v,y,g,T){var b=m(e,n),S=m(t,n),A=T.get(S);if(A)r(e,n,A);else{var C=g?g(b,S,n+"",e,t,T):void 0,O=void 0===C;if(O){var P=u(S),N=!P&&d(S),I=!P&&!N&&h(S);C=S,P||N||I?u(b)?C=b:c(b)?C=o(b):N?(O=!1,C=i(S,!0)):I?(O=!1,C=a(S,!0)):C=[]:_(S)||l(S)?(C=b,l(b)?C=E(b):p(b)&&!f(b)||(C=s(S))):O=!1}O&&(T.set(S,C),y(C,S,v,g,T),T.delete(S)),r(e,n,C)}}},T1kE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.analyticsTracker=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.ACTION_SET_ANALYTICS_TRACKER:return t.tracker;default:return e}};var r=n("YWLq"),i=new Error("Attempting to use tracker too early"),a={trackEvent:function(){return Promise.reject(i)}}},TBIW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popoutPlayer=function(e){var t=e.collection,n=e.playback,u=e.playerType,c=e.stream,d=e.window,f={volume:n.volume,muted:n.muted};c.contentType===i.CONTENT_MODE_VOD?(f.video=c.videoId,f.collection=t?t.id:void 0,f.time=s.toURLString(n.currentTime)):c.contentType===r.CONTENT_MODE_LIVE&&(f.channel=c.channel);u===l.PLAYER_IMDB&&(f.player=l.PLAYER_IMDB);var p=a.PLAYER_HARDCODED_ORIGIN+"/?"+o.toString(f),_=a.popoutSize.height,h="width="+a.popoutSize.width+",height="+_+",toolbar=no,menubar=no,scrollbars=no,location=no,status=no";d.open(p,"_blank",h)};var r=n("wsSb"),i=n("VIow"),a=n("J0qE"),o=u(n("ZtkW")),s=u(n("FxCM")),l=n("uC+K");function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},TI3U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stat=void 0,t.StatComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={statName:i.default.string.isRequired,value:i.default.oneOfType([i.default.string,i.default.number]).isRequired,t:i.default.func.isRequired,key:i.default.string,doNotTranslate:i.default.bool};function l(e){var t=e.statName,n=e.value,i=e.t,a=e.key,o=e.doNotTranslate?t:i(t);return r.default.createElement("li",{className:"pl-stat",key:a},r.default.createElement("div",{className:"pl-stat__name"},r.default.createElement("span",null,o+":")),r.default.createElement("div",{className:"pl-stat__value"},r.default.createElement("span",null,n)))}l.propTypes=s,l.defaultProps={doNotTranslate:!1};t.Stat=(0,a.translate)()(l)},TP7S:function(e,t){e.exports=function(e){return void 0===e}},TRt3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_IMPRESSION="video_ad_impression",t.AD_QUARTILE_COMPLETE="video_ad_quartile_complete",t.AD_IMPRESSION_COMPLETE="video_ad_impression_complete",t.AD_REQUEST="video_ad_request",t.AD_REQUEST_DECLINED="video_ad_request_declined",t.AD_REQUEST_ERROR="video_ad_request_error",t.AD_REQUEST_RESPONSE="video_ad_request_response",t.AD_SKIPPED="video_ad_skipped",t.AD_TIME_ELAPSED="video_ad_time_elapsed",t.AD_CONTENT_RESUME_REQUESTED="video_ad_content_resume_requested",t.AD_ERROR="video_ad_error",t.AD_LOADED="video_ad_loaded",t.PLAYBACK_ERROR="playback_error",t.AD_VIDEO_MOAT_VIEWABILITY="video_ad_moat_viewability_event",t.AAX_AD_AUCTION="video_ad_auction",t.AAX_AD_AUCTION_RESPONSE="video_ad_auction_response",t.AAX_AD_AUCTION_ERROR="video_ad_auction_error",t.AAX_AD_AUCTION_INIT_ERROR="video_ad_auction_init_error"},TYSy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mutedPersistence=void 0;var r=n("MPW3"),i=n("uC+K"),a=t.mutedPersistence=new r.SegmentedPersistence({storageKey:"video-muted",segments:[{key:"carousel",playerTypes:[i.PLAYER_FRONTPAGE]}]});(0,r.convertOldKey)("muted",a)},TaTA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimestampPreview=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("FxCM"));function o(e){return e&&e.__esModule?e:{default:e}}var s={duration:i.default.number,mouseMoveClientX:i.default.number,seekbarLeftOffset:i.default.number,seekbarWidth:i.default.number,shouldCleanString:i.default.bool.isRequired},l=t.TimestampPreview=function(e){var t=e.duration,n=e.mouseMoveClientX,i=e.seekbarLeftOffset,o=e.seekbarWidth,s=e.shouldCleanString,l=n-i,c=Math.min(Math.max(0,t*(l/o)),t);return r.default.createElement("div",null,r.default.createElement("div",{className:"player-slider__popup-container pl-flex--verticalCenter",style:{left:u(l,20,o),width:20}},r.default.createElement("span",{className:"popup-timestamp-wrapper"},r.default.createElement("span",{className:"popup-timestamp"},a.toString(c,s)))),r.default.createElement("div",{className:"popup-arrow",style:{left:u(l,20,o)}}))};function u(e,t,n){var r=e-.5*t;return Math.max(0,Math.min(r,n-t))}l.propTypes=s,l.defaultProps={duration:0,seekbarLeftOffset:0,seekbarWidth:0}},Tbnf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromecastButton=f;var r=c(n("17x9")),i=c(n("q1tI")),a=n("1fV9"),o=n("qHst"),s=n("57ht"),l=n("XU6G"),u=c(n("ijCd"));function c(e){return e&&e.__esModule?e:{default:e}}var d={castingState:r.default.string.isRequired,onClick:r.default.func.isRequired};function f(e){var t=e.castingState,n=e.onClick;return t!==l.UNAVAILABLE&&(0,u.default)(l.VALID_CASTING_STATES,t)?i.default.createElement(a.Button,{className:"player-button",onClick:n},i.default.createElement(o.Icon,{label:"Chromecast"},i.default.createElement(s.ChromecastSVG,{castingState:t}))):null}f.propTypes=d},ThzE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFollowPanelContainer=void 0;var r=n("tsW4"),i=n("aBMM");t.GenericFollowPanelContainer=(0,r.makeFollowPanel)(i.GenericFollowPanel)},TiYG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFlashPlayerVersion=function(){return a.default.getFlashPlayerVersion()},t.hasFlashPlayerVersion=o,t.hasFlashPlayer=s,t.getFlashPlayerType=function(){var e="application/x-shockwave-flash",t=navigator.mimeTypes;if(t&&t[e]&&t[e].enabledPlugin){var n=t[e].enabledPlugin.filename;return n.match(/pepflashplayer|Pepper/gi)?"ppapi":"npapi"}if(s())return"unknown";return""},t.embedSWF=function(e,t,n,r,i,o,s,l,u,c){return a.default.embedSWF(e,t,n,r,i,o,s,l,u,c)},t.removeSWF=function(e){return a.default.removeSWF(e)};var r,i=n("dDRw"),a=(r=i)&&r.__esModule?r:{default:r};function o(e){return a.default.hasFlashPlayerVersion(e)}function s(){return o("1")}},Tkqp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionAccessMenu=t.ExtensionAccessMenuComponent=t.REVOKE_ACCESS_SUMMARY=t.GRANT_ACCESS_SUMMARY=t.MANAGE_PERMISSIONS_TEXT=t.REVOKE_ACCESS_HEADER=t.GRANT_ACCESS_HEADER=t.MENU_MANAGE_PERMISSION_LINK=t.MENU_SUMMARY_LABEL=t.MENU_TOGGLE_IDENTITY_LABEL=t.MENU_TOGGLE_IDENTITY_BUTTON=t.MENU_BACK_LABEL=t.MENU_BACK_BUTTON=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=f(n("TSYQ")),s=n("9kay"),l=n("hm9X"),u=n("1fV9"),c=n("vpBF"),d=n("J0qE");function f(e){return e&&e.__esModule?e:{default:e}}var p=t.MENU_BACK_BUTTON="qa-menu-back-btn",_=t.MENU_BACK_LABEL="qa-menu-back-label",h=t.MENU_TOGGLE_IDENTITY_BUTTON="qa-menu-toggle-access-btn",m=t.MENU_TOGGLE_IDENTITY_LABEL="qa-menu-toggle-access-label",E=t.MENU_SUMMARY_LABEL="qa-menu-summary-label",v=t.MENU_MANAGE_PERMISSION_LINK="qa-menu-manage-permission-link",y=t.GRANT_ACCESS_HEADER="Grant Access",g=t.REVOKE_ACCESS_HEADER="Revoke Access",T=t.MANAGE_PERMISSIONS_TEXT="Manage Permissions",b=t.GRANT_ACCESS_SUMMARY="You are granting {{extensionName}} the following access:",S=t.REVOKE_ACCESS_SUMMARY="You are revoking the following access for {{extensionName}}:",A={installation:l.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,onMenuTransition:a.default.func,onIdentityToggle:a.default.func,trackEvent:a.default.func.isRequired,t:a.default.func.isRequired},C=(0,o.default)("pl-menu__section","pl-menu__section--with-sep"),O=(0,o.default)("pl-menu__item","pl-menu__item--block","pl-menu__item--with-caret-left"),P=(0,o.default)(E,"pl-menu__item--label"),N=(0,o.default)("pl-menu__item--label","extension-menu__access-list"),I=(0,o.default)("extension-menu__access-list-header"),R=(0,o.default)("pl-menu__item--label","extension-menu-footer"),w=(0,o.default)(h,"pl-button","extension-menu-footer__button"),k=t.ExtensionAccessMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e.handleIdentityToggleClick=e.handleIdentityToggleClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(c.EXTENSION_MENU_DETAILS)}},{key:"handleIdentityToggleClick",value:function(){var e=this.props.installation;this.props.onIdentityToggle(e);var t=e.playerState.isUserIdentityLinked?"revoke":"grant";this.props.trackEvent("extension_ui_interaction_client",e,{extension_interaction:t})}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.installation,r=d.twitchHost+"/settings/connections",a=i.default.createElement("b",null,n.extension.name),o=y,l=i.default.createElement(s.Interpolate,{i18nKey:b,extensionName:a});return n.playerState.isUserIdentityLinked&&(o=g,l=i.default.createElement(s.Interpolate,{i18nKey:S,extensionName:a})),i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:O},i.default.createElement(u.Button,{onClick:this.handleBackButtonClick,className:p},i.default.createElement("span",{className:_},t(o)))),i.default.createElement("div",{className:C},i.default.createElement("div",{className:P},i.default.createElement("span",null,l)),i.default.createElement("div",{className:N},i.default.createElement("div",{className:I},t("Your Twitch User ID")),i.default.createElement("span",null,t("Allows this extension to know your User ID on Twitch.")),i.default.createElement("p",null,i.default.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:v},t(T)))),i.default.createElement("div",{className:R},i.default.createElement(u.Button,{onClick:this.handleIdentityToggleClick,className:w},i.default.createElement("span",{className:m},t(o))))))}}]),t}();k.propTypes=A,k.defaultProps={onMenuTransition:function(){},onIdentityToggle:function(){}};t.ExtensionAccessMenu=(0,s.translate)()(k)},TsKc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionSidebar=t.CollectionSideBarContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n("q1tI")),a=m(n("17x9")),o=m(n("GBMM")),s=m(n("UnXY")),l=m(n("UfWW")),u=n("N58E"),c=n("Ynch"),d=n("fk/P"),f=n("rRi7"),p=n("VPTj"),_=n("uNCh"),h=n("VIow");function m(e){return e&&e.__esModule?e:{default:e}}var E={collection:a.default.object.isRequired,showSidebar:a.default.bool.isRequired,currentVideoId:a.default.string.isRequired,onCloseSidebar:a.default.func.isRequired,onSelectCollectionItem:a.default.func.isRequired,windowObj:a.default.object.isRequired,shouldRender:a.default.bool.isRequired},v=t.mapStateToProps=function(e){var t=e.collection,n=e.stream,r=e.window,i=e.ui,a=e.screen;return{collection:t,showSidebar:t.currentView===c.SIDEBAR_VIEW,currentVideoId:n.contentType===h.CONTENT_MODE_VOD?n.videoId:"",windowObj:r,shouldRender:!i.isMini&&a[0]!==_.STITCHED_ADVERTISEMENT_SCREEN&&a[0]!==_.ADVERTISEMENT_SCREEN&&""!==t.id&&n.contentType===h.CONTENT_MODE_VOD}},y=t.mapDispatchToProps=function(e){return{onCloseSidebar:function(){e((0,f.closeCollectionSidebar)())},onSelectCollectionItem:function(t,n){e((0,p.selectCollectionVideo)("v"+t,n))}}},g=t.CollectionSideBarContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectItem=e.handleSelectItem.bind(e),e.beginClosingSidebar=e.beginClosingSidebar.bind(e),e.stopClosingSidebar=e.stopClosingSidebar.bind(e),e.closeSidebarTimeout=null,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.collection,n=e.currentVideoId,r=e.showSidebar,a=e.onCloseSidebar;if(!e.shouldRender)return null;this._preloadThumbnails();var o=(0,l.default)(t.items,function(e){return"v"+e.itemId===n}),u=i.default.createElement(d.AnimatedCollectionSidebar,{currentItemIndex:o,collection:t,onSelectItem:this.handleSelectItem,onClose:a,key:t.id+"_"+o,onMouseLeave:this.beginClosingSidebar,onMouseEnter:this.stopClosingSidebar}),c=r?u:null;return i.default.createElement(s.default,{component:"div"},c)}},{key:"_preloadThumbnails",value:function(){this.props.collection.items.forEach(function(e){(new Image).src=e.thumbnails.small})}},{key:"handleSelectItem",value:function(e){this.props.onSelectCollectionItem(e,this.props.collection.id)}},{key:"beginClosingSidebar",value:function(){var e=this.props,t=e.windowObj,n=e.onCloseSidebar;this.closeSidebarTimeout=t.setTimeout(function(){return n()},400)}},{key:"stopClosingSidebar",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}},{key:"handleClickOutside",value:function(){this.props.showSidebar&&this.props.onCloseSidebar()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.clearTimeout(this.closeSidebarTimeout)}}]),t}();g.propTypes=E;t.CollectionSidebar=(0,u.connect)(v,y)((0,o.default)(g))},TxdA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FLASH_AD_EVENTS=t.BACKEND_FLASH=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.BackendFlash=Y;var i=C(n("lFKM")),a=C(n("DzJC")),o=C(n("tpxX")),s=C(n("3OWR")),l=C(n("4O8T")),u=n("IFdx"),c=n("a4B8"),d=n("56nq"),f=A(n("TiYG")),p=A(n("JZwe")),_=A(n("nC/T")),h=A(n("Aa1x")),m=A(n("e063")),E=n("wsSb"),v=n("QBeZ"),y=n("OyQT"),g=n("QcJP"),T=C(n("y+GA")),b=n("+eo6"),S=n("Yd1q");function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}var O=250,P=1500,N="medium",I="chunked",R={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps:0,current_fps_exact:0,deblocking:0,dropped_frames:0,hls_buffer_duration:0,hls_latency_encoder:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_node:"",manifest_node_type:"",manifest_cluster:"",node:"",playback_bytes_per_second:0,segment_protocol:"",serving_id:"",smoothing:!0,stageHeight:0,stream_protocol:"",stageWidth:0,stream_time:0,stream_time_offset:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0},w="adDisplayStarted",k="adDisplayEnded",M="adRequested",L="adRequestDeclined",D="adRequestResponse",x="adRequestError",U="adError",B="adcompanionrendered",V="adImpression",j="adImpressionComplete",q="adLoaded",F=t.BACKEND_FLASH="flash",H=t.FLASH_AD_EVENTS=Object.freeze({AD_START:"flashAdstart",AD_END:"flashAdend",AD_REQUEST:"flashAdRequested",AD_REQUEST_DECLINED:"flashAdRequestDeclined",AD_REQUEST_RESPONSE:"flashAdRequestResponse",AD_REQUEST_ERROR:"flashAdRequestError",AD_ERROR:"flashAdError",AD_COMPANION_RENDERED:"flashAdcompanionrendered",AD_IMPRESSION:"flashAdImpression",AD_IMPRESSION_COMPLETE:"flashAdImpressionComplete",AD_LOADED:"flashAdLoaded"});function Y(e,t){var n=this,A=Y.counter++;Y.map[A]=n;var C=new l.default,G=new l.default,W=new u.Deferred,K=new u.Deferred,Q=new c.ExtrapolatingTimer,z=!1,X=null,J=0,Z=0,$=null,ee=null,te=void 0,ne=void 0,re=!1,ie=void 0,ae=0,oe=void 0,se=void 0,le=void 0,ue=void 0,ce=void 0,de=void 0,fe=void 0,pe="",_e=void 0,he=!1,me=!1,Ee=!1;function ve(){var e=t.getState().window;t.dispatch((0,S.performanceTimedMilestoneReached)(S.WEB_BACKEND_LOADED,e.performance.now())),z=!0,W.resolve(),G.emit(_.PLAYER_INIT)}function ye(e){ce=e,G.emit(_.CAPTION_UPDATE)}function ge(e){(0,i.default)(e.volume)&&(se||(oe=Math.min(Math.max(e.volume,0),1)),G.emit(p.VOLUME_CHANGE))}function Te(e){ae=e.duration||0,G.emit(p.DURATION_CHANGE),Ee&&G.emit(p.LOADED_METADATA)}function be(e){ue=e.formats.map(function(e){return(0,s.default)({},e,{isDefault:e.group===I})})}function Se(e){le=e.format,G.emit(_.QUALITY_CHANGE,{quality:e.format,isAuto:!1})}function Ae(e){e&&e.format&&le!==e.format&&(le=e.format,G.emit(_.QUALITY_CHANGE,{quality:le,isAuto:!1})),Z=h.NETWORK_LOADING,G.emit(p.LOADSTART),ae=0,G.emit(p.DURATION_CHANGE),et(st("getVideoTime")),nt()}function Ce(){G.emit(p.CAN_PLAY)}function Oe(e){re&&(re=!1,G.emit(p.PLAY)),he=!1,le=e.format,et(st("getVideoTime")),tt(),J<m.HAVE_METADATA&&(null!==n.getChannel()&&(ae=1/0),J=m.HAVE_METADATA,G.emit(p.LOADED_METADATA)),J<m.HAVE_CURRENT_DATA&&(J=m.HAVE_CURRENT_DATA,G.emit(p.LOADED_DATA)),J=m.HAVE_FUTURE_DATA;var r=t.getState().window;t.dispatch((0,S.performanceTimedMilestoneReached)(S.WEB_PLAYBACK_STARTED,r.performance.now())),G.emit(p.PLAYING)}function Pe(){re=!0,G.emit(p.PAUSE),_e instanceof E.LiveTwitchContentStream&&(J=m.HAVE_NOTHING),nt()}function Ne(){G.emit(_.OFFLINE),he||J!==m.HAVE_NOTHING||(he=!0,G.emit(p.ENDED)),he=!0,J=m.HAVE_NOTHING,nt()}function Ie(){t.dispatch((0,b.setError)(T.default.CODES.ABORTED))}function Re(){he=!0,J=m.HAVE_NOTHING,G.emit(p.ENDED),nt()}function we(e){nt(),et(0),$=e.channel,ee=null}function ke(e){nt(),et(0),Ee=!0;var t=e.videoId;isNaN(t[0])||(t="v"+t),ee=t,$=null,J=m.HAVE_METADATA}function Me(){nt(),ie=!0,G.emit(p.SEEKING)}function Le(){ie=!1,G.emit(p.SEEKED)}function De(){ie=!1}function xe(){et(st("getVideoTime"))}function Ue(e){de=e,G.emit(_.BUFFER_CHANGE,e)}function Be(){nt(),J=m.HAVE_CURRENT_DATA,G.emit(p.WAITING)}function Ve(e){re=!1,ee&&nt(),G.emit(H.AD_START,e)}function je(e){ee&&!he&&(et(st("getVideoTime")),tt()),G.emit(H.AD_END,e)}function qe(e){G.emit(H.AD_REQUEST,e)}function Fe(e){G.emit(H.AD_REQUEST_DECLINED,e)}function He(e){G.emit(H.AD_REQUEST_RESPONSE,e)}function Ye(e){G.emit(H.AD_REQUEST_ERROR,e)}function Ge(e){G.emit(H.AD_ERROR,e)}function We(e){G.emit(H.COMPANION_RENDERED,e),t.dispatch((0,g.adCompanionRendered)(H.COMPANION_RENDERED,e))}function Ke(e){G.emit(H.AD_IMPRESSION,e)}function Qe(e){G.emit(H.AD_IMPRESSION_COMPLETE,e)}function ze(){G.emit(_.RESTRICTED)}function Xe(){G.emit(_.USHER_FAIL_ERROR)}function Je(e){G.emit(_.SEGMENT_CHANGE,e)}function Ze(e){G.emit(_.MIDROLL_REQUESTED,e)}function $e(){G.emit(p.TIME_UPDATE,Q.extrapolateTimeStamp())}function et(e){Q.setCurrentTimeStamp(e),G.emit(p.TIME_UPDATE,Q.extrapolateTimeStamp())}function tt(){null===X&&(X=setInterval($e,O),Q.resume())}function nt(){null!==X&&(clearInterval(X),X=null,Q.pause())}function rt(e){G.emit(H.AD_LOADED,e)}function it(e){G.emit(_.MANIFEST_EXTRA_INFO,e)}function at(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e.debug&&console.log("flash call:",t,n),n.length){case 0:return fe[t]();case 1:return fe[t](n[0]);case 2:return fe[t](n[0],n[1]);case 3:return fe[t](n[0],n[1],n[2]);default:return console.log("WARNING, too many arguments passed to Flash"),fe[t].apply(this,n)}}function ot(t,n){W.promise.then(function(){K.promise.then(function(){setTimeout(function(){var r=at(t,n);r&&e.debug&&console.log("flash return:",t,"=",r)},0)})})}function st(t,n){if(z&&fe){var r=at(t,n);return r&&e.debug&&console.log("flash return:",t,"=",r),r}}n.getStats=function(){return function(e){if(!e)return R;return{playbackRate:(0,o.default)(.0078125*e.playback_bytes_per_second,2),fps:(0,o.default)(e.current_fps),bufferSize:(0,o.default)(e.video_buffer_size),skippedFrames:e.dropped_frames,memoryUsage:Math.floor(e.totalMemoryNumber/1024/1024).toString()+"MB",hlsLatencyEncoder:e.hasOwnProperty("hls_latency_encoder")?(0,o.default)(.001*e.hls_latency_encoder):0,hlsLatencyBroadcaster:e.hasOwnProperty("hls_latency_broadcaster")?(0,o.default)(.001*e.hls_latency_broadcaster):0,videoResolution:e.hasOwnProperty("vid_width")?e.vid_width+"x"+e.vid_height:"",displayResolution:e.hasOwnProperty("stageWidth")?e.stageWidth+"x"+e.stageHeight:"",backendVersion:n.getVersion()}}(n.getVideoInfo())},n.attach=function(n){!function(e,n){var r=f.getFlashPlayerType();if(""===r)return void t.dispatch((0,b.setError)(T.default.CODES.ABORTED));var i={eventsCallback:"window._BackendFlash_emitEvents",eventsContext:A,initCallback:null},a={bgcolor:"#000",allowscriptaccess:"always",allowfullscreen:"true",wmode:"ppapi"===r?"direct":"transparent"},o=document.createElement("div");n.insertBefore(o,n.children[0]),pe="swfobject-"+A,o.setAttribute("id",pe),f.embedSWF(e,pe,"100%","100%","10.2","playerProductInstall.swf",i,a,{align:"middle"},function(e){fe=e.ref,K.resolve()})}("https://player.twitch.tv/vendor/TwitchPlayer.d93e3da6ceff62990dc40b52151c937b.swf",n),ot("setLastAdDisplay",[e.lastAdDisplay]),ot("setPlayerType",[e.player]),ot("setFlashIMAAdsEnabled",[!0])},n._emitEvent=function(t,n){setTimeout(function(){e.debug&&"timeupdate"!==t&&"playbackStatistics"!==t&&console.log("flash event:",t,n),C.emit(t,n)},0)},n.addEventListener=function(e,t){G.on(e,t)},n.removeEventListener=function(e,t){G.off(e,t)},n.getNetworkProfile=function(){return st("getNetworkProfile")||[]},n.getError=function(){},n.getNetworkState=function(){return Z},n.getBuffered=function(){var e=de?1:0;return{length:e,start:function(t){if(!(t>=e))return de.start},end:function(t){if(!(t>=e))return de.end}}},n.load=function(){if(te||ne){if(J=m.HAVE_NOTHING,Z=h.NETWORK_LOADING,G.emit(p.LOADSTART),Ee=!1,ne){var e=ne;return Promise.all([(0,d.videoInfo)(ne),_e.streamUrl]).then(function(n){var i=r(n,2),a=i[0],o=i[1],s=t.getState().streamMetadata;e===s.videoId&&(me=!0,ot("loadStream",[o,a.channel.name,!1]))}).catch(function(e){console.log("Error generating stream url:",e)})}var n=te;return _e.streamUrl.then(function(e){var r=t.getState().streamMetadata;n===r.channelName&&(me=!0,ot("loadStream",[e,te,!0]))}).catch(function(e){console.log("Error generating stream url:",e)})}},n.getReadyState=function(){return J},n.getSeeking=function(){return ie},n.getCurrentTime=function(){return Q.extrapolateTimeStamp()},n.setCurrentTime=function(e){he=!1,nt(),et(e),ot("videoSeek",[e])},n.getDuration=function(){return ae},n.getPaused=function(){return re},n.getEnded=function(){return t.getState().ads.currentMetadata.contentType===v.AdContentTypes.NONE&&he},n.play=function(){re=!1,G.emit(p.PLAY);var e=function(){_e.streamUrl.then(function(e){ot("setStreamURI",[e]),ot("playVideo")}).catch(function(e){console.log("Error generating stream url:",e)})};me?e():n.load().then(e())},n.pause=function(){ot("pauseVideo")},n.getVolume=function(){return oe},n.setVolume=function(e){oe=e,ot("setVolume",[e])},n.getMuted=function(){return se},n.setMuted=function(e){se=e,ot("setVolume",[e?0:oe])},n.getVideoInfo=(0,a.default)(function(){var e=st("getVideoInfo");return e?(0,s.default)({},R,e):R},P),n.getChannel=function(){return te||$},n.setChannel=function(t,r){_e=r,te=t,ne=null,ee=null,e.autoplay||Z>h.NETWORK_EMPTY?n.load():n.pause()},n.setClip=function(){},n.setAutoplay=function(t){e.autoplay=t},n.getVideo=function(){return ne||ee},n.setVideo=function(t,r){_e=r,ne=t,te=null,$=null,e.autoplay||Z>h.NETWORK_EMPTY?n.load():n.pause()},n.getQuality=function(){return le||""},n.setQuality=function(e){e===y.QUALITY_AUTO?(ot("setQuality",[N]),le=N):(ot("setQuality",[e]),le=e)},n.getQualities=function(){return ue||[]},n.getBackend=function(){return F},n.elapsedTime=function(){},n.getVersion=function(){return st("getVersion")},n.getMediaGroup=function(){return null},n.getController=function(){return null},n.getControls=function(){return!1},n.getAudioTracks=function(){return null},n.getVideoTracks=function(){return null},n.getTextTracks=function(){return null},n.getPlaybackRate=function(){return 1},n.addTextTrack=function(){},n.setControls=function(){},n.setLoop=function(){},n.setPlaybackRate=function(){G.emit(p.RATE_CHANGE)},n.getPlayed=function(){},n.getSrc=function(){},n.setSrc=function(){},n.getCaption=function(){return ce},n.absAvailable=function(){},n.setLiveLowLatencyEnabled=function(){},n.setLiveMaxLatency=function(){},n.setAutoMaxVideoSize=function(){},n.getBandwidthEstimate=function(){},n.getAverageBitrate=function(){},n.requestAdFill=function(e,t,n){ot("requestFlashAd",[e,t,n])},n.destroy=function(){nt(),f.removeSWF(pe),fe=null},C.on(p.CAN_PLAY,Ce),C.on(p.DURATION_CHANGE,Te),C.on(p.SEEKING,Me),C.on(p.SEEKED,Le),C.on(p.ENDED,Re),C.on(p.ERROR,Ie),C.on(p.PLAYING,Oe),C.on(p.WAITING,Be),C.on(p.VOLUME_CHANGE,ge),C.on(p.LOADSTART,Ae),C.on(_.PLAYER_INIT,ve),C.on(_.SEEK_FAILED,De),C.on(_.CHANSUB_REQUIRED,ze),C.on(_.MANIFEST_EXTRA_INFO,it),C.on(_.VIDEO_FAILURE,Ne),C.on(_.FORMATS,be),C.on(_.FORMAT_CHANGED,Se),C.on(_.TIME_CHANGE,xe),C.on(_.BUFFER_CHANGE,Ue),C.on(_.SEGMENT_CHANGE,Je),C.on(_.USHER_FAIL_ERROR,Xe),C.on(_.CAPTION_UPDATE,ye),C.on(_.MIDROLL_REQUESTED,Ze),C.on(_.VIDEO_PAUSED,Pe),C.on(_.STREAM_LOADED,we),C.on(_.VIDEO_LOADED,ke),C.on(w,Ve),C.on(k,je),C.on(B,We),C.on(M,qe),C.on(L,Fe),C.on(D,He),C.on(x,Ye),C.on(U,Ge),C.on(V,Ke),C.on(j,Qe),C.on(q,rt)}Y.map={},Y.counter=0,Y.canPlay=function(){return f.hasFlashPlayerVersion("10.2")&&""!==f.getFlashPlayerType()},window._BackendFlash_emitEvents=function(e,t){for(var n=Y.map[e],r=0;r<t.length;r++){var i=t[r];n._emitEvent(i.event,i.data)}}},Tymm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=Te,n("bZMm");var r,i=n("ijCd"),a=(r=i)&&r.__esModule?r:{default:r},o=n("aacC"),s=n("snxH"),l=ge(n("J0qE")),u=ge(n("uC+K")),c=n("4gWZ"),d=n("1hWM"),f=ge(n("IMEk")),p=ge(n("FxCM")),_=n("UXtW"),h=n("UCCs"),m=n("h5EO"),E=n("btZp"),v=n("YG/V"),y=n("E+Ha"),g=n("hzFE"),T=n("kDMx"),b=n("qgtV"),S=n("RhBK"),A=n("sqLg"),C=ge(n("D3OJ")),O=n("9/en"),P=n("wy0h"),N=n("rRi7"),I=ge(n("YSP/")),R=n("p7e0"),w=ge(n("vS/w")),k=n("zCE8"),M=n("OyQT"),L=n("bnTl"),D=n("9Ppm"),x=n("KE4D"),U=n("Irul"),B=n("VPTj"),V=n("YWLq"),j=n("A8Fc"),q=ge(n("JZwe")),F=n("56nq"),H=n("H0/C"),Y=n("IacF"),G=n("r3kr"),W=n("e063"),K=n("VIow"),Q=n("nqwM"),z=n("69Hk"),X=n("Z4ex"),J=n("uAxA"),Z=n("/71H"),$=n("R8J5"),ee=n("WKrT"),te=n("bBoL"),ne=n("ySAb"),re=n("mtzo"),ie=n("ufMz"),ae=n("4Nnw"),oe=n("I3vh"),se=n("nC/T"),le=n("/24N"),ue=n("AUgO"),ce=n("qT8i"),de=n("2GWp"),fe=n("hAxP"),pe=n("IazR"),_e=n("Yd1q"),he=n("kkHK"),me=n("nMl0"),Ee=n("hF4l"),ve=n("4b1H"),ye=n("xKxn");function ge(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Te(e,t){var n=performance.now(),r=this,i=(0,S.init)(),se=(0,me.initOptions)(t,i),ge=void 0,Te=void 0,be=void 0,Se=void 0,Ae=void 0,Ce=void 0,Oe=void 0,Pe=void 0,Ne=void 0,Ie=void 0,Re=void 0,we=void 0,ke=void 0,Me=[];r.store=i,r._setLiveToVod=function(e,t){var n=function(e){var n=i.getState().user,r=function(){var e=i.getState().user;i.dispatch((0,le.fetchFollowInfo)(e.id,t))};if(i.dispatch(C.clearStream()),i.dispatch((0,ue.fetchDeadLtvStreamMetadata)(e)),n.loggedInStatus!==Z.UNKNOWN)r();else var a=(0,ce.subscribe)(i,["user.loggedInStatus"],function(e){var t=e.user;a(),t.loggedInStatus===Z.LOGGED_IN&&r()})};return(0,F.krakenRequestv5)("content?stream_id="+e+"&channel_id="+t).then(function(t){if(t.stream&&t.stream._id.toString()===e)return r.setChannel(t.channel.name);if(t.videos.length>0){var i=t.videos.find(function(e){return"archive"===e.broadcast_type}),a=t.videos.find(function(e){return"highlight"===e.broadcast_type});if(i)return r.setVideo(i._id);if(a)return r.setVideo(a._id)}n(t.channel.name)}).catch(function(){return(0,F.krakenRequestv5)("channels/"+t).then(function(e){n(e.name)})})},r._setContent=function(e,t){var n=C.setStream({contentType:C.TYPE_PROVIDED,customerId:e,contentId:t});return Promise.resolve(i.dispatch(n))},r.setChannel=function(e){var t=C.setStream({contentType:C.TYPE_CHANNEL,contentId:e});return i.dispatch(t),i.dispatch((0,N.clearCollection)()),Promise.resolve()},r.setClip=function(e){var t=C.setStream({contentType:C.TYPE_CLIP,contentId:e});return i.dispatch(t),i.dispatch((0,N.clearCollection)()),Promise.resolve(!0)},r.setPlaybackRate=function(e){i.dispatch((0,ve.changePlaybackRate)(e))},r.setPlayerType=function(e){return i.dispatch((0,L.setPlayerType)(e)),e===u.PLAYER_MULTIVIEW_PRIMARY&&(i.dispatch((0,P.fetchExtensionInstallations)(i.getState().multiview.parentChannelLogin)),i.dispatch((0,P.subscribeToExtensionControl)(i.getState().multiview.parentChannelLogin)),d.extensionService.unregisterPlayer(),d.extensionService.registerPlayer(r)),Promise.resolve(!0)},r.setVideo=function(e,t){if("string"==typeof e){var n="v"!==e.charAt(0)?"v"+e:e,r=C.setStream({contentType:C.TYPE_VIDEO,contentId:n});return i.dispatch(r),i.dispatch((0,N.clearCollection)()),i.dispatch((0,B.setStartTime)(t)),Promise.resolve()}},r.setCollection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments[2];return i.dispatch((0,N.requestCollection)(e,t,n)),Promise.resolve()},r.setLanguage=function(e){i.dispatch(w.loadLanguage(e))},r.setMiniPlayerMode=function(e){i.dispatch((0,X.setMiniPlayerMode)(e))},r.updateEditingOffsets=function(e){i.dispatch((0,Ee.clipsEditingUpdated)({segments:e}))},r.setEditClipStream=function(e){var t=e.videoUrl,n=e.slug,r=i.getState(),a=r.env,o=r.stream;a.playerType===u.PLAYER_CLIPS_EDITING&&t&&o.streamUrl!==t&&i.dispatch(C.setStream({contentType:C.TYPE_CLIP_EDIT,contentId:n,contentSourceUrl:t}))},r.setFollowing=function(e){i.dispatch((0,le.channelFollowUpdated)(e))},r.setNotificationsDisabled=function(e){i.dispatch((0,le.channelFollowNotificationUpdated)(!e))},r.setSubscribable=function(e){i.dispatch((0,O.channelSubscribableUpdated)(e))},r.setSubscribed=function(e){i.dispatch((0,O.channelSubscribeUpdated)(e))},r.updateClipsEditing=function(e){var t=e.isPostEdit;i.getState().env.playerType===u.PLAYER_CLIPS_EDITING&&i.dispatch((0,Ee.clipsEditingUpdated)({isPostEdit:t}))},r.recordClip=function(){Pe&&(0,G.userCanClipSelector)(i.getState())&&Pe.recordClip()},r.isPlaying=function(){var e=i.getState(),t=e.stream,n=e.onlineStatus,r=e.playback,a=t.contentType===K.CONTENT_MODE_VOD,o=n===J.ONLINE_STATUS,s=t.contentType===Q.CONTENT_MODE_CLIP&&r.playing;return!Ae.getPaused()&&!Ae.getEnded()&&(o||a)&&Ae.getReadyState()>W.HAVE_CURRENT_DATA||s},r.setTrackingProperties=function(e){i.dispatch((0,z.setTrackingProperties)(e))},r.setGDPRConsent=function(e){e?i.dispatch(R.grantAllConsent):i.dispatch(R.clearAllConsent)},r.setAmazonGDPRConsent=function(e){i.dispatch((0,R.setAmazonConsent)(e))},r.setComscoreGDPRConsent=function(e){i.dispatch((0,R.setComscoreConsent)(e))},r.setNielsenGDPRConsent=function(e){i.dispatch((0,R.setNielsenConsent)(e))},r.setGoogleGDPRConsent=function(e){i.dispatch((0,R.setGoogleConsent)(e))},r.setHasUserSavedAmazonGDPRConsent=function(e){i.dispatch((0,R.setHasUserSavedAmazonConsent)(e))},r.setHasUserSavedComscoreGDPRConsent=function(e){i.dispatch((0,R.setHasUserSavedComscoreConsent)(e))},r.setHasUserSavedGoogleGDPRConsent=function(e){i.dispatch((0,R.setHasUserSavedGoogleConsent)(e))},r.setHasUserSavedNielsenGDPRConsent=function(e){i.dispatch((0,R.setHasUserSavedNielsenConsent)(e))},r.getFullscreen=function(){return i.getState().screenMode.isFullScreen},r.setQuality=function(e){i.dispatch((0,M.selectQuality)(e))},r.getQuality=function(){return i.getState().quality.current},r.showPlayerControls=function(e){i.dispatch((0,X.showPlayerControls)(e))},r.setMultiview=function(e){i.dispatch((0,k.multiviewEnabled)(e)),i.dispatch((0,k.multiviewParentChannelLogin)(e&&e.parentChannelLogin)),i.dispatch((0,k.multiviewTitleOverride)(e&&e.titleOverride)),i.dispatch((0,k.multiviewLogoOverride)(e&&e.logoOverride)),i.dispatch((0,k.multiviewFTUE)(e&&e.isFTUE)),i.dispatch((0,k.multiviewButtonText)(e&&e.buttonText))},r.setPrimeSubscribeState=function(e){i.dispatch((0,O.primeSubscribePending)(e&&e.pending)),i.dispatch((0,O.primeSubscribeFinished)(e&&e.finished)),i.dispatch((0,O.primeSubscribeError)(e&&e.error))},r.addEventListener=function(e,t){Ae&&Ae.addEventListener&&Ae.addEventListener(e,t)},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=void 0;if(d="string"==typeof e||e instanceof String?document.getElementById(e):e){if(t.multiview&&(i.dispatch((0,k.multiviewEnabled)(!0)),i.dispatch((0,k.multiviewParentChannelLogin)(t.multiview.parentChannelLogin)),i.dispatch((0,k.multiviewTitleOverride)(t.multiview.titleOverride)),i.dispatch((0,k.multiviewLogoOverride)(t.multiview.logoOverride)),i.dispatch((0,k.multiviewFTUE)(t.multiview.isFTUE)),i.dispatch((0,k.multiviewButtonText)(t.multiview.buttonText))),i.dispatch((0,D.setWindow)(window)),i.dispatch((0,_e.playerSetBaseMilestone)("web_player_init",n)),i.dispatch((0,A.setPlayerOptions)(t)),(0,F.setOAuthToken)(t),t.debug&&t.verbose&&i.subscribe(function(){console.debug("state change: %o",i.getState())}),t.force_manifest_node&&i.dispatch((0,pe.setUsherHostOverride)(t.force_manifest_node)),i.dispatch(I.loadExperiments({login:c.cookie.get("login")||null,deviceID:f.get(!1),userAgent:i.getState().window.navigator.userAgent})),i.dispatch(w.loadDefaultLang(i.getState().window.navigator,t.lang)),i.dispatch((0,L.setEnvironment)({deviceId:f.get(!1)})),i.dispatch((0,L.setPlayerType)(t.player)),i.dispatch((0,z.setTrackingProperties)(t.tracking)),t.gdpr){var S=t.gdpr,C=S.amazon,O=S.comscore,P=S.google,G=S.nielsen,W=S.hasUserSavedAmazonConsent,K=S.hasUserSavedComscoreConsent,Q=S.hasUserSavedGoogleConsent,J=S.hasUserSavedNielsenConsent;i.dispatch((0,R.setAmazonConsent)(C)),i.dispatch((0,R.setComscoreConsent)(O)),i.dispatch((0,R.setGoogleConsent)(P)),i.dispatch((0,R.setNielsenConsent)(G)),i.dispatch((0,R.setHasUserSavedAmazonConsent)(W)),i.dispatch((0,R.setHasUserSavedComscoreConsent)(K)),i.dispatch((0,R.setHasUserSavedGoogleConsent)(Q)),i.dispatch((0,R.setHasUserSavedNielsenConsent)(J))}Me.push(new y.PubSub(i,t)),Me.push(new ae.OfflineRecommendationsManager(i)),Me.push(new oe.UserManager(i)),Me.push(new ne.VodMidrollManager(i)),Me.push(new ye.VideoMomentsManager(i)),ge=new s.AnalyticsTracker(i,t),i.dispatch((0,V.setAnalyticsTracker)(ge)),i.dispatch((0,M.initializeQuality)()),(0,a.default)(u.CLIPS_PLAYER_TYPES,i.getState().env.playerType)&&(Te=new he.ClipsBenchmarkTracking(i),i.dispatch((0,j.setClipsTracker)(Te))),be=t.allowfullscreen?t.externalfullscreen&&(0,T.supportsExternalFullScreen)()?new T.ExternalFullScreen(d,i):new g.FullScreen(d,i):new b.NoFullScreen(d,i),Ne=new ie.TimelineMetadataManager(i),Ie=new $.CollectionManager(i);var Z=i.getState().window;i.dispatch((0,_e.performanceTimedMilestoneReached)(_e.WEB_VIDEO_API_INIT_STARTED,Z.performance.now())),Ae=new _.Video(d,i,t),i.dispatch((0,_e.performanceTimedMilestoneReached)(_e.WEB_VIDEO_API_INIT_DONE,Z.performance.now())),(Re=new ee.PlayerResizeManager(i)).observe(d),we=new te.FollowManager(i),t.player===u.PLAYER_TWITCH_EVERYWHERE&&(Me.push(new re.TwitchEverywhereManager(i)),t.targetOrigin||console.error("Missing targetOrigin option"),i.dispatch((0,L.setTwitchEverywhereParams)({targetOrigin:t.targetOrigin}))),(0,h.forwardProperties)(r,Ae),Oe=new m.EmbedHost(r,i,{origin:t.origin}),Ce=new o.Analytics(Ae,ge,i,t),i.dispatch((0,B.setAutoplay)(t.autoplay)),function(e){Ae.setVolume(e.volume),Ae.setMuted(e.muted),e.debug&&l.allEvents.forEach(function(e){(0,a.default)(l.debugIgnoreEvents,e)||Ae.addEventListener(e,function(t){t?console.log("video event: ",e,t):console.log("video event: ",e)})}),Ae.addEventListener(q.ERROR,function(e){console.error("video error:",Ae.getError()||e)})}(t),Me.push(new E.PlayerHotkeys(Ae,d,i,t)),t.controls&&(Pe=new H.ClipGenerator(i),i.dispatch((0,Y.clipGeneratorLoaded)(Pe)),i.dispatch((0,_e.performanceTimedMilestoneReached)(_e.WEB_UI_INIT_STARTED,Z.performance.now())),Se=(0,v.uiLoader)(Ae,d,i,Pe,t),i.dispatch((0,_e.performanceTimedMilestoneReached)(_e.WEB_UI_INIT_DONE,Z.performance.now()))),ke=new fe.PlayerUIResume(Ae,i),function(e){return(0,a.default)([u.PLAYER_CLIPS_VIEWING,u.PLAYER_CLIPS_WATCH,u.PLAYER_CLIPS_EMBED],e.player)?r.setClip(e.clip):u.PLAYER_CLIPS_EDITING===e.player?Promise.resolve(!0):e.customerId&&e.contentId?r._setContent(e.customerId,e.contentId):e.stream&&e.channelId?r._setLiveToVod(e.stream,e.channelId):e.channelId?(0,F.krakenRequestv5)("channels/"+e.channelId).then(function(e){return r.setChannel(e.name)}):e.channel?r.setChannel(e.channel):e.collection?Promise.resolve(i.dispatch((0,N.requestCollection)(e.collection,e.video,e.time,!0))):e.video&&e.time?r.setVideo(e.video,p.parse(e.time)):e.video?r.setVideo(e.video):Promise.resolve(!1)}(t).then(function(){i.dispatch((0,z.setTrackingProperties)({content:t.tt_content,medium:t.tt_medium})),i.dispatch((0,de.emitPlayerReady)())}).catch(function(e){console.warn("Stream init failed:",e)}),i.dispatch((0,U.initVodResume)()),Ae.addEventListener(q.LOADED_METADATA,function(){i.dispatch((0,x.setCanFullScreen)(be.canFullScreen()))}),function(e){var t=e.getState().window,n=function(e){var t=void 0,n=void 0;return void 0!==e.hidden?(t="hidden",n="visibilitychange"):void 0!==e.msHidden?(t="msHidden",n="msvisibilitychange"):void 0!==e.webkitHidden&&(t="webkitHidden",n="webkitvisibilitychange"),{hidden:t,visibilityChange:n}}(t.document),r=n.hidden,i=n.visibilityChange,a=function(){return e.dispatch((0,X.pageVisibilityChange)(t.document[r]))};t.document.addEventListener(i,a),Me.push({destroy:function(){return t.document.removeEventListener(i,a)}})}(i)}else console.error("Root element not found, unable to initialize player.")}(se),r.destroy=function(){ke.destroy(),Se&&Se.destroy(),Ae.destroy(),Ce.destroy(),Oe.destroy(),Me.forEach(function(e){return e.destroy()}),Ne.destroy(),Ie.destroy(),Re.destroy(),we.destroy()}}n("ChRQ"),Object({API_BASE_URL:void 0,CDN_URL:"https://static.twitchcdn.net/",GQL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://static.twitchcdn.net/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",TEMPO_ADDR:void 0}).shouldSetPublicPath&&(n.p=l.playerHost+"/"),n("A6+3"),window.Twitch=window.Twitch||{},window.Twitch.video=window.Twitch.video||{},window.Twitch.Player=Te,window.Twitch.Player.PROMPT_LOGIN=se.PROMPT_LOGIN_MODAL},UB5X:function(e,t,n){var r=n("NykK"),i=n("ExA7"),a="[object Number]";e.exports=function(e){return"number"==typeof e||i(e)&&r(e)==a}},UCCs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forwardProperties=function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t){var r=Object.getOwnPropertyDescriptor(t,n);r.get&&(r.get=r.get.bind(t)),r.set&&(r.set=r.set.bind(t)),"function"==typeof r.value&&(r.value=r.value.bind(t)),Object.defineProperty(e,n,r)}}),e}},UOOj:function(e,t,n){},USpt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscriptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_SUBSCRIPTION_PRODUCTS_FETCHED:return(0,a.default)({},e,t.subscriptions);case o.ACTION_CHANNEL_SUBSCRIPTIONS_FETCHED:return(0,a.default)({},e,{didFetch:!0},t.subscriptions);case s.ACTION_SET_STREAM:return l;case o.ACTION_CHANNEL_SUBSCRIPTION_UPDATED:return(0,a.default)({},e,{isSubscribed:t.isSubscribed});case o.ACTION_CHANNEL_SUBSCRIBABLE_UPDATED:return(0,a.default)({},e,{isSubscribable:t.isSubscribable});case o.ACTION_CHANNEL_PRIME_SUBSCRIBABLE_UPDATED:return(0,a.default)({},e,{isPrimeSubscribable:t.isPrimeSubscribable});case o.ACTION_CHANNEL_PRIME_SUBSCRIBE_PENDING:return(0,a.default)({},e,{primeSubscribePending:t.primeSubscribePending});case o.ACTION_CHANNEL_PRIME_SUBSCRIBE_FINISHED:return(0,a.default)({},e,{primeSubscribeFinished:t.primeSubscribeFinished});case o.ACTION_CHANNEL_PRIME_SUBSCRIBE_ERROR:return(0,a.default)({},e,{primeSubscribeError:t.error});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("9/en"),s=n("D3OJ");var l={isSubscribed:!1,isSubscribable:!1,isPrimeSubscribable:!1,primeSubscribePending:!1,primeSubscribeFinished:!1,primeSubscribeError:null,didFetch:!1}},UXtW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ID3_AD=void 0,t.Video=function(e,t,n){var ue=this,ce=new a.default;t.dispatch((0,j.eventEmitterLoaded)(ce));var pe=[],_e=void 0,he=void 0,me=void 0,Ee=!1,ve=X.INIT_QUARTILE_EVENTS,ye=t.getState().experiments;function ge(r){var a=t.getState(),o=a.window;t.dispatch((0,ie.performanceTimedMilestoneReached)("web_backend_init",o.performance.now()));var s=document.createElement("div");if(s.className="player-video",e){e.appendChild(s);var p=t.getState(),_=p.env;t.dispatch((0,N.setAccessTokenParams)({need_https:r===l.BACKEND_MEDIA_PLAYER,platform:_.platform,player_type:_.playerType,player_backend:r}));var h=r;t.dispatch((0,B.setUsherParams)(h,n));var m=ne.BACKEND_MAP[r]||d.BackendBlank,E=(0,H.default)({lastAdDisplay:f.localStore.get("lastAdDisplay",0),lastPrerollAdDisplay:f.localStore.get("lastPrerollAdDisplay",{channelId:null,time:0})},n),g=new m(E,t);t.dispatch((0,v.setBackend)(g)),t.dispatch((0,y.setPlayerBackendType)(g.getBackend())),g.attach(s);var T=(he=u.BackendChromecast).init();t.dispatch((0,I.setCastingState)(T)),_e=new c.BackendMulti(he,g),Ze(s,_e),g.addEventListener(K.LOADED_METADATA,we),he.addEventListener(K.LOADED_METADATA,we),g.addEventListener(K.DURATION_CHANGE,Pe),g.addEventListener(K.CAN_PLAY,Re),g.addEventListener(Q.BUFFER_CHANGE,ke),g.addEventListener(Q.MIDROLL_REQUESTED,Me),g.addEventListener(Q.STREAM_LOUDNESS,Le),g.addEventListener(Q.STITCHED_AD_START,xe),g.addEventListener(Q.STITCHED_AD_END,Ue),g.addEventListener(Q.TIMED_METADATA,De),g.addEventListener(Q.OFFLINE,ze),g.addEventListener(K.ENDED,Ke),he.addEventListener(K.ENDED,Qe),g.addEventListener(K.PLAYING,Be),he.addEventListener(K.PLAYING,Be),g.addEventListener(K.PLAY,Ve),g.addEventListener(K.TIME_UPDATE,Ye),he.addEventListener(K.TIME_UPDATE,Ye),g.addEventListener(K.RATE_CHANGE,Ge),g.addEventListener(K.VOLUME_CHANGE,(0,i.default)(Fe,fe).bind(this)),g.addEventListener(K.TRACKING,Te),he.addEventListener(K.VOLUME_CHANGE,(0,i.default)(Fe,fe).bind(this)),o.addEventListener("beforeunload",qe);var b=t.getState().window.navigator.userAgent.toLowerCase(),S=b.indexOf("safari")>-1&&-1===b.indexOf("chrome"),A=b.indexOf("windows")>-1&&b.indexOf("edge")>-1;(S||A)&&r!==l.BACKEND_MEDIA_PLAYER&&g.addEventListener(K.TIME_UPDATE,function(){t.dispatch((0,k.setLoading)(!1))}),g.addEventListener(Q.PLAYBACK_STATISTICS,Oe),g.addEventListener(K.SEEKED,We),g.addEventListener(K.SEEKING,Ne),g.addEventListener(K.WAITING,Ne),g.addEventListener(K.WAITING,Ie),g.addEventListener(K.PAUSE,je),g.addEventListener(Q.PLAYER_INIT,ue._loadVideoAPI),g.addEventListener(K.LOADSTART,ue._loadVideoAPI),g.addEventListener(K.PLAYBACK_BLOCKED,Ae),g.addEventListener(K.AUDIO_BLOCKED,Ce),g.addEventListener(Q.PREMIUM_CONTENT_RESTRICTED,be),g.addEventListener(Q.VOD_RESTRICTED,Se);var C=t.getState(),O=C.playback;g.setVolume(O.volume),g.setMuted(O.muted),tt(),ue._propagateBackendMutliEvents()}else console.error("root element unavailable for video tag to attach to")}function Te(e){ce.emit(K.TRACKING,e)}function be(){t.dispatch((0,k.contentRestricted)(M.CONTENT_RESTRICTED_PREMIUM))}function Se(){t.dispatch((0,x.pushScreen)(x.VOD_RESTRICTED_SCREEN)),t.dispatch((0,k.contentRestricted)(M.CONTENT_RESTRICTED_VOD_SUBSCRIPTION))}function Ae(){var e=t.getState().playback.muted;e?(t.dispatch((0,O.trackEvent)("playback_blocked")),t.dispatch((0,q.emitPlaybackBlockedEvent)())):(_e.setMuted(!0),t.dispatch((0,k.playerMuted)(!0,!0)),_e.play())}function Ce(){t.dispatch((0,k.playerMuted)(!0,!0))}function Oe(e){t.dispatch((0,J.updateStats)(e))}function Pe(){t.dispatch((0,k.updateDuration)(t.getState().backend.getDuration()))}function Ne(){t.dispatch((0,k.setLoading)(!0)),t.dispatch((0,k.updatePlaybackState)(K.WAITING))}function Ie(){ue.getSeeking()||t.dispatch((0,k.incrementBufferEmpties)())}function Re(){ue.adLoudnessRealTimePromise.then(function(e){if("control"!==e){var t=f.sessionStore.get(D.LAST_UNMOUNT_PLAYER_PRE_IMPRESSION_VOLUME),n=f.sessionStore.get(D.HAS_VIEWER_MANUALLY_ADJUSTED_AD_VOLUME);t&&!n&&ue.setVolume(t)}})}function we(){Ee=!0,t.dispatch({type:E.ACTION_TOGGLE_CAPTIONS,captions:{data:null,available:!1}}),t.dispatch((0,L.setQualities)(ue.getQualities()));var e=t.getState(),n=e.quality,r=e.stream,i=e.streamMetadata,a=e.playback,o=n.available.filter(function(e){return!(0,Y.default)(r.restrictedBitrates,e.group)});if(o.length>0&&!o.some(function(e){return e.group===n.selected})&&t.dispatch((0,L.selectQuality)(o[0].group,o[0].bandwidth)),t.dispatch((0,k.updateDuration)(t.getState().backend.getDuration())),(0,Y.default)(re.SEEKABLE_TYPES,r.contentType)&&a.startTimeSet&&ue.setCurrentTime(a.startTime),!a.playing||r.contentType!==p.CONTENT_MODE_LIVE&&r.contentType!==_.CONTENT_MODE_VOD||Je(),r.contentType===p.CONTENT_MODE_LIVE){var s=_e.getVideoInfo().broadcast_id;t.dispatch((0,w.setOnline)(!0)),i.broadcastID!==s&&(t.dispatch((0,D.updateBroadcastID)(s)),t.dispatch((0,D.fetchCurrentBroadcastMetadata)()))}}function ke(e){t.dispatch((0,k.updateBufferValues)(e.start,e.end))}function Me(e){t.dispatch((0,g.requestAds)(T.MIDROLL,e.duration,!1,0,de,e))}function Le(e){var n=Date.now(),r=f.localStore.get(D.LAST_MOUNT_TIME),i=n-r;i>=3e4&&(f.sessionStore.set(D.CHANNEL_LOUDNESS,e.streamLoudness),t.dispatch((0,D.setStreamLoudness)(e.streamLoudness)))}function De(e){var n=e[b.AD_TRACKING_START];fetch(n,{method:"GET"}),t.dispatch((0,k.timedMetadataReceived)(e))}function xe(n){if(ve=X.INIT_QUARTILE_EVENTS,n.hasOwnProperty(l.SURESTREAM_METADATA_URL_KEY)&&(0,G.default)(n[l.SURESTREAM_METADATA_URL_KEY])){var i=n[l.SURESTREAM_METADATA_URL_KEY];try{t.dispatch((0,g.setAdClickThrough)(i))}catch(e){console.warn("Failed to decode click-through URL: ",i)}}var a=[l.SURESTREAM_METADATA_DURATION_KEY,l.SURESTREAM_METADATA_START_TIME_KEY,l.SURESTREAM_METADATA_AD_POD_LENGTH_KEY,l.SURESTREAM_METADATA_AD_POD_POSITION_KEY],o=a.reduce(function(e,t){return e&&n.hasOwnProperty(t)},!0),s={contentType:g.AdContentTypes.STITCHED,rollType:g.AdRollTypes[n[l.SURESTREAM_METADATA_ROLL_TYPE_KEY]]};if(o){var u=a.reduce(function(e,t){return t===l.SURESTREAM_METADATA_START_TIME_KEY?e[t]=new Date(n[t]).getTime():e[t]=parseInt(n[t],10),e},{}),c={remainingStitchedAdTime:u[l.SURESTREAM_METADATA_DURATION_KEY],stitchedAdStartTime:ue.getCurrentTime(),stitchedAdDuration:u[l.SURESTREAM_METADATA_DURATION_KEY],adPodInfo:{adPosition:u[l.SURESTREAM_METADATA_AD_POD_POSITION_KEY]+1,totalAds:u[l.SURESTREAM_METADATA_AD_POD_LENGTH_KEY]}};t.dispatch((0,g.setAdDetails)(c)),s=(0,r.default)({},s,c)}t.dispatch((0,g.setCurrentAdMetadata)(s));var d=t.getState(),f=d.streamMetadata,p=d.ads;ue._moat=new te.MoatAnalytics(e,t,{stitched:!0});var _={adSessionId:n[l.SURESTREAM_METADATA_AD_ID],adType:g.AdRollTypes[n[l.SURESTREAM_METADATA_ROLL_TYPE_KEY]],duration:n[l.SURESTREAM_METADATA_DURATION_KEY],twitchCorrelator:null,channel:f.channelName,adServer:p.currentAdProperties.adServerDefault||p.currentAdProperties.adServer};ue._moat.trackAdStitched(_,(0,r.default)(s,{adSystem:null,adId:n[l.SURESTREAM_METADATA_AD_LINE_ITEM_KEY],creativeId:n[l.SURESTREAM_METADATA_AD_CREATIVE_ID_KEY],duration:n[l.SURESTREAM_METADATA_DURATION_KEY],advertiserId:n[l.SURESTREAM_METADATA_AD_ADVERTISER_ID_KEY],campaignId:n[l.SURESTREAM_METADATA_AD_ORDER_ID_KEY]}))}function Ue(){var e=t.getState(),n=e.playback.timedMetadata[b.AD_TRACKING_STOP];fetch(n,{method:"GET"});var r=e.ads.currentMetadata.adPodInfo,i=r.adPosition,a=r.totalAds;i===a&&t.dispatch((0,g.clearCurrentAdMetadata)())}function Be(){t.dispatch((0,R.clearError)()),t.dispatch((0,k.setLoading)(!1)),t.dispatch((0,k.updatePlaybackState)(K.PLAYING))}function Ve(){t.dispatch((0,k.updatePlaybackState)(K.PLAY)),(0,te.sendMoatSpadeEvent)(t,X.AD_MOAT_VPAID_VIDEO_PLAYING)}function je(){var e=t.getState(),n=e.ads;n.currentMetadata.contentType!==g.AdContentTypes.IMA&&t.dispatch((0,k.updatePlaybackState)(K.PAUSE)),(0,te.sendMoatSpadeEvent)(t,X.AD_MOAT_VPAID_VIDEO_PAUSED)}function qe(){(0,te.sendMoatSpadeEvent)(t,X.AD_MOAT_VPAID_STOPPED)}function Fe(){(0,te.sendMoatSpadeEvent)(t,X.AD_MOAT_VPAID_VOLUME_CHANGED)}function He(e){ve[e]||((0,te.sendMoatSpadeEvent)(t,e),ve[e]=!0)}function Ye(){var e=ue.getCurrentTime(),n=t.getState(),r=n.ads,i=r.currentMetadata.contentType,a=r.details,o=a.stitchedAdStartTime,s=a.stitchedAdDuration;if(i===g.AdContentTypes.STITCHED){var l=s+o-e;!function(e){var t=e.remainingStitchedAdTime,n=e.stitchedAdDuration,r=t/n;0<r<=.02?He(X.AD_MOAT_VPAID_VIDEO_COMPLETE):r<.25?He(X.AD_MOAT_VPAID_VIDEO_THIRD_QUARTILE):r<.5?He(X.AD_MOAT_VPAID_VIDEO_MIDPOINT):r<.75?He(X.AD_MOAT_VPAID_VIDEO_FIRST_QUARTILE):r<.99&&He(X.AD_MOAT_VPAID_VIDEO_START)}({remainingStitchedAdTime:l,stitchedAdDuration:s}),l>0&&t.dispatch((0,g.setRemainingStitchedAdTime)(l))}t.dispatch((0,k.updateCurrentTime)(e))}function Ge(){t.dispatch((0,k.playbackRateChanged)(_e.getPlaybackRate()))}function We(){var e=ue.getCurrentTime();t.dispatch((0,k.playerSeeked)(e))}function Ke(){t.dispatch((0,k.updatePlaybackState)(K.ENDED));var e=t.getState(),n=e.stream,r=e.playback;n.contentType===p.CONTENT_MODE_LIVE&&r.hasPlayed&&t.dispatch((0,g.requestAds)(T.POSTROLL,g.DEFAULT_AD_DURATION))}function Qe(){t.dispatch((0,k.updatePlaybackState)(K.ENDED));var e=t.getState(),n=e.stream;n.contentType===_.CONTENT_MODE_VOD&&_e.setCurrentTime(he.getCurrentTime())}function ze(){t.dispatch((0,w.setOnline)(!1))}function Xe(){var e=t.getState(),n=e.playerOptions;n.force_preroll?rt(T.PREROLL,n.force_preroll):n.force_midroll?rt(T.MIDROLL,n.force_midroll):n.force_preroll_id?rt(T.PREROLL,g.DEFAULT_AD_DURATION,n.force_preroll_id):n.force_midroll_id?rt(T.MIDROLL,g.DEFAULT_AD_DURATION,n.force_midroll_id):t.dispatch((0,g.requestAds)(T.PREROLL,g.DEFAULT_AD_DURATION))}function Je(){var e=t.getState(),n=e.adsManager;if(n!==A.nullAdsManager)Xe();else var r=(0,m.subscribe)(t,["adsManager"],function(e){var t=e.adsManager;t!==A.nullAdsManager&&(r(),Xe())})}function Ze(e,r){t.dispatch((0,S.createAdsManager)(e,r,t,n)),pe.push(($e(t.getState()),(0,m.subscribe)(t,["adsManager"],$e)))}function $e(e){var n=e.adsManager;n.addEventListener(z.AD_END,function(e){var n=e.roll_type,r=e.channel_id,i=Date.now();n===T.PREROLL&&f.localStore.set("lastPrerollAdDisplay",{channelId:r,time:i}),f.localStore.set("lastAdDisplay",i),_e.getEnded()&&t.dispatch((0,k.updatePlaybackState)(K.ENDED))}),n.addEventListener(z.AD_START,function(){t.dispatch((0,k.updatePlaybackState)(K.PLAYING))}),n.addEventListener(z.AD_ERROR,function(){_e.getEnded()&&t.dispatch((0,k.updatePlaybackState)(K.ENDED))}),(0,W.default)(z,function(e){n.addEventListener(e,function(t){ce.emit(e,t)})})}function et(){if(_e){var e=_e.getStats();t.dispatch((0,J.updateStats)(e)),ce.emit(Q.STATS_UPDATE)}}function tt(){_e.addEventListener(z.AD_START,function(){t.dispatch((0,x.pushScreen)(x.ADVERTISEMENT_SCREEN))}),_e.addEventListener(z.AD_END,function(e){var n=e.roll_type,r=e.channel_id,i=Date.now();n===T.PREROLL&&f.localStore.set("lastPrerollAdDisplay",{channelId:r,time:i}),f.localStore.set("lastAdDisplay",i),t.dispatch((0,x.popScreen)())}),he.addEventListener(Q.CASTING_CHANGE,function(e){t.dispatch((0,I.setCastingState)(e));var n=(0,G.default)(he.getDevice())?he.getDevice():"Chromecast";t.dispatch((0,I.setDeviceName)(n))}),pe.push((0,m.subscribe)(t,["playback.autoplay"],function(e){var t=e.playback;ue.setAutoplay(t.autoplay)})),pe.push((0,m.subscribe)(t,["stream"],function(e){var t=e.stream;ue._updateStream(t)})),pe.push((0,m.subscribe)(t,["viewercount"],function(){ce.emit(Q.VIEWERS_CHANGE)})),pe.push((0,m.subscribe)(t,["onlineStatus"],function(e){var t=e.onlineStatus;t===$.ONLINE_STATUS?ce.emit(Q.ONLINE):ce.emit(Q.OFFLINE)})),pe.push((0,m.subscribe)(t,["playback.contentShowing"],function(e){var t=e.playback;t.contentShowing&&ce.emit(Q.CONTENT_SHOWING)})),pe.push((0,m.subscribe)(t,["quality.selected"],function(e){var t=e.quality;ue._setBackendQuality(t.selected)})),_e.addEventListener(Q.CAPTION_UPDATE,function(){t.dispatch((0,E.setCaptionsData)(_e.getCaption()))}),_e.addEventListener(Q.QUALITY_CHANGE,function(e){var n=e.quality,r=e.isAuto;t.dispatch((0,L.setCurrentQuality)(n,r)),t.dispatch((0,C.incrementQualityChangeCount)()),t.dispatch((0,L.setQualities)(ue.getQualities()))}),_e.addEventListener(Q.MANIFEST_EXTRA_INFO,function(e){t.dispatch((0,P.setManifestInfo)(e)),t.dispatch((0,k.setLoading)(!0)),ue._initQuality(),me=new le.WarpConnectivityExperimentManager(t)})}function nt(){_e.addEventListener(K.PLAYING,function e(){_e.removeEventListener(K.PLAYING,e);var n=Date.now();var r=!1;function i(){r=!1}_e.addEventListener(Q.SEGMENT_CHANGE,function e(){if(r){var a=Date.now()-n,o=t.getState().manifestInfo.serving_id;t.dispatch((0,O.trackEvent)("quality_change_complete",{time_to_stable_quality:a,serving_id:o})),_e.removeEventListener(Q.SEGMENT_CHANGE,e),_e.removeEventListener(Q.QUALITY_CHANGE,i)}else r=!0});_e.addEventListener(Q.QUALITY_CHANGE,i)})}function rt(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=parseInt(n,10)||g.DEFAULT_AD_DURATION;t.dispatch((0,g.requestAds)(e,i,!0,r))}function it(e,t){try{t=(0,F.default)(t,{enumerable:!0}),Object.defineProperty(ue,e,t)}catch(e){}}ue.adLoudnessRealTimePromise=ye.get(se.ExperimentIds.AdLoudnessRealTime),ue._loadVideoAPI=function(){t.dispatch((0,V.videoAPILoaded)(ue))},ue._propagateBackendMutliEvents=function(){var e=[{event:K.DURATION_CHANGE},{event:Q.PLAYER_INIT},{event:K.LOADSTART},{event:K.LOADED_METADATA},{event:K.PLAY},{event:K.PAUSE},{event:K.WAITING},{event:K.PLAYING},{event:K.ENDED},{event:K.SEEKING},{event:K.TIME_UPDATE},{event:K.CAN_PLAY},{event:Q.SEGMENT_CHANGE},{event:Q.BUFFER_CHANGE},{event:Q.RESTRICTED},{event:K.SEEKED},{event:Q.STITCHED_AD_START},{event:Q.STITCHED_AD_END},{event:Q.MASTER_MANIFEST_READY},{event:K.VOLUME_CHANGE,getPayload:function(){return{volume:ue.getVolume(),muted:ue.getMuted()}}}];e.forEach(function(e){_e.addEventListener(e.event,function(t){e.getPayload?ce.emit(e.event,e.getPayload()):ce.emit(e.event,t)})})},ue._setABS=function(){var e=n.abs,r=!f.localStore.get(L.KEY_AUTO_QUALITY_FORCED,!1),i=t.getState().quality.selected===L.QUALITY_AUTO;ue.absAvailable()&&(r||e)?(t.dispatch((0,L.selectQuality)(L.QUALITY_AUTO)),t.dispatch((0,L.setPreferredQuality)(L.QUALITY_AUTO_OBJECT)),f.localStore.set(L.KEY_AUTO_QUALITY_FORCED,!0)):!ue.absAvailable()&&i&&t.dispatch((0,L.selectQuality)(L.DEFAULT_STREAM_FORMAT,L.DEFAULT_STREAM_BITRATE_IN_BPS)),t.dispatch((0,L.setABSAvailability)(ue.absAvailable()))},ue.absAvailable=function(){return _e.absAvailable()},ue._initQuality=function(){var e;ue._setABS(),e=t.getState().quality,ue._setBackendQuality(e.selected)},ue.destroy=function(){_e.destroy(),pe.forEach(function(e){return e()}),s.extensionService.unregisterPlayer(ue),ce.removeAllListeners(),me&&me.destroy()},ue._updateStream=function(e){if(Ee=!1,e.contentType===p.CONTENT_MODE_LIVE)_e.setChannel(e.channel,e),nt();else if(e.contentType===_.CONTENT_MODE_VOD)_e.setVideo(e.videoId,e),nt();else if(e.contentType===h.CONTENT_MODE_CLIP){var n=t.getState(),r=n.quality;_e.setClip({quality:r.selected})}else e.streamUrl.then(function(e){_e.setSrc(e)})},ue.addEventListener=function(e,t){ce.on(e,t)},ue.removeEventListener=function(e,t){ce.off(e,t)},ue.getNetworkProfile=function(){return t.getState().backend.getNetworkProfile()},ue.getError=function(){return _e.getError()},ue.getSrc=function(){},ue.setSrc=function(){},ue.getNetworkState=function(){return _e.getNetworkState()},ue.getBuffered=function(){return _e.getBuffered()},ue.load=function(){_e.load()},ue.getReadyState=function(){return _e.getReadyState()},ue.getSeeking=function(){return _e.getSeeking()},ue.getCurrentTime=function(){return _e.getCurrentTime()},ue.setCurrentTime=function(e){t.dispatch((0,k.playerSeeking)()),_e.setCurrentTime(e)},ue.getDuration=function(){return _e.getDuration()},ue.getPaused=function(){var e=t.getState(),n=e.ads,r=e.adsManager;return n.currentMetadata.contentType===g.AdContentTypes.IMA?r.paused:_e.getPaused()},ue.isPaused=ue.getPaused,ue.getPlaybackRate=function(){return _e.getPlaybackRate()},ue.setPlaybackRate=function(e){_e.setPlaybackRate(e)},ue.getPlayed=function(){return _e.getPlayed()},ue.getEnded=function(){return _e.getEnded()},ue.getAutoplay=function(){return t.getState().playback.autoplay},ue.setAutoplay=function(e){_e.setAutoplay(e)},ue.setLoop=function(e){_e.setLoop(e)},ue.play=function(){var e=t.getState(),n=e.playback,r=e.ads,i=e.stream;n.hasPlayed||n.playing||!Ee||i.contentType!==_.CONTENT_MODE_VOD&&i.contentType!==p.CONTENT_MODE_LIVE||Je(),_e.getNetworkState===_e.NETWORK_EMPTY?_e.load():r.currentMetadata.contentType===g.AdContentTypes.IMA?(t.dispatch((0,g.playAd)()),t.dispatch((0,k.updatePlaybackState)(K.PLAY))):(i.contentType===_.CONTENT_MODE_VOD&&ue.getEnded()&&ue.setCurrentTime(0),_e.play()),t.dispatch((0,O.trackEvent)("video_pause",{action:"play",in_ad:t.getState().ads.currentMetadata.contentType!==g.AdContentTypes.NONE}))},ue.pause=function(){t.dispatch((0,k.updatePlaybackState)(K.PAUSE));var e=t.getState(),n=e.ads;n.currentMetadata.contentType===g.AdContentTypes.IMA?t.dispatch((0,g.pauseAd)()):_e.pause(),t.dispatch((0,O.trackEvent)("video_pause",{action:"pause",in_ad:t.getState().ads.currentMetadata.contentType!==g.AdContentTypes.NONE}))},ue.automatedPause=function(){_e.pause()},ue.getControls=function(){return!0},ue.setControls=function(){},ue.getVolume=function(){return t.getState().playback.volume},ue.setVolume=function(e){var n=parseFloat(e),r=t.getState(),i=r.ads,a=r.adsManager,o=r.playerOptions,s=i.currentMetadata.contentType===g.AdContentTypes.IMA?a:_e;s&&s.setVolume?(t.dispatch((0,k.volumeChanged)(n)),s.setVolume(n),!0===o.persistUserPreferences&&f.localStore.set("volume",n)):console.error("Volume controller not available, unable to set volume.")},ue.getMuted=function(){return t.getState().playback.muted},ue.setMuted=function(e,n){var r=t.getState(),i=r.ads,a=r.adsManager,o=r.playerOptions,s=r.env,l=i.currentMetadata.contentType===g.AdContentTypes.IMA?a:_e;l&&l.setMuted?(t.dispatch((0,k.playerMuted)(e)),l.setMuted(e),!0!==o.persistUserPreferences||n||ae.mutedPersistence.set(s.playerType,e)):console.error("Volume controller not available, unable to set muted.")},ue.getTheatre=function(){return t.getState().screenMode.isTheatreMode},ue.setTheatre=function(e){t.dispatch((0,U.setTheatreMode)(e))},ue._setBackendQuality=function(e){_e.setQuality(e)},ue.getQualities=function(){return _e.getQualities()},ue.getChannel=function(){var e=t.getState(),n=e.streamMetadata;return n.channelName},ue.getVideo=function(){var e=t.getState(),n=e.streamMetadata;return n.videoId},ue.getSessionInfo=function(){var e=t.getState(),n=e.analytics,r=e.manifestInfo;return{broadcastId:r.broadcast_id,playSessionId:n.playSessionId}},ue.startCast=function(){he.load()},ue.stopCast=function(){he.stop()},ue.getFullscreen=function(){var e=t.getState(),n=e.screenMode;return n.isFullScreen},ue.setFullscreen=function(e){t.dispatch((0,U.setFullScreen)(e))},ue.getFullscreenEnabled=function(){var e=t.getState(),n=e.screenMode;return n.canFullScreen},ue.getStatsEnabled=function(){return t.getState().stats.enabled},ue.setStatsEnabled=function(){console.warn("setStatsEnabled has been deprecated.")},ue.getStats=function(){return t.getState().stats.videoStats},ue.getPlaybackStats=ue.getStats,ue.getVideoInfo=function(){return _e.getVideoInfo()},ue.getAverageBitrate=function(){return _e.getAverageBitrate()},ue.getBandwidthEstimate=function(){return _e.getBandwidthEstimate()},ue.getBackend=function(){return _e.getBackend()},ue.submitVideoIssueReport=function(e){var n={issue:e};n=(0,H.default)(n,ue.getVideoInfo()),t.dispatch((0,O.trackEvent)("vid_issue_report",n))},ue.setBackend=function(e){f.localStore.usesCache()&&(f.localStore.set("backend",e),t.getState().window.document.location.reload())},ue.getVersion=function(){return t.getState().backend.getVersion()},ue.getViewerCount=function(){return t.getState().viewercount},ue.getCaption=function(){return _e.getCaption()},ue.getEventEmitter=function(){return ce},ue.setLiveLowLatencyEnabled=function(e){return _e.setLiveLowLatencyEnabled(e)},ue.setLiveMaxLatency=function(e){return _e.setLiveMaxLatency(e)},ue.setAutoMaxVideoSize=function(e,t){return _e.setAutoMaxVideoSize(e,t)},ue.trackMiniPlayerAction=function(e,n){t.dispatch((0,O.trackEvent)(Z.SITE_MINIPLAYER_ACTION,{action:e,reason:n}))},it("error",{get:ue.getError}),it("src",{get:ue.getSrc,set:ue.setSrc}),it("networkState",{get:ue.getNetworkState}),it("buffered",{get:ue.getBuffered}),it("readyState",{get:ue.getReadyState}),it("seeking",{get:ue.getSeeking}),it("currentTime",{get:ue.getCurrentTime,set:ue.setCurrentTime}),it("duration",{get:ue.getDuration}),it("paused",{get:ue.getPaused}),it("playbackRate",{get:ue.getPlaybackRate,set:ue.setPlaybackRate}),it("played",{get:ue.getPlayed}),it("ended",{get:ue.getEnded}),it("autoplay",{get:ue.getAutoplay}),it("loop",{set:ue.setLoop}),it("controls",{get:ue.getControls,set:ue.setControls}),it("volume",{get:ue.getVolume,set:ue.setVolume}),it("muted",{get:ue.getMuted,set:ue.setMuted}),it("quality",{get:ue.getQuality,set:ue.setQuality}),it("qualities",{get:ue.getQualities}),it("channel",{get:ue.getChannel,set:ue.setChannel}),it("video",{get:ue.getVideo,set:ue.setVideo}),it("stats",{get:ue.getStats}),it("statsEnabled",{get:ue.getStatsEnabled,set:ue.setStatsEnabled}),it("fullscreen",{get:ue.getFullscreen,set:ue.setFullscreen}),it("fullscreenEnabled",{get:ue.getFullscreenEnabled}),it("theatre",{get:ue.getTheatre,set:ue.setTheatre}),it("viewers",{get:ue.getViewerCount}),function(){var e=(0,ne.getAvailableBackends)(t.getState().env.playerType),r=d.BACKEND_BLANK_TYPE;e.length<1?(t.dispatch((0,R.setError)(oe.default.CODES.RENDERER_NOT_AVAILABLE)),t.dispatch((0,O.trackEvent)(ee.PLAYBACK_ERROR,{playback_error_code:6e3,playback_error_msg:"no_backend_supported"}))):r=(0,Y.default)(e,n.backend)?n.backend:e[0];ge(r),t.getState().env.playerType!==o.PLAYER_MULTIVIEW_SECONDARY&&s.extensionService.registerPlayer(ue);s.extensionService.listenForContext(),i=t.getState().window,ue._statsLoop||(ue._statsLoop=i.setInterval(et,J.STATS_UPDATE_INTERVAL),pe.push(function(){i.clearInterval(ue.statsLoop),ue._statsLoop=null}));var i}()};var r=ce(n("QkVN")),i=ce(n("DzJC")),a=ce(n("4O8T")),o=ue(n("uC+K")),s=n("1hWM"),l=n("idqK"),u=n("JLTs"),c=n("+h71"),d=n("/ESh"),f=n("EoNM"),p=n("wsSb"),_=n("VIow"),h=n("nqwM"),m=n("qT8i"),E=n("rSwD"),v=n("zRjs"),y=n("9+6w"),g=n("QBeZ"),T=n("7Eji"),b=n("g91f"),S=n("f3ZV"),A=n("bMe5"),C=n("CM3j"),O=n("YWLq"),P=n("CeWH"),N=n("WgOZ"),I=n("ut+t"),R=n("+eo6"),w=n("XyCF"),k=n("VPTj"),M=n("ipln"),L=n("OyQT"),D=n("AUgO"),x=n("uNCh"),U=n("KE4D"),B=n("IazR"),V=n("4b1H"),j=n("2GWp"),q=n("QcJP"),F=ce(n("la6v")),H=ce(n("zdiy")),Y=ce(n("ijCd")),G=ce(n("4qC0")),W=ce(n("xkGU")),K=ue(n("JZwe")),Q=ue(n("nC/T")),z=ue(n("UvTj")),X=ue(n("fT0A")),J=n("0D68"),Z=n("aacC"),$=n("uAxA"),ee=n("TRt3"),te=n("IdQn"),ne=n("aXs5"),re=n("7fgZ"),ie=n("Yd1q"),ae=n("TYSy"),oe=ce(n("y+GA")),se=n("Rnd+"),le=n("Ipgj");function ue(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function ce(e){return e&&e.__esModule?e:{default:e}}var de=t.ID3_AD="ID3_AD",fe=5e3},UnXY:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n("Qrca")),a=l(n("q1tI")),o=l(n("17x9")),s=(l(n("6DQo")),n("8PcY"));function l(e){return e&&e.__esModule?e:{default:e}}o.default.any,o.default.func,o.default.node;var u=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return a.performAppear=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(a._handleDoneAppearing.bind(a,e,t)):a._handleDoneAppearing(e,t)},a._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete a.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performEnter=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(a._handleDoneEntering.bind(a,e,t)):a._handleDoneEntering(e,t)},a._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete a.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)||a.performLeave(e,t)},a.performLeave=function(e,t){a.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(a._handleDoneLeaving.bind(a,e,t)):a._handleDoneLeaving(e,t)},a._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete a.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(a.props.children);n&&n.hasOwnProperty(e)?a.keysToEnter.push(e):a.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},a.childRefs=Object.create(null),a.state={children:(0,s.getChildMapping)(n.children)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var a in n){var o=t&&t.hasOwnProperty(a);!n[a]||o||this.currentlyTransitioningKeys[a]||this.keysToLeave.push(a)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var o="string"!=typeof r.ref,s=e.props.childFactory(r),l=function(t){e.childRefs[n]=t};s===r&&o&&(l=(0,i.default)(r.ref,l)),t.push(a.default.cloneElement(s,{key:n,ref:l}))}};for(var o in this.state.children)n(o);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,a.default.createElement(this.props.component,s,t)},t}(a.default.Component);u.displayName="TransitionGroup",u.propTypes={},u.defaultProps={component:"span",childFactory:function(e){return e}},t.default=u,e.exports=t.default},UuYt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WarpConnectivityExperiment=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("3OWR")),a=c(n("Xdxp")),o=n("YWLq"),s=n("wsSb"),l=n("VIow"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("IMEk"));function c(e){return e&&e.__esModule?e:{default:e}}t.WarpConnectivityExperiment=function(){function e(t){var n=t.store,r=t.isIPv4;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=n,this.isIPv4=r,this.trackingProperties={};try{this.createPeerConnection()}catch(e){this.sendSpadeEvent()}}return r(e,[{key:"createPeerConnection",value:function(){var e=this;this.peerConnection=new RTCPeerConnection,this.peerConnection.onicecandidate=this.onIceCandidate.bind(this),this.peerConnection.onnegotiationneeded=function(){e.peerConnection.createOffer().then(function(t){e.peerConnection.setLocalDescription(t)})},this.dataChannel=this.peerConnection.createDataChannel("datachannel")}},{key:"onIceCandidate",value:function(e){var t=this;if(null===e.candidate){var n=btoa(JSON.stringify(this.peerConnection.localDescription));this.makeHTTPRequest(n).then(function(e){t.recordTrackingProperty("webrtc_attempt_id",e.webrtc_attempt_id);var n=e.offer_base64;try{var r=JSON.parse(atob(n));t.checkUDP(r)}catch(e){t.sendSpadeEvent()}},this.sendSpadeEvent.bind(this))}}},{key:"makeHTTPRequest",value:function(e){var t=this;return this.recordTrackingProperty("webrtc_http_start",Date.now()),new Promise(function(n,r){var i=t.isIPv4?"https://ipv4.webrtc-test.ttvnw.net/data-channel-handshake":"https://ipv6.webrtc-test.ttvnw.net/data-channel-handshake";fetch(i,{method:"POST",body:e,headers:{"Content-Type":"text/plain"}}).then(function(e){t.recordTrackingProperty("webrtc_http_success",Date.now()),n(e.json())}).catch(function(e){t.recordTrackingProperty("webrtc_http_error",Date.now()),r()}),window.setTimeout(r,1e4)})}},{key:"checkUDP",value:function(e){var t=this;this.recordTrackingProperty("webrtc_udp_start",Date.now()),new Promise(function(n,r){t.dataChannel.onopen=function(){t.recordTrackingProperty("webrtc_udp_success",Date.now())},t.dataChannel.onmessage=function(e){(0,a.default)(e.data),t.recordTrackingProperty("webrtc_message",Date.now()),n()},t.dataChannel.onerror=function(){t.recordTrackingProperty("webrtc_udp_error",Date.now()),r()},window.setTimeout(r,1e4),t.peerConnection.setRemoteDescription(e)}).then(this.sendSpadeEvent.bind(this),this.sendSpadeEvent.bind(this))}},{key:"recordTrackingProperty",value:function(e,t){this.trackingProperties[e]=t}},{key:"sendSpadeEvent",value:function(){var e=this.store.getState(),t=e.analytics,n=e.manifestInfo,r=e.stream,a=null,c=null;r.contentType===s.CONTENT_MODE_LIVE?a=r.channel:r.contentType===l.CONTENT_MODE_VOD&&(c=r.videoId);var d=(0,i.default)({},{channel:a,cluster:n.cluster,device_id:u.get(!1),manifest_cluster:n.manifest_cluster,play_session_id:t.playSessionId,serving_id:n.serving_id,vod_id:c,webrtc_v6:!this.isIPv4},this.trackingProperties);this.store.dispatch((0,o.trackEvent)("webrtc_client_ping",d)),this.destroy()}},{key:"destroy",value:function(){this.trackingProperties={},this.dataChannel&&this.dataChannel.close(),this.peerConnection&&this.peerConnection.close()}}]),e}()},UvTj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_START="adstart",t.AD_END="adend",t.COMPANION_RENDERED="adcompanionrendered",t.AD_IMPRESSION="adImpression",t.AD_IMPRESSION_COMPLETE="adImpressionComplete",t.AD_SKIPPED="adSkipped",t.AD_ERROR="adError",t.COMPANION_AD_BUFFERED="companionadbuffered"},Uwt0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ListSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.ListSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M2 11V9a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm0-6V3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm0 12v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1zm15 0H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2zm0-6H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2zm0-6H8a1 1 0 1 1 0-2h9a1 1 0 1 1 0 2z",fill:e.fill}))}).propTypes=l},"V+OD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StaffMenu=t.StaffMenuContainer=t.mapDispatchToProps=void 0;var r=l(n("17x9")),i=l(n("q1tI")),a=n("N58E"),o=n("Qua/"),s=n("QBeZ");function l(e){return e&&e.__esModule?e:{default:e}}var u={onMenuTransition:r.default.func,onRunLocalPrerollAd:r.default.func.isRequired,onRunLocalMidrollAd:r.default.func.isRequired,onRunLocalPostrollAd:r.default.func.isRequired},c=t.mapDispatchToProps=function(e){return{onRunLocalPrerollAd:function(){e((0,s.requestAds)(s.AdRollTypes.PREROLL,s.DEFAULT_AD_DURATION,!0))},onRunLocalMidrollAd:function(){e((0,s.requestAds)(s.AdRollTypes.MIDROLL,s.DEFAULT_AD_DURATION,!0))},onRunLocalPostrollAd:function(){e((0,s.requestAds)(s.AdRollTypes.POSTROLL,s.DEFAULT_AD_DURATION,!0))}}},d=t.StaffMenuContainer=function(e){var t=e.onMenuTransition,n=e.onRunLocalPrerollAd,r=e.onRunLocalMidrollAd,a=e.onRunLocalPostrollAd;return i.default.createElement(o.StaffMenu,{onMenuTransition:t,onRunLocalPrerollAd:n,onRunLocalMidrollAd:r,onRunLocalPostrollAd:a})};d.propTypes=u,d.defaultProps={onMenuTransition:function(){}};t.StaffMenu=(0,a.connect)(null,c)(d)},V6CR:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("q1tI"),i=n("C9w8"),a=n("fPaz"),o=n("uG/k"),s=n("IbuL"),l=n("hnjF"),u=n("sUnt"),c=(n("UOOj"),function(e){var t,n;return void 0!==(n=e).src&&void 0!==n.alt&&(t=r.createElement(u.a,{className:"tw-drop-down-menu-item-figure--image"},r.createElement(a.b,{ratio:e.aspectRatio||a.c.Aspect1x1},r.createElement(o.a,Object(i.a)(e))))),function(e){return void 0===e.src}(e)&&(t=r.createElement(u.a,{display:l.d.Flex,alignItems:l.b.Center},r.createElement(s.a,{asset:e.icon}))),r.createElement(l.g,{className:"tw-drop-down-menu-item-figure"},t)});c.displayName="DropDownMenuItemFigure",c.displayName="DropDownMenuItemFigure"},V6vH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresetsPanel=t.mapDispatchToProps=t.mapStateToProps=t.PRESETS=void 0,t.PresetsPanelContainer=p;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("dzAF"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("8+VK")),l=n("rSwD");function u(e){return e&&e.__esModule?e:{default:e}}t.PRESETS="Presets";var c={onSelect:i.default.func.isRequired,selectedValue:i.default.string.isRequired},d=t.mapStateToProps=function(e){return{selectedValue:e.captions.preset}},f=t.mapDispatchToProps=function(e){return{onSelect:function(t){e((0,l.setCaptionsPreset)(t,s.presetMap[t]))}}};function p(e){var t=e.onSelect,n=e.selectedValue;return r.default.createElement(o.PresetsPanel,{onSelect:t,selectedValue:n})}p.propTypes=c;t.PresetsPanel=(0,a.connect)(d,f)(p)},VFp6:function(e,t,n){},VIow:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VODTwitchContentStream=t.CONTENT_MODE_VOD=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("3OWR")),o=p(n("zdiy")),s=n("gGr8"),l=n("56nq"),u=n("ji7g"),c=n("J0qE"),d=n("CPEd"),f=n("2jd5");function p(e){return e&&e.__esModule?e:{default:e}}var _=t.CONTENT_MODE_VOD="vod";t.VODTwitchContentStream=function(e){function t(e,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return o._vodId=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.AbstractStream),i(t,[{key:"_fetchAccessToken",value:function(e,t,n){return(0,d.fetchVideoAccessToken)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return(0,o.default)({nauth:e.token,nauthsig:e.sig,allow_source:!0,playlist_include_framerate:!0},this._usherParams)}},{key:"contentType",get:function(){return _}},{key:"videoId",get:function(){return this._vodId}},{key:"_baseStreamUrl",get:function(){return c.usherHost+"/vod/"+this._vodId.substring(1)+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),(0,l.viewerInfo)()]).then(function(t){var n=r(t,3),i=n[0],o=n[1],l=n[2],c=e._buildUsherParams(i),d={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:s.PREROLL_TIMEOUT};return s.AD_STITCHING_GEOS[l.requestInfo.countryCode]&&(d.baking_bread=!0,d.baking_brownies=!0),(0,a.default)(c,o,d),e._baseStreamUrl+"?"+(0,u.stringify)(c)})}}]),t}()},VN23:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsConfirmation=t.mapDispatchToProps=void 0,t.ExtensionsConfirmationContainer=_;var r=d(n("q1tI")),i=d(n("17x9")),a=n("N58E"),o=n("wy0h"),s=n("ruD0"),l=n("/71H"),u=d(n("jKim")),c=n("9kay");function d(e){return e&&e.__esModule?e:{default:e}}var f={clearPurchaseIntent:i.default.func.isRequired,isLinked:i.default.bool.isRequired,isLoggedIn:i.default.bool.isRequired,purchaseIntent:i.default.shape({payload:s.ProductPayloadPropTypes,makePurchase:i.default.func.isRequired})},p=t.mapDispatchToProps=function(e){return{clearPurchaseIntent:function(){e((0,o.purchaseIntentReceived)(null))}}};function _(e){var t=e.clearPurchaseIntent,n=e.isLinked,i=e.isLoggedIn,a=e.purchaseIntent;if(!a)return null;var o=a.payload,l=a.makePurchase;return r.default.createElement(c.I18nextProvider,{i18n:u.default},r.default.createElement(s.ExtensionsConfirmation,{cancel:function(){t()},confirm:function(){t(),l()},isLinked:n,isLoggedIn:i,productPayload:o}))}_.propTypes=f;t.ExtensionsConfirmation=(0,a.connect)(function(e){var t=e.extensions,n=e.user,r=t.activeInstallations,i=t.purchaseIntent,a=null;if(i){var o=i.payload.extensionName;a=r.find(function(e){return e.name===o})}return{isLoggedIn:n.loggedInStatus===l.LOGGED_IN,isLinked:!(!a||!a.playerState.isUserIdentityLinked),purchaseIntent:i}},p)(_)},VPTj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timedMetadataReceived=t.INVALID_PLAYBACK_ACTION=t.ACTION_TIMED_METADATA_RECEIVED=t.ACTION_INCREMENT_BUFFER_EMPTIES=t.ACTION_CLEAR_BUFFER_EMPTIES=t.ACTION_SET_START_TIME=t.ACTION_PLAYER_SEEKED=t.ACTION_PLAYER_SEEKING=t.ACTION_PLAYBACK_RATE_CHANGED=t.ACTION_SET_TRANSITION_FUNCTION=t.ACTION_CONTENT_IS_SHOWING=t.ACTION_WAITING=t.ACTION_UPDATE_PLAYBACK_DURATION=t.ACTION_UPDATE_CURRENT_TIME=t.ACTION_UPDATE_BUFFER_VALUES=t.ACTION_VOLUME_CHANGED=t.ACTION_PLAYER_MUTED=t.ACTION_SET_LOADING=t.ACTION_SET_AUTOPLAY_STATE=t.ACTION_QUALITY_RESTRICTED_ERROR=t.ACTION_PLAY=t.ACTION_PLAYING=t.ACTION_PAUSE=t.ACTION_INITIALIZE_PLAYBACK_SETTINGS=t.ACTION_ENDED=t.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR=t.ACTION_CONTENT_RESTRICTED=void 0,t.contentRestricted=function(e){return{type:p,restriction:e}},t.clearQualityRestrictedError=function(){return{type:_}},t.qualityIsRestricted=function(){return{type:y}},t.updateDuration=function(e){return{type:O,playback:{duration:e}}},t.updatePlaybackState=function(e){switch(e){case i.PLAYING:return{type:E};case i.PLAY:return{type:v};case i.WAITING:return{type:P};case i.PAUSE:return{type:m};case i.ENDED:return{type:h}}},t.setAutoplay=function(e){return{type:g,playback:{autoplay:e}}},t.playerMuted=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:b,muted:e,automated:t}},t.volumeChanged=function(e){return{type:S,volume:Math.max(0,Math.min(1,e))}},t.setLoading=function(e){return{type:T,isLoading:e}},t.updateCurrentTime=function(e){return{type:C,currentTime:e}},t.updateBufferValues=function(e,t){return{type:A,start:e,end:t}},t.contentIsShowing=function(){return{type:N}},t.playbackRateChanged=function(e){return{type:I,playbackRate:e}},t.setStartTime=function(e){var t={type:x};Number.isFinite(e)&&e>=0&&(t={type:k,startTime:e});return t},t.playerSeeking=function(){return{type:R}},t.playerSeeked=function(e){return{type:w,currentTime:e}},t.clearBufferEmpties=function(){return{type:M}},t.incrementBufferEmpties=function(){return{type:L}},t.selectRecommendedVideo=function(e){return function(t,n){var r=n(),i=r.env;switch(i.playerType){case o.PLAYER_SITE:t((0,f.emitTransitionToRecommendedVOD)(e));break;case o.PLAYER_POPOUT:var s=function(e,t){var n=B(t().window);return(0,u.default)({},{video:e},n)}(e,n);U(s,n);break;case o.PLAYER_TWITCH_EVERYWHERE:t((0,f.emitTransitionToRecommendedVOD)(e)),t((0,a.clearCollection)()),t((0,d.setStream)({contentType:d.TYPE_VIDEO,contentId:e}));break;default:t((0,a.clearCollection)()),t((0,d.setStream)({contentType:d.TYPE_VIDEO,contentId:e}))}}},t.selectCollectionVideo=function(e,t){return function(n,r){var i=r(),a=i.env,s=i.screenMode;if(a.playerType===o.PLAYER_SITE)s.isFullScreen?n((0,d.setStream)({contentType:d.TYPE_VIDEO,contentId:e})):n((0,f.emitTransitionToCollection)(t,e));else if(a.playerType===o.PLAYER_POPOUT){var l=function(e,t){var n=t(),r=n.window,i=n.collection,a=B(r);return(0,u.default)({},{video:e,collection:i.pendingRequest.collectionId||i.id},a)}(e,r);U(l,r)}else n((0,d.setStream)({contentType:d.TYPE_VIDEO,contentId:e}))}};var r,i=n("JZwe"),a=n("rRi7"),o=n("uC+K"),s=n("ZtkW"),l=n("zdiy"),u=(r=l)&&r.__esModule?r:{default:r},c=n("ji7g"),d=n("D3OJ"),f=n("2GWp");var p=t.ACTION_CONTENT_RESTRICTED="content restricted",_=t.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR="clear error quality restricted",h=t.ACTION_ENDED="set player ended",m=(t.ACTION_INITIALIZE_PLAYBACK_SETTINGS="initialize playback settings",t.ACTION_PAUSE="set player pause"),E=t.ACTION_PLAYING="set player playing",v=t.ACTION_PLAY="set player play",y=t.ACTION_QUALITY_RESTRICTED_ERROR="error quality restricted",g=t.ACTION_SET_AUTOPLAY_STATE="set autoplay state",T=t.ACTION_SET_LOADING="set loading state",b=t.ACTION_PLAYER_MUTED="player muted",S=t.ACTION_VOLUME_CHANGED="volume changed",A=t.ACTION_UPDATE_BUFFER_VALUES="update buffer values",C=t.ACTION_UPDATE_CURRENT_TIME="update current time",O=t.ACTION_UPDATE_PLAYBACK_DURATION="update playback duration",P=t.ACTION_WAITING="set player waiting",N=t.ACTION_CONTENT_IS_SHOWING="content is showing",I=(t.ACTION_SET_TRANSITION_FUNCTION="set VOD transition function",t.ACTION_PLAYBACK_RATE_CHANGED="playback rate changed"),R=t.ACTION_PLAYER_SEEKING="player seeking",w=t.ACTION_PLAYER_SEEKED="player seeked",k=t.ACTION_SET_START_TIME="set start time",M=t.ACTION_CLEAR_BUFFER_EMPTIES="clear bufferEmpties count",L=t.ACTION_INCREMENT_BUFFER_EMPTIES="increment bufferEmpties count",D=t.ACTION_TIMED_METADATA_RECEIVED="ACTION_TIMED_METADATA_RECEIVED",x=t.INVALID_PLAYBACK_ACTION="invalid playback action";t.timedMetadataReceived=function(e){return{type:D,data:e}};function U(e,t){t().window.location.search="?"+(0,c.stringify)(e)}function B(e){var t=(0,s.parse)(e.location.search.slice(1));return delete t.channel,delete t.video,delete t.collection,delete t.time,t}},VaBZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchIMAScript=function(){return new Promise(function(e,t){var n=document.createElement("script");document.body.appendChild(n),n.onerror=t,n.onload=e,n.async=!0,n.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",window.setTimeout(t,2e3)})}},VccO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgeGateOverlay=t.AgeGateOverlayComponent=t.KEY_AGE_GATE=t.KEY_AGE_GATES_FAILED=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n("q1tI")),a=m(n("17x9")),o=m(n("TSYQ")),s=m(n("3OWR")),l=m(n("GoyQ")),u=m(n("WjpJ")),c=n("9kay"),d=n("1fV9"),f=n("X1Rh"),p=n("EoNM"),_=n("RJgt"),h=n("QfJK");function m(e){return e&&e.__esModule?e:{default:e}}var E=t.KEY_AGE_GATES_FAILED="age_gates_failed",v=(t.KEY_AGE_GATE="age_gate",(0,o.default)("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay","js-age-restriction-overlay")),y=(0,o.default)("player-center-content"),g=(0,o.default)("pl-age-gate js-age-gate"),T=(0,o.default)("js-age-gate-submit player-content-button"),b=(0,o.default)("player-datepicker--select js-select-day"),S=(0,o.default)("player-datepicker--select js-select-month"),A=(0,o.default)("player-datepicker--select js-select-year"),C=(0,o.default)("player-age-gate-failed-once"),O=(0,o.default)("player-age-gate--fail-icon"),P=(0,o.default)("age-gate-locked-out-label"),N=(0,o.default)("player-age-gate-warning"),I=(0,o.default)("js-age-gate-warning-label"),R=(0,o.default)("pl-age-gate-locked-out"),w=(0,o.default)("player-age-gate--icon"),k=(0,o.default)("player-age-gate-notificiation"),M=(0,o.default)("player-datepicker"),L=(0,o.default)("player-age-gate-form js-age-gate"),D=1,x={handleAgeGatePassed:a.default.func.isRequired,requiredAge:a.default.number.isRequired,channelName:a.default.string.isRequired,t:a.default.func.isRequired},U=t.AgeGateOverlayComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments)),r=n._getMinimumYear(),i=n._getAgeGateFailureCount(e.channelName);return n.state={monthValue:""+f.MONTH.JANUARY,dayValue:""+D,yearValue:r,ageGatesFailedCount:i},n._handleInputMonthChange=n._handleInputMonthChange.bind(n),n._handleInputDayChange=n._handleInputDayChange.bind(n),n._handleInputYearChange=n._handleInputYearChange.bind(n),n._submitAge=n._submitAge.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this._renderAgeGateStatus();return i.default.createElement("div",{className:v},i.default.createElement("div",{className:y},i.default.createElement("div",{className:g},e)))}},{key:"_getAgeGateFailuresMap",value:function(){var e=p.sessionStore.get(E);return(0,l.default)(e)?e:{}}},{key:"_getAgeGateFailureCount",value:function(e){var t=this._getAgeGateFailuresMap()[e];return isFinite(t)?Math.max(0,t):0}},{key:"_getSelectedDate",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue);return{month:parseInt(e,10),day:parseInt(t,10),year:parseInt(n,10)}}},{key:"_handleInputMonthChange",value:function(e){var t=Number(e.target.value),n=(0,f.getMaxDays)(t,Number(this.state.yearValue));this.setState({monthValue:e.target.value}),this.state.dayValue>n&&this.setState({dayValue:""+D})}},{key:"_handleInputDayChange",value:function(e){this.setState({dayValue:e.target.value})}},{key:"_handleInputYearChange",value:function(e){var t=Number(this.state.monthValue),n=e.target.value,r=(0,f.getMaxDays)(t,Number(n));this.setState({yearValue:n}),this.state.dayValue>r&&this.setState({dayValue:""+D})}},{key:"_isOfAgeOrOlder",value:function(){var e=Number(this.state.monthValue),t=Number(this.state.dayValue),n=Number(this.state.yearValue),r=new Date(n,e,t);return(0,f.isMinimumAge)(r,this.props.requiredAge)}},{key:"_isValidDate",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.day,r=e.year,i=(0,f.getMaxDays)(t,r);return n>0&&n<=i}},{key:"_populateMonthDropdown",value:function(){var e=this.props.t;return i.default.createElement("select",{className:S,name:"monthValue",value:this.state.monthValue,onChange:this._handleInputMonthChange,onBlur:this._handleInputMonthChange},i.default.createElement("option",{className:"age-gate-jan",value:f.MONTH.JANUARY},e("January")),i.default.createElement("option",{className:"age-gate-feb",value:f.MONTH.FEBRUARY},e("February")),i.default.createElement("option",{className:"age-gate-mar",value:f.MONTH.MARCH},e("March")),i.default.createElement("option",{className:"age-gate-apr",value:f.MONTH.APRIL},e("April")),i.default.createElement("option",{className:"age-gate-may",value:f.MONTH.MAY},e("May")),i.default.createElement("option",{className:"age-gate-jun",value:f.MONTH.JUNE},e("June")),i.default.createElement("option",{className:"age-gate-jul",value:f.MONTH.JULY},e("July")),i.default.createElement("option",{className:"age-gate-aug",value:f.MONTH.AUGUST},e("August")),i.default.createElement("option",{className:"age-gate-sept",value:f.MONTH.SEPTEMBER},e("September")),i.default.createElement("option",{className:"age-gate-oct",value:f.MONTH.OCTOBER},e("October")),i.default.createElement("option",{className:"age-gate-nov",value:f.MONTH.NOVEMBER},e("November")),i.default.createElement("option",{className:"age-gate-dec",value:f.MONTH.DECEMBER},e("December")))}},{key:"_populateDayDropdown",value:function(){var e=this._getSelectedDate(),t=e.month,n=e.year,r=(0,f.getMaxDays)(t,n),a=(0,u.default)(1,r+1).map(function(e){return i.default.createElement("option",{key:"day."+e,value:e},e)});return i.default.createElement("select",{className:b,name:"dayValue",value:this.state.dayValue,onChange:this._handleInputDayChange,onBlur:this._handleInputDayChange},a)}},{key:"_populateYearDropdown",value:function(){var e=this._getMinimumYear(),t=e-100,n=(0,u.default)(e,t+1).map(function(e){return i.default.createElement("option",{key:"year."+e,value:e},e)});return i.default.createElement("select",{className:A,name:"yearValue",value:this.state.yearValue,onChange:this._handleInputYearChange,onBlur:this._handleInputYearChange},n)}},{key:"_setAgeGateFailed",value:function(){var e,t,n,r=this.props.channelName,i=this._getAgeGateFailureCount(r)+1,a=(0,s.default)(this._getAgeGateFailuresMap(),(n=i,(t=r)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e));p.sessionStore.set(E,a),this.setState({ageGatesFailedCount:i})}},{key:"_setAgeGatePassed",value:function(){this.props.handleAgeGatePassed()}},{key:"_submitAge",value:function(e){e.preventDefault(),this._isOfAgeOrOlder()?this._setAgeGatePassed():this._setAgeGateFailed()}},{key:"_renderAgeGateNotification",value:function(){var e=this.props,t=e.t,n=e.requiredAge;return 1===this.state.ageGatesFailedCount?i.default.createElement("div",{className:C},i.default.createElement("p",null,i.default.createElement(h.AgeGateFailedSVG,{className:O,id:"age-gate-fail-icon"})),i.default.createElement("p",{className:P},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):this._renderAgeIcon()}},{key:"_renderAgeGateStatus",value:function(){var e=this.props,t=e.t,n=e.requiredAge,r=this._isValidDate(),a=this._populateMonthDropdown(),o=this._populateDayDropdown(),s=this._populateYearDropdown(),l=this._renderAgeGateNotification();return this.state.ageGatesFailedCount>=2?i.default.createElement("div",{className:R},i.default.createElement("p",null,i.default.createElement(h.AgeGateFailedSVG,{className:O,id:"age-gate-fail-icon"})),i.default.createElement("p",{className:P},t("Sorry, you must be over the age of {{age}} to view this content.",{age:n}))):i.default.createElement("div",{className:L},i.default.createElement("div",{className:k},l),i.default.createElement("div",{className:M},a,o,s,i.default.createElement(d.Button,{className:T,onClick:this._submitAge,disabled:!r},"Submit")))}},{key:"_renderAgeIcon",value:function(){var e=this.props,t=e.t,n=e.requiredAge;return i.default.createElement("div",{className:N},i.default.createElement("p",null,i.default.createElement(_.AgeGateSVG,{className:w,requiredAge:n})),i.default.createElement("p",{className:I},t("You must be {{age}} to view this content. Please enter your date of birth.",{age:n})))}},{key:"_getMinimumYear",value:function(){return(new Date).getFullYear()-14}}]),t}();U.propTypes=x;t.AgeGateOverlay=(0,c.translate)()(U)},Vdts:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingOverlay=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("IhrN");function o(e){return e&&e.__esModule?e:{default:e}}var s={shouldShowOfflineOverlay:i.default.bool};function l(e){var t=e.shouldShowOfflineOverlay?r.default.createElement(a.UserOfflineOverlay,null):null;return r.default.createElement("div",{className:"pl-overlay pl-overlay--loading"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("div",{className:"pl-loading-spinner"}),t))}l.propTypes=s,l.defaultProps={shouldShowOfflineOverlay:!1}},"Vo+h":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LatencyTracker=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.murmurSegmentSampler=l;var i=n("wsSb"),a=s(n("ohnt")),o=s(n("nC/T"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.LatencyTracker=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._analytics=t,this._sample=l(n),this._player=r,this._store=i,r.addEventListener(o.SEGMENT_CHANGE,this._onSegmentChange.bind(this))}return r(e,[{key:"_segmentName",value:function(e){var t=this._store.getState(),n=t.stream,r=t.quality;return(n.contentType===i.CONTENT_MODE_LIVE?n.channel.toLowerCase():"")+","+r.current+","+e}},{key:"_onSegmentChange",value:function(e){var t=this._segmentName(e.name);this._sample(t)&&this._store.getState().stream.contentType===i.CONTENT_MODE_LIVE&&this._analytics.trackEvent("latency_report_playback",{segment:t,broadcaster_send:e.broadcaster_send,ingest_receive:e.ingest_receive,ingest_send:e.ingest_send,transcode_receive:e.transcode_receive,transcode_send:e.transcode_send,playback_start:e.playback_start})}}]),e}();function l(e){return function(t){return a.v3(t,0)/4294967295<=e}}},VpNB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createIssueReportingMiddleware=t.buildAdIssueReportAdPod=t.buildAdIssueReportAdStats=void 0;var r=c(n("QkVN")),i=c(n("3WF5")),a=c(n("afOK")),o=c(n("xkGU")),s=n("uXPQ"),l=n("YWLq"),u=n("WPq1");function c(e){return e&&e.__esModule?e:{default:e}}var d=t.buildAdIssueReportAdStats=function(e,t,n){var i=e.adPodInfo,o=e.adWrapperIds,s=e.id,l=i.adPosition,u=i.totalAds,c=(0,a.default)(o),d=(0,r.default)({},e,{adPodId:t,adPosition:l,totalAds:u,adWrapperId:c,issueType:n,adId:s});return delete d.adPodInfo,delete d.adWrapperIds,delete d.id,d},f=t.buildAdIssueReportAdPod=function(e,t){var n=(0,s.generate)(16);return(0,i.default)(e,function(e){return d(e,n,t)})};t.createIssueReportingMiddleware=function(){return function(e){return function(t){return function(n){var r=n.type,i=n.issueType;switch(r){case u.ACTION_SUBMIT_AD_ISSUE_REPORT:var a=e.getState().stats.adStats,s=f(a,i);(0,o.default)(s,function(t){e.dispatch((0,l.trackEvent)("ad_issue_report",t))})}t(n)}}}}},"W6/K":function(e,t,n){var r=n("eUgh"),i=n("R/W3"),a=n("2GsC"),o=n("sEf8"),s=n("Q1l4"),l=Array.prototype.splice;e.exports=function(e,t,n,u){var c=u?a:i,d=-1,f=t.length,p=e;for(e===t&&(t=s(t)),n&&(p=r(e,o(n)));++d<f;)for(var _=0,h=t[d],m=n?n(h):h;(_=c(p,m,_,u))>-1;)p!==e&&l.call(p,_,1),l.call(e,_,1);return e}},WKrT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerResizeManager=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("bdgK"),o=(r=a)&&r.__esModule?r:{default:r},s=n("Si5T");t.PlayerResizeManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this.resizeObserver=this._createResizeObserver()}return i(e,[{key:"_createResizeObserver",value:function(){var e=this;return new o.default(function(t){var n=t[0].contentRect,r=n.left,i=n.top,a=n.width,o=n.height;e._store.dispatch((0,s.updatePlayerDimensions)({left:r,top:i,width:a,height:o}))})}},{key:"observe",value:function(e){if(!e)return console.error("Cannot observe size changes because root element is null"),void this.resizeObserver.disconnect();this.observeElement=e,this._store.dispatch((0,s.updatePlayerDimensions)({left:this.observeElement.getBoundingClientRect().left,top:this.observeElement.getBoundingClientRect().top,width:this.observeElement.getBoundingClientRect().width,height:this.observeElement.getBoundingClientRect().height})),this.resizeObserver.observe(this.observeElement)}},{key:"destroy",value:function(){this.resizeObserver.disconnect()}}]),e}()},WPeF:function(e,t){e.exports=function(e,t,n,r,i){return i(e,function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)}),n}},WPq1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.submitAdIssueReport=function(e){return{type:r,issueType:e}};var r=t.ACTION_SUBMIT_AD_ISSUE_REPORT="ACTION_SUBMIT_AD_ISSUE_REPORT"},WaHt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.backend=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.BackendBlank,t=arguments[1];switch(t.type){case r.ACTION_SET_BACKEND:return t.backend;default:return e}};var r=n("zRjs"),i=n("/ESh")},WgOZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_ACCESS_TOKEN_PARAMS=void 0,t.setAccessTokenParams=function(e){var t=(0,a.default)(e,s);return{type:o,params:t}};var r,i=n("JZM8"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ACTION_SET_ACCESS_TOKEN_PARAMS="set access token params",s=["need_https","platform","player_type","player_backend"]},WjpJ:function(e,t,n){var r=n("HLqC")();e.exports=r},Wot4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiviewSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.MultiviewSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{fill:e.fill,d:"M2,11 L8,11 C8.55228475,11 9,11.4477153 9,12 L9,16 C9,16.5522847 8.55228475,17 8,17 L2,17 C1.44771525,17 1,16.5522847 1,16 L1,12 C1,11.4477153 1.44771525,11 2,11 Z M12,11 L18,11 C18.5522847,11 19,11.4477153 19,12 L19,16 C19,16.5522847 18.5522847,17 18,17 L12,17 C11.4477153,17 11,16.5522847 11,16 L11,12 C11,11.4477153 11.4477153,11 12,11 Z M7,3 L13,3 C13.5522847,3 14,3.44771525 14,4 L14,8 C14,8.55228475 13.5522847,9 13,9 L7,9 C6.44771525,9 6,8.55228475 6,8 L6,4 C6,3.44771525 6.44771525,3 7,3 Z"}))}).propTypes=l},X1Rh:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LEAP_YEAR=t.NORMAL_YEAR=t.MONTH=void 0,t.assertIsDate=d,t.clearTime=p,t.cloneDate=_,t.getMaxDays=function(e,t){if(!f(e)||e<0||e>11)throw new Error("Invalid month '"+e+"'. Valid values need to be from 0 (Jan) to 11 (Dec)");return h(t)?c[e]:u[e]},t.isLeapYear=h,t.isMinimumAge=function(e,t){if(!f(t)||t<0)throw new Error("Minimum age '"+t+"' must be non-negative and an integer");var n=p(e),r=p(new Date);return r.setFullYear(r.getFullYear()-t),n.getTime()<=r.getTime()};var i,a=n("3OWR"),o=(i=a)&&i.__esModule?i:{default:i};function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=t.MONTH=Object.freeze({JANUARY:0,FEBRUARY:1,MARCH:2,APRIL:3,MAY:4,JUNE:5,JULY:6,AUGUST:7,SEPTEMBER:8,OCTOBER:9,NOVEMBER:10,DECEMBER:11}),u=t.NORMAL_YEAR=Object.freeze((s(r={},l.JANUARY,31),s(r,l.FEBRUARY,28),s(r,l.MARCH,31),s(r,l.APRIL,30),s(r,l.MAY,31),s(r,l.JUNE,30),s(r,l.JULY,31),s(r,l.AUGUST,31),s(r,l.SEPTEMBER,30),s(r,l.OCTOBER,31),s(r,l.NOVEMBER,30),s(r,l.DECEMBER,31),r)),c=t.LEAP_YEAR=Object.freeze((0,o.default)({},u,s({},l.FEBRUARY,29)));function d(e){if(!(e instanceof Date))throw new Error("Invalid date object")}function f(e){return isFinite(e)&&Math.round(e)===e}function p(e){var t=_(e);return t.setHours(0,0,0,0),t}function _(e){return d(e),new Date(e.getTime())}function h(e){if(!f(e)||e<0)throw new Error("Invalid year '"+e+"'. Value must be an non-negative integer.");return e%4==0&&e%100!=0||e%400==0}},XHH3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMoatTracking=function(e,t,n){if(!1===t.hasOwnProperty("partnerCode"))return!1;var r=document.createElement("script"),i=n;i=i||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var a=[],o={adsManager:e,ids:t,imaSDK:!0,events:[]},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"},l=void 0,u=void 0;if(google&&google.ima&&e)for(var c in l="_moatApi"+Math.floor(1e8*Math.random()),google.ima.AdEvent.Type){var d=function(t){if(o.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})};e.addEventListener(google.ima.AdEvent.Type[c],d),a.push({type:google.ima.AdEvent.Type[c],func:d})}var f=void 0;l=void 0!==l?l:"";try{u=i.ownerDocument,f=u.defaultView||u.parentWindow}catch(e){u=document,f=window}f[l]=o,r.type="text/javascript",i&&i.appendChild(r);try{r.src="https://z.moatads.com/"+t.partnerCode+"/moatvideo.js#"+l}catch(e){}},t.initMoatNativeTracking=function(e,t,n,r,i,a){var o,s,l=document.createElement("script"),u=[],c={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:i},dispatchEvent:function(e){c.sendEvent?(u&&(u.push(e),e=u,u=!1),c.sendEvent(e)):u&&u.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{o=e.ownerDocument,s=o.defaultView||o.parentWindow}catch(e){o=document,s=window}return s[t]=c,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://ddacn6pr5v0tl.cloudfront.net/custom-moat-video-native.min.js#"+t,c},t.initMoatIMATracking=function(e,t,n,r){if(!1===t.hasOwnProperty("partnerCode"))return!1;var i=document.createElement("script");n=n||e&&(void 0!==e.O?e.O.parentNode:document.body)||document.body;var a=[],o={vidIntType:"4",adsManager:e,ids:t,imaSDK:!0,events:[],dispatchEvent:function(e){var t=this.sendEvent,n=this.events;t?(n&&(n.push(e),e=n),t(e)):n&&n.push(e)},clientCallback:r},s={complete:"AdVideoComplete",firstquartile:"AdVideoFirstQuartile",impression:"AdImpression",loaded:"AdLoaded",midpoint:"AdVideoMidpoint",pause:"AdPaused",skip:"AdSkipped",start:"AdVideoStart",thirdquartile:"AdVideoThirdQuartile",volumeChange:"AdVolumeChange"};if(google&&google.ima&&e){var l,u="_moatApi"+Math.floor(1e8*Math.random());for(l in google.ima.AdEvent.Type)r=function(t){if(o.sendEvent){for(t=a.length-1;0<=t;t--)e.removeEventListener(a[t].type,a[t].func);o.sendEvent(o.events)}else o.events.push({type:s[t.type]||t.type,adVolume:e.getVolume()})},e.addEventListener(google.ima.AdEvent.Type[l],r),a.push({type:google.ima.AdEvent.Type[l],func:r})}var c,d,u=void 0!==u?u:"";try{c=n.ownerDocument,d=c.defaultView||c.parentWindow}catch(e){c=document,d=window}return d[u]=o,i.type="text/javascript",n&&n.appendChild(i),i.src="https://ddacn6pr5v0tl.cloudfront.net/custom-moat-video-ima.min.js#"+u,o},t.initMoatVAESTracking=function(e,t,n,r,i,a){var o,s,l=document.createElement("script"),u=[],c={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:i},dispatchEvent:function(e){c.sendEvent?(u&&(u.push(e),e=u,u=!1),c.sendEvent(e)):u&&u.push(e)},clientCallback:a};t="_moatApi"+Math.floor(1e8*Math.random());try{o=e.ownerDocument,s=o.defaultView||o.parentWindow}catch(e){o=document,s=window}return s[t]=c,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://ddacn6pr5v0tl.cloudfront.net/custom-moat-video-vaes.min.js#"+t,c}},XN9g:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRecommendedClipsForSlug=t.getFirstValidCategory=t.DEFAULT_CLIP_RECOMMENDATIONS=void 0,t.clipRecommendations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_CLIP_RECOMMENDATIONS_LOADED:var n=(0,a.default)({},e);return Object.keys(t.recommendationSets).forEach(function(e){n.byCategory[e]=t.recommendationSets[e].map(function(e){return e.slug}),n.allCategories=(0,s.addIfNotPresent)(n.allCategories,e)}),n.hasFetched[t.recommendationId]=!0,n;default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("IyFf"),s=n("ZI6j");var l=t.DEFAULT_CLIP_RECOMMENDATIONS=Object.freeze({byCategory:{},allCategories:[],hasFetched:{}});t.getFirstValidCategory=function(e,t){var n=e.clipRecommendations;if(!n.hasFetched[t])return[];for(var r in o.CATEGORY_ORDER){var i=o.CATEGORY_ORDER[r];if(n.byCategory[i])return i}},t.getRecommendedClipsForSlug=function(e,t){var n=e.clipRecommendations,r=e.clipsData;return n.hasFetched[t]?o.CATEGORY_ORDER.reduce(function(e,t){var i=n.byCategory[t].map(function(e){return r.bySlug[e]});return e.concat(i)},[]):[]}},XU6G:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_CASTING_STATES=t.CONNECTED=t.CONNECTING=t.AVAILABLE=t.UNAVAILABLE=void 0,t.chromecast=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case a.ACTION_SET_DEVICE_NAME:return(0,r.default)({},e,{deviceName:t.deviceName});case a.ACTION_SET_CASTING_STATE:return(0,i.default)(d,t.castingState)?(0,r.default)({},e,{castingState:t.castingState}):e;default:return e}};var r=o(n("3OWR")),i=o(n("ijCd")),a=n("ut+t");function o(e){return e&&e.__esModule?e:{default:e}}var s=t.UNAVAILABLE="unavailable",l=t.AVAILABLE="available",u=t.CONNECTING="connecting",c=t.CONNECTED="connected",d=t.VALID_CASTING_STATES=Object.freeze([s,l,u,c]),f={deviceName:"",castingState:s}},XYOB:function(e,t){function n(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(n,"")+"</"+t.name+">"}}e.exports=function(e){return e.reduce(function(e,t){return e+n("",t)},"")}},XbkD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ALLOW_TIER_3_ONLY=t.ALLOW_TIER_2_AND_3_ONLY=t.ALLOW_ALL_TIERS=t.UNKNOWN=t.ALL_ACCESS_PASS=t.SUB_ONLY_LIVE=t.TYPE_WATCH_PARTY=t.TYPE_DEAD_LTV=void 0,t.streamMetadata=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case r.ACTION_SET_STREAMMETADATA:return(0,l.default)({},e,t.streamMetadata);case i.ACTION_SET_STREAM:return(0,u.default)({},d,{channelName:t.stream.contentType===a.CONTENT_MODE_LIVE?t.stream.channel:null,videoId:t.stream.contentType===o.CONTENT_MODE_VOD?t.stream.videoId:null,contentId:t.stream.contentType===s.CONTENT_MODE_PROVIDED?t.stream.contentId:"",customerId:t.stream.contentType===s.CONTENT_MODE_PROVIDED?t.stream.customerId:""});case r.ACTION_UPDATE_STREAMMETADATA:return(0,l.default)({},e,{game:t.streamMetadata.gameName,channel:{status:t.streamMetadata.title}});case r.ACTION_UPDATE_TAGS:return(0,u.default)({},e,{tags:t.tags});case r.ACTION_SET_STREAM_LOUDNESS:return(0,u.default)({},e,{streamLoudness:t.streamLoudness});default:return e}};var r=n("AUgO"),i=n("D3OJ"),a=n("wsSb"),o=n("VIow"),s=n("wSP4"),l=c(n("QkVN")),u=c(n("3OWR"));function c(e){return e&&e.__esModule?e:{default:e}}t.TYPE_DEAD_LTV="dead_ltv",t.TYPE_WATCH_PARTY="watch_party",t.SUB_ONLY_LIVE="SUB_ONLY_LIVE",t.ALL_ACCESS_PASS="ALL_ACCESS_PASS",t.UNKNOWN="UNKNOWN",t.ALLOW_ALL_TIERS="ALLOW_ALL_TIERS",t.ALLOW_TIER_2_AND_3_ONLY="ALLOW_TIER_2_AND_3_ONLY",t.ALLOW_TIER_3_ONLY="ALLOW_TIER_3_ONLY";var d=Object.freeze({broadcastID:0,type:"",channelName:null,videoId:null,contentId:"",customerId:"",channel:{displayName:"",name:"",id:0,partner:!1,status:"",videoBanner:"",logo:"",mature:!1},createdAt:"",game:"",preview:{template:""},streamType:"",url:"",viewers:r.VIEWERS_NOT_SET,tags:void 0,isEncrypted:!1,streamLoudness:null})},Xdxp:function(e,t,n){var r=n("g4R6"),i=n("zoYe"),a=n("Sxd8"),o=n("dt0z");e.exports=function(e,t,n){return e=o(e),n=null==n?0:r(a(n),0,e.length),t=i(t),e.slice(n,n+t.length)==t}},XpsQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipsTrackerMiddleware=function(){return function(e){return function(e){var t=void 0,n=new Promise(function(e){t=e});return function(i){switch(i.type){case r.ACTION_SET_CLIPS_TRACKER:t(i.tracker);break;case r.ACTION_CLIPS_TRACK_APP_READY_EVENT:n.then(function(e){return e.trackAppReady(Date.now())});break;case r.ACTION_CLIPS_TRACK_VIDEO_START_EVENT:n.then(function(e){return e.trackVideoPlaybackStarted(Date.now())})}e(i)}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("A8Fc"))},XsBk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeekbarBuffer=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=n("Yat3");function o(e){return e&&e.__esModule?e:{default:e}}var s={start:i.default.number.isRequired,end:i.default.number.isRequired,max:i.default.number.isRequired,min:i.default.number.isRequired};(t.SeekbarBuffer=function(e){var t=e.start,n=e.end,i=e.min,o=n-t,s=e.max-i;return r.default.createElement("div",{style:{width:(0,a.getPercentage)(o,s)+"%",left:(0,a.getPercentage)(t,s)+"%"},className:"player-slider__buffer"})}).propTypes=s},XuXH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONSENT_GIVEN=t.CONSENT_NOT_GIVEN=void 0,t.gdprConsent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=t.consent,r=t.hasUserSavedGDPRConsent;switch(t.type){case o.SET_AMAZON_CONSENT:return(0,a.default)({},e,{vendors:{amazon:{consent:n}}});case o.SET_COMSCORE_CONSENT:return(0,a.default)({},e,{vendors:{comscore:{consent:n}}});case o.SET_GOOGLE_CONSENT:return(0,a.default)({},e,{vendors:{google:{consent:n}}});case o.SET_NIELSEN_CONSENT:return(0,a.default)({},e,{vendors:{nielsen:{consent:n}}});case o.SET_HAS_USER_SAVED_AMAZON_CONSENT:return(0,a.default)({},e,{vendors:{amazon:{hasUserSavedGDPRConsent:r}}});case o.SET_HAS_USER_SAVED_COMSCORE_CONSENT:return(0,a.default)({},e,{vendors:{comscore:{hasUserSavedGDPRConsent:r}}});case o.SET_HAS_USER_SAVED_GOOGLE_CONSENT:return(0,a.default)({},e,{vendors:{google:{hasUserSavedGDPRConsent:r}}});case o.SET_HAS_USER_SAVED_NIELSEN_CONSENT:return(0,a.default)({},e,{vendors:{nielsen:{hasUserSavedGDPRConsent:r}}});case o.GRANT_ALL_CONSENT:return l;case o.CLEAR_ALL_CONSENT:return s;default:return e}};var r,i=n("QkVN"),a=(r=i)&&r.__esModule?r:{default:r},o=n("p7e0");var s=t.CONSENT_NOT_GIVEN={vendors:{amazon:{hasUserSavedGDPRConsent:!1,consent:!1},comscore:{hasUserSavedGDPRConsent:!1,consent:!1},google:{hasUserSavedGDPRConsent:!1,consent:!1},nielsen:{hasUserSavedGDPRConsent:!1,consent:!1}}},l=t.CONSENT_GIVEN={vendors:{amazon:{hasUserSavedGDPRConsent:!0,consent:!0},comscore:{hasUserSavedGDPRConsent:!0,consent:!0},google:{hasUserSavedGDPRConsent:!0,consent:!0},nielsen:{hasUserSavedGDPRConsent:!0,consent:!0}}}},XyCF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setOnline=function(e){return{type:r,online:e}};var r=t.ACTION_SET_ONLINE="set online"},Xz9n:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatureOverlay=t.MatureOverlayContainer=t.mapStateToProps=t.KEY_MATURE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n("q1tI")),a=g(n("17x9")),o=n("N58E"),s=n("b9S2"),l=n("EoNM"),u=g(n("ijCd")),c=n("4b1H"),d=n("uAxA"),f=n("VIow"),p=n("wsSb"),_=n("VPTj"),h=n("ipln"),m=n("QBeZ"),E=n("uC+K"),v=n("7Eji"),y=n("Pd9b");function g(e){return e&&e.__esModule?e:{default:e}}var T=t.KEY_MATURE="mature",b={contentIsShowing:a.default.func,showMatureOption:a.default.bool,mutePlayer:a.default.func,play:a.default.func,playback:a.default.object,playerType:a.default.string,pause:a.default.func,requestAds:a.default.func,streamMetadata:a.default.object,isMini:a.default.bool,contentRestricted:a.default.func,streamType:a.default.string,onlineStatus:a.default.string},S=t.mapStateToProps=function(e){var t=e.env,n=e.playback,r=e.playerOptions,i=e.streamMetadata,a=e.ui,o=e.onlineStatus;return{playback:n,streamType:e.stream.contentType,onlineStatus:o,playerType:t.playerType,showMatureOption:r.showMature,streamMetadata:i,isMini:a.isMini}},A=t.MatureOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showMatureOverlay:!1,playerPaused:!1},e.handleMatureAccepted=e.handleMatureAccepted.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e),n=this.state.showMatureOverlay;t?(n||(this.setState({showMatureOverlay:!0}),this.props.contentIsShowing(),this.props.contentRestricted()),e.playback.isLoading&&!this.state.playerPaused&&(this.props.mutePlayer(!0,!0),this.props.pause(),this.setState({playerPaused:!0}))):!t&&n&&this.setState({showMatureOverlay:!1})}},{key:"_shouldShowOverlay",value:function(e){var t=e.showMatureOption,n=e.streamMetadata,r=n.channel.mature,i=this.props.showMatureOption;return void 0!==t&&(i=t),r&&!l.localStore.get(T)&&i&&!E.PREVIEW_PLAYER_TYPES.includes(this.props.playerType)&&!(0,u.default)(Object.keys(y.AGE_GATE_CHANNEL_AGES),n.channel.name)}},{key:"render",value:function(){return this.state.showMatureOverlay?i.default.createElement(s.MatureOverlay,{isBlank:this.props.isMini,handleMatureAccepted:this.handleMatureAccepted}):null}},{key:"handleMatureAccepted",value:function(){var e=this.props,t=e.playback,n=e.onlineStatus,r=e.streamType;l.localStore.set(T,!0),this.setState({showMatureOverlay:!1}),this.props.play(),this.props.mutePlayer(!1,!0);var i=n===d.ONLINE_STATUS,a=r===p.CONTENT_MODE_LIVE,o=r===f.CONTENT_MODE_VOD;t.autoplay&&(a&&i||o)&&this.props.requestAds(v.PREROLL,m.DEFAULT_AD_DURATION)}}]),t}();A.propTypes=b;t.MatureOverlay=(0,o.connect)(S,function(e){return{mutePlayer:function(t,n){e((0,c.mutePlayer)(t,n))},contentIsShowing:function(){e((0,_.contentIsShowing)())},contentRestricted:function(){e((0,_.contentRestricted)(h.CONTENT_RESTRICTED_MATURE))},play:function(){e((0,c.play)())},pause:function(){e((0,c.pause)())},requestAds:function(t,n){e((0,m.requestAds)(t,n))}}})(A)},"YG/V":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uiLoader=function(e,t,n,u,c){if(!t)return n.getState().window.console.error("Root element not found, unable to load player UI"),Object.freeze({destroy:function(){}});var d=document.createElement("div");return d.classList.add("player-ui"),t.appendChild(d),i.default.render(r.default.createElement(a.Provider,{store:n},r.default.createElement(o.I18nextProvider,{i18n:s.I18N_INSTANCE},r.default.createElement(l.PlayerTypeLoader,{player:e,root:t,options:c,clipGenerator:u}))),d),Object.freeze({destroy:function(){i.default.unmountComponentAtNode(d)}})};var r=u(n("q1tI")),i=u(n("i8i4")),a=n("N58E"),o=n("9kay"),s=n("KmPj"),l=n("+mBj");function u(e){return e&&e.__esModule?e:{default:e}}},"YSP/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_EXPERIMENTS=void 0,t.setExperiments=a,t.loadExperiments=function(e){return a((0,r.createClient)(e))};var r=n("Rnd+"),i=t.ACTION_SET_EXPERIMENTS="set experiments";function a(e){return{type:i,experiments:e}}},YWLq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAnalyticsTracker=function(e){return{type:r,tracker:e}},t.trackEvent=function(e,t){return{type:i,eventName:e,eventProperties:t}};var r=t.ACTION_SET_ANALYTICS_TRACKER="set analytics tracker",i=t.ACTION_TRACK_EVENT="track event"},YZsm:function(e,t){var n=["5.0 (macintosh; intel mac os x 10_11_6) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (macintosh; intel mac os x 10_11_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/601.7.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (playstation 4 3.55) applewebkit/537.78 (khtml, like gecko)","5.0 (macintosh; intel mac os x 10_11_4) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (macintosh; intel mac os x 10_11_3) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g35 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.7.7 (khtml, like gecko) version/9.1.2 safari/537.86.7","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/600.8.9 (khtml, like gecko) version/8.0.8 safari/600.8.9","5.0 (macintosh; intel mac os x 10_11_1) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/34.0.1847.137 safari/537.31 smarttv/6.0","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; r","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/601.6.17","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/49.0.2623.112 safari/537.36 opr/36.0.2130.80","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.56 (khtml, like gecko) version/9.0 safari/601.1.56","5.0 (macintosh; intel mac os x 10_11_2) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (ipad; cpu os 9_3_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13f69 safari/601.1","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.6.17 (khtml, like gecko) version/9.1.1 safari/537.86.6","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2272.118 safari/537.36","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.us","5.0 (macintosh; intel mac os x 10_12) applewebkit/602.1.50 (khtml, like gecko) version/10.0 safari/602.1.50","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.134 safari/537.36 u01-04","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/601.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/51.0.2683.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/601.2.7","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.5.17 (khtml, like gecko) version/9.1 safari/537.86.5","5.0 (macintosh; intel mac os x 10_10_4) applewebkit/600.7.12 (khtml, like gecko) version/8.0.7 safari/600.7.12","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/44.0.2403.157 yabrowser/15.9.2403.3043 safari/537.36","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/600.8.9 (khtml, like gecko) version/6.2.8 safari/537.85.17","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.5.17 (khtml, like gecko) version/8.0.5 safari/600.5.17","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:reserved; rv:11.0) like gec","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/50.0.2632.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; gwx:downloaded; gwx","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (linux; netcast; u) applewebkit/537.31 (khtml, like gecko) chrome/26.0.1410.33 safari/537.31 smarttv/5.0","5.0 (ipad; cpu os 9_3_3 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g34 safari/601.1","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; tablet pc 2.0; infopath.2; .net4.0c; .net4.0e; gwx:managed","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; creative autoupdate","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/601.3.9","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rv:11.0) like gecko","5.0 (linux; u) applewebkit/537.4 (khtml, like gecko) chrome/22.0.1229.79 safari/537.4","5.0 (ipad; cpu os 9_3_5 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13g36 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; .net clr 1.1.4322;","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/52.0.2743.117 safari/537.36 vivaldi/1.3.551.38","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.3.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.2; gwx:downloaded; gwx","5.0 (macintosh; intel mac os x 10_10_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/601.4.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:qualified; rv:11.0) like ge","5.0 (ipad; cpu os 9_2_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13d15 safari/601.1","5.0 (ipad; cpu os 9_3_1 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13e238 safari/601.1","5.0 (macintosh; intel mac os x 10_10_1) applewebkit/600.2.5 (khtml, like gecko) version/8.0.2 safari/600.2.5","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.3.9 (khtml, like gecko) version/9.0.2 safari/537.86.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; officeliveconnector.1.5; office","5.0 (smart-tv; x11; linux i686) applewebkit/535.20+ (khtml, like gecko) version/5.0 safari/535.20+","5.0 (ipad; cpu os 9_3_4 like mac os x) applewebkit/601.1 (khtml, like gecko) crios/52.0.2743.84 mobile/13g35 safari/601.1.46","5.0 (smart-tv; x11; linux armv7l) applewebkit/537.42 (khtml, like gecko) chromium/25.0.1349.2 chrome/25.0.1349.2 safari/537.42","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) dragon/50.14.22.465 chrome/50.0.2661.102 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; markanyeps#25103; rv:11.0) like","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2490.86 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/41.0.2231.0 safari/537.36","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.4.4 (khtml, like gecko) version/9.0.3 safari/537.86.4","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/537.78.2 (khtml, like gecko) version/7.0.6 safari/537.78.2","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; rctw; gwx:downloaded; gwx:reser","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_7_5) applewebkit/537.78.2 (khtml, like gecko) version/6.1.6 safari/537.78.2","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.10 (khtml, like gecko) version/8.0.4 safari/600.4.10","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; rv:11.0)","5.0 (nintendo wiiu) applewebkit/536.30 (khtml, like gecko) nx/3.0.4.2.12 nintendobrowser/4.3.1.11264.eu","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:downloaded; gwx:reserved; c","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.6.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) iron/36.0.1950.0 chrome/36.0.1950.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; gwx:red; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; zune 4.7; .net4.0c; .net4.0e; infopath.3; gwx:downl","9.80 (windows nt 6.1; wow64)","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; gwx:reserved; r","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; 4399box.1357; .net4.0c; .net4.0e; rctw; rv:11.0) li","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.7.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; bri/2; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_11) applewebkit/601.1.35 (khtml, like gecko) version/9.0 safari/601.1.35","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.1; gwx:qualified; rv:1","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/40.0.2214.45 safari/537.36","5.0 (windows nt 10.0; wow64) applewebkit/537.36 (khtml, like gecko) chrome/43.0.2357.130 safari/537.36 overwolfclient/0.97.31.0","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.3.18 (khtml, like gecko) version/8.0.3 safari/600.3.18","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.1000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; np06; .net clr 1.1.4322; bri/2;","5.0 (ipad; cpu os 9_2 like mac os x) applewebkit/601.1.46 (khtml, like gecko) version/9.0 mobile/13c75 safari/601.1","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; raidcall; rv:11.0) like gecko","5.0 (macintosh; intel mac os x 10_10_2) applewebkit/600.4.8 (khtml, like gecko) version/8.0.3 safari/600.4.8","5.0 (windows nt 6.2; wow64) applewebkit/537.36 (khtml, like gecko) chrome/29.0.1547.76 safari/537.36","5.0 (ipad; cpu os 8_4_1 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h321 safari/600.1.4","5.0 (windows nt 6.3; wow64; trident/7.0; .net4.0e; .net4.0c; .net clr 3.5.30729; .net clr 2.0.50727; .net clr 3.0.30729; gwx:downloaded; gwx:reserved; tnjb; rv:11.0) like gecko","5.0 (ipad; cpu os 8_4 like mac os x) applewebkit/600.1.4 (khtml, like gecko) version/8.0 mobile/12h143 safari/600.1.4","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.3; bri/2; .net4.0c; .net4.0e; rv:11.0) lik","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/36.0.1985.143 safari/537.36","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; tablet pc 2.0; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; gwx:reserved; rv:11","5.0 (macintosh; intel mac os x 10_8_5) applewebkit/537.74.9 (khtml, like gecko) version/6.1.2 safari/537.74.9","5.0 (windows nt 6.1; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/48.0.2536.0 safari/537.36","5.0 (macintosh; intel mac os x 10_10_3) applewebkit/600.6.3 (khtml, like gecko) version/8.0.6 safari/600.6.3","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; infopath.2; .net4.0c; .net4.0e; gwx:reserved; rv:11","5.0 (windows nt 6.1; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rv:11.0) like gecko","5.0 (linux; android 4.0.4; kfjwi build/imm76d) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.9.2.1000 chrome/39.0.2146.0 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0e; .net4.0c; gwx:downloaded; rv:11.0) like g","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; infopath.3; .net4.0e; rv:11.0) like gecko","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; .net clr 1.1.4322; rv:11.0) lik","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; infopath.3; rctw; rv:11.0) like","5.0 (windows nt 5.1) applewebkit/537.36 (khtml, like gecko) chrome/39.0.2171.71 safari/537.36","5.0 (linux; android 4.0.3; kftt build/iml74k) applewebkit/537.36 (khtml, like gecko) silk/51.2.1 like chrome/51.0.2704.81 safari/537.36","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.8.2000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64) applewebkit/537.36 (khtml, like gecko) chrome/27.0.1453.110 safari/537.36 coolnovo/2.0.9.20","5.0 (macintosh; intel mac os x 10_9_5) applewebkit/601.2.7 (khtml, like gecko) version/9.0.1 safari/537.86.2","5.0 (macintosh; intel mac os x 10_10) applewebkit/600.1.25 (khtml, like gecko) version/8.0 safari/600.1.25","5.0 (windows nt 6.3; wow64) applewebkit/537.36 (khtml, like gecko) maxthon/4.4.5.3000 chrome/30.0.1599.101 safari/537.36","5.0 (windows nt 6.1; wow64; trident/7.0; slcc2; .net clr 2.0.50727; .net clr 3.5.30729; .net clr 3.0.30729; media center pc 6.0; .net4.0c; .net4.0e; mcafee; gwx:downloaded; gwx:res","5.0 (windows nt 10.0; win64; x64) applewebkit/537.36 (khtml, like gecko) chrome/46.0.2486.0 safari/537.36 edge/13.10586"];var r="https:"===document.location.protocol?"https:":"http:";e.exports={HOST:{test:r+"//cvp-test.twitch.tv/",beta:r+"//cvp-test.twitch.tv/",prod:r+"//cvp.twitch.tv/",dev:r+"//player-core-web.twitch.tv/"},CLIENT_PATH:"mediaplayer.min.js",ASMJS_WORKER_PATH:"worker.min.js",WASM_WORKER_PATH:"wasmworker.min.js",WASM_BINARY_PATH:"wasmworker.min.wasm",CLIENT_PATH_DEBUG:"mediaplayer.js",ASMJS_WORKER_PATH_DEBUG:"worker.js",WASM_WORKER_PATH_DEBUG:"wasmworker.js",WASM_BINARY_PATH_DEBUG:"wasmworker.wasm",SCRIPT_ID:"TwitchMediaPlayerModule",CAN_LOAD:function(){try{var e=(navigator.appVersion||"").toLowerCase();return"undefined"!=typeof MediaSource&&MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')&&!function(){var e=(navigator.appVersion||"").toLowerCase();return n.some(function(t){return e.indexOf(t)>-1})}()&&-1===e.indexOf("rv:11")}catch(e){return console.log(e),!1}}(),SPADE_ERRORS:{NOT_SUPPORTED:{spadeEventName:"video_error",spadeEventData:{video_error_value:3e3,video_error_message:"Player Core Not Supported",video_error_source:"player-core-loader"}},SCRIPT_ERROR:{spadeEventName:"video_error",spadeEventData:{video_error_value:3001,video_error_message:"Script Error",video_error_source:"player-core-loader"}},BAD_RESPONSE:{spadeEventName:"video_error",spadeEventData:{video_error_value:3002,video_error_message:"Bad Response",video_error_source:"player-core-loader"}},BAD_CONFIG:{spadeEventName:"video_error",spadeEventData:{video_error_value:3003,video_error_message:"Bad Config",video_error_source:"player-core-loader"}},FAILED_WORKER:{spadeEventName:"video_error",spadeEventData:{video_error_value:3004,video_error_message:"Worker failed to load",video_error_source:"player-core-loader"}}},DEFAULT_VERSION:"2.0.0"}},Yat3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPercentage=function(e,t){if(0===t)return 0;return 100*e/t}},Yd1q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimedMilestoneReached=function(e,t){return{type:r,milestone:{name:e,time:t}}},t.performanceMetricRecorded=function(e,t){return{type:i,metric:{name:e,value:t}}},t.playerSetBaseMilestone=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"web_ttv_base",t=arguments[1];return{type:o,milestone:{name:e,time:t}}},t.updateTimeSpentHidden=function(e){return{type:a,timeSpentHidden:e}};var r=t.ACTION_PERFORMANCE_TIMED_MILESTONE_REACHED="performance timed milestone reached",i=t.ACTION_PERFORMANCE_METRIC_RECORDED="performance metric recorded",a=t.ACTION_UPDATE_TIME_SPENT_HIDDEN="update time spent hidden",o=t.ACTION_SET_BASE_MILESTONE="set base milestone";t.MP_PLAYER_LOADED_IN_WORKER="mp_player_loaded_in_worker",t.MP_MASTER_MANIFEST_READY="mp_master_manifest_ready",t.MP_MASTER_MANIFEST_REQUEST="mp_master_manifest_request",t.WEB_BACKEND_LOADED="web_backend_loaded",t.WEB_NAUTH_REQUEST_RECEIVED="web_nauth_request_received",t.WEB_NAUTH_REQUEST_SENT="web_nauth_request_sent",t.WEB_PLAYBACK_STARTED="web_playback_started",t.MP_VARIANT_MANIFEST_REQUEST="mp_variant_request",t.MP_VARIANT_MANIFEST_REQUEST_COUNT="time_to_mp_variant_request_count",t.MP_VARIANT_MANIFEST_READY="mp_variant_ready",t.MP_VARIANT_MANIFEST_READY_COUNT="time_to_mp_variant_ready_count",t.WEB_UI_INIT_STARTED="web_ui_init_started",t.WEB_UI_INIT_DONE="web_ui_init_done",t.WEB_VIDEO_API_INIT_STARTED="web_video_api_init_started",t.WEB_VIDEO_API_INIT_DONE="web_video_api_init_done",t.MP_MIN_BUFFER_READY="mp_min_buffer_ready",t.MP_VIDEO_ELEMENT_PLAY="mp_video_element_play"},Ynch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_COLLECTION=t.NO_COLLECTION_VIEW=t.SIDEBAR_VIEW=t.COLLAPSED_VIEW=void 0,t.collection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case i.ACTION_ENABLE_COLLECTIONS_UI:return(0,s.default)({},e,{collectionsUiEnabled:!0,currentView:l});case i.ACTION_REQUEST_COLLECTION:return(0,s.default)({},e,{pendingRequest:t.request});case i.ACTION_FETCHED_FEATURED_COLLECTION:return(0,s.default)({},e,{featuredCollection:(0,s.default)({},d,t.featuredCollection)});case i.ACTION_SET_COLLECTION:return(0,s.default)({},f,t.collection,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},collectionsUiEnabled:e.collectionsUiEnabled,currentView:e.collectionsUiEnabled?l:c});case i.ACTION_CLEAR_COLLECTION:return f;case i.ACTION_OPEN_COLLECTION_SIDEBAR:return(0,s.default)({},e,{currentView:e.collectionsUiEnabled?u:c});case i.ACTION_CLOSE_COLLECTION_SIDEBAR:return(0,s.default)({},e,{currentView:e.collectionsUiEnabled?l:c});case a.ACTION_SET_STREAM:return(0,s.default)({},e,{pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:d});default:return e}};var r,i=n("rRi7"),a=n("D3OJ"),o=n("QkVN"),s=(r=o)&&r.__esModule?r:{default:r};var l=t.COLLAPSED_VIEW="collapsed",u=t.SIDEBAR_VIEW="sidebar",c=t.NO_COLLECTION_VIEW="none",d={id:"",itemsCount:0,owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:""},f=t.DEFAULT_COLLECTION={id:"",owner:{displayName:"",id:"",name:""},thumbnails:{large:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",medium:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",small:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png",template:"https://static-cdn.jtvnw.net/jtv_user_pictures/xarth/404_user_70x70.png"},title:"",totalDuration:0,views:0,items:[],currentView:c,collectionsUiEnabled:!1,pendingRequest:{collectionId:"",videoId:"",timestamp:"",preferVideo:!1},featuredCollection:d}},YzPC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdCountdown=void 0,t.AdCountdownComponent=d;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={t:i.default.func.isRequired,remainingAdTime:i.default.number,adPosition:i.default.number,totalAds:i.default.number,isShowingCountdown:i.default.bool},l=function(e){return Math.floor(e/60)},u=function(e){return parseInt(e-60*l(e),10)},c=function(e){return e<10?"0"+e:String(e)};function d(e){var t=e.t,n=e.remainingAdTime,i=e.totalAds,a=e.adPosition;if(!e.isShowingCountdown)return null;var o=String(l(n)),s=c(u(n)),d="";return n>0&&(d=i>1?t("Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})",{adPosition:a,totalAds:i,minutes:o,seconds:s}):o+":"+s),r.default.createElement("div",{className:"pl-ad-countdown"},d)}d.propTypes=s;t.AdCountdown=(0,a.translate)()(d)},Z0MU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMutedSegments=function(e){return{type:r,mutedSegments:e}},t.setPreviews=function(e){return{type:i,previews:e}};var r=t.ACTION_SET_MUTED_SEGMENTS="set muted segments",i=t.ACTION_SET_PREVIEWS="set previews"},Z1HP:function(e,t,n){var r=n("ycre"),i=n("quyA"),a=n("q4HE");e.exports=function(e){return i(e)?a(e):r(e)}},Z3Ue:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.NullAnalyticsTracker=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"trackEvent",value:function(e){console.error("Attempted to track "+e+" on NullAnalyticsTracker")}}]),e}()},Z4ex:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setMiniPlayerMode=function(e){return{type:r,value:e}},t.showMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return{type:i,value:e}},t.setUIDisplay=function(e){return{type:a,showUI:e}},t.showUIWithAutoHide=function(){return{type:o}},t.hideUI=function(){return{type:s}},t.hoveringOnUIElement=function(){return{type:l}},t.hoveringOffUIElement=function(){return{type:u}},t.showExtensionsSubmenu=function(e){return{type:i,value:p,extensionsSubmenu:e}},t.pageVisibilityChange=function(e){return{type:c,hidden:e}},t.showPlayerControls=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:d,showPlayerControls:e}};var r=t.ACTION_SET_MINIPLAYER_MODE="set miniplayer",i=t.ACTION_SHOW_SETTINGS_MENU="show settings menu",a=t.ACTION_SET_UI_DISPLAY="set ui display",o=t.ACTION_SHOW_UI_WITH_AUTO_HIDE="show ui with auto hide",s=t.ACTION_HIDE_UI="hide ui",l=t.ACTION_HOVERING_ON_UI_ELEMENT="hovering on ui element",u=t.ACTION_HOVERING_OFF_UI_ELEMENT="hovering off ui element",c=t.ACTION_VISIBILITY_CHANGE="action visiblity change",d=t.ACTION_SHOW_PLAYER_CONTROLS="show player controls",f=(t.ACTION_SET_FORCE_SHOW_UI="set force show ui",t.MENU_STATE_NONE="none"),p=(t.MENU_STATE_SETTINGS="settings",t.MENU_STATE_EXTENSIONS="extensions")},Z5jU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.error=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.ACTION_ERROR:return{hasError:!0,code:t.code};case r.ACTION_CLEAR_ERROR:return i;default:return e}};var r=n("+eo6"),i={hasError:!1,code:-1}},ZAIN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamInfo=t.StreamInfoComponent=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.tagsHaveUpdated=R;var i=C(n("q1tI")),a=C(n("ijCd")),o=C(n("17x9")),s=n("N58E"),l=n("vw5o"),u=n("glKH"),c=n("5uSl"),d=n("51Qt"),f=n("J0qE"),p=n("4b1H"),_=n("2GWp"),h=n("uC+K"),m=n("c+Qp"),E=n("RrkA"),v=n("QBeZ"),y=C(n("TSYQ")),g=n("Ynch"),T=n("KR5+"),b=n("VIow"),S=n("uAxA"),A=n("YWLq");function C(e){return e&&e.__esModule?e:{default:e}}var O={adPlaying:o.default.bool,displayName:o.default.string,gameName:o.default.string,isWatchParty:o.default.bool,isVod:o.default.bool.isRequired,isOnline:o.default.bool,lang:o.default.object,logo:o.default.string,name:o.default.string,pause:o.default.func,showInfo:o.default.bool,status:o.default.string,streamUrl:o.default.string,streamTags:o.default.array,playerType:o.default.string,isEmbed:o.default.bool,isMobile:o.default.bool,viewerCount:o.default.number,vodId:o.default.string,vodTitle:o.default.string,vodIsViewable:o.default.bool,vodBroadcastType:o.default.string,removeStream:o.default.func,titleOverride:o.default.string,logoOverride:o.default.string,trackPlaySessionTags:o.default.func.isRequired},P=t.mapStateToProps=function(e){var t=e.ads,n=e.analyticsTracker,r=e.playerOptions,i=e.env,a=e.lang,o=e.onlineStatus,s=e.screenMode,l=e.stream,u=e.streamMetadata,c=e.viewercount,d=e.watchParty,f=e.collection,p=e.multiview;return{adPlaying:t.currentMetadata.contentType!==v.AdContentTypes.NONE,displayName:u.channel.displayName,gameName:u.game,analyticsTracker:n,lang:a,logo:u.channel.logo,name:u.name,showInfo:(r.showInfo||s.isFullScreen||s.isTheatreMode)&&f.currentView!==g.SIDEBAR_VIEW,status:u.channel.status,streamUrl:u.url,streamTags:u.tags,viewerCount:c,playerType:i.playerType,isEmbed:i.playerType===h.PLAYER_EMBED||i.playerType===h.PLAYER_TWITCH_EVERYWHERE,isMobile:i.platform===T.PLATFORM_MOBILE_WEB,isWatchParty:"watch_party"===u.streamType,isVod:l.contentType===b.CONTENT_MODE_VOD,isOnline:o===S.ONLINE_STATUS,vodId:d.vodId,vodTitle:d.title,vodIsViewable:"public"===d.viewable,vodBroadcastType:d.broadcastType,titleOverride:p.titleOverride,logoOverride:p.logoOverride}},N=t.mapDispatchToProps=function(e){return{pause:function(){e((0,p.pause)())},removeStream:function(){e((0,_.emitRemoveStream)())},trackPlaySessionTags:function(t){e((0,A.trackEvent)("play_session_tags",{tag_stream_set:t}))}}},I={a:"player-streaminfo__picture",img:"qa-broadcaster-logo"};function R(e,t){return!(!e&&!t)&&(!!(!e&&t||e&&!t||e.length!==t.length)||!e.every(function(e,n){return e.id===t[n].id}))}var w=t.StreamInfoComponent=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.needTrackTags=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),r(t,[{key:"componentDidMount",value:function(){this._trackTagUpdates(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this._videoWillPlay(this.props);(!this._videoWillPlay(e)&&t||R(e.streamTags,this.props.streamTags))&&(this.needTrackTags=!0),this.needTrackTags&&this._trackTagUpdates(this.props)}},{key:"render",value:function(){var e=this.props,t=e.adPlaying,n=e.showInfo,r=e.isWatchParty;if(t)return null;var a=this._createTEFollowPanel(),o=this._createLogoComponent(),s=this._createStreamInfoDisplay(),l=r?i.default.createElement(E.WatchPartyStreamInfo,this.props):null;return n?i.default.createElement("div",{className:"player-streaminfo"},l,o,s,a):null}},{key:"_createTEFollowPanel",value:function(){return this.props.playerType===h.PLAYER_TWITCH_EVERYWHERE?i.default.createElement(m.TwitchEverywherePanelContainer,null):null}},{key:"_createLogoComponent",value:function(){var e=this.props.playerType,t=e===h.PLAYER_TWITCH_EVERYWHERE,n=(0,a.default)(h.MULTIVIEW_PLAYER_TYPES,e),r=e===h.PLAYER_MULTIVIEW_SECONDARY,o=(0,a.default)(h.SQUAD_STREAM_PLAYER_TYPES,e),s=this.props,u=s.logo,c=s.streamUrl,d=s.logoOverride,f=n&&d?d:u;return t||!u||r||o?null:i.default.createElement(l.LinkedImage,{classNames:I,imgSrc:f,href:c,onClick:this.props.pause,target:"_blank"})}},{key:"_createStreamInfoDisplay",value:function(){var e=this.props,t=e.displayName,n=e.isOnline,r=e.name,o=e.status,s=e.gameName,l=e.streamUrl,p=e.streamTags,_=e.viewerCount,m=e.playerType,E=e.isEmbed,v=e.isMobile,g=e.isVod,T=e.lang,b=e.removeStream,S=e.titleOverride,A=n,C=g?r:o,O=f.gamePath+"/"+encodeURIComponent(s),P=m===h.PLAYER_TWITCH_EVERYWHERE,N=m===h.PLAYER_MULTIVIEW_SECONDARY,I=this.props.playerType===h.PLAYER_SQUAD_PRIMARY,R=this.props.playerType===h.PLAYER_SQUAD_SECONDARY,w=(0,a.default)(h.MULTIVIEW_PLAYER_TYPES,m),k=(0,y.default)({"player-streaminfo__meta-container":!P&&!N&&!I});if(w)return i.default.createElement(c.MultiviewInfoDisplay,{className:k,live:A,title:S||C,gameName:s,gameUrl:O,playerType:m,viewerCount:_,lang:T,isEmbed:E,onRemoveStream:b});if(I)return i.default.createElement(d.SquadStreamInfoDisplay,{className:k,live:A,title:C,gameName:s,gameUrl:O,onClick:this.props.pause,playerType:m,streamTags:p,viewerCount:_,lang:T,isEmbed:E,isMobile:v});if(R)return null;var M=i.default.createElement(u.StreamInfoDisplay,{className:k,live:A,name:t,title:C,gameName:s,gameUrl:O,onClick:this.props.pause,playerType:m,streamUrl:l,streamTags:p,viewerCount:_,lang:T,isEmbed:E,isMobile:v});return t?M:null}},{key:"_trackTagUpdates",value:function(e){var t=this._videoWillPlay(e);e.streamTags&&t&&(this.needTrackTags=!1,e.trackPlaySessionTags(e.streamTags.map(function(e){return e.id})))}},{key:"_videoWillPlay",value:function(e){return e.isOnline||e.isVod}}]),t}();w.propTypes=O;t.StreamInfo=(0,s.connect)(P,N)(w)},ZCCF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getBrowserInfo=function(e){var t=o.default._detect(e||window.navigator.userAgent),n=t.name,r=t.version,i=t.osname,a=t.osversion;return{browser_version:d(r),browser_family:String(n).toLowerCase(),os_name:i,os_version:a}},t.parseSemver=c,t.majorMinorVersionParser=d;var i,a=n("puQj"),o=(i=a)&&i.__esModule?i:{default:i};var s=/^(\d+)\.(\d+)\.(\d+)[+|-]?(.*)?$/,l=/^(\d+)\.(\d+)[+|-]?(.*)?$/,u=/^(\d+)$/;function c(e){var t=s.exec(e)||l.exec(e)||u.exec(e)||[],n=r(t,5);return{major:n[1],minor:n[2],patch:n[3],metadata:n[4]}}function d(e){var t=c(e),n=t.major,r=t.minor;return r?parseInt(n,10)+"."+parseInt(r,10):n+".0"}},ZHYT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheatreModeSocialPanel=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=n("2GWp"),i=n("N58E"),a=n("BMy9"),o=n("9/en"),s=n("/24N"),l=t.mapStateToProps=function(e){return{channelId:e.streamMetadata.channel.id,channelName:e.streamMetadata.channel.name,isEnded:e.playback.ended,isRerun:"rerun"===e.streamMetadata.streamType,isTheatre:e.screenMode.isTheatreMode&&!e.screenMode.isFullScreen,videoId:e.streamMetadata.videoId,userId:e.user.id}},u=t.mapDispatchToProps=function(e){return{channelSubscriptionsFetched:function(t){e((0,o.channelSubscriptionsFetched)({isSubscribed:t}))},emitFollowChannel:function(){e((0,r.emitFollowChannel)())},emitUnfollowChannel:function(){e((0,r.emitUnfollowChannel)())},emitSubscribeChannel:function(){e((0,r.emitSubscribeChannel)())},followInfoFetched:function(t,n){e((0,s.followInfoFetched)({following:t,notificationsEnabled:n}))},subscriptionsProductsFetched:function(t){e((0,o.subscriptionsProductsFetched)({isSubscribable:t}))}}};t.TheatreModeSocialPanel=(0,i.connect)(l,u)(a.TheatreModeSocialPanelComponent)},ZI6j:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addIfNotPresent=function(e,t){return(0,a.default)(e,t)?e:e.concat([t])};var r,i=n("ijCd"),a=(r=i)&&r.__esModule?r:{default:r}},ZLzK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPanel=T;var r=f(n("q1tI")),i=f(n("17x9")),a=n("E9lB"),o=n("03oI"),s=n("tplA"),l=n("51bE"),u=n("5Bbo"),c=n("5Obg"),d=n("8+VK");function f(e){return e&&e.__esModule?e:{default:e}}var p={currentAlignment:i.default.string.isRequired,currentColor:i.default.string.isRequired,currentFont:i.default.string.isRequired,currentFontSize:i.default.number.isRequired,currentPosition:i.default.string.isRequired,currentOpacity:i.default.string.isRequired,selectFontChange:i.default.func.isRequired},_=Object.freeze(["white","black","red","green","cyan","magenta","yellow","blue"]),h="font",m="fontColorName",E="alignment",v="verticalPosition",y="fontOpacity",g="fontSize";function T(e){var t=e.currentAlignment,n=e.currentColor,i=e.currentFont,f=e.currentFontSize,p=e.currentPosition,T=e.currentOpacity,b=e.selectFontChange;return r.default.createElement("div",{className:"cc-panel-menu-frame"},r.default.createElement(a.FontDropdown,{currentFont:i,onSelect:function(e){b(h,e)}}),r.default.createElement(o.AlignmentDropdown,{currentAlignment:t,onSelect:function(e){b(E,e)}}),r.default.createElement(u.ColorPalette,{currentColor:n,onSelect:function(e){b(m,e)},colors:_}),r.default.createElement(s.PositionDropdown,{currentPosition:p,onSelect:function(e){b(v,e)}}),r.default.createElement(l.FontOpacityDropdown,{currentOpacity:T,onSelect:function(e){b(y,e)}}),r.default.createElement(c.SizePalette,{increaseSize:function(){f<d.fontSizeMap.max&&b(g,f+d.fontSizeMap.increment)},decreaseSize:function(){f>d.fontSizeMap.min&&b(g,f+d.fontSizeMap.decrement)}}))}T.propTypes=p},ZRG8:function(e,t,n){},ZZhq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadLTVOverlay=void 0,t.DeadLTVOverlayComponent=_;var r=d(n("q1tI")),i=d(n("17x9")),a=n("N58E"),o=n("9kay"),s=n("pew1"),l=n("XbkD"),u=n("uC+K"),c=d(n("TSYQ"));function d(e){return e&&e.__esModule?e:{default:e}}var f={t:i.default.func.isRequired,streamType:i.default.string.isRequired,hideFollowPanel:i.default.bool.isRequired},p=(0,c.default)("pl-pinned-panel","pl-pinned-panel--embed");function _(e){var t=e.t,n=e.hideFollowPanel,i=e.streamType,a=n?null:r.default.createElement(s.UnavailableContentFollowPanel,null),o=r.default.createElement("div",{className:p},r.default.createElement("h2",{className:"pl-pinned-panel__title"},t("Live Broadcast has ended")),a);return i===l.TYPE_DEAD_LTV?o:null}_.propTypes=f;t.DeadLTVOverlay=(0,o.translate)()((0,a.connect)(function(e){var t=e.env,n=e.streamMetadata,r=e.user;return{streamType:n.streamType,hideFollowPanel:n.channel.id===r.id||t.playerType===u.PLAYER_FACEBOOK}})(_))},Zh7d:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BalloonMenu=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n("q1tI")),a=s(n("17x9")),o=n("8Tv0");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentTime:a.default.number.isRequired,markers:a.default.array.isRequired,onVideoMarkerClick:a.default.func.isRequired,playerHeight:a.default.number.isRequired,trackEvent:a.default.func.isRequired};(t.BalloonMenu=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedMarker:null},n.handleVideoMarkerClick=n.handleVideoMarkerClick.bind(n),n.handleSubClick=n.handleSubClick.bind(n),n.renderMarkersList=n.renderMarkersList.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"video-markers-balloon__menu"},this.renderMarkersList())}},{key:"renderMarkersList",value:function(){return this.state.selectedMarker?i.default.createElement(o.BalloonItems,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,onSubClick:this.handleSubClick,markers:this.state.selectedMarker.children||[],playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent,header:this.state.selectedMarker.gameName}):i.default.createElement(o.BalloonItems,{currentTime:this.props.currentTime,onVideoMarkerClick:this.handleVideoMarkerClick,onSubClick:this.handleSubClick,markers:this.props.markers,playerHeight:this.props.playerHeight,trackEvent:this.props.trackEvent})}},{key:"handleVideoMarkerClick",value:function(e){this.props.onVideoMarkerClick(e)}},{key:"handleSubClick",value:function(e){this.setState({selectedMarker:e})}}]),t}()).propTypes=l},Zlad:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturedCollection=t.FeaturedCollectionContainer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("N58E"),s=n("crcZ"),l=n("rRi7");function u(e){return e&&e.__esModule?e:{default:e}}var c={featuredCollection:a.default.shape({id:a.default.string,title:a.default.string,itemsCount:a.default.number,thumbnails:a.default.shape({large:a.default.string,medium:a.default.string,small:a.default.string,template:a.default.string}).isRequired,owner:a.default.shape({displayName:a.default.string,id:a.default.string,name:a.default.string})}).isRequired,requestCollection:a.default.func,showFeaturedCollection:a.default.bool.isRequired,trackEvent:a.default.func},d=t.FeaturedCollectionContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.featuredCollection;e.showFeaturedCollection&&!this.props.showFeaturedCollection&&(this._preloadThumbnail(),this.props.trackEvent("player_rec_show_collection",{recommended_collection_id:t.id}))}},{key:"handleSelect",value:function(e){var t=this.props,n=t.trackEvent;(0,t.requestCollection)(e.id),n("player_rec_select",{recommended_vod_view:"collection",recommended_collection_id:e.id})}},{key:"_preloadThumbnail",value:function(){var e=this.props.featuredCollection;(new Image).src=e.thumbnails.medium}},{key:"render",value:function(){var e=this.props,t=e.showFeaturedCollection,n=e.featuredCollection;return t?i.default.createElement(s.FeaturedCollectionComponent,{thumbnailURL:n.thumbnails.medium,featuredCollection:n,onSelect:this.handleSelect}):null}}]),t}();d.propTypes=c,d.defaultProps={requestCollection:function(){},trackEvent:function(){}};t.FeaturedCollection=(0,o.connect)(function(e){var t=e.analyticsTracker,n=e.collection;return{trackEvent:t.trackEvent,featuredCollection:n.featuredCollection,showFeaturedCollection:!(""===n.featuredCollection.id)}},function(e){return{requestCollection:function(t){e((0,l.requestCollection)(t))}}})(d)},ZtkW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.parse=function(e){for(var t={},n=e.split("&"),i=0;i<n.length;i++){var a=/^(.+?)(?:=(.+))?$/.exec(n[i]);if(a){var o=a[1],s=a[2];if("true"===s)s=!0;else if("false"===s)s=!1;else if(void 0!==s)try{var l=JSON.parse(decodeURIComponent(s));s="object"===(void 0===l?"undefined":r(l))?l:decodeURIComponent(s)}catch(e){s=decodeURIComponent(s)}else"!"===o[0]?(o=o.substring(1),s=!1):s=!0;t[o]=s}}return t},t.toString=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];n=encodeURIComponent(n),!0===i?t.push(n):!1===i?t.push("!"+n):null!==i&&"object"===(void 0===i?"undefined":r(i))?(i=encodeURIComponent(JSON.stringify(i)),t.push(n+"="+i)):(i=encodeURIComponent(i),t.push(n+"="+i))}return t.join("&")},t.convertUrlQueryParamTime=function(e){if(void 0!==e){var t=/^(?:(\d+)[h])?(?:(\d+)[m])?(?:(\d+)[s])?$/.exec(e);if(!t){var n=parseInt(e,10);return i.toURLString(n)}}return e};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("FxCM"))},a4B8:function(e,t,n){"use strict";function r(){this._lastKnownTimeStamp=0,this._paused=!0,this._lastTimeUpdated=(new Date).getTime()}Object.defineProperty(t,"__esModule",{value:!0}),t.ExtrapolatingTimer=r,r.prototype.pause=function(){this._updateLastKnownTimeStamp(),this._paused=!0},r.prototype.resume=function(){this._updateLastKnownTimeStamp(),this._paused=!1},r.prototype.extrapolateTimeStamp=function(){if(this._paused)return this._lastKnownTimeStamp/1e3;var e=(new Date).getTime();return(this._lastKnownTimeStamp+(e-this._lastTimeUpdated))/1e3},r.prototype.setCurrentTimeStamp=function(e){isNaN(e)||(this._lastKnownTimeStamp=1e3*e,this._lastTimeUpdated=(new Date).getTime())},r.prototype._updateLastKnownTimeStamp=function(){var e=(new Date).getTime();this._lastKnownTimeStamp+=e-this._lastTimeUpdated,this._lastTimeUpdated=e}},aBMM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericFollowPanel=void 0,t.GenericFollowPanelComponent=c;var r=l(n("q1tI")),i=l(n("17x9")),a=n("9kay"),o=n("IpWL"),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}var u={channelName:i.default.string.isRequired,enable:i.default.func,disable:i.default.func,notificationsEnabled:i.default.bool.isRequired,t:i.default.func,withInfo:i.default.bool.isRequired};function c(e){var t=e.channelName,n=e.enable,i=e.disable,a=e.notificationsEnabled,l=e.t,u=e.withInfo,c=(0,s.default)({"pl-pinned-panel":!0,"pl-pinned-panel--animate":!0,"pl-pinned-panel--with-info":u});return r.default.createElement("div",{className:c},r.default.createElement("h2",{className:"pl-pinned-panel__title"},l("Follow and get notified when {{channelName}} is live",{channelName:t})),r.default.createElement(o.NotificationsButton,{enable:n,disable:i,notificationsEnabled:a}))}c.propTypes=u,c.defaultProps={t:function(){},enable:function(){},disable:function(){}};t.GenericFollowPanel=(0,a.translate)()(c)},aEfP:function(e,t,n){},aNnM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createAnalyticsTrackerMiddleware=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;return function(t){return function(t){var n=e;return function(e){switch(e.type){case r.ACTION_SET_ANALYTICS_TRACKER:n=e.tracker;break;case r.ACTION_TRACK_EVENT:n.trackEvent(e.eventName,e.eventProperties)}t(e)}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("YWLq"));var i=new(n("Z3Ue").NullAnalyticsTracker)},"aVK+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpadeClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("jby0"),a=u(n("sEfC")),o=u(n("3OWR")),s=n("ji7g"),l=n("gReq");function u(e){return e&&e.__esModule?e:{default:e}}var c=1e3,d=Object.freeze({method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},mode:"no-cors"});t.SpadeClient=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._trackingURL=t.url,this._eventQueue=[],this._processEvents=(0,a.default)(function(){var e=n._encode(n._eventQueue.slice());return n._eventQueue=[],n._send(e)},c)}return r(e,[{key:"trackEvent",value:function(e,t){this._scheduleEvents([{event:e,properties:t}]),this._processEvents()}},{key:"trackEvents",value:function(e){e.length>0&&this._scheduleEvents(e),this._processEvents()}},{key:"_encode",value:function(e){return(0,s.stringify)({data:(0,i.b64EncodeUnicode)(JSON.stringify(e))})}},{key:"_scheduleEvents",value:function(e){this._eventQueue=this._eventQueue.concat(e)}},{key:"_send",value:function(e){var t=this;return function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(3!==i)return fetch(t._trackingURL,(0,o.default)({},d,{body:e})).catch(function(e){return(0,l.delay)(5e3).then(function(){return n(r,i+1)})})}(e)}}]),e}()},aXs5:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BACKEND_MAP=void 0,t.getAvailableBackends=function(e){var t=m.filter(function(e){return h[e].canPlay()}),n=function(e){if((0,f.default)(c.CLIPS_PLAYER_TYPES,e))return E;if(e===c.PLAYER_AMAZON_LIVE)return v;if(e===c.PLAYER_AMAZON_VSE)return y;return g}(e);return(0,d.default)(t,n)};var i=n("TxdA"),a=n("idqK"),o=n("7SVc"),s=n("hJg3"),l=n("iGsp"),u=n("/ESh"),c=n("uC+K"),d=p(n("0XPj")),f=p(n("ijCd"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=t.BACKEND_MAP=Object.freeze((_(r={},i.BACKEND_FLASH,i.BackendFlash),_(r,o.BACKEND_HLS,o.BackendHls),_(r,a.BACKEND_MEDIA_PLAYER,a.BackendMediaPlayer),_(r,s.BACKEND_CLIP,s.BackendClip),_(r,u.BACKEND_BLANK_TYPE,u.BackendBlank),_(r,l.BACKEND_VIDEO_TAG,l.BackendVideoTag),r)),m=Object.freeze([a.BACKEND_MEDIA_PLAYER,o.BACKEND_HLS,i.BACKEND_FLASH,s.BACKEND_CLIP,l.BACKEND_VIDEO_TAG]),E=Object.freeze([s.BACKEND_CLIP]),v=Object.freeze([o.BACKEND_HLS,a.BACKEND_MEDIA_PLAYER]),y=Object.freeze([l.BACKEND_VIDEO_TAG]),g=Object.freeze([o.BACKEND_HLS,i.BACKEND_FLASH,a.BACKEND_MEDIA_PLAYER])},aZ7o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnavailableContentFollowPanel=void 0,t.UnavailableContentFollowPanelComponent=d;var r=l(n("q1tI")),i=l(n("17x9")),a=n("9kay"),o=n("IpWL"),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}var u={channelName:i.default.string.isRequired,enable:i.default.func.isRequired,disable:i.default.func.isRequired,notificationsEnabled:i.default.bool.isRequired,t:i.default.func},c=(0,s.default)("pl-button--hollow","pl-mg-t-2");function d(e){var t=e.channelName,n=e.enable,i=e.disable,a=e.notificationsEnabled,s=e.t;return r.default.createElement("div",null,r.default.createElement("p",{className:"pl-pinned-panel__subtext"},s("Get notified when {{channelName}} goes live next",{channelName:t})),r.default.createElement(o.NotificationsButton,{className:c,enable:n,disable:i,notificationsEnabled:a}))}d.propTypes=u,d.defaultProps={t:function(){}};t.UnavailableContentFollowPanel=(0,a.translate)()(d)},aaPA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AngleSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string,className:a.default.string};(t.AngleSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{d:"M16.707 6.293a1.005 1.005 0 0 0-1.42 0l-5.286 5.285-5.287-5.285a1.007 1.007 0 0 0-1.42 0 .996.996 0 0 0-.294.71c0 .268.105.52.295.71l5.996 5.993a1.003 1.003 0 0 0 1.42 0l5.996-5.994a1.003 1.003 0 0 0 0-1.419",fill:e.fill}))}).propTypes=l},aacC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Analytics=t.EXTENSIONS_MINUTE_WATCHED_EVENT=t.BROADCAST_PLATFORM_WATCH_PARTY_PREMIERE=t.BROADCAST_PLATFORM_WATCH_PARTY_RERUN=t.BROADCAST_PLATFORM_WATCH_PARTY=t.SITE_MINIPLAYER_ACTION=t.VIDEO_PLAY_VARIANT_MANIFEST=t.VIDEO_PLAY_MASTER_MANIFEST=t.VIDEO_PLAY_NAUTH=t.VIDEO_PLAY_OAUTH=t.VIDEO_PLAY_LOAD_START=t.REBROADCAST_TYPE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.removeVariantName=G;var a=q(n("3OWR")),o=q(n("zdiy")),s=q(n("JZM8")),l=q(n("J2m7")),u=q(n("UfWW")),c=q(n("ijCd")),d=n("jxNe"),f=n("jby0"),p=n("ikhW"),_=n("6bSu"),h=n("fJns"),m=n("EoNM"),E=n("C1iI"),v=n("Vo+h"),y=n("LzuL"),g=n("m7yn"),T=q(n("qzlN")),b=j(n("J0qE")),S=n("56nq"),A=j(n("H6wP")),C=n("QBeZ"),O=n("Rnd+"),P=n("qT8i"),N=n("uC+K"),I=n("CM3j"),R=j(n("nC/T")),w=j(n("JZwe")),k=n("8U7r"),M=n("VIow"),L=n("wSP4"),D=n("wsSb"),x=q(n("y+GA")),U=n("rRi7"),B=n("ipln"),V=n("XbkD");function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function q(e){return e&&e.__esModule?e:{default:e}}t.REBROADCAST_TYPE="rebroadcast",t.VIDEO_PLAY_LOAD_START="video_play_load_start",t.VIDEO_PLAY_OAUTH="video_play_oauth",t.VIDEO_PLAY_NAUTH="video_play_nauth",t.VIDEO_PLAY_MASTER_MANIFEST="video_play_master_manifest",t.VIDEO_PLAY_VARIANT_MANIFEST="video_play_variant_manifest",t.SITE_MINIPLAYER_ACTION="site_mini_player_action",t.BROADCAST_PLATFORM_WATCH_PARTY="watch_party",t.BROADCAST_PLATFORM_WATCH_PARTY_RERUN="watch_party_rerun",t.BROADCAST_PLATFORM_WATCH_PARTY_PREMIERE="watch_party_premiere";var F=t.EXTENSIONS_MINUTE_WATCHED_EVENT="extensions_active_per_minute_watched",H=Object.freeze({segment_protocol:"https"}),Y=[30];function G(e){var t=String(e).trim(),n=t.indexOf(" ");return n>0?t.slice(0,n):t}t.Analytics=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=r.getState().experiments;this.player=t,this.tracker=n,this.store=r,this.options=i,this.firstPlayAutoMuted=!1,this.hasPlayed=!1,this.playbackBlocked=!1,this.bufferEmptyStartTime=null,this.bufferEmptyCount=0,this.lastNetworkProfile=-1/0,this.lastSeekTime=null,this.timeStampBeforeSeek=0,this.isSeekInProgress=!1,this.trackNetworkProfile=a.get(O.ExperimentIds.NetworkProfileCollection),this.nSecondPlayTimer=new _.NullNSecondPlay,this.countessTracker=new E.CountessTracker({host:b.countessHost}),this.comscore=new y.ComscoreAnalytics(this,this.player,this.store),this.nielsen=new g.NielsenAnalytics(this.player,this.store),this.latencyTracker=new v.LatencyTracker(this,.001,this.player,this.store),this.pixel=new T.default(this.store),this.initProperties(),this.initEvents(),this.unsubscribes=[],this.unsubscribes.push(this._subscribeCaptions(this.store)),this.unsubscribes.push((0,P.subscribe)(this.store,["quality.current","quality.selected"],this.onQualityChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["collection.id"],this.onCollectionChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["playback.ended"],this.onPlaybackEnded.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["error"],this.onError.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["stream"],this.onStreamChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["streamMetadata.game"],this.onStreamMetadataGameUpdate.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["watchParty.vodId"],this.onWatchPartyVodChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["watchParty.watchPartyId"],this.onWatchPartyChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["chromecast.castingState"],this.onCastingChange.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["streamMetadata.isEncrypted","env.playerType"],this.onStreamMetadataAndEnv.bind(this))),this.unsubscribes.push((0,P.subscribe)(this.store,["ads.currentSubscriptionBenefit"],this.onSubscriptionBenefitChange.bind(this))),this.onError(),this.onStreamMetadataAndEnv()}return i(e,[{key:"_subscribeCaptions",value:function(e){var t=this;return(0,P.subscribe)(e,["captions"],function(e,n){var r=e.captions,i=n.captions;r.preset!==i.preset&&t.trackEvent("player_caption_preset",{captions_preset:r.preset})})}},{key:"initProperties",value:function(){var e=this.store.getState().window;this.tracker.setProperties({content_id:"",customer_id:""}),this.tracker.setProperties((0,S.viewerInfo)().then(function(e){return{login:e.currentUser?e.currentUser.login:void 0,turbo:!!e.currentUser&&Boolean(e.currentUser.hasTurbo)}})),this.tracker.setProperties((0,S.krakenUserInfo)().then(function(e){return{user_id:e._id,staff:"staff"===e.type}})),"function"==typeof e.navigator.getBattery&&this.tracker.setProperties(e.navigator.getBattery().then(function(e){return{battery_percent:100*e.level,charging:e.charging}}))}},{key:"initMinutesWatchedTimer",value:function(){(0,c.default)(N.CLIPS_PLAYER_TYPES,this.store.getState().env.playerType)?this.minutesWatchedTimer=new h.NullMinutesWatched:(this.minutesWatchedTimer=new p.MinutesWatched,this.minutesWatchedTimer.on(p.EVENT_MINUTE,this.onMinuteWatched.bind(this)))}},{key:"initNSecondPlayTimer",value:function(){var e=this.store.getState(),t=e.window,n=e.playerOptions;this.nSecondPlayTimer=new _.NSecondPlay(t),this.nSecondPlayTimer.onNSecondPlay(this.onNSecondPlay.bind(this)),n.nSecondPlayPeriods.length>0?this.nSecondPlayTimer.setPeriods(n.nSecondPlayPeriods):this.nSecondPlayTimer.setPeriods(Y)}},{key:"initEvents",value:function(){this.initMinutesWatchedTimer(),this.player.addEventListener(R.PLAYER_INIT,this.onBackendInit.bind(this)),this.player.addEventListener(w.LOADSTART,this.onLoadStart.bind(this)),this.player.addEventListener(w.PAUSE,this.onPause.bind(this)),this.player.addEventListener(w.WAITING,this.onWaiting.bind(this)),this.player.addEventListener(w.PLAYING,this.onPlaying.bind(this)),this.player.addEventListener(w.PLAYBACK_BLOCKED,this.onPlaybackBlocked.bind(this)),this.player.addEventListener(w.PLAYING,this.onQualityChange.bind(this)),this.player.addEventListener(w.ENDED,this.onEnded.bind(this)),this.player.addEventListener(w.SEEKING,this.onSeeking.bind(this)),this.player.addEventListener(w.TIME_UPDATE,this.onTimeUpdate.bind(this)),this.player.addEventListener(w.CAN_PLAY,this.onCanPlay.bind(this)),this.player.addEventListener(R.MASTER_MANIFEST_READY,this.onMasterManifestReady.bind(this))}},{key:"getNetworkProfileStats",value:function(e){if(0===e.length)return{};function t(e,t){return e+t}var n=e.map(function(e){return e.firstByteLatency}).reduce(t),r=e.map(function(e){return e.segmentDuration}).reduce(t),i=e.map(function(e){return e.downloadDuration}).reduce(t),a=e.map(function(e){return e.bytes}).reduce(t);return{transport_segments:e.length,transport_first_byte_latency:n,transport_segment_duration:r,transport_download_duration:i,transport_download_bytes:a}}},{key:"_getBaseMinuteWatchedProperties",value:function(){var e=this.store.getState(),t=e.analytics,n=e.captions,r=e.collection,i=e.lang,o=e.manifestInfo,s=e.performance,l=e.stream,c=e.streamMetadata,f=e.playback,p=e.window,_={autoplayed:this.options.autoplay,average_bitrate:this.player.getAverageBitrate(),broadcast_id:c.broadcastID,captions_enabled:n.enabled,language:i.langCode,manifest_broadcast_id:o.broadcast_id,minutes_logged:this.minutesWatchedTimer.totalMinutes,clock_drift:this.minutesWatchedTimer.clockDrift,player_size_mode:this._getPlayerDisplayMode(),quality_change_count:t.qualityChangeCount,seconds_offset:this.minutesWatchedTimer.initialDelay/1e3,streamType:c.streamType,tab_session_id:(0,d.getTwilightSessionId)(),time_spent_hidden:parseInt(s.timeHidden,10),transcoder_type:o.transcodestack,auto_muted:this.firstPlayAutoMuted,device_pixel_ratio:p.devicePixelRatio,estimated_bandwidth:this.player.getBandwidthEstimate(),playback_rate:this.player.getPlaybackRate(),channel_restriction_type:this._getChannelRestrictionType(),viewer_exemption_reason:this._getViewerExemptionReason()};if(l.contentType===M.CONTENT_MODE_VOD&&((0,a.default)(_,{vod_timestamp:f.currentTime}),r.id)){this.store.dispatch((0,U.updateCollectionSessionTimestamp)());var h=m.sessionStore.get(U.COLLECTION_SESSION_KEY),E=h?h[U.COLLECTION_SESSION_ID_KEY]:"";(0,a.default)(_,{collection_item_position:(0,u.default)(r.items,{itemId:l.videoId.substr(1)}),collection_id:r.id,collection_session_id:E})}return _}},{key:"trackEvent",value:function(e,t){var n=(0,a.default)({},H,this.player.getVideoInfo()),r=(0,o.default)({},(0,s.default)(n,["bandwidth","cluster","current_bitrate","current_fps","decoded_frames","dropped_frames","hls_latency_broadcaster","hls_latency_encoder","hls_latency_broadcaster_send_time","hls_latency_ingest_receive_time","hls_latency_ingest_send_time","hls_latency_transcode_receive_time","hls_latency_transcode_send_time","hls_target_duration","manifest_cluster","manifest_node","manifest_node_type","serving_id","node","user_ip","vid_display_height","vid_display_width","vid_height","vid_width","video_buffer_size","vod_cdn_origin","vod_cdn_region"]),{volume:this.player.getVolume(),muted:this.player.getMuted(),is_https:"https"===n.segment_protocol},t);this.tracker.trackEvent(e,r)}},{key:"onMinuteWatched",value:function(){var e=this,t=this.player.getNetworkProfile().filter(function(e){return e.startTime>this.lastNetworkProfile}.bind(this));this.lastNetworkProfile=t.reduce(function(e,t){return Math.max(e,t.startTime)},this.lastNetworkProfile);var n=this.getNetworkProfileStats(t),r=this._getBaseMinuteWatchedProperties(),i=(0,o.default)({},r,n);this.trackEvent(k.TIER_1_EVENTS.MINUTE_WATCHED,i),this.store.dispatch((0,I.resetQualityChangeCount)()),this.trackNetworkProfile.then(function(n){"yes"===n&&t.length>0&&e.tracker.trackEvents(t.map(function(e){return{event:"network_profile",properties:{bytes:e.bytes,duration:e.segmentDuration,time:e.startTime+e.firstByteLatency+e.downloadDuration,time_to_first_byte:e.firstByteLatency,download_duration:e.downloadDuration,curr_buffer_length:e.currBufferLength,reason_code:e.reasonCode,curr_quality:e.currQuality}}}))}),this._trackExtensions()}},{key:"onMasterManifestReady",value:function(){var e=this.store.getState().performance,t={};e.timedMilestones.forEach(function(n){var r="time_to_"+n.name;t[r]=parseInt(n.time-e.initTime,10)}),this.trackEvent("master_manifest_ready",t)}},{key:"onSubscriptionBenefitChange",value:function(e){var t=e.ads;this.tracker.setProperty("subscriber",Boolean(t.currentSubscriptionBenefit))}},{key:"onStreamMetadataAndEnv",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.env;(t.isEncrypted||(0,c.default)(N.AMAZON_EMBED_PLAYER_TYPES,n.playerType))&&this.nSecondPlayTimer instanceof _.NullNSecondPlay?this.initNSecondPlayTimer():(this.nSecondPlayTimer.destroy(),this.nSecondPlayTimer=new _.NullNSecondPlay)}},{key:"onNSecondPlay",value:function(e){var t=(0,o.default)({},this._getBaseMinuteWatchedProperties(),{seconds_after_play:e});this.trackEvent(k.N_SECOND_PLAY,t)}},{key:"onBackendInit",value:function(){this.tracker.setProperty("backend",this.player.getBackend()),this.tracker.setProperty("backend_version",this.player.getVersion()),this.tracker.setProperty("core_version",this.player.getVersion()),this.tracker.trackEvent("video_init")}},{key:"onLoadStart",value:function(){this.player.getChannel()?this.onLoadChannel():this.player.getVideo()&&this.onLoadVideo(),this.minutesWatchedTimer.destroy(),this.initMinutesWatchedTimer(),this.hasPlayed=!1,this.playbackBlocked=!1,this.bufferEmptyCount=0,this.bufferEmptyStartTime=null,this.firstPlayAutoMuted=!1}},{key:"onLoadChannel",value:function(){var e=this.player.getChannel(),t=(0,S.channelInfo)(e),n=(0,S.channelStreamInfo)(e);t.then(function(e){this.countessTracker.trackView("channel",e._id)}.bind(this));var i=Promise.all([t,n]).then(function(e){var t=r(e,2),n=t[0],i=t[1],a=(i.channel&&i.channel.stream?i.channel.stream:{}).broadcasterSoftware,o=(0,f.getContentInfo)(a),s=o.live,l=o.contentMode;return{broadcaster_software:a,live:s,channel:n.name,channel_id:n._id,game:n.game,content_mode:l,partner:n.partner,vod_type:void 0}});this.tracker.setProperties(i)}},{key:"onLoadVideo",value:function(){var e=this.player.getVideo(),t=(0,S.videoInfo)(e);this.tracker.setProperties(t.then(function(e){return(0,S.channelInfo)(e.channel.name)}).then(function(e){return(0,s.default)(e,"partner")}));var n=t.then(function(e){return{channel:e.channel.name,channel_id:e.channel._id,vod:e._id,vod_id:e._id,vod_type:e.broadcast_type,game:e.game,live:!1,content_mode:"vod"}});this.tracker.setProperties(n)}},{key:"onWaiting",value:function(){var e=this.store.getState(),t=e.ads,n=e.manifestInfo,r=e.streamMetadata;this.player.getSeeking()||(this.bufferEmptyStartTime=(new Date).getTime(),this.bufferEmptyCount++,this.trackEvent(k.TIER_1_EVENTS.BUFFER_EMPTY,{buffer_empty_count:this.bufferEmptyCount,broadcast_id:r.broadcastID,manifest_broadcast_id:n.broadcast_id,is_ad_playing:t.currentMetadata.contentType===C.AdContentTypes.STITCHED}))}},{key:"onPlaybackBlocked",value:function(){this.playbackBlocked=!0}},{key:"onPlaying",value:function(){var e=this,t=this.store.getState(),n=t.analytics,r=t.backendInfo,i=t.collection,a=t.env,o=t.manifestInfo,s=t.performance,l=t.stream,f=t.streamMetadata,p=t.playback;if(null!==this.bufferEmptyStartTime){var _=(new Date).getTime();this.trackEvent(k.TIER_1_EVENTS.BUFFER_REFILL,{buffering_time:(_-this.bufferEmptyStartTime)/1e3,buffer_empty_count:this.bufferEmptyCount,broadcast_id:f.broadcastID,manifest_broadcast_id:o.broadcast_id}),this.bufferEmptyStartTime=null}if(!this.hasPlayed){this.firstPlayAutoMuted=p.automatedMute;var h={time_since_load_start:Date.now()-n.playSessionStartTime,manifest_broadcast_id:o.broadcast_id,broadcast_id:f.broadcastID,autoplayed:this.options.autoplay,tab_session_id:(0,d.getTwilightSessionId)(),auto_muted:this.firstPlayAutoMuted,using_wasm_backend:r.isWasm,channel_restriction_type:this._getChannelRestrictionType(),viewer_exemption_reason:this._getViewerExemptionReason()};if((0,c.default)(N.CLIPS_PLAYER_TYPES,a.playerType)||(h.seconds_offset=this.minutesWatchedTimer.initialDelay/1e3),s.timedMilestones.forEach(function(e){var t="time_to_"+e.name;h[t]=parseInt(e.time-s.initTime,10)}),s.otherMetrics.forEach(function(e){h[e.name]=e.value}),h.is_first_video_play=0===n.videoPlayCount,h.player_instance_plays=n.videoPlayCount+1,h.playback_gated=p.contentRestriction!==B.CONTENT_UNRESTRICTED,h.time_spent_hidden=parseInt(s.timeHidden,10),h.autoplay_succeeded=!this.playbackBlocked,l.contentType===M.CONTENT_MODE_VOD&&((0,S.videoInfo)(l.videoId).then(function(t){e.countessTracker.trackVODView(t)}),i.id)){var E=m.sessionStore.get(U.COLLECTION_SESSION_KEY),v=E?E[U.COLLECTION_SESSION_ID_KEY]:"";h.collection_item_position=(0,u.default)(i.items,{itemId:l.videoId.substr(1)}),h.collection_id=i.id,h.collection_session_id=v}this.trackEvent(k.TIER_1_EVENTS.VIDEO_PLAY,h),this.store.dispatch((0,I.incrementVideoPlayCount)()),this.hasPlayed=!0,this.store.dispatch(A.sendPlayerBeacon()),this.store.dispatch(A.sendVideoBeacon()),this.nSecondPlayTimer.start()}this.minutesWatchedTimer.start()}},{key:"onCanPlay",value:function(){this.isSeekInProgress&&(this.isSeekInProgress=!1,this.trackEvent("vod_seek",{timestamp_departed:this.timeStampBeforeSeek,timestamp_target:this.player.getCurrentTime(),time_spent_seeking:(Date.now()-this.lastSeekTime)/1e3})),this.timeStampBeforeSeek=this.player.getCurrentTime()}},{key:"onSeeking",value:function(){this.hasPlayed&&!this.isSeekInProgress&&(this.isSeekInProgress=!0,this.lastSeekTime=Date.now())}},{key:"onTimeUpdate",value:function(){if(!this.isSeekInProgress){var e=this.player.getCurrentTime();e-this.timeStampBeforeSeek<500&&this.timeStampBeforeSeek<e&&(this.timeStampBeforeSeek=e)}}},{key:"onPause",value:function(){var e=this.store.getState(),t=e.ads,n=e.adsManager,r=e.stream;(t.currentMetadata.contentType!==C.AdContentTypes.IMA||r.contentType!==M.CONTENT_MODE_VOD||n.paused)&&(this.minutesWatchedTimer.stop(),this.nSecondPlayTimer.reset())}},{key:"onPlaybackEnded",value:function(){this.store.getState().playback.ended&&this.trackEvent("video_end",{})}},{key:"onError",value:function(){var e=this.store.getState().error,t=e.hasError,n=e.code;t&&this.trackEvent(k.VIDEO_PLAYBACK_ERROR,{reason:x.default.getMessage(n),code:n})}},{key:"onStreamChange",value:function(){var e=this.store.getState().stream,t={content_id:"",customer_id:""};e.contentType===L.CONTENT_MODE_PROVIDED&&(t=(0,a.default)(t,{content_id:e.contentId,customer_id:e.customerId})),this.tracker.setProperties(t)}},{key:"onStreamMetadataGameUpdate",value:function(){var e=this.store.getState().streamMetadata;e.streamType===D.CONTENT_MODE_LIVE&&this.tracker.setProperty("game",e.game)}},{key:"onCollectionChange",value:function(){var e=this.store.getState().collection;e.id&&this.countessTracker.trackView("collection",e.id)}},{key:"onWatchPartyVodChange",value:function(){var e=this.store.getState().watchParty;e&&e.vodId&&e.incrementViewCountURL&&this.countessTracker.trackVODView({increment_view_count_url:e.incrementViewCountURL}),e&&this.tracker.setProperty("vod_type",e.broadcastType)}},{key:"onWatchPartyChange",value:function(){var e=this.store.getState().watchParty;e&&e.watchPartyId&&this.countessTracker.trackView("watch_party",e.watchPartyId)}},{key:"onEnded",value:function(){this.minutesWatchedTimer.reset(),this.nSecondPlayTimer.reset(),this.bufferEmptyStartTime=null}},{key:"onQualityChange",value:function(){var e=this.store.getState().quality;if(0!==e.available.length){var t=(0,l.default)(e.available,function(t){return t.group===e.selected}),n=t?t.name:e.current;this.tracker.setProperty("quality",G(n)),this.tracker.setProperty("stream_format",e.current)}}},{key:"onCastingChange",value:function(e){var t=e.chromecast.castingState,n=this.store.getState().env;"connected"===t||"connecting"===t?this.tracker.setProperties({player:"chromecast",chromecast_sender:n.platform}):this.tracker.setProperties({player:n.playerType,chromecast_sender:null})}},{key:"_getPlayerDisplayMode",value:function(){var e=this.store.getState(),t=e.ui;return e.screenMode.isFullScreen?"fullscreen":this.options.player===N.PLAYER_POPOUT?"popout":this.player.getTheatre()?"theatre mode":t.isMini?"mini":""}},{key:"_getViewerExemptionReason",value:function(){var e=this.store.getState(),t=e.playback;return e.stream.accessExpiration?"free_preview":null!==this._getChannelRestrictionType()&&t.contentRestriction===B.CONTENT_UNRESTRICTED?"exempt":null}},{key:"_getChannelRestrictionType",value:function(){var e=this.store.getState().streamMetadata,t=e.restrictionType&&e.restrictionType.toLowerCase()||null;if("sub_only_live"===t){var n=e.restrictionOptions||[];n.includes(V.ALLOW_ALL_TIERS)?t+="_1000":n.includes(V.ALLOW_TIER_2_AND_3_ONLY)?t+="_2000":n.includes(V.ALLOW_TIER_3_ONLY)&&(t+="_3000")}return t}},{key:"destroy",value:function(){this.minutesWatchedTimer.destroy(),this.nSecondPlayTimer.destroy(),this.comscore.destroy(),this.nielsen.destroy(),this.pixel.destroy(),this.unsubscribes.map(function(e){e()})}},{key:"_trackExtensions",value:function(){var e=this.store.getState(),t=e.extensions,n=e.streamMetadata;0!==t.extensionsToTrack.length&&this.tracker.trackEvent(F,{active_extensions:JSON.stringify(t.extensionsToTrack.map(function(e){return{extension_id:e.extensionId,extension_anchor:e.extensionAnchor,extension_slot:e.extensionSlot}})),broadcast_id:n.broadcastID})}}]),e}()},afOK:function(e,t,n){e.exports=n("pZt1")},asDA:function(e,t){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},b4U0:function(e,t){var n,r;(n=window)[r="NOLBUNDLE"]=n[r]||{nlsQ:function(e,t,i,a,o,s){return(a=(o=n.document).createElement("script")).async=1,a.src=("http:"===n.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+e+".js#name="+t+"&ns="+r,(s=o.getElementsByTagName("script")[0]).parentNode.insertBefore(a,s),n[r][t]=n[r][t]||{g:i||{},ggPM:function(e,i,a,o,s){(n[r][t].q=n[r][t].q||[]).push([e,i,a,o,s])}},n[r][t]}}},b5kB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReportIssuesMenu=t.ReportIssuesMenuComponent=t.AD_ISSUE_OPTIONS=t.VALUE_AD_NOT_RELEVANT=t.VALUE_AD_TOO_LOUD=t.VALUE_AD_OFFENSIVE_INAPPROPRIATE=t.VALUE_AD_REPEAT=t.VALUE_AD_BROKEN=t.REPORT_FEEDBACK_DELAY=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n("q1tI")),o=d(n("17x9")),s=d(n("OFL0")),l=d(n("TSYQ")),u=n("9kay"),c=n("bDXi");function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={t:o.default.func.isRequired,onReportVideoIssueSubmit:o.default.func.isRequired,onReportAdIssueSubmit:o.default.func.isRequired,onMenuTransition:o.default.func,windowObj:o.default.object.isRequired},_=t.REPORT_FEEDBACK_DELAY=2e3,h=t.VALUE_AD_BROKEN="ad-broken",m=t.VALUE_AD_REPEAT="ad-repeat",E=t.VALUE_AD_OFFENSIVE_INAPPROPRIATE="ad-offensive-inappropriate",v=t.VALUE_AD_TOO_LOUD="ad-too-loud",y=t.VALUE_AD_NOT_RELEVANT="ad-not-relevant",g=t.AD_ISSUE_OPTIONS=(f(r={},h,h),f(r,m,m),f(r,E,E),f(r,v,v),f(r,y,y),r),T=(0,l.default)({"pl-form__input":!0,ellipsis:!0}),b=(0,l.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),S=(0,l.default)({ellipsis:!0,"qa-header-button":!0}),A=(0,l.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),C=(0,l.default)({"pl-flex":!0,"pl-flex--horizontalEnd":!0,"pl-pd-r-1":!0,"pl-pd-t-1":!0,"pl-pd-b-1":!0}),O=(0,l.default)({"pl-button":!0,"pl-button--hollow":!0,"qa-submit-button":!0}),P=t.ReportIssuesMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={value:"",hasRecentlySubmitted:!1},e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleIssueSelected=e.handleIssueSelected.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(c.IDENTIFIER_MAIN_MENU)}},{key:"handleIssueSelected",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n=this.state.value;""!==n&&((0,s.default)(g,n)?this.props.onReportAdIssueSubmit(n):this.props.onReportVideoIssueSubmit(n),this.setState({hasRecentlySubmitted:!0}),this.props.windowObj.setTimeout(function(){t.setState({hasRecentlySubmitted:!1})},_))}},{key:"render",value:function(){var e=this.props.t,t=this._renderFeedbackForm();return a.default.createElement("div",{className:"pl-menu__inner"},a.default.createElement("div",{className:b},a.default.createElement("button",{className:S,onClick:this.handleMenuTransition},e("Report Playback Issue"))),a.default.createElement("div",{className:A},t))}},{key:"_createSelectElement",value:function(){var e=this.props.t;return a.default.createElement("select",{className:T,onBlur:this.handleIssueSelected,defaultValue:""},a.default.createElement("option",{value:"",disabled:!0},e("Select")),a.default.createElement("option",{value:"stutter-both"},e("Audio and video stutter")),a.default.createElement("option",{value:"stutter-video"},e("Video stutters, but audio is fine")),a.default.createElement("option",{value:"black-screen"},e("Video is completely black or doesn't load")),a.default.createElement("option",{value:"av-desync"},e("Audio and video aren't synced")),a.default.createElement("option",{value:"fullscreen-broken"},e("Fullscreen playback doesn't work")),a.default.createElement("option",{value:h},e("Advertisement playback doesn't work.")),a.default.createElement("option",{value:m},e("Advertisement has played too many times.")),a.default.createElement("option",{value:E},e("Advertisement is offensive or inappropriate.")),a.default.createElement("option",{value:v},e("Advertisement is too loud.")),a.default.createElement("option",{value:y},e("Advertisement is not relevant to my interests.")))}},{key:"_renderFeedbackForm",value:function(){var e=this.props.t,t=this._createSelectElement();return this.state.hasRecentlySubmitted?a.default.createElement("span",null,e("Thanks for your report")):a.default.createElement("form",{onSubmit:this.handleSubmit},a.default.createElement("div",{className:"form__group"},a.default.createElement("p",null,e("Noticed a video playback issue? Let us know!")),t),a.default.createElement("div",{className:C},a.default.createElement("button",{type:"submit",className:O},e("Submit"))))}}]),t}();P.propTypes=p,P.defaultProps={onMenuTransition:function(){}};t.ReportIssuesMenu=(0,u.translate)()(P)},"b7S+":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return p});var r,i,a=n("MVZn"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),u=n("vCsY"),c=n("1H2c"),d=n("hnjF"),f=n("sUnt");n("lVWK");!function(e){e.Top="tw-tooltip--up",e.Bottom="tw-tooltip--down",e.Left="tw-tooltip--left",e.Right="tw-tooltip--right"}(r||(r={})),function(e){e.Left="tw-tooltip--align-left",e.Center="tw-tooltip--align-center",e.Right="tw-tooltip--align-right"}(i||(i={}));var p=function(e){var t,n,a,p,_=Object(c.a)(),h={"tw-tooltip":!0,"tw-tooltip--wrap":!!e.width},m={"tw-tooltip-wrapper":!0,"tw-tooltip-wrapper--show":e.show};e.direction?h[e.direction]=!0:h[r.Top]=!0,e.align&&e.align!==i.Center&&e.direction!==r.Left&&e.direction!==r.Right?h[e.align]=!0:h[i.Center]=!0,e.offsetX&&(e.align===i.Right?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction&&e.direction!==r.Top?a=e.offsetY:p=e.offsetY);var E={marginLeft:t,marginRight:n,marginTop:a,marginBottom:p,width:e.width},v=o()({className:Object(l.a)(m),display:e.display?e.display:d.d.InlineFlex,position:d.j.Relative},Object(u.a)(e));return e.disabled||Object.assign(v,{"aria-describedby":e.id||_,title:e.title}),s.createElement(f.a,v,e.children,!e.disabled&&s.createElement("div",{className:Object(l.a)(h),style:E,"data-a-target":"tw-tooltip-label",role:"tooltip",id:e.id||_},e.label))};p.displayName="Tooltip",p.displayName="Tooltip"},b9S2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MatureOverlay=t.MatureOverlayComponent=t.KEY_MATURE=t.MATURE_LINK_ID=t.MATURE_ACCEPT_LABEL=t.MATURE_WARNING_LABEL=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=u(n("TSYQ")),s=n("1fV9"),l=n("9kay");function u(e){return e&&e.__esModule?e:{default:e}}var c=t.MATURE_WARNING_LABEL="The broadcaster indicated that the channel is intended for mature audiences.",d=t.MATURE_ACCEPT_LABEL="Start Watching",f=t.MATURE_LINK_ID="mature-link",p=(t.KEY_MATURE="mature",(0,o.default)("player-overlay","pl-age-restriction-overlay--wall","pl-age-restriction-overlay")),_=(0,o.default)("player-center-content"),h=(0,o.default)("pl-mature-overlay"),m=(0,o.default)("js-mature-waring-label"),E=(0,o.default)("player-content-button","js-player-mature-accept","js-mature-accept-label"),v={isBlank:a.default.bool,handleMatureAccepted:a.default.func,t:a.default.func.isRequired},y=t.MatureOverlayComponent=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:p},i.default.createElement("div",{className:_},i.default.createElement("div",{className:h},this.renderContent())))}},{key:"renderContent",value:function(){return this.props.isBlank?null:i.default.createElement("div",null,i.default.createElement("p",{className:m},this.props.t(c)),i.default.createElement("p",null,i.default.createElement(s.Button,{className:E,id:f,onClick:this.props.handleMatureAccepted},this.props.t(d))))}}]),t}();y.propTypes=v;t.MatureOverlay=(0,l.translate)()(y)},bBoL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FollowManager=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("qT8i"),o=n("/24N"),s=n("KR5+"),l=n("uAxA"),u=n("/71H"),c=n("ijCd"),d=(r=c)&&r.__esModule?r:{default:r},f=n("Rnd+");var p=["amazon_livestream"];t.FollowManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.unsubs=[],this._initSubscribes()}return i(e,[{key:"_initSubscribes",value:function(){this.unsubs.push((0,a.subscribe)(this.store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this.unsubs.push((0,a.subscribe)(this.store,["playback.ended","playback.hasPlayed"],this.onPlaybackStateChange.bind(this)))}},{key:"onOnlineStatusChange",value:function(e){e.onlineStatus===l.OFFLINE_STATUS&&(this.store.getState().playback.hasPlayed||this._fetchFollowInfo())}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;t.ended&&(this.store.getState().onlineStatus===l.OFFLINE_STATUS&&t.hasPlayed&&this._fetchFollowInfo())}},{key:"_getIDs",value:function(){var e=this.store.getState(),t=e.streamMetadata,n=e.user;return{userId:n.id,channelId:t.channel.id,loggedIn:n.loggedInStatus===u.LOGGED_IN}}},{key:"_checkChannelBlackList",value:function(){var e,t=this.store.getState().streamMetadata;return!!t.channelName&&(0,d.default)(p,"string"!=typeof(e=t.channelName)?"":e.trim().toLowerCase())}},{key:"_fetchFollowInfo",value:function(){var e=this,t=this.store.getState().env,n=this._getIDs(),r=n.userId,i=n.channelId,a=n.loggedIn,l=r===i,u=this._checkChannelBlackList(),c=t.platform===s.PLATFORM_MOBILE_WEB,d=this.store.getState().experiments;if(!l&&i&&!u&&!c)return a?void this.store.dispatch((0,o.fetchFollowInfo)(r,i)):(this.store.dispatch((0,o.followInfoFetched)({following:!1,notificationsEnabled:!1})),void d.get(f.ExperimentIds.PlayerWatchNotifications).then(function(t){"on"===t&&e.store.dispatch((0,o.showFollowNotification)(!0))}))}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},bDXi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuManager=t.SETTINGS_INNER_PADDING=t.IDENTIFIER_CLIP_MODERATION_MENU=t.IDENTIFIER_STAFF_MENU=t.IDENTIFIER_PLAYBACK_SPEED_MENU=t.IDENTIFIER_REPORT_ISSUES_MENU=t.IDENTIFIER_ADVANCED_MENU=t.IDENTIFIER_QUALITY_MENU=t.IDENTIFIER_MAIN_MENU=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=_(n("q1tI")),a=_(n("17x9")),o=_(n("ijCd")),s=n("lJhZ"),l=n("qTN2"),u=n("P/NM"),c=n("op7T"),d=n("wqK4"),f=n("V+OD"),p=n("cKcs");function _(e){return e&&e.__esModule?e:{default:e}}var h=t.IDENTIFIER_MAIN_MENU="main menu",m=t.IDENTIFIER_QUALITY_MENU="quality menu",E=t.IDENTIFIER_ADVANCED_MENU="advanced menu",v=t.IDENTIFIER_REPORT_ISSUES_MENU="report issues menu",y=t.IDENTIFIER_PLAYBACK_SPEED_MENU="playback speed menu",g=t.IDENTIFIER_STAFF_MENU="staff menu",T=t.IDENTIFIER_CLIP_MODERATION_MENU="clip moderation menu",b=t.SETTINGS_INNER_PADDING=85,S=[h,m,E,v,y,g,T],A={playerHeight:a.default.number.isRequired};(t.MenuManager=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMenu:h},e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(e){(0,o.default)(S,e)&&this.setState({currentMenu:e})}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-b+"px"};return i.default.createElement("div",{className:"pl-menu",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.state.currentMenu){case m:return i.default.createElement(l.QualityMenu,{onMenuTransition:this.handleMenuTransition});case E:return i.default.createElement(u.AdvancedMenu,{onMenuTransition:this.handleMenuTransition});case v:return i.default.createElement(c.ReportIssuesMenu,{onMenuTransition:this.handleMenuTransition});case y:return i.default.createElement(d.PlaybackSpeedMenu,{onMenuTransition:this.handleMenuTransition});case g:return i.default.createElement(f.StaffMenu,{onMenuTransition:this.handleMenuTransition});case T:return i.default.createElement(p.ClipsModerationMenu,{onMenuTransition:this.handleMenuTransition});case h:default:return i.default.createElement(s.MainMenu,{onMenuTransition:this.handleMenuTransition})}}}]),t}()).propTypes=A},bMe5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=t.NullAdsManager=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"requestAds",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}},{key:"destroy",value:function(){}},{key:"paused",get:function(){return!1}},{key:"muted",get:function(){return!1}},{key:"sdk",get:function(){return""}}]),e}();t.nullAdsManager=new i},bNQv:function(e,t,n){var r=n("gFfm"),i=n("SKAX"),a=n("EwQA"),o=n("Z0cm");e.exports=function(e,t){return(o(e)?r:i)(e,a(t))}},bWEd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getChannelLoudness=t.getNormalizedAdVolume=t.RequestingAdsManager=t.PLAYER_VOLUME_THRESHOLD_FOR_VOLUME_NORMALIZATION=t.AD_LOUDNESS_REAL_TIME_EXPERIMENT_GROUP_MAP=t.VAES_AD_SERVER=t.DFP_AD_SERVER=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("QBeZ"),o=n("QcJP"),s=n("2GWp"),l=n("0D68"),u=n("pB4y"),c=n("4b1H"),d=n("kxDQ"),f=n("VPTj"),p=U(n("3OWR")),_=U(n("tpxX")),h=U(n("mwIZ")),m=U(n("UB5X")),E=U(n("6qam")),v=U(n("DzJC")),y=U(n("TP7S")),g=x(n("TRt3")),T=n("EoNM"),b=n("wsSb"),S=n("VIow"),A=n("qT8i"),C=n("uC+K"),O=n("wjyp"),P=x(n("UvTj")),N=n("AUsz"),I=n("z3zQ"),R=n("QBeZ"),w=U(n("4O8T")),k=n("Rnd+"),M=n("AUgO"),L=n("IdQn"),D=x(n("fT0A"));function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function U(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var V=t.DFP_AD_SERVER="DFP",j=t.VAES_AD_SERVER="VAES",q=Object.freeze({preroll:a.AdRollTypes.PREROLL,midroll:a.AdRollTypes.MIDROLL,postroll:a.AdRollTypes.POSTROLL}),F=Object.freeze({content:"",height:0,width:0,isEmpty:!0}),H=Object.freeze({control:0,treatment10:.1,treatment20:.2,treatment30:.3,treatment40:.4,treatment50:.5,treatment60:.6,treatment70:.7,treatment80:.8,treatment90:.9}),Y=t.AD_LOUDNESS_REAL_TIME_EXPERIMENT_GROUP_MAP=Object.freeze({control:"control",treatment_always_adjust:"treatment_always_adjust",treatment_only_down:"treatment_only_down"}),G=t.PLAYER_VOLUME_THRESHOLD_FOR_VOLUME_NORMALIZATION=.1,W=Object.freeze({visible:!0,hidden:!1,prerender:!1}),K=1e3,Q=5e3,z=(t.RequestingAdsManager=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};B(this,e),this._backend=n,this._videoContainer=t,this._unsubscribes=[],this._store=r,this._eventEmitter=new w.default;var a=this._store.getState(),o=a.experiments,s=a.playback;this._preAdImpressionVolume=s.volume,this._hasVolumeBeenAdjusted=!1,this._hasViewerManuallyAdjustedAdVolume=!1,this._requestedAdsManager=null,this._stream=null,this.initEventListeners(),this.adLoudnessPhase1Promise=o.get(k.ExperimentIds.AdLoudnessPhase1),this.adLoudnessRealTimePromise=o.get(k.ExperimentIds.AdLoudnessRealTime);var l={trackContentResumeRequested:this.trackContentResumeRequested.bind(this),trackAdRequested:this.trackAdRequested.bind(this),trackAdRequestError:this.trackAdRequestError.bind(this),trackErrorEvent:this.trackErrorEvent.bind(this),trackAdRequestResponse:this.trackAdRequestResponse.bind(this),trackAdImpression:this.trackAdImpression.bind(this),trackAdLoaded:this.trackAdLoaded.bind(this),trackAdComplete:this.trackAdComplete.bind(this),trackAdError:this.trackAdError.bind(this),trackAdSkipped:this.trackAdSkipped.bind(this),trackAdQuartile:this.trackAdQuartile.bind(this),trackAdTimeElapsed:(0,v.default)(this.trackAdTimeElapsed.bind(this),K),onContentPauseRequested:this.onContentPauseRequested.bind(this),onContentResumeRequested:this.onContentResumeRequested.bind(this),onAdImpression:this.onAdImpression.bind(this),onAdResumed:this.onAdResumed.bind(this),onAdPaused:this.onAdPaused.bind(this),onAdError:this.onAdError.bind(this),onAdEnded:this.onAdEnded.bind(this),onAdStarted:this.onAdStarted.bind(this),onAdSkipped:this.onAdSkipped.bind(this),onAdProgress:this.onAdProgress.bind(this),onCompanionAdRendered:this.onCompanionAdRendered.bind(this),trackAdVolumeChange:(0,v.default)(this.trackAdVolumeChange.bind(this),Q),trackAdFirstQuartile:this.trackAdFirstQuartile.bind(this),trackAdMidPoint:this.trackAdMidPoint.bind(this),trackAdThirdQuartile:this.trackAdThirdQuartile.bind(this),trackAdPlaying:this.trackAdPlaying.bind(this)};this._imaManager=new N.IMAManager(t,n,r,l,i),this._amazonManager=new I.AmazonManager(t,n,r,l),this._currentAdsManager=z,this._moat=null,this._unsubscribes.push((0,A.subscribe)(this._store,["ads.currentAdProperties.adServerDefault","ads.currentAdProperties.adServer"],this._onAdServerChange.bind(this))),this._unsubscribes.push((0,A.subscribe)(this._store,["stream"],this._onStreamChange.bind(this))),this._onAdServerChange(this._store.getState())}return i(e,[{key:"initEventListeners",value:function(){var e=this._store.getState().window;this._handleBeforeUnload=this._handleBeforeUnload.bind(this),e.addEventListener("beforeunload",this._handleBeforeUnload)}},{key:"destroy",value:function(){var e=this._store.getState().window;this._unsubscribes.forEach(function(e){return e()}),this._imaManager.destroy(),this._amazonManager.destroy(),this._moat=null,e.removeEventListener("beforeunload",this._handleBeforeUnload)}},{key:"pause",value:function(){this._currentAdsManager.pause()}},{key:"play",value:function(){this._currentAdsManager.play()}},{key:"setVolume",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._store.getState().ads,r=(0,h.default)(n,"currentMetadata.contentType"),i=r===a.AdContentTypes.IMA||r===a.AdContentTypes.STITCHED;this._currentAdsManager.setVolume(e),this._backend.setVolume(e),this._store.dispatch((0,f.volumeChanged)(e)),i&&!t&&(this._hasViewerManuallyAdjustedAdVolume=!0,T.sessionStore.set(M.HAS_VIEWER_MANUALLY_ADJUSTED_AD_VOLUME,!0))}},{key:"setMuted",value:function(e){this._currentAdsManager.setMuted(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.addListener(e,t)}},{key:"requestAds",value:function(e){return this._currentAdsManager.requestAds(e)}},{key:"onAdError",value:function(e){var t=e.adRequestContext;this._contentPauseRequested&&(this._contentPauseRequested=!1,this._store.dispatch((0,a.clearCurrentAdMetadata)()),this._resumeContent(),this._eventEmitter.emit(P.AD_ERROR,{roll_type:t.adType}))}},{key:"onAdImpression",value:function(e){var t=this,n=e.adRequestContext,i=e.ad,o=e.adServer,s=e.provider,u=this._store.getState(),c=u.window,d=u.playback,f=(0,h.default)(d,"volume"),p=(0,h.default)(c,"Date").now(),m=this._twitchAdStats(i,n,p);this._store.dispatch((0,a.setAdDetails)(i)),this._store.dispatch((0,l.updateAdStats)(m)),this._store.dispatch((0,a.setAdPlayback)({isAdImpression:!0})),1===(0,h.default)(i,"adPodInfo.adPosition")&&(this._preAdImpressionVolume=f,T.sessionStore.set(M.LAST_UNMOUNT_PLAYER_PRE_IMPRESSION_VOLUME,f)),Promise.all([this.adLoudnessRealTimePromise,this.adLoudnessPhase1Promise]).then(function(e){var a=r(e,2),l=a[0],u=a[1];l!==Y.control||"control"!==u||t.trackAdImpression({context:n,adServer:o,provider:s,ad:i})}),this.adLoudnessRealTimePromise.then(function(e){if(e!==Y.control){var r=t._store.getState().streamMetadata,a=T.sessionStore.get(M.SESSION_ID),l=(0,h.default)(r,"channel.name"),u=J({impressionChannel:l,impressionTime:p,impressionSessionId:a});if(t._shouldAdjustAdVolume({group:e,adLoudness:-10.98,channelLoudness:u,adRequestContext:n,provider:s,volume:f})){var c=X({playerVolume:f,contentLoudness:u,adLoudness:-10.98}),d=c<=G?G:c;t.setVolume(d,!0),t._hasVolumeBeenAdjusted=!0}t.trackAdImpression({context:n,adServer:o,provider:s,ad:i})}}),this.adLoudnessPhase1Promise.then(function(e){if("control"!==e){var r=t._store.getState(),l=r.ads,u=r.playback,c=(0,h.default)(l,"details.adPodInfo.adPosition"),d=(0,h.default)(l,"currentMetadata.rollType"),p=1===c,m=(0,h.default)(u,"muted");if(p&&!m&&d===a.AdRollTypes.MIDROLL&&s===I.AMAZON_PROVIDER&&f>G){t._hasVolumeBeenAdjusted=!0;var E=1-H[e],v=(0,_.default)(t._preAdImpressionVolume*E,10),y=v<=G?G:v;t.setVolume(y,!0)}t.trackAdImpression({context:n,adServer:o,provider:s,ad:i})}}),this._eventEmitter.emit(P.AD_IMPRESSION,{time_break:n.duration})}},{key:"onContentPauseRequested",value:function(e){var t=this._store.getState().ads;this._contentPauseRequested=!0,(0,u.isAdPlaying)({ads:t})||(this._interruptContent(),this._store.dispatch((0,a.setCurrentAdMetadata)({contentType:a.AdContentTypes.IMA,rollType:q[e.adType]})),this._requestedAdsManager=this._currentAdsManager,this._eventEmitter.emit(P.AD_START,{roll_type:e.adType}))}},{key:"onContentResumeRequested",value:function(e){var t=this,n=this._store.getState().ads;this._contentPauseRequested=!1,(0,u.isAdPlaying)({ads:n})&&((0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_STOPPED),this._store.dispatch((0,a.clearCurrentAdMetadata)()),this._eventEmitter.emit(P.AD_END,{roll_type:e.adType,channel_id:e.channelId}),this._resumeContent(),Promise.all([this.adLoudnessPhase1Promise,this.adLoudnessRealTimePromise]).then(function(){t._hasVolumeBeenAdjusted&&!t._hasViewerManuallyAdjustedAdVolume&&t.setVolume(t._preAdImpressionVolume,!0),t._hasViewerManuallyAdjustedAdVolume=!1,T.sessionStore.set(M.HAS_VIEWER_MANUALLY_ADJUSTED_AD_VOLUME,!1)}),this.trackContentResumeRequested(e),this._requestedAdsManager=null)}},{key:"onAdEnded",value:function(e){var t=e.adRequestContext,n=e.ad,r=e.adServer,i=e.provider;this.trackAdComplete({context:t,adServer:r,provider:i,ad:n}),this._store.dispatch((0,a.setAdPlayback)({isAdImpression:!1})),this._store.dispatch((0,R.setRemainingAdTime)(0)),this._eventEmitter.emit(P.AD_IMPRESSION_COMPLETE),(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_COMPLETE)}},{key:"onAdPaused",value:function(){this._store.dispatch((0,s.emitAdPauseEvent)()),(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_PAUSED)}},{key:"onAdResumed",value:function(){this._store.dispatch((0,s.emitAdPlayingEvent)())}},{key:"onAdProgress",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{remainingAdTime:0}).remainingAdTime;this._store.dispatch((0,R.setRemainingAdTime)(e))}},{key:"onAdStarted",value:function(){this._store.dispatch((0,s.emitAdPlayEvent)()),(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_START)}},{key:"onAdSkipped",value:function(){this._eventEmitter.emit(P.AD_SKIPPED)}},{key:"onCompanionAdRendered",value:function(e){var t=e.provider,n=e.companionAd,r=n||F;this._eventEmitter.emit(P.COMPANION_AD_BUFFERED,r),n&&(this._store.dispatch((0,o.adCompanionRendered)(P.COMPANION_RENDERED,{provider:t})),this._eventEmitter.emit(P.COMPANION_RENDERED,{provider:t}))}},{key:"trackAdRequested",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=(0,p.default)({},(0,O.initializeAdSpadeEvent)(t),{main_play_session_id:this._store.getState().analytics.playSessionId,player_size_mode:(0,d.getPlayerSizeMode)(this._store)});(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_REQUEST,data:i,adServer:n})}},{key:"trackAdRequestError",value:function(e){var t=e;t.eventName=g.AD_REQUEST_ERROR,this.trackErrorEvent(t)}},{key:"trackErrorEvent",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.reason,a=e.eventName,o=(0,p.default)({},(0,O.initializeAdSpadeEvent)(t),{main_play_session_id:this._store.getState().analytics.playSessionId,player_size_mode:(0,d.getPlayerSizeMode)(this._store)});o.reason=i,(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:a,data:o,adServer:n})}},{key:"trackAdError",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.reason,a=e.errorCode,o=e.errorType,s=(0,O.initializeAdSpadeEvent)(t);s.reason=i,s.error_code=a,s.error_type=o,(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_ERROR,data:s,adServer:n})}},{key:"trackAdQuartile",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,o=e.quartile,s=e.useComplete,l=void 0!==s&&s,u=this._store.getState(),c=u.playback,f=u.window,m=u.ads,E=u.analytics,v=f.document,y=c.muted,T=c.volume,b=(0,h.default)(v,"visibilityState"),S=W[b],A=l?g.AD_IMPRESSION_COMPLETE:g.AD_QUARTILE_COMPLETE,C=(0,h.default)(m,"currentMetadata.contentType"),P=(0,p.default)({},(0,O.initializeAdSpadeEvent)(t,i),{player_mute:y,main_play_session_id:E.playSessionId,player_volume:(0,_.default)(T,10),player_size_mode:(0,d.getPlayerSizeMode)(this._store),stitched:C===a.AdContentTypes.STITCHED,visible:S});void 0!==o&&(P.quartile=o),(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:A,data:P,adServer:n})}},{key:"trackAdComplete",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad;this.trackAdQuartile({context:t,adServer:n,provider:r,ad:i,quartile:4}),this.trackAdQuartile({context:t,adServer:n,provider:r,ad:i,useComplete:!0})}},{key:"trackAdImpression",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,o=this._store.getState(),s=o.window,l=o.playback,u=o.ads,c=o.analytics,f=s.Date,m=s.document,E=l.muted,v=l.volume,y=f.now(),T=(0,h.default)(m,"visibilityState"),b=W[T],S=(0,h.default)(u,"currentMetadata.contentType"),A=(0,p.default)({},(0,O.initializeAdSpadeEvent)(t,i),{request_to_impression_latency:y-t.requestTime,player_size_mode:(0,d.getPlayerSizeMode)(this._store),player_mute:E,main_play_session_id:c.playSessionId,player_volume:(0,_.default)(v,10),pre_impression_player_volume:this._preAdImpressionVolume,stitched:S===a.AdContentTypes.STITCHED,visible:b});(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_IMPRESSION,data:A,adServer:n})}},{key:"trackContentResumeRequested",value:function(e){var t=this._store.getState(),n=t.window,r=t.playback,i=n.document,a=r.muted,o=r.volume,s=(0,h.default)(i,"visibilityState"),l=W[s],u=(0,p.default)({},(0,O.initializeAdSpadeEvent)(e),{player_mute:a,player_volume:(0,_.default)(o,10),visible:l});(0,O.sendAdSpadeEvent)({store:this._store,eventName:g.AD_CONTENT_RESUME_REQUESTED,data:u})}},{key:"trackAdLoaded",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,a=e.adContainer,o=e.adsManager;this._setupMoat(a,t,i,o),(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_LOADED,data:(0,O.initializeAdSpadeEvent)(t,i),adServer:n})}},{key:"trackAdSkipped",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,a=this._store.getState().window.Date,o=(0,O.initializeAdSpadeEvent)(t,i);o.client_time=a.now(),(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_SKIPPED,data:o,adServer:n})}},{key:"trackAdRequestResponse",value:function(e){var t=e.context,n=e.adServer,r=e.provider;(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_REQUEST_RESPONSE,data:(0,O.initializeAdSpadeEvent)(t),adServer:n})}},{key:"trackAdTimeElapsed",value:function(e){var t=e.context,n=e.adServer,r=e.provider,i=e.ad,o=e.timeElapsed,s=this._store.getState(),l=s.playback,u=s.window,c=s.ads,f=s.analytics,m=u.document,E=u.Date,v=l.muted,y=l.volume,T=(0,h.default)(m,"visibilityState"),b=W[T],S=(0,h.default)(c,"currentMetadata.contentType"),A=(0,p.default)({},(0,O.initializeAdSpadeEvent)(t,i),{main_play_session_id:f.playSessionId,player_mute:v,player_volume:(0,_.default)(y,10),player_size_mode:(0,d.getPlayerSizeMode)(this._store),visible:b,stitched:S===a.AdContentTypes.STITCHED});A.client_time=E.now(),A.time_elapsed=o,(0,O.sendAdSpadeEvent)({store:this._store,provider:r,eventName:g.AD_TIME_ELAPSED,data:A,adServer:n})}},{key:"trackAdVolumeChange",value:function(){(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VOLUME_CHANGED)}},{key:"trackAdFirstQuartile",value:function(){(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_FIRST_QUARTILE)}},{key:"trackAdMidPoint",value:function(){(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_MIDPOINT)}},{key:"trackAdThirdQuartile",value:function(){(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_THIRD_QUARTILE)}},{key:"trackAdPlaying",value:function(){(0,L.sendMoatSpadeEvent)(this._store,D.AD_MOAT_VPAID_VIDEO_PLAYING)}},{key:"_handleBeforeUnload",value:function(){var e=Date.now(),t=T.localStore.get(M.LAST_MOUNT_SESSION_ID),n=T.localStore.get(M.LAST_MOUNT_CHANNEL),r=T.sessionStore.get(M.CHANNEL_LOUDNESS);T.localStore.set(M.LAST_UNMOUNT_TIME,e),T.localStore.set(M.LAST_UNMOUNT_SESSION_ID,t),T.localStore.set(M.LAST_UNMOUNT_CHANNEL,n),T.localStore.set(M.LAST_UNMOUNT_CHANNEL_LOUDNESS,r),T.sessionStore.remove(M.CHANNEL_LOUDNESS)}},{key:"_twitchAdStats",value:function(e,t,n){var r=this._store.getState().ads.currentMetadata.rollType,i=n/1e3,a=t.adSessionId,o=t.twitchCorrelator;return{id:e.adId,adPodInfo:e.adPodInfo,creativeId:e.creativeId,title:e.title,adWrapperIds:e.adWrapperIds,adWrapperCreativeIds:e.adWrapperCreativeIds,adWrapperSystems:e.adWrapperSystems,system:e.adSystem,contentType:e.contentType,duration:e.duration,vastMediaHeight:e.vastMediaHeight,vastMediaWidth:e.vastMediaWidth,vastMediaBitrate:e.vastMediaBitrate,mediaUrl:e.mediaUrl,rollType:r,sessionId:a,twitchCorrelator:o,impressionTime:i}}},{key:"_onAdServerChange",value:function(e){var t=e.ads.currentAdProperties,n=t.adServerDefault||t.adServer;return n===V?(this._imaManager.loadSDK(),void(this._currentAdsManager=this._imaManager)):n===j?(this._amazonManager.loadSDK(),void(this._currentAdsManager=this._amazonManager)):void(this._currentAdsManager=z)}},{key:"_setupMoat",value:function(e,t,n,r){var i=this._store.getState().ads,a=i.currentAdProperties.adServerDefault||i.currentAdProperties.adServer;return a===j?(this._moat=new L.MoatAnalytics(e,this._store,{vaes:!0}),void this._moat.trackAd(r,t,n)):a===V?(this._moat=new L.MoatAnalytics(e,this._store),void this._moat.trackAd(r,t,n)):void 0}},{key:"_interruptContent",value:function(){var e=this._store.getState().stream;e instanceof b.LiveTwitchContentStream?this._backend.setMuted(!0):e instanceof S.VODTwitchContentStream&&!this._backend.getEnded()&&this._store.dispatch((0,c.automatedPause)())}},{key:"_resumeContent",value:function(){var e=this._store.getState(),t=e.playback,n=e.stream;this._backend.setVolume(t.volume),this._backend.setMuted(t.muted),n instanceof S.VODTwitchContentStream&&!this._backend.getEnded()&&this._store.dispatch((0,c.play)())}},{key:"_onStreamChange",value:function(e){var t=this._store.getState().ads;if(!(0,u.isAdPlaying)({ads:t}))return this._stream=e,void this._store.dispatch((0,a.clearCurrentAdMetadata)());this._stream&&this._stream!==e&&(this._requestedAdsManager&&(this._requestedAdsManager.stop(),this._requestedAdsManager=null),this._resumeContent(),this._store.dispatch((0,a.clearCurrentAdMetadata)())),this._stream=e}},{key:"_shouldAdjustAdVolume",value:function(e){var t=e.group,n=e.adLoudness,r=e.channelLoudness,i=e.adRequestContext,a=e.provider,o=e.volume;if((0,y.default)(t)||(0,y.default)(n)||(0,y.default)(r)||(0,y.default)(i)||(0,y.default)(a)||(0,y.default)(o))return!1;var s=this._store.getState().playback,l=(0,h.default)(s,"muted"),u=(0,h.default)(i,"playerType"),c=u===C.PLAYER_SQUAD_PRIMARY||u===C.PLAYER_SQUAD_SECONDARY,d=!(0,E.default)(r),f=t===Y.control||t===Y.treatment_only_down&&d&&n<=r;return!l&&a===I.AMAZON_PROVIDER&&o>G&&!c&&!this._hasViewerManuallyAdjustedAdVolume&&d&&!f}},{key:"sdk",get:function(){return this._currentAdsManager.sdk}}]),e}(),new(function(){function e(){B(this,e)}return i(e,[{key:"requestAds",value:function(){return Promise.reject("Null Ads manager")}},{key:"pause",value:function(){}},{key:"play",value:function(){}},{key:"stop",value:function(){}},{key:"setVolume",value:function(){}},{key:"setMuted",value:function(){}},{key:"addEventListener",value:function(){}}]),e}())),X=t.getNormalizedAdVolume=function(e){var t=e.playerVolume,n=e.contentLoudness,r=e.adLoudness;if((0,y.default)(n)||(0,y.default)(r))return t;var i=8.6901,a=i*Math.log(t)-.0029+(n-r),o=Math.exp((a+.0029)/i);return o===1/0?1/0:o>1?1:(0,_.default)(o,10)},J=t.getChannelLoudness=function(e){var t=e.impressionChannel,n=e.impressionTime,r=e.impressionSessionId;if((0,y.default)(t)||(0,y.default)(n)||(0,y.default)(r))return null;var i=T.localStore.get(M.LAST_MOUNT_CHANNEL),a=T.localStore.get(M.LAST_MOUNT_TIME),o=T.localStore.get(M.LAST_MOUNT_SESSION_ID),s=T.localStore.get(M.LAST_UNMOUNT_TIME),l=T.localStore.get(M.LAST_UNMOUNT_CHANNEL_LOUDNESS),u=T.sessionStore.get(M.CHANNEL_LOUDNESS);if(t===i&&r===o&&n-a<=1e4){var c=n-s<=3e5,d=(0,m.default)(l);if(c&&d)return(0,_.default)(l,10)}else{var f=r===o,p=t===i,h=(0,m.default)(u);if(f&&p&&h)return(0,_.default)(u,10)}return null}},bWha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ACCESS_TOKEN=void 0,t.accessToken=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_SET_ACCESS_TOKEN_PARAMS:return(0,a.default)({},e,{params:t.params});case s.ACTION_SET_PLAYER_TYPE:return(0,a.default)({},e,{params:(0,a.default)({},e.params,{player_type:t.playerType})});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("WgOZ"),s=n("bnTl");var l=t.DEFAULT_ACCESS_TOKEN={params:{need_https:!1}}},bahg:function(e,t){e.exports=function(e){return e.split("")}},bdgK:function(e,t,n){"use strict";n.r(t),function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),a="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},o=2,s=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,u=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function s(){n&&(n=!1,e()),r&&u()}function l(){a(s)}function u(){var e=Date.now();if(n){if(e-i<o)return;r=!0}else n=!0,r=!1,setTimeout(l,t);i=e}return u}(this.refresh.bind(this),20)};u.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},u.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},u.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},u.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},u.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},u.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},u.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),s.some(function(e){return!!~t.indexOf(e)})&&this.refresh()},u.getInstance=function(){return this.instance_||(this.instance_=new u),this.instance_},u.instance_=null;var c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},f=v(0,0,0,0);function p(e){return parseFloat(e)||0}function _(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce(function(t,n){return t+p(e["border-"+n+"-width"])},0)}function h(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],a=e["padding-"+i];t[i]=p(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=p(r.width),l=p(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=_(r,"left","right")+a),Math.round(l+o)!==n&&(l-=_(r,"top","bottom")+o)),!function(e){return e===d(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return v(i.left,i.top,s,l)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function E(e){return r?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):h(e):f}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var y=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e};y.prototype.isActive=function(){var e=E(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},y.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var g=function(e,t){var n,r,i,a,o,s,l,u=(r=(n=t).x,i=n.y,a=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(s.prototype),c(l,{x:r,y:i,width:a,height:o,top:i,right:r+a,bottom:o+i,left:r}),l);c(this,{target:e,contentRect:u})},T=function(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r};T.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},T.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new g(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return this.activeObservations_.length>0};var b="undefined"!=typeof WeakMap?new WeakMap:new n,S=function(e){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=u.getInstance(),n=new T(e,t,this);b.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){S.prototype[e]=function(){return(t=b.get(this))[e].apply(t,arguments);var t}});var A=void 0!==i.ResizeObserver?i.ResizeObserver:S;t.default=A}.call(this,n("yLpj"))},bffu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsAcceptUnreleased=t.ExtensionsAcceptUnreleasedComponent=t.EXT_LEARN_BUTTON=t.EXT_DECLINE_BUTTON=t.EXT_ACCEPT_BUTTON=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("17x9")),a=p(n("q1tI")),o=p(n("TSYQ")),s=n("N58E"),l=n("1fV9"),u=n("wy0h"),c=n("hm9X"),d=n("vpBF"),f=n("9kay");function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={installation:c.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,declineUnreleased:i.default.func.isRequired,acceptUnreleased:i.default.func.isRequired,t:i.default.func.isRequired},m=(0,o.default)({"pl-menu__section":!0,"pl-menu__item--label":!0,"extension-accept-unreleased__header":!0}),E=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),v=(0,o.default)({"pl-menu__item--label":!0,"extension-accept-unreleased__text":!0}),y=(0,o.default)({"extension-menu-footer":!0,"extension-accept-unreleased__footer":!0}),g="https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",T=t.EXT_ACCEPT_BUTTON="qa-ext-accept-unreleased",b=t.EXT_DECLINE_BUTTON="qa-ext-decline-unreleased",S=t.EXT_LEARN_BUTTON="qa-ext-learn-unreleased",A=t.ExtensionsAcceptUnreleasedComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleDecline=e.handleDecline.bind(e),e.handleAccept=e.handleAccept.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"handleDecline",value:function(){var e=this.props.installation;this.props.declineUnreleased(e.id)}},{key:"handleAccept",value:function(){var e=this.props.installation;this.props.acceptUnreleased(e.id,e.activationConfig.slot)}},{key:"render",value:function(){var e=this.props.installation,t=this._renderBody(),n=this._renderFooter();return a.default.createElement("div",{className:"pl-menu__inner"},a.default.createElement("div",{className:m},e.extension.name),a.default.createElement("div",{className:E},t),n)}},{key:"_renderBody",value:function(){var e=this.props,t=e.installation,n=e.t;if((0,d.isDeclined)(t))return a.default.createElement("div",{className:v},n("You've declined to use this test extension. To use it, please refresh this page and select accept."));var r=this._renderMoreLink();return a.default.createElement("div",{className:v},n("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.")," ",r)}},{key:"_renderMoreLink",value:function(){var e=this.props.t;return a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:g},e("Learn More"))}},{key:"_renderFooter",value:function(){var e,t,n,r=this.props,i=r.installation,s=r.t,u=(0,o.default)((_(e={},S,!0),_(e,"pl-button",!0),_(e,"pl-button--hollow",!0),e)),c=(0,o.default)((_(t={},T,!0),_(t,"pl-button",!0),_(t,"extension-accept-unreleased-footer__button",!0),t)),f=(0,o.default)((_(n={},b,!0),_(n,"pl-button",!0),_(n,"pl-button--hollow",!0),_(n,"extension-accept-unreleased-footer__button",!0),n));return(0,d.isDeclined)(i)?a.default.createElement("div",{className:y},a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:g},a.default.createElement(l.Button,{className:u},s("Learn More")))):a.default.createElement("div",{className:y},a.default.createElement(l.Button,{className:f,onClick:this.handleDecline},s("Decline")),a.default.createElement(l.Button,{className:c,onClick:this.handleAccept},s("Accept")))}}]),t}();A.propTypes=h;t.ExtensionsAcceptUnreleased=(0,f.translate)()((0,s.connect)(null,function(e){return{declineUnreleased:function(t){e((0,u.declineUnreleased)(t))},acceptUnreleased:function(t,n){e((0,u.acceptUnreleased)(t)),e((0,u.setExtensionMenu)(n,d.EXTENSION_MENU_DETAILS))}}})(A))},bhbo:function(e,t,n){},biAU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.recommendations=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.ACTION_SET_RECOMMENDED_VODS:return(0,s.default)({},e,{type:t.recommendationsType,videos:t.videos,status:i.FETCHED,numVideosVisible:t.videos.length>0?e.numVideosVisible:0});case i.ACTION_SET_FETCHING_STATUS:return(0,s.default)({},e,{status:t.status});case i.ACTION_SET_NUM_VODS_VISIBLE:return(0,s.default)({},e,{numVideosVisible:t.numVids});case i.ACTION_CLEAR_RECOMMENDED_VODS:case a.ACTION_SET_STREAM:return(0,s.default)({},l);default:return e}};var r,i=n("9Mp/"),a=n("D3OJ"),o=n("3OWR"),s=(r=o)&&r.__esModule?r:{default:r};var l={type:"",videos:[],numVideosVisible:0,status:i.UNFETCHED}},bj99:function(e){e.exports={locales:["ar-SA","bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-US","es-MX","es-US","es-ES","es-LA","fi-FI","fr-FR","hi-IN","hu-HU","it-IT","ja-JP","ko-KR","nl-NL","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","sv-SE","th-TH","tr-TR","vi-VN","zh-TW","zh-CN"]}},bnTl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setEnvironment=function(e){var t=e.deviceId;return{type:r,deviceId:t}},t.setPlayerType=function(e){return{type:i,playerType:e}},t.setTwitchEverywhereParams=function(e){return{type:a,params:e}};var r=t.ACTION_SET_ENVIRONMENT="set environment",i=t.ACTION_SET_PLAYER_TYPE="set player type",a=t.ACTION_SET_TWITCH_EVERYWHERE_PARAMS="set twitch everywhere params"},btZp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerHotkeys=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("qT8i"),a=v(n("lFKM")),o=v(n("UfWW")),s=E(n("uC+K")),l=n("Qn3q"),u=E(n("J0qE")),c=n("rRi7"),d=n("KE4D"),f=n("4b1H"),p=n("Ynch"),_=n("mWCY"),h=v(n("ijCd")),m=v(n("puQj"));function E(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e){return e&&e.__esModule?e:{default:e}}var y="Control",g=Object.freeze({17:y,32:" ",33:"PageUp",34:"PageDown",27:"Escape",38:"ArrowUp",40:"ArrowDown",37:"ArrowLeft",39:"ArrowRight",70:"f",188:",",190:"."});function T(e){var t=e.which||e.keyCode||e.charCode;return e.key?e.key:g[t]}t.PlayerHotkeys=function(){function e(t,n,r,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n?(this.ctrl=!1,this.store=r,this.player=t,this.root=n,this.unsubs=[],this._initSubscribes(),this.rootKeydownListener=function(e){var t=e.target||e.srcElement,n="INPUT"===t.tagName&&"text"===t.getAttribute("type"),i="TEXTAREA"===t.tagName,o="true"===t.contentEditable,s=r.getState().ui.isMini;n||i||o||s||a.keydownHandler(e)},this.rootKeyupListener=function(e){T(e)===y&&(a.ctrl=!1)},n.setAttribute("tabindex",i.tabindex||-1),n.addEventListener("keydown",this.rootKeydownListener),n.addEventListener("keyup",this.rootKeyupListener),this.updateHandlers(r.getState())):console.error("No root element, unable to initialize player hotkeys.")}return r(e,[{key:"_initSubscribes",value:function(){this.unsubs.push((0,i.subscribe)(this.store,["env.playerType"],this.updateHandlers.bind(this)))}},{key:"updateHandlers",value:function(e){var t=e.env.playerType;(0,h.default)(s.CLIPS_PLAYER_TYPES,t)?this.keydownHandler=this.handleClipsViewingHotkeys:this.keydownHandler=this.handlePlayerHotkeys}},{key:"seekSeconds",value:function(e){var t=this.store,n=this.player,r=n.getChannel(),i=n.getCurrentTime(),o=t.getState().playback.duration;if(!r&&(0,a.default)(o)&&!n.getPaused()){var s=this.calculateTargetTime(i,e,.01,o,n.getEnded());s&&n.setCurrentTime(s)}}},{key:"calculateTargetTime",value:function(e,t,n,r,i){var a=i?r+t:e+t;return a<n?n:a>r?null:a}},{key:"togglePlayback",value:function(){var e=this.store;e.getState().playback.paused?e.dispatch((0,f.play)()):e.dispatch((0,f.pause)())}},{key:"changeVolumeByStep",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.volume,r=u.volumeStepAmount,i=void 0;i=e?Math.round(100*Math.min(n+r,1))/100:Math.round(100*Math.max(n-r,0))/100,t.dispatch((0,f.changeVolume)(i))}},{key:"updatePlaybackRate",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.store,n=t.getState().playback.playbackRate,r=(0,o.default)(_.PLAYBACK_SPEEDS,function(e){return e===n}),i=n;e&&r<_.PLAYBACK_SPEEDS.length-1?i=_.PLAYBACK_SPEEDS[r+1]:!e&&r>0&&(i=_.PLAYBACK_SPEEDS[r-1]),n!==i&&t.dispatch((0,f.changePlaybackRate)(i))}},{key:"handlePlayerHotkeys",value:function(e){var t=this.store,n=this.player;switch(T(e)){case y:this.ctrl=!0;break;case" ":case"Spacebar":if("BUTTON"===e.target.tagName&&m.default.firefox&&m.default.windows)return;this.togglePlayback();break;case"PageUp":n.setMuted(!1);break;case"PageDown":n.setMuted(!0);break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":t.getState().collection.currentView===p.SIDEBAR_VIEW?t.dispatch((0,c.closeCollectionSidebar)()):(0,l.isEmbed)()&&t.getState().screenMode.isTheatreMode&&t.dispatch((0,d.setTheatreMode)(!1));break;case"f":case"F":if(!this.ctrl||t.getState().env.playerType===s.PLAYER_MULTIVIEW_SECONDARY)return;t.dispatch((0,d.toggleFullScreen)());break;case"ArrowRight":case"Right":this.seekSeconds(u.hotkeySeekAmount);break;case"ArrowLeft":case"Left":this.seekSeconds(-u.hotkeySeekAmount);break;default:return}e.preventDefault()}},{key:"handleClipsViewingHotkeys",value:function(e){var t=this.store;switch(T(e)){case y:this.ctrl=!0;break;case" ":case"Spacebar":this.togglePlayback();break;case"ArrowUp":case"Up":this.changeVolumeByStep(!0);break;case"ArrowDown":case"Down":this.changeVolumeByStep(!1);break;case"Escape":case"Esc":(0,d.setFullScreen)(!1);break;case"f":case"F":t.dispatch((0,d.toggleFullScreen)());break;case"ArrowRight":case"Right":this.seekSeconds(u.clipsHotkeySeekAmount);break;case"ArrowLeft":case"Left":this.seekSeconds(-u.clipsHotkeySeekAmount);break;case",":this.updatePlaybackRate(!1);break;case".":this.updatePlaybackRate(!0);break;default:return}e.preventDefault()}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()}),this.root.removeEventListener("keyup",this.rootKeyupListener),this.root.removeEventListener("keydown",this.rootKeydownListener)}}]),e}()},byJi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case o.ACTION_SET_MINIPLAYER_MODE:return(0,a.default)({},e,{isMini:Boolean(t.value)});case o.ACTION_SHOW_SETTINGS_MENU:return(0,a.default)({},e,{showSettings:t.value,showExtensionsSubmenu:t.extensionsSubmenu});case o.ACTION_SET_UI_DISPLAY:return(0,a.default)({},e,{showUI:t.showUI});case o.ACTION_HOVERING_ON_UI_ELEMENT:return(0,a.default)({},e,{onUIElement:!0});case o.ACTION_HOVERING_OFF_UI_ELEMENT:return(0,a.default)({},e,{onUIElement:!1});case o.ACTION_VISIBILITY_CHANGE:return(0,a.default)({},e,{hidden:t.hidden});case o.ACTION_SHOW_PLAYER_CONTROLS:return(0,a.default)({},e,{shouldShowControls:t.showPlayerControls});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Z4ex")),s=n("vpBF");var l={isMini:!1,showSettings:o.MENU_STATE_NONE,showExtensionsSubmenu:s.EXTENSION_MENU_MAIN,shouldShowControls:!0,showUI:!1,onUIElement:!1,hidden:!1}},"c+Qp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchEverywherePanelContainer=t.TwitchEverywherePanel=t.mapDispatchToProps=t.TE_NAMESPACE=t.SUBSCRIBE=t.AUTHENTICATION_REQUIRED=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=n("/24N"),s=n("N58E"),l=n("R1R7"),u=n("/71H"),c=n("uC+K");function d(e){return e&&e.__esModule?e:{default:e}}var f=t.AUTHENTICATION_REQUIRED="authentication-required",p=t.SUBSCRIBE="subscribe",_=t.TE_NAMESPACE="twitch-everywhere",h={avatarURL:a.default.string,channelName:a.default.string.isRequired,channelId:a.default.number.isRequired,userId:a.default.number.isRequired,isLoggedIn:a.default.bool.isRequired,isFollowing:a.default.bool.isRequired,didFetchFollow:a.default.bool.isRequired,didFetchSubscriptions:a.default.bool.isRequired,followChannel:a.default.func.isRequired,unfollowChannel:a.default.func.isRequired,window:a.default.object.isRequired,notificationsEnabled:a.default.bool.isRequired,analytics:a.default.object.isRequired,targetOrigin:a.default.string.isRequired},m=t.mapDispatchToProps=function(e){return{followChannel:function(t,n){e((0,o.followChannel)(t,n))},unfollowChannel:function(t,n){e((0,o.unfollowChannel)(t,n))}}},E=t.TwitchEverywherePanel=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleFollowChannel=e.handleFollowChannel.bind(e),e.handleUnfollowChannel=e.handleUnfollowChannel.bind(e),e.handleSubscribe=e.handleSubscribe.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.analytics.trackEvent(o.NOTIFICATIONS_BUTTON_VIEW,{follow_state:this.props.isFollowing,notif_state:this.props.notificationsEnabled,src:c.PLAYER_TWITCH_EVERYWHERE})}},{key:"postMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.props.window.parent.postMessage({eventName:e,namespace:_,params:t},this.props.targetOrigin)}},{key:"handleFollowChannel",value:function(){this.props.isLoggedIn?this.props.followChannel(this.props.userId,this.props.channelId):this.postMessage(f)}},{key:"handleUnfollowChannel",value:function(){this.props.unfollowChannel(this.props.userId,this.props.channelId)}},{key:"handleSubscribe",value:function(){var e=this.props.channelName;this.postMessage(p,{channelName:e})}},{key:"render",value:function(){var e=!this.props.isLoggedIn&&this.props.channelName,t=this.props.didFetchFollow&&this.props.didFetchSubscriptions,n=this.props.channelId===this.props.userId;return e||t&&!n?i.default.createElement(l.TwitchEverywhereFollowPanel,{avatarURL:this.props.avatarURL,onFollowChannel:this.handleFollowChannel,onUnfollowChannel:this.handleUnfollowChannel,onSubscribe:this.handleSubscribe}):null}}]),t}();E.propTypes=h;var v=(0,s.connect)(function(e){return{avatarURL:e.streamMetadata.channel.logo,channelName:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,userId:e.user.id,isLoggedIn:e.user.loggedInStatus===u.LOGGED_IN,isFollowing:e.follow.following,didFetchSubscriptions:e.subscriptions.didFetch,didFetchFollow:e.follow.fetched,window:e.window,notificationsEnabled:e.follow.notificationsEnabled,analytics:e.analyticsTracker,targetOrigin:e.env.twitchEverywhere.targetOrigin}},m);t.TwitchEverywherePanelContainer=v(E)},cBp7:function(e,t,n){},cKcs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsModerationMenu=t.mapDispatchToProps=t.mapStateToProps=void 0,t.ClipsModerationMenuContainer=p;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("cuGq"),s=n("8Y3c"),l=n("uaEd");function u(e){return e&&e.__esModule?e:{default:e}}var c={onMenuTransition:i.default.func.isRequired,openClipModerationMenu:i.default.func.isRequired,showDeleteClip:i.default.bool.isRequired,showDeleteAllClips:i.default.bool.isRequired},d=t.mapStateToProps=function(e){return{showDeleteClip:(0,l.showDeleteClip)(e),showDeleteAllClips:(0,l.showDeleteAllClips)(e)}},f=t.mapDispatchToProps=function(e){return{openClipModerationMenu:function(t){e((0,s.openModerationMenu)(t))}}};function p(e){var t=e.onMenuTransition,n=e.openClipModerationMenu,i=e.showDeleteClip,a=e.showDeleteAllClips;return r.default.createElement(o.ClipsModerationMenu,{onMenuTransition:t,openClipModerationMenu:n,showDeleteAllClips:a,showDeleteClip:i})}p.propTypes=c;t.ClipsModerationMenu=(0,a.connect)(d,f)(p)},cLSh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChromecastOverlay=void 0,t.ChromecastOverlayComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={deviceName:i.default.string.isRequired,t:i.default.func};function l(e){var t=e.deviceName,n=e.t;return r.default.createElement("div",{className:"player-overlay pl-chromecast-overlay"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("div",null,n("Playing on {{deviceName}}",{deviceName:t}))))}l.propTypes=s,l.defaultProps={t:function(){}};t.ChromecastOverlay=(0,a.translate)()(l)},cLw2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toHumanReadable=r,t.toHumanTime=function(e,t){var n=r(1e3*e),i=t("{{count}} second",{count:n.seconds}),a=t("{{count}} minute",{count:n.minutes}),o=t("{{count}} hour",{count:n.hours});if(0===n.hours)return 0===n.minutes?i:a;if(0===n.minutes)return o;return t("{{hoursText}} and {{minutesText}}",{hoursText:o,minutesText:a})},t.toHumanTimeRemaining=function(e,t){var n=r(1e3*e),i=t("{{count}} second left",{count:n.seconds}),a=t("{{count}} minute",{count:n.minutes}),o=t("{{count}} hour",{count:n.hours});if(0===n.hours)return 0===n.minutes?i:t("{{count}} minute left",{count:n.minutes});if(0===n.minutes)return t("{{count}} hour left",{count:n.hours});return t("{{hoursText}} and {{minutesText}} left",{hoursText:o,minutesText:a})};t.ONE_HOUR_IN_MS=36e5;function r(e){var t=Math.floor(e/1e3),n=Math.floor(t/60);return{hours:Math.floor(n/60),minutes:n%60,seconds:t%60}}},cNYe:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return m});var r,i=n("pVnL"),a=n.n(i),o=n("q1tI"),s=n("vCsY"),l=n("1H2c"),u=n("kqSx"),c=n("xfJC"),d=n("y0tB"),f=n("K/KT"),p=n("hnjF"),_=n("sUnt"),h=n("V6CR");n("wKtC");!function(e){e[e.CheckBox=1]="CheckBox",e[e.Radio=2]="Radio",e[e.Toggle=3]="Toggle"}(r||(r={}));var m=function(e){var t=e.figure&&o.createElement(_.a,{flexShrink:0,padding:{left:e.type===r.Toggle?void 0:1,right:e.type===r.Toggle?.5:void 0}},o.createElement(h.a,e.figure)),n=Object(l.a)();return o.createElement(_.a,{padding:.5},o.createElement(_.a,a()({display:p.d.Flex,alignItems:p.b.Center},Object(s.a)(e)),e.type===r.CheckBox&&o.createElement(_.a,{flexGrow:1},o.createElement(u.a,e)),e.type===r.Radio&&o.createElement(_.a,{flexGrow:1},o.createElement(d.a,e)),t,e.type===r.Toggle&&o.createElement(o.Fragment,null,o.createElement(p.g,{flexGrow:1},o.createElement("label",{className:"tw-drop-down-menu-input-item__label",htmlFor:e.id||n},e.label)),o.createElement(f.a,a()({},e,{id:e.id||n})))),e.hint&&o.createElement(_.a,{padding:{top:.5}},o.createElement(c.a,{hint:e.hint})))};m.displayName="DropDownMenuInputItem",m.displayName="DropDownMenuInputItem"},"cQV+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SliderLeft=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=n("Yat3");function o(e){return e&&e.__esModule?e:{default:e}}var s={className:i.default.string,max:i.default.number.isRequired,min:i.default.number.isRequired,value:i.default.number.isRequired},l=t.SliderLeft=function(e){var t=e.className,n=e.max,i=e.min,o=e.value-i,s=n-i,l=(0,a.getPercentage)(o,s)+"%";return r.default.createElement("div",{style:{width:l},className:t})};l.propTypes=s,l.defaultProps={className:""}},cpUT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TheatreSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={enabled:a.default.bool.isRequired,fill:a.default.string,viewBox:a.default.string};(t.TheatreSVG=function(e){return e.enabled?i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M7 20V10a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H9a2 2 0 0 1-2-2zm2 0V10h7v10H9zm9 0h3V10h-3v10z",fill:e.fill,fillRule:"evenodd"})):i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M9 8h7v14H9a2 2 0 0 1-2-2V10a2 2 0 0 1 2-2zm12 0a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3V8h3z",fill:e.fill}))}).propTypes=l},crcZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeaturedCollectionComponent=u;var r=s(n("q1tI")),i=s(n("17x9")),a=n("gCUw"),o=n("KQRg");function s(e){return e&&e.__esModule?e:{default:e}}var l={featuredCollection:i.default.shape({id:i.default.string,title:i.default.string,itemsCount:i.default.number,owner:i.default.shape({displayName:i.default.string,id:i.default.string,name:i.default.string})}).isRequired,thumbnailURL:i.default.string.isRequired,onSelect:i.default.func};function u(e){var t=e.thumbnailURL,n=e.onSelect,i=e.featuredCollection,s=r.default.createElement("span",null,r.default.createElement("figure",{className:"pl-card__smallicon"},r.default.createElement(o.OpenCollectionSVG,{id:"icon_open_collection"})),r.default.createElement("span",null,i.title));return r.default.createElement(a.PlayerCard,{className:"pl-rec__item",thumbnailURL:t,info:s,onSelect:n,selectItem:i,hasThumbZoom:!0,hasBorder:!0})}u.propTypes=l,u.defaultProps={onSelect:function(){}}},cuGq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsModerationMenu=t.ClipsModerationMenuComponent=t.DELETE_ALL_TEXT=t.DELETE_TEXT=t.HEADER_TEXT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=c(n("TSYQ")),s=n("9kay"),l=n("bDXi"),u=n("8Y3c");function c(e){return e&&e.__esModule?e:{default:e}}var d={openClipModerationMenu:a.default.func.isRequired,onMenuTransition:a.default.func.isRequired,showDeleteAllClips:a.default.bool.isRequired,showDeleteClip:a.default.bool.isRequired,t:a.default.func.isRequired},f=t.HEADER_TEXT="Moderation",p=t.DELETE_TEXT="Delete",_=t.DELETE_ALL_TEXT="Delete All clips from Video",h=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),m=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),E=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0}),v=t.ClipsModerationMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e.handleDeleteClicked=e.handleDeleteClicked.bind(e),e.handleDeleteAllClicked=e.handleDeleteAllClicked.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(l.IDENTIFIER_MAIN_MENU)}},{key:"handleDeleteClicked",value:function(){this.props.openClipModerationMenu(u.CLIPS_MODERATION_DELETE_TYPE)}},{key:"handleDeleteAllClicked",value:function(){this.props.openClipModerationMenu(u.CLIPS_MODERATION_DELETE_ALL_TYPE)}},{key:"render",value:function(){var e=this.props,t=e.showDeleteClip,n=e.showDeleteAllClips,r=e.t;return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:h},i.default.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},r(f))),i.default.createElement("div",{className:m},t&&i.default.createElement("div",{className:E},i.default.createElement("button",{className:"qa-delete-button",onClick:this.handleDeleteClicked},r(p))),n&&i.default.createElement("div",{className:E},i.default.createElement("button",{className:"qa-delete-all-button",onClick:this.handleDeleteAllClicked},r(_)))))}}]),t}();v.propTypes=d,v.defaultProps={onMenuTransition:function(){}};t.ClipsModerationMenu=(0,s.translate)()(v)},cvWb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PremiumContentOverlay=t.PremiumContentOverlayContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n("q1tI")),a=g(n("17x9")),o=g(n("ijCd")),s=n("N58E"),l=n("VPTj"),u=n("tJSl"),c=n("S+31"),d=n("Gd1m"),f=n("uNCh"),p=n("uAxA"),_=n("ipln"),h=n("XbkD"),m=n("/71H"),E=n("SXV3"),v=n("Rnd+"),y=n("9/en");function g(e){return e&&e.__esModule?e:{default:e}}var T={isOnline:a.default.bool.isRequired,loggedInStatusUnknown:a.default.bool.isRequired,isPremiumContentRestricted:a.default.bool.isRequired,pushRestrictedScreen:a.default.func.isRequired,popScreen:a.default.func.isRequired,screenStack:a.default.arrayOf(a.default.string).isRequired,restrictionType:a.default.string.isRequired,accessExpiration:a.default.instanceOf(Date),contentRestricted:a.default.func.isRequired,contentIsShowing:a.default.func.isRequired,fetchCanPrimeSubscribe:a.default.func.isRequired,channelLogin:a.default.string.isRequired},b=t.mapStateToProps=function(e){var t=e.onlineStatus,n=e.playback,r=e.screen,i=e.streamMetadata,a=e.stream,o=e.user,s=e.playerOptions;return{isOnline:t===p.ONLINE_STATUS,loggedInStatusUnknown:o.loggedInStatus===m.UNKNOWN,isPremiumContentRestricted:n.contentRestriction===_.CONTENT_RESTRICTED_PREMIUM,screenStack:r,restrictionType:i&&i.restrictionType||h.UNKNOWN,accessExpiration:a&&a.accessExpiration||null,channelLogin:s.channel}},S=t.mapDispatchToProps=function(e){return{pushRestrictedScreen:function(){e((0,f.pushScreen)(f.PREMIUM_CONTENT_RESTRICTED_SCREEN))},popScreen:function(){e((0,f.popScreen)())},contentRestricted:function(){e((0,l.contentRestricted)(_.CONTENT_RESTRICTED_PREMIUM))},contentIsShowing:function(){e((0,l.contentIsShowing)())},fetchCanPrimeSubscribe:function(t){e((0,y.fetchCanPrimeSubscribe)(t))}}},A=t.PremiumContentOverlayContainer=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.shouldShowRestrictionUI(this.props)&&!(0,o.default)(this.props.screenStack,f.PREMIUM_CONTENT_RESTRICTED_SCREEN)&&this.props.pushRestrictedScreen(),this.shouldShowRestrictionUI(this.props)&&this.props.fetchCanPrimeSubscribe(this.props.channelLogin)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.shouldShowRestrictionUI(e)||e.screenStack[0]!==f.PREMIUM_CONTENT_RESTRICTED_SCREEN||(this.props.popScreen(),this.props.contentIsShowing()),this.shouldShowRestrictionUI(e)&&!(0,o.default)(e.screenStack,f.PREMIUM_CONTENT_RESTRICTED_SCREEN)&&(this.props.pushRestrictedScreen(),this.props.contentRestricted())}},{key:"componentDidUpdate",value:function(e){!this.shouldShowRestrictionUI(e)&&this.shouldShowRestrictionUI(this.props)&&this.props.fetchCanPrimeSubscribe(this.props.channelLogin)}},{key:"render",value:function(){return this.props.screenStack[0]===f.PREMIUM_CONTENT_RESTRICTED_SCREEN?this.props.restrictionType===h.SUB_ONLY_LIVE||this.props.accessExpiration?i.default.createElement(E.Experiment,{uuid:v.ExperimentIds.Sunrise,renderValue:"enabled"},i.default.createElement(d.PreviewContentOverlay,null)):this.props.restrictionType===h.ALL_ACCESS_PASS?i.default.createElement(u.AllAccessPassOverlay,null):i.default.createElement(c.PremiumContentOverlay,null):null}},{key:"shouldShowRestrictionUI",value:function(e){return(e.isPremiumContentRestricted||e.accessExpiration)&&e.isOnline&&!e.loggedInStatusUnknown}}]),t}();A.propTypes=T;t.PremiumContentOverlay=(0,s.connect)(b,S)(A)},"d/wO":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionTaskbarCard=t.ExtensionTaskbarCardComponent=t.EXTENSION_MENU_ALL=t.EXT_TASKBAR_CARD_TEXT_CLASS=t.EXT_TASKBAR_CARD_CLASS_INNER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=y(n("17x9")),o=y(n("TSYQ")),s=y(n("3OWR")),l=y(n("ijCd")),u=y(n("GBMM")),c=n("N58E"),d=n("1fV9"),f=n("zeNb"),p=n("wy0h"),_=n("2GWp"),h=n("hm9X"),m=n("/71H"),E=n("vpBF"),v=n("y/jJ");function y(e){return e&&e.__esModule?e:{default:e}}var g=t.EXT_TASKBAR_CARD_CLASS_INNER="extension-taskbar-card__inner",T=t.EXT_TASKBAR_CARD_TEXT_CLASS="extension-taskbar-card__text",b=t.EXTENSION_MENU_ALL=Object.freeze([E.EXTENSION_MENU_MAIN,E.EXTENSION_MENU_DETAILS,E.EXTENSION_MENU_MANAGE_ACCESS,E.EXTENSION_MENU_REPORT]),S={installation:h.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,hoveredExtension:h.EXTENSION_INSTALLATION_PROP_TYPE,menuState:a.default.object.isRequired,loginId:a.default.number.isRequired,isLoggedIn:a.default.bool.isRequired,locale:a.default.string.isRequired,playerType:a.default.string.isRequired,windowObj:a.default.object.isRequired,playerHeight:a.default.number.isRequired,promptLogin:a.default.func.isRequired,onHover:a.default.func.isRequired,onIdentityToggle:a.default.func.isRequired,showExtensionReportMenu:a.default.bool.isRequired,trackEvent:a.default.func.isRequired,closeExtensionMenu:a.default.func.isRequired,onMenuTransition:a.default.func.isRequired,onVisibilityToggle:a.default.func.isRequired,updateCollapseLocation:a.default.func.isRequired,channelID:a.default.number},A=t.ExtensionTaskbarCardComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundCreateExtensionHoverHandler=e._createHoverHandler.bind(e),e._boundOnClick=e._onClick.bind(e),e._boundHandleMenuTransition=e._handleMenuTransition.bind(e),e._boundHandleWindowBlur=e.handleWindowBlur.bind(e),e._boundHandleMenuInteractionComplete=e._handleMenuInteractionComplete.bind(e),e._boundOnImageLoadFail=e._onImageLoadFail.bind(e),e._boundTrackEvent=e.trackEvent.bind(e),e._boundOnVisibilityToggle=e._onVisibilityToggle.bind(e),e._ref=i.createRef(),e.collapseLocation=null,e.state={iconUrls:e._getIconUrls(e.props.installation)},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidMount",value:function(){this.props.windowObj.addEventListener("blur",this._boundHandleWindowBlur),this._updateCollapseLocation()}},{key:"componentWillUnmount",value:function(){this.props.windowObj.removeEventListener("blur",this._boundHandleWindowBlur)}},{key:"componentDidUpdate",value:function(e){e.installation.extension.id!==this.props.installation.extension.id&&this.setState({iconUrls:this._getIconUrls(this.props.installation)}),this._updateCollapseLocation()}},{key:"handleWindowBlur",value:function(){this.props.installation.activationConfig.slot===this.props.menuState.extensionSlot&&this._closeMenu()}},{key:"handleClickOutside",value:function(){var e=this.props.installation.activationConfig.slot,t=this.props.menuState.modalOptions;e===this.props.menuState.extensionSlot&&(this.props.closeExtensionMenu(),t&&t.resultCallback&&t.resultCallback(t.defaultResult))}},{key:"trackEvent",value:function(e,t,n){var r=t.activationConfig,i=t.extension;this.props.trackEvent(e,(0,s.default)(n,{extension_id:i.id,extension_version:i.version,extension_anchor:r.anchor,extension_mode:"viewer",locale:this.props.locale,login_id:this.props.loginId,player_type:this.props.playerType}))}},{key:"render",value:function(){var e=this.props,t=e.installation,n=e.menuState,r=e.isLoggedIn,a=e.playerHeight,s=e.promptLogin,l=e.windowObj,u=e.onIdentityToggle,c=e.showExtensionReportMenu,p=e.channelID,_=(0,o.default)({"extension-taskbar-card":!0,"extension-taskbar-card__hovered":this._isHovered()}),h=this._isMenuOpen()?i.createElement(f.ExtensionsMenuManager,{installation:t,submenu:n.menuName,modalOptions:n.modalOptions,isLoggedIn:r,onIdentityToggle:u,onVisibilityToggle:this._boundOnVisibilityToggle,playerHeight:a,promptLogin:s,showExtensionReportMenu:c,trackEvent:this._boundTrackEvent,windowObj:l,handleMenuTransition:this._boundHandleMenuTransition,closeExtensionMenu:this._boundHandleMenuInteractionComplete,channelID:p}):null;return i.createElement("div",{className:_,onFocus:this._boundCreateExtensionHoverHandler(t),onMouseOver:this._boundCreateExtensionHoverHandler(t),onBlur:this._boundCreateExtensionHoverHandler(null),onMouseOut:this._boundCreateExtensionHoverHandler(null),ref:this._ref},i.createElement(d.Button,{className:g+" player-button",onClick:this._boundOnClick},this._renderCardContent(),this._renderHoverTooltip()),h)}},{key:"_renderCardContent",value:function(){var e=this.props.installation,t=this.state.iconUrls,n=""+e.activationConfig.anchor[0].toUpperCase()+(0,E.getExtensionSlotNumber)(e);if(!this.state.iconUrls||0===this.state.iconUrls.length)return i.createElement("div",{className:T},n);var r=t[t.length-1];return i.createElement("img",{src:r,alt:n,onError:this._boundOnImageLoadFail})}},{key:"_renderHoverTooltip",value:function(){return!this._isHovered()||this._isMenuOpen()?null:i.createElement("span",{className:"player-tip extension-taskbar-card__tooltip","data-tip":this.props.installation.extension.name})}},{key:"_createHoverHandler",value:function(e){return function(){this.props.onHover(e)}.bind(this)}},{key:"_openMenu",value:function(){var e=this.props,t=e.installation,n=e.onMenuTransition,r=t.activationConfig.slot;(0,E.isUnreleasedAndUnaccepted)(t)||(0,E.isDeclined)(t)?n(r,E.EXTENSION_MODAL_ACCEPT_UNRELEASED):n(r,E.EXTENSION_MENU_DETAILS),this.trackEvent("extension_viewer_overlay_settings",t,{action:"open"})}},{key:"_closeMenu",value:function(){var e=this.props,t=e.installation,n=e.closeExtensionMenu,r=e.menuState;n(),r.modalOptions&&r.modalOptions.resultCallback&&r.modalOptions.resultCallback(r.modalOptions.defaultResult),this.trackEvent("extension_viewer_overlay_settings",t,{action:"close"})}},{key:"_onClick",value:function(){var e=this.props,t=e.menuState,n=e.installation.activationConfig.slot;t.extensionSlot===n?this._closeMenu():this._openMenu()}},{key:"_handleMenuInteractionComplete",value:function(){var e=this.props,t=e.installation,n=e.onHover,r=e.closeExtensionMenu;this._isHovered()&&n(null),r(),this.trackEvent("extension_viewer_overlay_settings",t,{action:"close"})}},{key:"_handleMenuTransition",value:function(e){(0,l.default)(b,e)&&this.props.onMenuTransition(this.props.installation.activationConfig.slot,e)}},{key:"_isHovered",value:function(){var e=this.props,t=e.hoveredExtension,n=e.installation;return Boolean(t)&&n.id===t.id}},{key:"_isMenuOpen",value:function(){var e=this.props,t=e.installation,n=e.menuState,r=t.activationConfig.slot;return Boolean(n.extensionSlot)&&n.extensionSlot===r}},{key:"_onImageLoadFail",value:function(){var e=this.state.iconUrls;e.pop(),this.setState({iconUrls:e})}},{key:"_getIconUrls",value:function(e){var t=[e.extension.iconUrls.square100];return e.extension.iconUrls.square24&&t.push(e.extension.iconUrls.square24),t}},{key:"_onVisibilityToggle",value:function(e){this.props.onVisibilityToggle(e,this.collapseLocation)}},{key:"_updateCollapseLocation",value:function(){var e=this._ref.current,t=(0,v.getElementPosition)(e);this.collapseLocation={x:t.left,y:t.top};var n=this.props.installation.playerState.collapseLocation;n&&this.collapseLocation.x===n.x&&this.collapseLocation.y===n.y||this.props.updateCollapseLocation(this.props.installation.id,this.collapseLocation)}}]),t}();A.propTypes=S;var C=(0,u.default)(A);t.ExtensionTaskbarCard=(0,c.connect)(function(e){return{showExtensionReportMenu:(0,E.canReportExtension)(e),extensions:e.extensions.activeInstallations,hoveredExtension:e.extensions.hoveredExtension,menuState:e.extensions.menuState,loginId:e.user.id,isLoggedIn:e.user.loggedInStatus===m.LOGGED_IN,locale:e.lang.langCode,trackEvent:e.analyticsTracker.trackEvent,playerType:e.env.playerType,windowObj:e.window,playerHeight:e.playerDimensions.height,channelID:e.streamMetadata.channel&&e.streamMetadata.channel.id}},function(e){return{onHover:function(t){e((0,p.onExtensionHover)(t,!0))},onIdentityToggle:function(t){e((0,p.requestExtensionIdentityToggle)(t.id))},onMenuTransition:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.EXTENSION_MENU_MAIN;e((0,p.setExtensionMenu)(t,n))},closeExtensionMenu:function(){e((0,p.closeExtensionMenu)())},onVisibilityToggle:function(t,n){e((0,p.toggleExtensionVisibility)(t,n))},updateCollapseLocation:function(t,n){e((0,p.setExtensionCollapseLocation)(t,n))},promptLogin:function(){e((0,_.emitPromptLoginModal)())}}})(C)},"d1+y":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPlayer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=X(n("q1tI")),a=X(n("17x9")),o=n("qHw9"),s=n("rSwD"),l=n("QcJP"),u=n("L5pO"),c=n("zIqP"),d=n("4vdA"),f=n("ZZhq"),p=n("inRc"),_=n("TsKc"),h=n("i8fZ"),m=n("favX"),E=n("8prb"),v=n("Nicn"),y=n("sJWP"),g=n("ONdw"),T=n("CJqN"),b=n("HPHi"),S=n("MCKP"),A=n("pFxt"),C=n("o5w0"),O=n("Lnk8"),P=n("GdoJ"),N=n("Xz9n"),I=n("Pd9b"),R=n("GDAb"),w=n("Gnwe"),k=n("KwwK"),M=n("/reP"),L=n("2gyh"),D=n("Qybh"),x=n("IPyt"),U=n("SOC7"),B=n("Ju/E"),V=n("SIsj"),j=n("IB9i"),q=n("cvWb"),F=n("hjMf"),H=n("SXV3"),Y=n("Rnd+"),G=n("EoNM"),W=n("r0BL"),K=n("VN23"),Q=n("ChFm"),z=n("vpBF");function X(e){return e&&e.__esModule?e:{default:e}}var J={store:a.default.object.isRequired},Z={clipGenerator:a.default.object.isRequired,options:a.default.object.isRequired,player:a.default.object.isRequired,root:a.default.object.isRequired},$=t.DefaultPlayer=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.options,r=e.player,i=e.root,a=this.context.store;i.classList.add("player","theme--dark"),i.insertAdjacentHTML("beforeend",n("4cUY"));var o=a.getState().playback.muted;a.dispatch((0,s.initializeCaptionsSettings)(o)),a.dispatch((0,u.initializeSettings)());var c=new k.PreventRefreshDialog(r,i,a,t);i.addEventListener("wheel",function(e){a.dispatch((0,l.emitWheelEvent)(e))}),this.setState({legacyUI:[c]})}},{key:"componentWillUnmount",value:function(){this.state.legacyUI.forEach(function(e){e.destroy()})}},{key:"render",value:function(){var e=this.props,t=e.player,n=e.root,r=G.localStore.get(z.DOCK_LOCALSTORAGE_FLAG,!1)?i.default.createElement(o.ExtensionsOverlayContainer,null):i.default.createElement(i.default.Fragment,null,i.default.createElement(H.Experiment,{uuid:Y.ExperimentIds.ExtensionsDock,renderValue:"off"},i.default.createElement(W.ExtensionsContainer,null),i.default.createElement(K.ExtensionsConfirmation,null),i.default.createElement(Q.ExtensionsNotificationContainer,null)),i.default.createElement(H.Experiment,{uuid:Y.ExperimentIds.ExtensionsDock,renderValue:"on"},i.default.createElement(o.ExtensionsOverlayContainer,null)));return i.default.createElement("div",{id:"default-player"},i.default.createElement(M.PlayerRoot,{root:n},i.default.createElement(b.BackgroundBanner,null),i.default.createElement(B.ToggleFullscreenOverlay,null),i.default.createElement(V.OpenStreamOverlay,null),r,i.default.createElement(D.MobileWebUnmuteOverlay,null),i.default.createElement(x.AutomatedMuteOverlay,null),i.default.createElement(T.LoadingOverlay,null),i.default.createElement(F.TwitchGateOverlay,null),i.default.createElement(N.MatureOverlay,null),i.default.createElement(I.AgeGateOverlay,null),i.default.createElement(P.ChromecastOverlay,null),i.default.createElement(v.VodPostplayRecommendations,null),i.default.createElement(E.OfflineRecommendationsOverlay,null),i.default.createElement(O.PlayButtonOverlay,null),i.default.createElement(R.SubscribeOverlay,null),i.default.createElement(h.CollectionEmptyOverlay,null),i.default.createElement(S.AdOverlay,null),i.default.createElement(U.QualityRestrictedOverlay,null),i.default.createElement(q.PremiumContentOverlay,null),i.default.createElement(w.StormWarningOverlay,null),i.default.createElement(j.FocusPlayerOverlay,null),i.default.createElement(m.ErrorOverlay,null),i.default.createElement(L.ShowOnHover,null,i.default.createElement(p.PlayerControls,{showTopControls:!0,showBottomControls:!0,player:t})),i.default.createElement(A.ClosedCaptionsPanel,null),i.default.createElement(c.MutedSegmentsAlert,null),i.default.createElement(C.ClosedCaptions,null),i.default.createElement(_.CollectionSidebar,null),i.default.createElement(d.FollowPanel,null),i.default.createElement(f.DeadLTVOverlay,null),i.default.createElement(y.Stats,null),i.default.createElement(g.AdStats,null)))}}]),t}();$.contextTypes=J,$.propTypes=Z},d4Wk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipsRecommendationProperties=t.clipsClipProperties=t.clipsBaseProperties=t.TRACKING_VOD_TYPE=void 0;var r=n("/71H"),i=n("jxNe"),a=n("SaYp"),o=n("ZtkW"),s=n("XN9g"),l=n("7oTh"),u=n("ggpQ"),c=n("BGUH"),d=t.TRACKING_VOD_TYPE="clip",f=function(e){var t=e.window;return(0,o.parse)(t.location.search.slice(1))};t.clipsBaseProperties=function(e){return{tab_session_id:(0,i.getClipsSessionId)(),content:f(e).tt_content,medium:f(e).tt_medium,logged_in:e.user.loggedInStatus===r.LOGGED_IN,login:e.user.name,user_id:e.user.id?parseInt(e.user.id,10):null,received_language:e.lang,vod_type:d,client_time:e.window.Date.now()/1e3,location:(0,c.getTrackingLocation)(e.env.playerType),live:!1,time:null}},t.clipsClipProperties=function(e){var t=e.streamMetadata.channel.name,n=void 0,r=void 0,i=(0,l.broadcasterLiveStatus)(e,t),a=(0,l.broadcasterPartnerStatus)(e,t);return i!==u.NOT_AVAILABLE&&(n=i===u.BROADCASTER_IS_LIVE),a!==u.NOT_AVAILABLE&&(r=a===u.BROADCASTER_IS_PARTNER),{channel:e.streamMetadata.channel.name||null,channel_id:e.streamMetadata.channel.id?parseInt(e.streamMetadata.channel.id,10):null,game:e.streamMetadata.game||null,partner:r,live:n,player:(0,c.getTrackingLocation)(e.env.playerType),vod_id:parseInt(e.streamMetadata.id,10)}},t.clipsRecommendationProperties=function(e){var t=a.TRACKING_PROPERTY_CONTENT_MAP[(0,s.getFirstValidCategory)(e,e.streamMetadata.slug)];return{source_channel:e.streamMetadata.channel.name||null,source_game:e.streamMetadata.game||null,source_vod_id:parseInt(e.streamMetadata.id,10),source_item_type:a.TRACKING_PROPERTY_ITEM_TYPE,content:t||null,carousel_content:a.TRACKING_PROPERTY_CAROUSEL_CONTENT}}},dDRw:function(e,t){var n=function(){var e,t,r,i,a,o,s="undefined",l="object",u="application/x-shockwave-flash",c="SWFObjectExprInst",d=window,f=document,p=navigator,_=!1,h=[],m=[],E=[],v=[],y=!1,g=!1,T=!0,b=!1,S=function(){var e=typeof f.getElementById!==s&&typeof f.getElementsByTagName!==s&&typeof f.createElement!==s,t=p.userAgent.toLowerCase(),n=p.platform.toLowerCase(),r=/win/.test(n||t),i=/mac/.test(n||t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),o="Microsoft Internet Explorer"===p.appName,c=[0,0,0],h=null;if(typeof p.plugins!==s&&typeof p.plugins["Shockwave Flash"]===l)(h=p.plugins["Shockwave Flash"].description)&&typeof p.mimeTypes!==s&&p.mimeTypes[u]&&p.mimeTypes[u].enabledPlugin&&(_=!0,o=!1,h=h.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),c[0]=V(h.replace(/^(.*)\..*$/,"$1")),c[1]=V(h.replace(/^.*\.(.*)\s.*$/,"$1")),c[2]=/[a-zA-Z]/.test(h)?V(h.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof d.ActiveXObject!==s)try{var m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");m&&(h=m.GetVariable("$version"))&&(o=!0,c=[V((h=h.split(" ")[1].split(","))[0]),V(h[1]),V(h[2])])}catch(e){}return{w3:e,pv:c,wk:a,ie:o,win:r,mac:i}}();S.w3&&((typeof f.readyState!==s&&("complete"===f.readyState||"interactive"===f.readyState)||typeof f.readyState===s&&(f.getElementsByTagName("body")[0]||f.body))&&A(),y||(typeof f.addEventListener!==s&&f.addEventListener("DOMContentLoaded",A,!1),S.ie&&(f.attachEvent("onreadystatechange",function e(){"complete"===f.readyState&&(f.detachEvent("onreadystatechange",e),A())}),d==top&&function e(){if(!y){try{f.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}A()}}()),S.wk&&function e(){y||(/loaded|complete/.test(f.readyState)?A():setTimeout(e,0))}()));function A(){if(!y&&document.getElementsByTagName("body")[0]){try{var e,t=B("span");t.style.display="none",(e=f.getElementsByTagName("body")[0].appendChild(t)).parentNode.removeChild(e),e=null,t=null}catch(e){return}y=!0;for(var n=h.length,r=0;r<n;r++)h[r]()}}function C(e){y?e():h[h.length]=e}function O(){var e=m.length;if(e>0)for(var t=0;t<e;t++){var n=m[t].id,r=m[t].callbackFn,i={success:!1,id:n};if(S.pv[0]>0){var a=U(n);if(a)if(!j(m[t].swfVersion)||S.wk&&S.wk<312)if(m[t].expressInstall&&N()){var o={};o.data=m[t].expressInstall,o.width=a.getAttribute("width")||"0",o.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(o.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(o.align=a.getAttribute("align"));for(var l={},u=a.getElementsByTagName("param"),c=u.length,d=0;d<c;d++)"movie"!==u[d].getAttribute("name").toLowerCase()&&(l[u[d].getAttribute("name")]=u[d].getAttribute("value"));I(o,l,n,r)}else R(a),r&&r(i);else F(n,!0),r&&(i.success=!0,i.ref=P(n),i.id=n,r(i))}else if(F(n,!0),r){var f=P(n);f&&typeof f.SetVariable!==s&&(i.success=!0,i.ref=f,i.id=f.id),r(i)}}}function P(e){var t=null,n=U(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==s?n:n.getElementsByTagName(l)[0]||n),t}function N(){return!g&&j("6.0.65")&&(S.win||S.mac)&&!(S.wk&&S.wk<312)}function I(n,a,o,l){var u=U(o);if(o=x(o),g=!0,r=l||null,i={success:!1,id:o},u){"OBJECT"===u.nodeName.toUpperCase()?(e=w(u),t=null):(e=u,t=o),n.id=c,(typeof n.width===s||!/%$/.test(n.width)&&V(n.width)<310)&&(n.width="310"),(typeof n.height===s||!/%$/.test(n.height)&&V(n.height)<137)&&(n.height="137");var p=S.ie?"ActiveX":"PlugIn",_="MMredirectURL="+encodeURIComponent(d.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+p+"&MMdoctitle="+encodeURIComponent(f.title.slice(0,47)+" - Flash Player Installation");if(typeof a.flashvars!==s?a.flashvars+="&"+_:a.flashvars=_,S.ie&&4!=u.readyState){var h=B("div");o+="SWFObjectNew",h.setAttribute("id",o),u.parentNode.insertBefore(h,u),u.style.display="none",L(u)}k(n,a,o)}}function R(e){if(S.ie&&4!=e.readyState){e.style.display="none";var t=B("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(w(e),t),L(e)}else e.parentNode.replaceChild(w(e),e)}function w(e){var t=B("div");if(S.win&&S.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(l)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,a=0;a<i;a++)1==r[a].nodeType&&"PARAM"===r[a].nodeName||8==r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function k(e,t,n){var r,i,a,o,c=U(n);if(n=x(n),S.wk&&S.wk<312)return r;if(c){var d,f,p,_=S.ie?B("div"):B(l);for(p in typeof e.id===s&&(e.id=n),t)t.hasOwnProperty(p)&&"movie"!==p.toLowerCase()&&M(_,p,t[p]);for(d in S.ie&&(i=e.data,a=_.innerHTML,(o=B("div")).innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+i+"'>"+a+"</object>",_=o.firstChild),e)e.hasOwnProperty(d)&&("styleclass"===(f=d.toLowerCase())?_.setAttribute("class",e[d]):"classid"!==f&&"data"!==f&&_.setAttribute(d,e[d]));S.ie?E[E.length]=e.id:(_.setAttribute("type",u),_.setAttribute("data",e.data)),c.parentNode.replaceChild(_,c),r=_}return r}function M(e,t,n){var r=B("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function L(e){var t=U(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(S.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function D(e){return e&&e.nodeType&&1===e.nodeType}function x(e){return D(e)?e.id:e}function U(e){if(D(e))return e;var t=null;try{t=f.getElementById(e)}catch(e){}return t}function B(e){return f.createElement(e)}function V(e){return parseInt(e,10)}function j(e){e+="";var t=S.pv,n=e.split(".");return n[0]=V(n[0]),n[1]=V(n[1])||0,n[2]=V(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function q(e,t,n,r){var i=f.getElementsByTagName("head")[0];if(i){var l="string"==typeof n?n:"screen";if(r&&(a=null,o=null),!a||o!=l){var u=B("style");u.setAttribute("type","text/css"),u.setAttribute("media",l),a=i.appendChild(u),S.ie&&typeof f.styleSheets!==s&&f.styleSheets.length>0&&(a=f.styleSheets[f.styleSheets.length-1]),o=l}a&&(typeof a.addRule!==s?a.addRule(e,t):typeof f.createTextNode!==s&&a.appendChild(f.createTextNode(e+" {"+t+"}")))}}function F(e,t){if(T){var n=t?"visible":"hidden",r=U(e);y&&r?r.style.visibility=n:"string"==typeof e&&q("#"+e,"visibility:"+n)}}function H(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==s?encodeURIComponent(e):e}h[0]=function(){_?function(){var e=f.getElementsByTagName("body")[0],t=B(l);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",u);var n=e.appendChild(t);if(n){var r=0;!function i(){if(typeof n.GetVariable!==s)try{var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),S.pv=[V(a[0]),V(a[1]),V(a[2])])}catch(e){S.pv=[8,0,0]}else if(r<10)return r++,void setTimeout(i,10);e.removeChild(t),n=null,O()}()}else O()}():O()};S.ie&&window.attachEvent("onunload",function(){for(var e=v.length,t=0;t<e;t++)v[t][0].detachEvent(v[t][1],v[t][2]);for(var r=E.length,i=0;i<r;i++)L(E[i]);for(var a in S)S[a]=null;for(var o in S=null,n)n[o]=null;n=null});return{registerObject:function(e,t,n,r){if(S.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,m[m.length]=i,F(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(S.w3)return P(e)},embedSWF:function(e,t,n,r,i,a,o,u,c,d){var f=x(t),p={success:!1,id:f};S.w3&&!(S.wk&&S.wk<312)&&e&&t&&n&&r&&i?(F(f,!1),C(function(){n+="",r+="";var _={};if(c&&typeof c===l)for(var h in c)_[h]=c[h];_.data=e,_.width=n,_.height=r;var m={};if(u&&typeof u===l)for(var E in u)m[E]=u[E];if(o&&typeof o===l)for(var v in o)if(o.hasOwnProperty(v)){var y=b?encodeURIComponent(v):v,g=b?encodeURIComponent(o[v]):o[v];typeof m.flashvars!==s?m.flashvars+="&"+y+"="+g:m.flashvars=y+"="+g}if(j(i)){var T=k(_,m,t);_.id==f&&F(f,!0),p.success=!0,p.ref=T,p.id=T.id}else{if(a&&N())return _.data=a,void I(_,m,t,d);F(f,!0)}d&&d(p)})):d&&d(p)},switchOffAutoHideShow:function(){T=!1},enableUriEncoding:function(e){b=typeof e===s||e},ua:S,getFlashPlayerVersion:function(){return{major:S.pv[0],minor:S.pv[1],release:S.pv[2]}},hasFlashPlayerVersion:j,createSWF:function(e,t,n){return S.w3?k(e,t,n):void 0},showExpressInstall:function(e,t,n,r){S.w3&&N()&&I(e,t,n,r)},removeSWF:function(e){S.w3&&L(e)},createCSS:function(e,t,n,r){S.w3&&q(e,t,n,r)},addDomLoadEvent:C,addLoadEvent:function(e){if(typeof d.addEventListener!==s)d.addEventListener("load",e,!1);else if(typeof f.addEventListener!==s)f.addEventListener("load",e,!1);else if(typeof d.attachEvent!==s)!function(e,t,n){e.attachEvent(t,n),v[v.length]=[e,t,n]}(d,"onload",e);else if("function"==typeof d.onload){var t=d.onload;d.onload=function(){t(),e()}}else d.onload=e},getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return H(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return H(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(g){var n=U(c);n&&e&&(n.parentNode.replaceChild(e,n),t&&(F(t,!0),S.ie&&(e.style.display="block")),r&&r(i)),g=!1}},version:"2.3"}}();e.exports=n},dHJI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=void 0,t.StatsComponent=p;var r=c(n("q1tI")),i=c(n("17x9")),a=c(n("TSYQ")),o=n("TI3U"),s=n("1fV9"),l=n("9kay"),u=n("8HDH");function c(e){return e&&e.__esModule?e:{default:e}}var d={stats:i.default.shape({bufferSize:i.default.number,displayResolution:i.default.string,skippedFrames:i.default.number,fps:i.default.number,hlsLatencyBroadcaster:i.default.number,latencyMode:i.default.string,memoryUsage:i.default.string,playbackRate:i.default.number,videoResolution:i.default.string,backendVersion:i.default.string}).isRequired,isLive:i.default.bool.isRequired,onClose:i.default.func.isRequired,servingId:i.default.string.isRequired,t:i.default.func.isRequired},f=(0,a.default)("player-button","player-button--noscale","player-button--close");function p(e){var t=e.servingId,n=e.stats,i=e.isLive,a=e.onClose,l=e.t,c=null,d=null,p=null,_=null;if(i){var h=n.hlsLatencyBroadcaster,m=n.latencyMode;c=r.default.createElement(o.Stat,{statName:"Latency To Broadcaster",value:l("{{time}} sec.",{time:h.toFixed(2)})}),d=r.default.createElement(o.Stat,{statName:"Latency Mode",value:l(m)})}return n.fps&&(p=r.default.createElement(o.Stat,{statName:"FPS",value:n.fps})),""!==n.codecs&&(_=r.default.createElement(o.Stat,{statName:"Codecs",value:n.codecs})),r.default.createElement("ul",{className:"pl-stats-list js-playback-stats"},r.default.createElement(s.Button,{className:f,onClick:a},r.default.createElement(u.CloseSVG,{id:"icon_close"})),r.default.createElement(o.Stat,{statName:"Video Resolution",value:n.videoResolution}),r.default.createElement(o.Stat,{statName:"Display Resolution",value:n.displayResolution}),p,r.default.createElement(o.Stat,{statName:"Skipped Frames",value:n.skippedFrames}),r.default.createElement(o.Stat,{statName:"Buffer Size",value:l("{{time}} sec.",{time:n.bufferSize.toFixed(2)})}),c,d,r.default.createElement(o.Stat,{statName:"Playback Rate",value:n.playbackRate+" Kbps"}),r.default.createElement(o.Stat,{statName:"Memory Usage",value:n.memoryUsage}),r.default.createElement(o.Stat,{statName:"Backend Version",value:n.backendVersion}),r.default.createElement(o.Stat,{statName:"Serving ID",value:t,doNotTranslate:!0}),_)}p.propTypes=d;t.Stats=(0,l.translate)()(p)},dndI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaySVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.PlaySVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M9 22.066V7.934a.5.5 0 0 1 .777-.416L21 15 9.777 22.482A.5.5 0 0 1 9 22.066z",fill:e.fill}))}).propTypes=l},duhj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_USHER=void 0,t.usher=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_USHER_PARAMS:return(0,a.default)({},e,{params:t.params});case o.ACTION_SET_USHER_HOST_OVERRIDE:return(0,a.default)({},e,{hostOverride:t.hostOverride});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("IazR");var s=t.DEFAULT_USHER=Object.freeze({params:{},hostOverride:""})},dzAF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CC_PRESET_VALUES=void 0,t.isTransparentBG=c,t.PresetsPanel=d;var r=s(n("q1tI")),i=s(n("17x9")),a=s(n("TSYQ")),o=n("8+VK");function s(e){return e&&e.__esModule?e:{default:e}}var l={onSelect:i.default.func.isRequired,selectedValue:i.default.string.isRequired},u=t.CC_PRESET_VALUES=Object.freeze(Object.keys(o.presetMap));function c(e){return"string"==typeof e&&e.indexOf("trans")>-1}function d(e){var t=e.onSelect,n=e.selectedValue,i=u.map(function(e){function i(){t(e)}var o,s,l,u=function(e){return function(t){"Enter"===t.key&&e()}}(i),d=(0,a.default)((o={"cc-preset-square":!0,"cc-transparent-bg":c(e),"cc-preset-square--selected":e===n},l=!!e,(s="cc-preset-square--"+e)in o?Object.defineProperty(o,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[s]=l,o));return r.default.createElement("div",{className:d,onClick:i,onKeyUp:u,tabIndex:-1,role:"button",key:"cc-preset-"+e},"Aa")});return r.default.createElement("div",{className:"cc-panel-menu-frame cc-panel-menu-frame__presets"},i)}d.propTypes=l},e063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.HAVE_NOTHING=0,t.HAVE_METADATA=1,t.HAVE_CURRENT_DATA=2,t.HAVE_FUTURE_DATA=3,t.HAVE_ENOUGH_DATA=4},eBJc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.online=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case r.ACTION_SET_STREAMMETADATA:return"live"===t.streamMetadata.type||e;case i.ACTION_SET_ONLINE:return t.online;default:return e}};var r=n("AUgO"),i=n("XyCF")},eJuE:function(e,t,n){},ePhM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DecliningAdsManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.getDeclineReasons=A,t.willDeclineAds=C;var i=m(n("3OWR")),a=m(n("xaJk")),o=n("7Eji"),s=n("uC+K"),l=n("VIow"),u=n("KR5+"),c=n("ySAb"),d=n("UXtW"),f=n("wsSb"),p=n("kxDQ"),_=n("Rnd+"),h=n("56nq");function m(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=3e5,y=3e4,g="final",T="enhanced",b="control",S=60;t.DecliningAdsManager=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._adManager=n,this._streamRollTypes={};var r=this._store.getState().experiments;this._grandDadsGroupPromise=r.get(_.ExperimentIds.GrandPere)}return r(e,[{key:"destroy",value:function(){this._adManager.destroy()}},{key:"requestAds",value:function(e){var t,n=this;this._streamRollTypes.hasOwnProperty(e.channel)||(this._streamRollTypes[e.channel]=(E(t={},o.PREROLL,!1),E(t,o.MIDROLL,!1),E(t,o.POSTROLL,!1),t));return this._grandDadsGroupPromise.then(function(t){return A(e,t).then(function(r){var o=r.declineReasons,s=r.serverError;C(o,e)?function(e,t,n,r,o){var s=e.analyticsTracker,l=e.analytics;if(r===g&&!o){var u=(0,a.default)(n,function(e,t,n){return t?n:e},"");return void s.trackEvent("video_ad_request_gd_declined",{main_play_session_id:l.playSessionId,ad_session_id:t.adSessionId,roll_type:t.adType,time_break:t.duration,twitch_correlator:t.twitchCorrelator,player_size_mode:(0,p.getPlayerSizeMode)({getState:function(){return e}}),reason:u})}s.trackEvent("video_ad_request_declined",(0,i.default)({main_play_session_id:l.playSessionId,ad_session_id:t.adSessionId,roll_type:t.adType,time_break:t.duration,provider:"ima",twitch_correlator:t.twitchCorrelator,player_size_mode:(0,p.getPlayerSizeMode)({getState:function(){return e}})},n))}(n._store.getState(),e,o,t,s):(n._adManager.requestAds(e),n._streamRollTypes[e.channel][e.adType]=!0)})})}},{key:"addEventListener",value:function(e,t){this._adManager.addEventListener(e,t)}},{key:"pause",value:function(){this._adManager.pause()}},{key:"play",value:function(){this._adManager.play()}},{key:"setVolume",value:function(e){this._adManager.setVolume(e)}},{key:"setMuted",value:function(e){this._adManager.setMuted(e)}},{key:"paused",get:function(){return this._adManager.paused}},{key:"sdk",get:function(){return this._adManager.sdk}}]),e}();function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"control",n={reason_stream_broadcaster:e.adType===o.PREROLL&&e.contentType===f.CONTENT_MODE_LIVE&&e.channel===e.login,reason_short_vod:e.adType===o.PREROLL&&e.contentType===l.CONTENT_MODE_VOD&&e.vod.duration>=0&&e.vod.duration<S,reason_vod_creator:e.adType===o.PREROLL&&e.contentType===l.CONTENT_MODE_VOD&&e.login===e.channel,reason_turbo:Boolean(e.hasTurbo),reason_ratelimit:e.adType===o.PREROLL&&e.requestTime-e.lastAdDisplay<v,reason_midroll_during_preroll:e.adType===o.MIDROLL&&e.channelId===e.lastPrerollAdDisplay.channelId&&e.requestTime-e.lastPrerollAdDisplay.time<y,reason_channelsub:Boolean(e.hasChanSub)&&e.hasAdFreeSubscription,reason_channeladfree:e.adType===o.PREROLL&&!e.prerollsEnabled||e.adType===o.POSTROLL&&!e.postrollsEnabled,reason_frontpage:e.playerType===s.PLAYER_FRONTPAGE,reason_creative_player:e.playerType===s.PLAYER_CREATIVE,reason_onboarding:e.playerType===s.PLAYER_ONBOARDING,reason_facebook:e.playerType===s.PLAYER_FACEBOOK,reason_highlighter:e.playerType===s.PLAYER_HIGHLIGHTER,reason_recap:e.playerType===s.PLAYER_RECAP,reason_dashboard:e.playerType===s.PLAYER_DASHBOARD,reason_animated_thumbnails:e.playerType===s.PLAYER_ANIMATED_THUMBNAILS,reason_preview_player:e.playerType===s.PLAYER_MISCHIEF,reason_squad_stream_secondary_player:e.playerType===s.PLAYER_SQUAD_SECONDARY,reason_amazon_product_page:e.playerType===s.PLAYER_AMAZON_PRODUCT_PAGE,reason_channel_trailer:e.playerType===s.PLAYER_CHANNEL_TRAILER,reason_mobile_web_upsell:Boolean(e.isMobileLocation)&&e.platform===u.PLATFORM_MOBILE_WEB,reason_raid:e.adType===o.PREROLL&&e.raid,reason_vod_midroll:e.contentType===l.CONTENT_MODE_VOD&&e.vod.type===c.BroadcastType.Archive&&e.adType===o.MIDROLL&&e.requestType===d.ID3_AD&&e.vodMidrollArchiveSetting!==c.VOD_MIDROLL_SETTING_BROADCASTER,reason_vod_ads_disabled:e.contentType===l.CONTENT_MODE_VOD&&!1===e.vodAdsEnabled,reason_embed_promo:e.contentType===l.CONTENT_MODE_VOD&&e.playerType===s.PLAYER_EMBED&&e.embedPromo};return t===b?Promise.resolve({declineReasons:n}):(0,h.adContext)(e.toGraphQLAdRequestContext()).then(function(e){var r=e.adContext.declineState;return t===T?(r.shouldDecline&&(n[r.reason]=!0),n):r.shouldDecline?E({},r.reason,!0):{}}).then(function(e){return{declineReasons:e}},function(){return{declineReasons:n,serverError:!0}})}function C(e,t){var n=(0,a.default)(e,function(e,t){return e||t},!1);return t.forced&&(n=!1),n}},eUgB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenButton=t.mapDispatchToProps=t.mapStateToProps=void 0,t.FullScreenButtonContainer=p;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("Eh8G"),s=n("KE4D"),l=n("YWLq");function u(e){return e&&e.__esModule?e:{default:e}}var c={canFullScreen:i.default.bool.isRequired,hasBranding:i.default.bool.isRequired,isFullScreen:i.default.bool.isRequired,onFullScreen:i.default.func.isRequired,onUnFullScreen:i.default.func.isRequired},d=t.mapStateToProps=function(e){var t=e.screenMode,n=e.playerOptions;return{canFullScreen:t.canFullScreen,hasBranding:n.branding,isFullScreen:t.isFullScreen}},f=t.mapDispatchToProps=function(e){return{onFullScreen:function(){e((0,s.setFullScreen)(!0)),e((0,l.trackEvent)("player_click_fullscreen"))},onUnFullScreen:function(){e((0,s.setFullScreen)(!1)),e((0,l.trackEvent)("player_click_fullscreen"))}}};function p(e){var t=e.canFullScreen,n=e.hasBranding,i=e.isFullScreen,a=e.onFullScreen,s=e.onUnFullScreen;return r.default.createElement(o.FullScreenButton,{canFullScreen:t,hasBranding:n,isFullScreen:i,onFullScreen:a,onUnFullScreen:s})}p.propTypes=c;t.FullScreenButton=(0,a.connect)(d,f)(p)},ehcl:function(e,t){},"et/A":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullscreenSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={enabled:a.default.bool.isRequired,viewBox:a.default.string};(t.FullscreenSVG=function(e){return e.enabled?i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M13 13H7v-2h4V8h2zm4 0V8h2v3h4v2zm0 9v-5h6v2h-4v3zm-4-5v5h-2v-3H7v-2z"})):i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M12 8v2H9v3H7V8h5zm11 5h-2v-3h-3V8h5v5zm-5 9v-2h3v-3h2v5h-5zm-9-5v3h3v2H7v-5h2z"}))}).propTypes=l},f0FL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EditingSeekbarTimeDisplay=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("FxCM"));function o(e){return e&&e.__esModule?e:{default:e}}var s={currentTime:i.default.number,duration:i.default.number};(t.EditingSeekbarTimeDisplay=function(e){var t=e.currentTime,n=e.duration,i=a.toString(n-t,!0);return r.default.createElement("div",{className:"player-seek__time-container"},r.default.createElement("span",{className:"player-seek__time player-seek__time--total"},i))}).propTypes=s},f3ZV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAdsManager=t.ACTION_CREATE_ADS_MANAGER=void 0,t.createAdsManager=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=f(e,t,n,r);return{type:d,adsManager:i}};var r=n("bWEd"),i=n("TxdA"),a=n("7SVc"),o=n("idqK"),s=n("ePhM"),l=n("bMe5"),u=n("qOU0"),c=n("uC+K"),d=t.ACTION_CREATE_ADS_MANAGER="create ads manager";var f=t.getAdsManager=function(e,t,n,d){switch(t.getBackend()){case i.BACKEND_FLASH:return new s.DecliningAdsManager(n,new u.FlashManager(t,n));case a.BACKEND_HLS:case o.BACKEND_MEDIA_PLAYER:return n.getState().env.playerType===c.PLAYER_SQUAD_SECONDARY?l.nullAdsManager:new s.DecliningAdsManager(n,new r.RequestingAdsManager(e,t,n,d));default:return l.nullAdsManager}}},fJns:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.NullMinutesWatched=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.initialDelay=0,this._remainingDelay=this.initialDelay,this._timeout=null,this._timoutStart=null,this.totalMinutes=0,this._events=function(){}}return r(e,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"reset",value:function(){}},{key:"on",value:function(){}},{key:"off",value:function(){}},{key:"destroy",value:function(){}},{key:"_tick",value:function(){}},{key:"_scheduleTick",value:function(){}},{key:"isCurrentlyTracking",value:function(){}}]),e}()},fOVM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeadGlitchSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.DeadGlitchSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("g",null,i.default.createElement("path",{fill:e.fill,d:"M26,17.4589613 L26,3 L4,3 L4,22.0601057 L10.0032868,22.0601057 L10.0032868,26 L14.0004537,22.0601057 L21.3322933,22.0601057 L26,17.4589613 L26,17.4589613 Z M21.0896458,26.0850335 L15.1583403,26.0850335 L11.2051771,30 L7.24798611,30 L7.24798611,26.0850335 L0,26.0850335 L0,5.21746493 L1.97773958,0 L29,0 L29,18.2620736 L21.0896458,26.0850335 L21.0896458,26.0850335 Z"}),i.default.createElement("path",{fill:e.fill,d:"M20.8587626,12.1710126 L22.4052753,13.7175252 L23.7175252,12.4052753 L22.1710126,10.8587626 L23.7175252,9.31224999 L22.4052753,8 L20.8587626,9.54651264 L19.31225,8 L18,9.31224999 L19.5465126,10.8587626 L18,12.4052753 L19.31225,13.7175252 L20.8587626,12.1710126 Z M11.8587626,12.1710126 L13.4052753,13.7175252 L14.7175252,12.4052753 L13.1710126,10.8587626 L14.7175252,9.31224999 L13.4052753,8 L11.8587626,9.54651264 L10.31225,8 L9,9.31224999 L10.5465126,10.8587626 L9,12.4052753 L10.31225,13.7175252 L11.8587626,12.1710126 Z"})))}).propTypes=l},fPn6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextPanel=t.mapDispatchToProps=t.mapStateToProps=t.TEXT=void 0,t.TextPanelContainer=f;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("ZLzK"),s=n("rSwD");function l(e){return e&&e.__esModule?e:{default:e}}var u={currentAlignment:i.default.string.isRequired,currentColor:i.default.string.isRequired,currentFont:i.default.string.isRequired,currentFontSize:i.default.number.isRequired,currentPosition:i.default.string.isRequired,currentOpacity:i.default.string.isRequired,selectFontChange:i.default.func.isRequired},c=(t.TEXT="Text",t.mapStateToProps=function(e){var t=e.captions;return{currentAlignment:t.style.alignment,currentColor:t.style.fontColorName,currentFont:t.style.font,currentFontSize:t.style.fontSize,currentPosition:t.style.verticalPosition,currentOpacity:t.style.fontOpacity}}),d=t.mapDispatchToProps=function(e){return{selectFontChange:function(t,n){var r,i,a;e((0,s.setCaptionsPreset)(s.CUSTOM,(a=n,(i=t)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r)))}}};function f(e){var t=e.currentAlignment,n=e.currentColor,i=e.currentFont,a=e.currentFontSize,s=e.currentPosition,l=e.currentOpacity,u=e.selectFontChange;return r.default.createElement(o.TextPanel,{currentAlignment:t,currentColor:n,currentFont:i,currentFontSize:a,currentPosition:s,currentOpacity:l,selectFontChange:u})}f.propTypes=u;t.TextPanel=(0,a.connect)(c,d)(f)},fT0A:function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});t.AD_MOAT_VPAID_STOPPED="AdStopped";var a=t.AD_MOAT_VPAID_VIDEO_START="AdVideoStart",o=t.AD_MOAT_VPAID_VIDEO_FIRST_QUARTILE="AdVideoFirstQuartile",s=t.AD_MOAT_VPAID_VIDEO_MIDPOINT="AdVideoMidpoint",l=t.AD_MOAT_VPAID_VIDEO_THIRD_QUARTILE="AdVideoThirdQuartile",u=t.AD_MOAT_VPAID_VIDEO_COMPLETE="AdVideoComplete";t.AD_MOAT_VPAID_VIDEO_PAUSED="AdPaused",t.AD_MOAT_VPAID_VIDEO_PLAYING="AdPlaying",t.AD_MOAT_VPAID_VOLUME_CHANGED="AdVolumeChange",t.INIT_QUARTILE_EVENTS=(i(r={},u,!1),i(r,l,!1),i(r,s,!1),i(r,o,!1),i(r,a,!1),r)},favX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOverlay=t.mapStateToProps=void 0,t.ErrorOverlayContainer=f;var r=u(n("q1tI")),i=u(n("17x9")),a=n("Mv0S"),o=n("N58E"),s=u(n("y+GA")),l=n("uNCh");function u(e){return e&&e.__esModule?e:{default:e}}var c={errorCode:i.default.number.isRequired,errorMessage:i.default.string.isRequired,screenStack:i.default.arrayOf(i.default.string).isRequired},d=t.mapStateToProps=function(e){var t=e.error,n=e.screen;return{errorCode:t.code,errorMessage:n[0]===l.ERROR_SCREEN?s.default.getMessage(t.code):"",screenStack:n}};function f(e){var t=e.errorCode,n=e.errorMessage;return e.screenStack[0]!==l.ERROR_SCREEN?null:r.default.createElement(a.ErrorOverlay,{errorCode:t,errorMessage:n})}f.propTypes=c;t.ErrorOverlay=(0,o.connect)(d)(f)},fcnJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainMenu=t.MainMenuComponent=t.COPY_URL_FEEDBACK_DELAY=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=E(n("q1tI")),a=E(n("17x9")),o=E(n("P5Jw")),s=n("FxCM"),l=E(n("TSYQ")),u=n("9kay"),c=n("bDXi"),d=n("1fV9"),f=n("mWCY"),p=n("uC+K"),_=n("8Y3c"),h=n("SXV3"),m=n("Rnd+");function E(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=t.COPY_URL_FEEDBACK_DELAY=2e3,g={playerType:a.default.string.isRequired,canChangePlaybackSpeed:a.default.bool,canPopoutPlayer:a.default.bool,captionsAvailable:a.default.bool,currentSpeed:a.default.number,currentTime:a.default.number,isStaffUser:a.default.bool,showDeleteAllClips:a.default.bool,showDeleteClip:a.default.bool,showReportClip:a.default.bool,isVod:a.default.bool.isRequired,isClip:a.default.bool.isRequired,trackAdvancedClick:a.default.func,onMenuTransition:a.default.func,onPopoutPlayer:a.default.func,onShowCaptionsOptions:a.default.func,selectedQualityName:a.default.string.isRequired,showClipsShortcutOverlay:a.default.func.isRequired,shouldShowQualityMenu:a.default.bool,openClipsModerationModal:a.default.func.isRequired,t:a.default.func.isRequired,vodUrlWithTimestamp:a.default.string,windowObj:a.default.object.isRequired},T=(0,l.default)({"pl-menu__item":!0,"pl-menu__item--block":!0}),b=(0,l.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret":!0}),S=(0,l.default)({ellipsis:!0,"qa-advanced-button":!0}),A=(0,l.default)({ellipsis:!0,"qa-report-issue-button":!0}),C=(0,l.default)({ellipsis:!0,"qa-popout-player-button":!0}),O=(0,l.default)({ellipsis:!0,"qa-captions-options-button":!0}),P=t.MainMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasRecentlyCopied:!1},e.copyUrlTimeoutId=0,e.handleAdvancedClick=e.handleAdvancedClick.bind(e),e.handlePlaybackSpeedClick=e.handlePlaybackSpeedClick.bind(e),e.handleQualityClick=e.handleQualityClick.bind(e),e.handleReportIssueClick=e.handleReportIssueClick.bind(e),e.handleStaffClick=e.handleStaffClick.bind(e),e.handleUrlCopied=e.handleUrlCopied.bind(e),e.handleClipModerationClick=e.handleClipModerationClick.bind(e),e.handleClipReportClick=e.handleClipReportClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentWillUnmount",value:function(){0!==this.copyUrlTimeoutId&&this.props.windowObj.clearTimeout(this.copyUrlTimeoutId)}},{key:"handleClipModerationClick",value:function(){this.props.onMenuTransition(c.IDENTIFIER_CLIP_MODERATION_MENU)}},{key:"handleClipReportClick",value:function(){this.props.openClipsModerationModal(_.CLIPS_MODERATION_REPORT_TYPE)}},{key:"handleQualityClick",value:function(){this.props.onMenuTransition(c.IDENTIFIER_QUALITY_MENU)}},{key:"handlePlaybackSpeedClick",value:function(){this.props.onMenuTransition(c.IDENTIFIER_PLAYBACK_SPEED_MENU)}},{key:"handleAdvancedClick",value:function(){this.props.trackAdvancedClick(),this.props.onMenuTransition(c.IDENTIFIER_ADVANCED_MENU)}},{key:"handleReportIssueClick",value:function(){this.props.onMenuTransition(c.IDENTIFIER_REPORT_ISSUES_MENU)}},{key:"handleStaffClick",value:function(){this.props.onMenuTransition(c.IDENTIFIER_STAFF_MENU)}},{key:"handleUrlCopied",value:function(){var e=this;this.setState({hasRecentlyCopied:!0}),this.copyUrlTimeoutId=this.props.windowObj.setTimeout(function(){e.setState({hasRecentlyCopied:!1}),e.copyUrlTimeoutId=0},y)}},{key:"renderClipsEmbedMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton();return i.default.createElement("div",{className:"pl-menu__inner"},e,t,i.default.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderClipsViewingMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton(),r=this._renderClipModerationButton(),a=this._renderReportClipButton();return i.default.createElement("div",{className:"pl-menu__inner"},e,t,r,a,i.default.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderRecapMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderReportIssuesMenuButton();return i.default.createElement("div",{className:"pl-menu__inner"},e,t,n)}},{key:"renderClipsWatchMenu",value:function(){var e=this._renderQualityButton(),t=this._renderPlaybackSpeedButton(),n=this._renderClipsKeyboardShortcutsButton();return i.default.createElement("div",{className:"pl-menu__inner"},e,t,i.default.createElement("div",{className:"pl-menu__section pl-menu__section--with-sep"},n))}},{key:"renderStandardMenu",value:function(){var e=this.props.shouldShowQualityMenu,t=this._renderQualityButton(),n=this._renderPlaybackSpeedButton(),r=this._renderCaptionsOptionsButton(),a=this._renderAdvancedMenuButton(),o=this._renderReportIssuesMenuButton(),s=this._renderStaffMenuButton(),u=this._renderPopoutPlayerButton(),c=this._renderCopyVideoUrlButton(),d=(0,l.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":e});return i.default.createElement("div",{className:"pl-menu__inner"},t,i.default.createElement("div",{className:d},n,r,a,o,s,u,c))}},{key:"render",value:function(){switch(this.props.playerType){case p.PLAYER_CLIPS_EMBED:return this.renderClipsEmbedMenu();case p.PLAYER_CLIPS_VIEWING:return this.renderClipsViewingMenu();case p.PLAYER_CLIPS_WATCH:return this.renderClipsWatchMenu();case p.PLAYER_RECAP:return this.renderRecapMenu();default:return this.renderStandardMenu()}}},{key:"_renderReportClipButton",value:function(){var e=this.props,t=e.showReportClip,n=e.t;return t?i.default.createElement("div",{className:T},i.default.createElement(d.Button,{onClick:this.handleClipReportClick,className:"qa-report-clip"},i.default.createElement("span",null,n("Report Clip")))):null}},{key:"_renderClipsKeyboardShortcutsButton",value:function(){var e=this.props,t=e.showClipsShortcutOverlay,n=e.t;return i.default.createElement("div",{className:T},i.default.createElement(d.Button,{onClick:t,className:"qa-clips-keyboard-shortcuts"},i.default.createElement("span",null,n("View Keyboard Shortcuts"))))}},{key:"_renderClipModerationButton",value:function(){var e=this.props,t=e.showDeleteAllClips,n=e.showDeleteClip;return t||n?i.default.createElement("div",{className:"qa-clip-moderation-button"},i.default.createElement(h.Experiment,{uuid:m.ExperimentIds.ClipsOnTheBrain,renderValue:"control"},this._renderClipModerationButtonContent(!1)),i.default.createElement(h.Experiment,{uuid:m.ExperimentIds.ClipsOnTheBrain,renderValue:"variant1"},this._renderClipModerationButtonContent(!0))):null}},{key:"_renderClipModerationButtonContent",value:function(e){var t=this.props.t;return i.default.createElement("div",{className:b},i.default.createElement(d.Button,{onClick:this.handleClipModerationClick,disabled:e},i.default.createElement("span",null,t("Moderation"))))}},{key:"_renderQualityButton",value:function(){var e=this.props,t=e.selectedQualityName,n=e.shouldShowQualityMenu,r=e.t;return n?i.default.createElement("div",{className:b},i.default.createElement(d.Button,{onClick:this.handleQualityClick,className:"qa-quality-button"},i.default.createElement("span",null,r("Quality")),i.default.createElement("span",{className:"pl-pill pl-mg-l-05 qa-quality-pill"},t))):null}},{key:"_renderPlaybackSpeedButton",value:function(){var e=this.props,t=e.currentSpeed,n=e.isVod,r=e.isClip,a=e.canChangePlaybackSpeed,o=e.t,s=t+"x";return(n||r)&&a?i.default.createElement("div",{className:b},i.default.createElement(d.Button,{onClick:this.handlePlaybackSpeedClick,className:"qa-playback-speed-button"},i.default.createElement("span",null,o(f.TEXT_SPEED)),i.default.createElement("span",{className:"pl-pill pl-mg-l-05 qa-playback-speed-pill"},s))):null}},{key:"_renderCaptionsOptionsButton",value:function(){var e=this.props,t=e.captionsAvailable,n=e.onShowCaptionsOptions,r=e.t;return t?i.default.createElement("div",{className:T},i.default.createElement(d.Button,{className:O,onClick:n},i.default.createElement("span",null,r("Closed Captions Options")))):null}},{key:"_renderAdvancedMenuButton",value:function(){var e=this.props.t;return i.default.createElement("div",{className:b},i.default.createElement(d.Button,{className:S,onClick:this.handleAdvancedClick},i.default.createElement("span",null,e("Advanced"))))}},{key:"_renderReportIssuesMenuButton",value:function(){var e=this.props.t;return i.default.createElement("div",{className:b},i.default.createElement(d.Button,{className:A,onClick:this.handleReportIssueClick},i.default.createElement("span",null,e("Report Playback Issue"))))}},{key:"_renderStaffMenuButton",value:function(){return this.props.isStaffUser?i.default.createElement("div",{className:b},i.default.createElement(d.Button,{className:"ellipsis qa-staff-button",onClick:this.handleStaffClick},i.default.createElement("span",null,"Staff"))):null}},{key:"_renderPopoutPlayerButton",value:function(){var e=this.props,t=e.canPopoutPlayer,n=e.onPopoutPlayer,r=e.t;return t?i.default.createElement("div",{className:T},i.default.createElement(d.Button,{className:C,onClick:n},i.default.createElement("span",null,r("Popout Player")))):null}},{key:"_renderCopyUrlButton",value:function(){var e=this.props,t=e.currentTime,n=e.vodUrlWithTimestamp,r=e.t,a=r("Copy Video URL at {{time}}",{time:(0,s.toString)(t)});return this.state.hasRecentlyCopied?i.default.createElement(d.Button,null,i.default.createElement("span",null,r("Copied!"))):i.default.createElement(o.default,{text:n,onSelect:this.handleUrlCopied,className:"qa-copy-to-clipboard-button"},i.default.createElement(d.Button,null,i.default.createElement("span",null,a)))}},{key:"_renderCopyVideoUrlButton",value:function(){var e,t=this.props.isVod,n=this._renderCopyUrlButton(),r=(0,l.default)((v(e={},T,!0),v(e,"pl-menu__item--active",this.state.hasRecentlyCopied),e));return t?i.default.createElement("div",{className:r},n):null}}]),t}();P.propTypes=g,P.defaultProps={canChangePlaybackSpeed:!1,canPopoutPlayer:!0,captionsAvailable:!1,currentSpeed:1,currentTime:0,isStaffUser:!1,showDeleteAllClips:!1,showDeleteClip:!1,showReportClip:!0,trackAdvancedClick:function(){},onMenuTransition:function(){},onPopoutPlayer:function(){},onShowCaptionsOptions:function(){},shouldShowQualityMenu:!0,vodUrlWithTimestamp:""};t.MainMenu=(0,u.translate)()(P)},"fk/P":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedCollectionSidebar=t.CollectionSidebarComponent=void 0;var r=u(n("17x9")),i=u(n("q1tI")),a=n("ln9Q"),o=n("xxV0"),s=n("03Qf"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c={currentItemIndex:r.default.number,collection:r.default.object.isRequired,onSelectItem:r.default.func,onClose:r.default.func.isRequired,className:r.default.string,onMouseEnter:r.default.func,onMouseLeave:r.default.func},d=t.CollectionSidebarComponent=function(e){var t,n,r,s=e.currentItemIndex,u=e.collection,c=e.onSelectItem,d=e.onClose,f=e.className,p=e.onMouseEnter,_=e.onMouseLeave,h=(0,l.default)((r=!0,(n=f)in(t={"collection-sidebar":!0})?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),m=u.items.map(function(e,t){var n=t===s;return i.default.createElement(a.CollectionSidebarItem,{key:n+"_"+e.itemId+"_"+e.title,onSelect:c,selectItem:e.itemId,isActive:n,thumbnailURL:e.thumbnails.small,title:e.title,subTitle:e.owner.displayName,index:t})});return i.default.createElement("div",{className:h,onMouseEnter:p,onMouseLeave:_},i.default.createElement(o.CollectionSidebarHeader,{title:u.title,ownerURL:"https://twitch.tv/"+u.owner.name,ownerName:u.owner.displayName,itemsLength:u.items.length,totalDuration:u.totalDuration,onClose:d}),i.default.createElement("div",{className:"collection-sidebar-item-container"},m))};d.propTypes=c,d.defaultProps={className:"",currentItemIndex:-1,onSelectItem:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};t.AnimatedCollectionSidebar=(0,s.makeAnimatedComponent)(d,{showDuration:350,hideDuration:350,showClass:"collection-sidebar--open",hideClass:"collection-sidebar--close"})},"fy/h":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AAXManager=t.AAX_VIDEO_AD_SERVER=t.AAX_TWITCH_PUBLISHER_ID=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("QBeZ"),a=n("ePhM"),o=n("qT8i");n("kcRU");var s,l=n("ijCd"),u=(s=l)&&s.__esModule?s:{default:s},c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("TRt3")),d=n("wjyp"),f=n("VIow"),p=n("wsSb"),_=n("KR5+");function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AAX_TWITCH_PUBLISHER_ID=3036,t.AAX_VIDEO_AD_SERVER="DFP",t.AAXManager=function(){function e(t,n,r,i){var a=this;h(this,e),this._store=r,this._preloadPrerollBidsPromise=null,this._options=i,this._unsubs=[];try{var s=this._store.getState(),l=s.env,u=s.window;l.platform===_.PLATFORM_MOBILE_WEB?this._apstag=new m:u.apstag?(this._apstag=u.apstag,this._apstag.init({pubID:t,videoAdServer:n},function(){a._apstag=u.apstag})):this._apstag=new m}catch(e){this._apstag=new m;var f={reason:e.message};(0,d.sendAdSpadeEvent)({store:this._store,eventName:c.AAX_AD_AUCTION_INIT_ERROR,data:f})}this._unsubFromCurrentAdPropertiesChanged=(0,o.subscribe)(this._store,["ads.currentAdProperties"],this._onCurrentAdPropertiesChange.bind(this))}return r(e,[{key:"destroy",value:function(){this._unsubFromCurrentAdPropertiesChanged()}},{key:"preloadPrerollBids",value:function(){var e=this;return this._preloadPrerollBidsPromise=this._getAdsRequestContextForPreroll().then(function(t){return e._willDeclineAds(t)?[]:e._fetchVideoBids(["twitch-preroll"],t,500)}),this._preloadPrerollBidsPromise}},{key:"fetchBids",value:function(e){switch(e.adType){case i.AdRollTypes.PREROLL:return this._fetchPrerollBids(e);case i.AdRollTypes.MIDROLL:return this._fetchMidrollBids(e,1e3);case i.AdRollTypes.POSTROLL:return this._fetchPostrollBids(e,1e3);default:return Promise.resolve([])}}},{key:"getAdRequestContextWithAmazonBids",value:function(e,t){var n=t;return e&&e[0]&&(n.amzniid=e[0].amzniid,n.amznbid=e[0].amznbid,n.qsParams=e[0].qsParams),n}},{key:"_fetchPrerollBids",value:function(e){if(!this._preloadPrerollBidsPromise)return this._fetchVideoBids(["twitch-preroll"],e,500);var t=this._preloadPrerollBidsPromise;return this._preloadPrerollBidsPromise=null,t}},{key:"_fetchMidrollBids",value:function(e,t){var n=Array.apply(null,new Array(1)).map(function(e,t){return"twitch-midroll-"+(t+1).toString()});return this._fetchVideoBids(n,e,t)}},{key:"_fetchPostrollBids",value:function(e,t){return this._fetchVideoBids(["twitch-postroll"],e,t)}},{key:"_fetchVideoBids",value:function(e,t,n){var r=this;if(!this._shouldRequestBids(t))return Promise.resolve([]);var i={slot_ids:e.join(",")};this._initAndSendAdSpadeEvent(c.AAX_AD_AUCTION,t,i);var a=this._createSlotsFromSlotIds(e,n);return new Promise(function(n){var o=r._store.getState().window.Date,s=o.now();r._apstag.fetchBids(a,function(a){var l=o.now()-s;i.aax_latency=l;var d=a.filter(function(t){return"video"===t.mediaType&&(0,u.default)(e,t.slotID)});r._options.debug&&console.log("aax fetchBids: ",d),d.length>0?(i.amzniid=d.map(function(e){return e.amzniid}).join(","),i.amznbid=d.map(function(e){return e.amznbid}).join(","),i.qsParams=d.map(function(e){return e.qsParams}).join(","),r._initAndSendAdSpadeEvent(c.AAX_AD_AUCTION_RESPONSE,t,i),n(d)):(i.reason="0 bids returned",r._initAndSendAdSpadeEvent(c.AAX_AD_AUCTION_ERROR,t,i),n([]))})})}},{key:"_createSlotsFromSlotIds",value:function(e,t){return{slots:e.map(function(e){return{mediaType:"video",slotID:e}}),timeout:t}}},{key:"_onCurrentAdPropertiesChange",value:function(){this._unsubFromCurrentAdPropertiesChanged();var e=this._store.getState().stream.contentType;e!==f.CONTENT_MODE_VOD&&e!==p.CONTENT_MODE_LIVE||this.preloadPrerollBids()}},{key:"_getAdsRequestContextForPreroll",value:function(){var e=!1;return this._options&&this._options.hasOwnProperty("force_preroll")&&(e=!0),(0,i.getRequestContext)(i.AdRollTypes.PREROLL,i.DEFAULT_AD_DURATION,this._store.getState(),e)}},{key:"_willDeclineAds",value:function(e){var t=(0,a.getDeclineReasons)(e,"control");return(0,a.willDeclineAds)(t,e)}},{key:"_initAndSendAdSpadeEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,d.initializeAdSpadeEvent)(t);(0,d.sendAdSpadeEvent)({eventName:e,store:this._store,data:Object.assign({},r,n)})}},{key:"_shouldRequestBids",value:function(e){return"VAES"!==e.adServer&&(!e.isFromEEA||e.amazonConsent)}}]),e}();var m=function(){function e(){h(this,e)}return r(e,[{key:"init",value:function(){}},{key:"debug",value:function(){}},{key:"fetchBids",value:function(e,t){t([])}}]),e}()},g91f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_TRACKING_START="X-TV-TWITCH-AD-TRACKING-START",t.AD_TRACKING_STOP="X-TV-TWITCH-AD-TRACKING-COMPLETE"},gCUw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerCard=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("oLeg"),s=u(n("TSYQ")),l=u(n("lFKM"));function u(e){return e&&e.__esModule?e:{default:e}}var c={thumbnailURL:a.default.string.isRequired,bread:a.default.string,title:a.default.string,info:a.default.oneOfType([a.default.element,a.default.string]),progressBarPercentage:a.default.number,onSelect:a.default.func,selectItem:a.default.any,className:a.default.string,hasThumbZoom:a.default.bool,hasBorder:a.default.bool},d=t.PlayerCard=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e,t,n,r=this.props,a=r.thumbnailURL,l=r.title,u=r.bread,c=r.info,d=r.className,f=r.progressBarPercentage,p=r.hasThumbZoom,_=r.hasBorder,h=(0,s.default)((e={"pl-card":!0,"pl-card--withprogress":this._isPercentage(f),"pl-card--withborder":_,"pl-card--thumbzoom":p},n=!0,(t=d)in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e)),m=this._isPercentage(f)?i.default.createElement(o.AutoplayProgressBar,{percentage:f}):null;return i.default.createElement("div",{className:h,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},i.default.createElement("a",{className:"pl-card__layout",href:"##"},i.default.createElement("figure",{className:"pl-card__img"},i.default.createElement("img",{alt:"Video Thumbnail",src:a})),i.default.createElement("div",{className:"pl-card__overlay"},i.default.createElement("div",{className:"pl-card__body"},i.default.createElement("h4",{className:"pl-card__bread ellipsis"},u),i.default.createElement("h3",{className:"pl-card__title ellipsis"},l),i.default.createElement("div",{className:"pl-card__info ellipsis"},c)),m)))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}},{key:"_isPercentage",value:function(e){return!(void 0===e||!(0,l.default)(e)||e<0||e>100)}}]),t}();d.defaultProps={thumbnailURL:"",hasThumbZoom:!1,hasBorder:!1},d.propTypes=c},gEVs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMarkersBalloonButton=t.VideoMarkersBalloonButtonContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("4b1H"),s=n("YWLq"),l=n("R2mi"),u=n("4opd");function c(e){return e&&e.__esModule?e:{default:e}}var d={currentTime:i.default.number.isRequired,playerHeight:i.default.number.isRequired,seekToTime:i.default.func.isRequired,trackEvent:i.default.func.isRequired,videoMomentEdges:i.default.array.isRequired},f=t.mapStateToProps=function(e){var t=e.playback,n=e.playerDimensions,r=e.vod;return{currentTime:t.currentTime,playerHeight:n.height,videoMomentEdges:r.videoMomentEdges}},p=t.mapDispatchToProps=function(e){return{seekToTime:function(t){e((0,o.seek)(t))},trackEvent:function(t,n){e((0,s.trackEvent)(t,n))}}},_=t.VideoMarkersBalloonButtonContainer=function(e){return r.default.createElement(l.VideoMarkersBalloonButtonComponent,{currentTime:e.currentTime,markers:h(e.videoMomentEdges),playerHeight:e.playerHeight,seekToTime:e.seekToTime,trackEvent:e.trackEvent})},h=function(e){return(e||[]).map(function(e){return(0,u.momentToMarker)(e.node)})};_.propTypes=d;t.VideoMarkersBalloonButton=(0,a.connect)(f,p)(_)},gGr8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AD_STITCHING_GEOS=Object.freeze({AE:"United Arab Emirates",AT:"Austria",AU:"Australia",BE:"Belgium",BR:"Brazil",CA:"Canada",CH:"Switzerland",CZ:"Czech Republic",DE:"Germany",DK:"Denmark",ES:"Spain",FI:"Finland",FR:"France",GB:"United Kingdom",HU:"Hungary",IT:"Italy",JP:"Japan",KR:"Korea",MX:"Mexico",NL:"Netherlands",NO:"Norway",NZ:"New Zealand",PL:"Poland",PT:"Portugal",RU:"Russia",SA:"Saudi Arabia",SE:"Sweden",TR:"Turkey",US:"United States"}),t.PREROLL_TIMEOUT=1050},gReq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function(e){return new Promise(function(t){return setTimeout(t,e)})}},"gZP+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdNotice=void 0,t.AdNoticeComponent=u;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={label:i.default.string.isRequired,t:i.default.func.isRequired,channelName:i.default.string.isRequired},l={color:"white",backgroundColor:"rgba(0,0,0,0.8)",position:"absolute",top:"0",left:"0",padding:"10px"};function u(e){var t=e.label,n=e.t,i=e.channelName;return r.default.createElement("div",{style:l,className:"player-ad-notice"},r.default.createElement("p",null,n(t,{channelName:i})))}u.propTypes=s;t.AdNotice=(0,a.translate)()(u)},gZXI:function(e,t,n){},gb7j:function(e,t,n){var r=n("g4R6"),i=n("zoYe"),a=n("Sxd8"),o=n("dt0z");e.exports=function(e,t,n){e=o(e),t=i(t);var s=e.length,l=n=void 0===n?s:r(a(n),0,s);return(n-=t.length)>=0&&e.slice(n,l)==t}},gcXI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.settings=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case a.ACTION_INITIALIZE_SETTINGS:return(0,r.default)({},e,(0,i.default)(t.settings,l));case a.ACTION_SET_LOW_LATENCY_MODE:return(0,r.default)({},e,{lowLatencyModeEnabled:Boolean(t.enable)});case a.ACTION_SET_PERSISTENCE:return(0,r.default)({},e,{persistenceEnabled:Boolean(t.value)});default:return e}};var r=o(n("3OWR")),i=o(n("JZM8")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("L5pO"));function o(e){return e&&e.__esModule?e:{default:e}}var s={lowLatencyModeEnabled:!0,persistenceEnabled:!0},l=Object.keys(s)},ggpQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BROADCASTER_IS_NOT_PARTNER=t.BROADCASTER_IS_PARTNER=t.BROADCASTER_IS_NOT_LIVE=t.BROADCASTER_IS_LIVE=t.NOT_AVAILABLE=t.ACTION_BROADCASTER_INFO_LOADED=void 0,t.channelInfoFetched=u,t.fetchChannelInfo=function(e){return function(t){return(0,r.channelInfo)(e).then(function(n){var r=n.partner?s:l;return t(u(e,{partnerStatus:r}))})}},t.fetchStreamInfo=function(e){return function(t){return(0,r.streamInfo)(e).then(function(n){var r=n.stream?a:o;return t(u(e,{liveStatus:r,stream:n.stream}))})}};var r=n("56nq"),i=t.ACTION_BROADCASTER_INFO_LOADED="broadcaster info loaded",a=(t.NOT_AVAILABLE="NOT_AVAILABLE",t.BROADCASTER_IS_LIVE="BROADCASTER_IS_LIVE"),o=t.BROADCASTER_IS_NOT_LIVE="BROADCASTER_IS_NOT_LIVE",s=t.BROADCASTER_IS_PARTNER="BROADCASTER_IS_PARTNER",l=t.BROADCASTER_IS_NOT_PARTNER="BROADCASTER_IS_NOT_PARTNER";function u(e,t){return{type:i,channelName:e,info:t}}},glKH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamInfoDisplay=t.StreamInfoDisplayComponent=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n("q1tI")),a=u(n("17x9")),o=n("9kay"),s=u(n("TSYQ")),l=n("5+Kj");function u(e){return e&&e.__esModule?e:{default:e}}var c={gameName:a.default.string,gameUrl:a.default.string,lang:a.default.object,live:a.default.bool,isEmbed:a.default.bool,isMobile:a.default.bool,name:a.default.string,onClick:a.default.func,streamUrl:a.default.string,streamTags:a.default.array,title:a.default.string,viewerCount:a.default.number,className:a.default.string},d=(0,s.default)("player-text-link","player-text-link--no-color","qa-game-name"),f={container:"player-streaminfo__name",a:(0,s.default)("player-text-link","player-text-link--no-color","qa-display-name")},p=t.StreamInfoDisplayComponent=function(e){var t=e.gameName,n=e.gameUrl,a=e.lang,u=e.live,c=e.name,p=e.streamUrl,_=e.streamTags,h=e.onClick,m=e.title,E=e.viewerCount,v=e.className,y=e.isEmbed,g=e.isMobile,T=Number(E).toLocaleString(a.shortCode),b=y?{target:"_blank",rel:"noopener"}:{},S=i.default.createElement("a",r({className:d,href:n},b),t),A=i.default.createElement("span",null,T),C=null,O=(0,s.default)({"player-streaminfo__title":!0,"qa-stream-title":!0,"player-streaminfo__title--hide":u&&g});return u&&(C=i.default.createElement("div",{className:"player-streaminfo__viewers"},i.default.createElement(o.Interpolate,{i18nKey:"playing {{game}} for {{viewerCount}} viewer",game:S,viewerCount:A,options:{count:E}}))),i.default.createElement("div",{className:v},i.default.createElement("div",{className:f.container},i.default.createElement("a",r({className:f.a,href:p},b,{onClick:h}),c)),i.default.createElement("div",{className:O},m),i.default.createElement("div",{className:"player-streaminfo__game"},C),i.default.createElement(l.StreamTags,{tags:_,openInNewTab:y}))};p.propTypes=c;t.StreamInfoDisplay=(0,o.translate)()(p)},gu39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeSlider=t.VolumeSliderComponent=t.sliderClassNames=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=h(n("q1tI")),a=h(n("17x9")),o=n("9kay"),s=n("N58E"),l=n("iSDK"),u=n("4b1H"),c=n("J0qE"),d=n("YWLq"),f=h(n("TSYQ")),p=n("ipln"),_=n("olr1");function h(e){return e&&e.__esModule?e:{default:e}}var m={muted:a.default.bool,mutePlayer:a.default.func,changeVolume:a.default.func,volume:a.default.number,trackVolumeButtonClick:a.default.func,isPlayingSound:a.default.bool,t:a.default.func},E=t.mapStateToProps=function(e){return{muted:e.playback.muted,volume:e.playback.volume,isPlayingSound:(0,p.isPlayingSound)(e)}},v=t.mapDispatchToProps=function(e){return{mutePlayer:function(t){e((0,u.mutePlayer)(t,!1))},changeVolume:function(t){e((0,u.changeVolume)(t))},trackVolumeButtonClick:function(t){var n=t?"mute":"unmute";e((0,d.trackEvent)("player_click",{component:"volume_button",component_state:n}))}}},y=t.sliderClassNames={slider:"player-volume__slider player-slider",sliderLeft:"player-slider__left",sliderThumb:"player-volume__slider-thumb"},g=(0,f.default)("pl-flex","pl-flex__item--grow","player-volume"),T=t.VolumeSliderComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleIconClick=e.handleIconClick.bind(e),e.handleSliderChange=e.handleSliderChange.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.muted,n=e.volume,r=t?0:n,a=this.getVolumeIcon();return i.default.createElement("div",{className:g},i.default.createElement("button",{type:"button",className:"player-button player-button--volume qa-control-volume",onClick:this.handleIconClick},a),i.default.createElement("div",{className:"player-volume__slider-container"},i.default.createElement(l.Slider,{classNames:y,alwaysShowThumb:!0,max:1,min:0,value:r,skipAnimation:!0,dragHandlers:{onDrag:this.handleSliderChange,onStop:this.handleSliderChange},onClick:this.handleSliderChange})))}},{key:"handleSliderChange",value:function(e){var t=this.props,n=t.changeVolume,r=t.mutePlayer;n(e),r(!1)}},{key:"handleIconClick",value:function(){var e=this.props,t=e.volume,n=e.changeVolume,r=e.mutePlayer,i=e.trackVolumeButtonClick;e.isPlayingSound?(r(!0),i(!0)):(r(!1),i(!1),0===t&&n(c.volumeStepAmount))}},{key:"getVolumeIcon",value:function(){var e=this.props,t=e.t,n=e.isPlayingSound,r=i.default.createElement("span",{className:"unmute-button"},i.default.createElement("span",{className:"player-tip","data-tip":t("Unmute")}),i.default.createElement(_.VolumeSVG,{id:"icon_volumemute",muted:!0})),a=i.default.createElement("span",{className:"mute-button"},i.default.createElement("span",{className:"player-tip","data-tip":t("Mute")}),i.default.createElement(_.VolumeSVG,{id:"icon_volumefull",muted:!1}));return n?a:r}}]),t}();T.propTypes=m;t.VolumeSlider=(0,o.translate)()((0,s.connect)(E,v)(T))},gvrc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXT_IFRAME_CLASS=t.EXT_OVERLAY_HIGHLIGHT=t.EXT_OVERLAY_CLASS=void 0,t.ExtensionOverlay=p;var r=u(n("q1tI")),i=u(n("17x9")),a=n("8BOE"),o=n("MBA2"),s=n("hm9X"),l=n("snxH");function u(e){return e&&e.__esModule?e:{default:e}}var c=t.EXT_OVERLAY_CLASS="extension-overlay",d=(t.EXT_OVERLAY_HIGHLIGHT="extension-overlay__highlight",t.EXT_IFRAME_CLASS="extension-overlay__iframe"),f={width:i.default.number.isRequired,height:i.default.number.isRequired,onDoubleClick:i.default.func.isRequired,installation:s.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,isLoggedIn:i.default.bool.isRequired,isVisible:i.default.bool.isRequired,language:i.default.string.isRequired,locale:i.default.string.isRequired,loginId:i.default.number.isRequired,onBeginPurchase:i.default.func,onIdentityLinked:i.default.func.isRequired,onMinimize:i.default.func,onModalRequested:i.default.func.isRequired,onModalNotification:i.default.func.isRequired,tracker:l.TRACKER_PROP_TYPE.isRequired,trackingProperties:i.default.shape({login:i.default.string.isRequired,channel:i.default.string.isRequired,channelId:i.default.number.isRequired,deviceId:i.default.string.isRequired,platform:i.default.string.isRequired,playerType:i.default.string.isRequired})};function p(e){var t=e.installation,n=e.trackingProperties,i=t.playerState.isHighlighted;return r.default.createElement(o.ExtensionBorder,{anchorClassName:c,collapseTarget:t.playerState.collapseLocation,height:e.height,width:e.width,isHidden:t.playerState.isHidden,isHighlighted:i,x:0,y:0},r.default.createElement(a.ExtensionFrame,{iframeClass:d,key:t.id,installation:t,isLoggedIn:e.isLoggedIn,isHighlighted:i,isVisible:e.isVisible,language:e.language,locale:e.locale,loginId:e.loginId,onDoubleClick:e.onDoubleClick,onBeginPurchase:e.onBeginPurchase,onIdentityLinked:e.onIdentityLinked,onMinimize:e.onMinimize,onModalRequested:e.onModalRequested,onModalNotification:e.onModalNotification,tracker:e.tracker,trackingProperties:n}))}p.propTypes=f},"h+ef":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CAPTIONS_AUTO_RESIZE_SCALE=t.CAPTIONS_AUTO_RESIZE_THRESHOLD_WIDTH=t.CAPTIONS_AUTO_RESIZE_THRESHOLD_HEIGHT=void 0,t.createCaptionsMiddleware=function(){return function(e){return function(t){return function(n){switch(n.type){case r.ACTION_UPDATE_PLAYER_DIMENSIONS:var l=e.getState(),f=l.captions,p=l.env;if((0,s.default)(i.AMAZON_EMBED_PLAYER_TYPES,p.playerType)){var _=n.playerDimensions.height,h=n.playerDimensions.width,m=_<=u||h<=c;if(m){var E=Math.min(_,h),v=Math.round(E*d),y=(0,o.default)({},f.style,{fontSize:v});e.dispatch({type:a.ACTION_UPDATE_CAPTIONS_FONT_SIZE,style:y})}}}t(n)}}}};var r=n("Si5T"),i=n("uC+K"),a=n("rSwD"),o=l(n("zdiy")),s=l(n("ijCd"));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.CAPTIONS_AUTO_RESIZE_THRESHOLD_HEIGHT=322,c=t.CAPTIONS_AUTO_RESIZE_THRESHOLD_WIDTH=500,d=t.CAPTIONS_AUTO_RESIZE_SCALE=.05},h3mL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiviewButton=d;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("Wot4");function u(e){return e&&e.__esModule?e:{default:e}}var c={isHighlighted:i.default.bool.isRequired,multiviewEnabled:i.default.bool.isRequired,onHoverMessage:i.default.string,onMultiview:i.default.func.isRequired};function d(e){var t=e.isHighlighted,n=e.multiviewEnabled,i=e.onHoverMessage,u=e.onMultiview,c=(0,s.default)({"player-button":!0,"player-button--highlighted":t,"qa-multiview-button":!0}),d=i||"Toggle Command Center";return n?r.default.createElement(a.Button,{className:c,onClick:u,tabIndex:"-1"},r.default.createElement(o.Icon,{label:d,labelClass:"player-tip--multiview"},r.default.createElement(l.MultiviewSVG,{viewBox:"-2 -2 24 24",id:"icon_multiview"}))):null}d.propTypes=c},h5EO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmbedHost=t.PUBLIC_EVENTS=void 0;var r,i,a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=L(n("GoyQ")),l=M(n("D3OJ")),u=n("QcJP"),c=n("4b1H"),d=n("KE4D"),f=n("Z4ex"),p=n("uAxA"),_=n("nC/T"),h=n("rRi7"),m=n("OyQT"),E=n("qT8i"),v=n("uC+K"),y=n("VIow"),g=n("wsSb"),T=M(n("K3Ut")),b=n("UvTj"),S=n("TxdA"),A=n("8U7r"),C=n("wSP4"),O=L(n("ijCd")),P=n("69Hk"),N=n("VPTj"),I=n("bnTl"),R=n("rSwD"),w=n("56nq"),k=n("0gEH");function M(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function L(e){return e&&e.__esModule?e:{default:e}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=Object.freeze((D(r={},A.TIER_1_EVENTS.MINUTE_WATCHED,T.EVENT_EMBED_MINUTE_WATCHED),D(r,A.TIER_1_EVENTS.VIDEO_PLAY,T.EVENT_EMBED_VIDEO_PLAY),D(r,A.TIER_1_EVENTS.BUFFER_EMPTY,T.EVENT_EMBED_BUFFER_EMPTY),D(r,A.VIDEO_PLAYBACK_ERROR,T.EVENT_EMBED_VIDEO_PLAYBACK_ERROR),D(r,A.N_SECOND_PLAY,T.EVENT_EMBED_N_SECOND_PLAY),r)),U=t.PUBLIC_EVENTS=Object.freeze((D(i={},T.EVENT_EMBED_ENDED,!0),D(i,T.EVENT_EMBED_PAUSE,!0),D(i,T.EVENT_EMBED_PLAY,!0),D(i,T.EVENT_EMBED_PLAYING,!0),D(i,T.EVENT_EMBED_OFFLINE,!0),D(i,T.EVENT_EMBED_ONLINE,!0),D(i,T.EVENT_EMBED_READY,!0),D(i,T.EVENT_EMBED_PLAYBACK_BLOCKED,!0),D(i,T.EVENT_EMBED_MINUTE_WATCHED,!0),D(i,T.EVENT_EMBED_VIDEO_PLAY,!0),D(i,T.EVENT_EMBED_BUFFER_EMPTY,!0),D(i,T.EVENT_EMBED_VIDEO_PLAYBACK_ERROR,!0),D(i,T.EVENT_EMBED_N_SECOND_PLAY,!0),D(i,T.EVENT_EMBED_CAPTIONS,!0),D(i,T.EVENT_EMBED_MATURE_FLAG_CHANGE,!0),i)),B=Object.freeze({origin:""});t.EmbedHost=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._player=t,this._store=n,this._clients=[],this._unsubscribes=[],this._window=this._store.getState().window,this._targetOrigin=i.origin,this._bridgeIsReady=function(){throw new Error("_bridgeIsReady should only be called in _sendReadyEvent")},this._onBridgeReady=new Promise(function(e){r._bridgeIsReady=e}),this._window.addEventListener("message",this);var a=this._store.getState().env.playerType;a!==v.PLAYER_FRONTPAGE&&a!==v.PLAYER_FEED||this._player.addEventListener(_.OPEN_STREAM,this._sendOpenStreamEvent.bind(this));var o=this._window.opener||this._window.parent;o&&o!==this._window&&this._addClient(o),this._store.dispatch((0,u.embedHostLoaded)(this)),this._initSubscriptions()}return o(e,[{key:"_sendOpenStreamEvent",value:function(){this._sendPlayerEvent(T.EVENT_EMBED_OPEN_STREAM)}},{key:"_sendReadyEvent",value:function(){this._sendBridgeReady(),this._bridgeIsReady()}},{key:"_initSubscriptions",value:function(){var e=this;this._unsubscribes.push((0,E.subscribe)(this._store,["analytics.playSessionId","captions.available","manifestInfo.broadcast_id","stream"],function(){e._sendStoreState()})),this._unsubscribes.push((0,E.subscribe)(this._store,["error"],this.onError.bind(this))),this.onError(this._store.getState()),this._unsubscribes.push((0,E.subscribe)(this._store,["viewercount"],function(){e._sendStoreState(),e._sendPlayerEvent(T.EVENT_EMBED_VIEWERS_CHANGE)})),this._unsubscribes.push((0,E.subscribe)(this._store,["playback.contentShowing"],function(t){t.playback.contentShowing&&e._sendPlayerEvent(T.EVENT_EMBED_CONTENT_SHOWING)})),this._unsubscribes.push((0,E.subscribe)(this._store,["playback.paused","playback.ended"],function(t){var n=t.playback,r=n.paused;n.ended?e._sendPlayerEvent(T.EVENT_EMBED_ENDED):r&&e._sendPlayerEvent(T.EVENT_EMBED_PAUSE)})),this._unsubscribes.push((0,E.subscribe)(this._store,["onlineStatus"],function(t){var n=t.onlineStatus;n===p.ONLINE_STATUS?e._sendPlayerEvent(T.EVENT_EMBED_ONLINE):n===p.OFFLINE_STATUS&&e._sendPlayerEvent(T.EVENT_EMBED_OFFLINE)})),this._unsubscribes.push((0,E.subscribe)(this._store,["screenMode.isTheatreMode"],function(t){var n=t.screenMode;e._sendStoreState(),n.isTheatreMode?e._sendPlayerEvent(T.EVENT_THEATRE_ENTERED):e._sendPlayerEvent(T.EVENT_THEATRE_EXITED)})),this._unsubscribes.push((0,E.subscribe)(this._store,["screenMode.isFullScreen"],function(t){var n=t.screenMode;e._sendStoreState(),n.isFullScreen?e._sendPlayerEvent(T.EVENT_FULLSCREEN_ENTERED):e._sendPlayerEvent(T.EVENT_FULLSCREEN_EXITED)})),this._unsubscribes.push((0,E.subscribe)(this._store,["playback.currentTime"],function(t){var n=t.playback.currentTime;e._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_TIME_UPDATE,data:n})})),this._unsubscribes.push((0,E.subscribe)(this._store,["streamMetadata.channel.mature"],function(){e._sendStoreState(),e._sendPlayerEvent(T.EVENT_EMBED_MATURE_FLAG_CHANGE)})),this._unsubscribes.push((0,E.subscribe)(this._store,["stream","streamMetadata.channelName","streamMetadata.channel.id","streamMetadata.videoId","quality.current","quality.available","playback.currentTime","playback.duration","playback.muted","playback.volume","playback.paused","playback.ended"],this._sendPlayerState.bind(this)))}},{key:"onError",value:function(e){var t=e.error;t.hasError&&this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_ERROR,data:{code:t.code}})}},{key:"_addClient",value:function(e){this._clients.push(e)}},{key:"_sendBridgeReady",value:function(){var e=this;this._clients.forEach(function(t){t.postMessage({namespace:T.BRIDGE_CLIENT_NAMESPACE,method:T.BRIDGE_HOST_READY,args:[e._getNormalizedStoreState()]},e._targetOrigin)})}},{key:"_postTo",value:function(e,t,n){this._clients.forEach(function(r){r.postMessage({namespace:T.BRIDGE_CLIENT_NAMESPACE,method:e,args:t},n)})}},{key:"_sendAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Array.isArray(n)?n:[n];return this._onBridgeReady.then(function(){var n=(0,k.isTwitchEmbed)(t._targetOrigin),i=(0,k.isDesktopApp)(t._targetOrigin),a=t._isEvent(e),o=t._isPublicEvent(e,r);if(n||i||!a||o)return t._postTo(e,r,t._targetOrigin)})}},{key:"_isEvent",value:function(e){return e===T.BRIDGE_PLAYER_EVENT||e===T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD}},{key:"_isPublicEvent",value:function(e,t){if(!Array.isArray(t))return!1;var n=a(t,1)[0];return!(!this._isEvent(e)||void 0===n.event)&&!0===U[n.event]}},{key:"handleEvent",value:function(e){if((0,s.default)(e.data)&&e.data.namespace===T.BRIDGE_HOST_NAMESPACE&&e.origin===this._targetOrigin)switch(e.data.method){case T.BRIDGE_REQ_SUBSCRIBE:this._addClient(e.source);break;case T.METHOD_PLAY:this._store.dispatch((0,c.play)());break;case T.METHOD_PAUSE:this._store.dispatch((0,c.pause)());break;case T.METHOD_SET_CONTENT:this._store.dispatch(l.setStream({contentType:l.TYPE_PROVIDED,contentId:e.data.args[0],customerId:e.data.args[1]})),this._store.dispatch((0,h.clearCollection)());break;case T.METHOD_SET_CLIP:this._store.dispatch(l.setStream({contentType:l.TYPE_CLIP,contentId:e.data.args[0]})),this._store.dispatch((0,h.clearCollection)());break;case T.METHOD_SET_VIDEO_SOURCE:this._store.dispatch(l.setStream({contentType:l.TYPE_VIDEO_SOURCE,contentId:e.data.args[0]})),this._store.dispatch((0,h.clearCollection)());break;case T.METHOD_SET_CHANNEL:this._store.dispatch(l.setStream({contentType:l.TYPE_CHANNEL,contentId:e.data.args[0]})),this._store.dispatch((0,h.clearCollection)());break;case T.METHOD_SET_CHANNEL_ID:this._handleChannelId(e.data.args[0]);break;case T.METHOD_SET_VIDEO:this._handleSetVideo(e.data.args);break;case T.METHOD_SET_COLLECTION:this._handleSetCollection(e.data.args);break;case T.METHOD_SEEK:this._player.setCurrentTime(parseFloat(e.data.args[0]));break;case T.METHOD_SET_QUALITY:this._store.dispatch((0,m.selectQuality)(e.data.args[0]));break;case T.METHOD_SET_MUTE:this._store.dispatch((0,c.mutePlayer)(!!e.data.args[0]));break;case T.METHOD_SET_VOLUME:this._store.dispatch((0,c.changeVolume)(e.data.args[0]));break;case T.METHOD_SET_THEATRE:this._store.dispatch((0,d.setTheatreMode)(e.data.args[0]));break;case T.METHOD_SET_FULLSCREEN:this._store.dispatch((0,d.setFullScreen)(e.data.args[0]));break;case T.METHOD_DESTROY:this._player.destroy(),this._sendAll(T.BRIDGE_DESTROY);break;case T.METHOD_SET_MINI_PLAYER_MODE:this._store.dispatch((0,f.setMiniPlayerMode)(e.data.args[0]));break;case T.METHOD_SET_TRACKING_PROPERTIES:this._setTrackingProperties(e.data.args[0]);break;case T.METHOD_SET_PLAYER_TYPE:this._store.dispatch((0,I.setPlayerType)(e.data.args[0]));break;case T.METHOD_ENABLE_CAPTIONS:this._store.dispatch((0,R.setCaptionsEnabled)(!0));break;case T.METHOD_DISABLE_CAPTIONS:this._store.dispatch((0,R.setCaptionsEnabled)(!1));break;case T.METHOD_SET_CAPTION_SIZE:this._store.dispatch((0,R.setCaptionsPreset)(R.CUSTOM,{fontSize:e.data.args[0]}));break;case T.METHOD_SET_LIVE_LOW_LATENCY_ENABLED:this._store.dispatch((0,c.setLiveLowLatencyEnabled)(e.data.args[0]));break;case T.METHOD_SET_LIVE_MAX_LATENCY:this._store.dispatch((0,c.setLiveMaxLatency)(parseFloat(e.data.args[0])));break;case T.METHOD_SET_AUTO_MAX_VIDEO_SIZE:this._store.dispatch((0,c.setAutoMaxVideoSize)(parseFloat(e.data.args[0]),parseFloat(e.data.args[1])));break;case T.METHOD_SHOW_PLAYER_CONTROLS:this._store.dispatch((0,f.showPlayerControls)(Boolean(e.data.args[0])))}}},{key:"_handleChannelId",value:function(e){var t=this,n=String(e).replace(/[^A-Za-z0-9_]/g,"");(0,w.krakenRequestv5)("channels/"+n).then(function(e){t._store.dispatch(l.setStream({contentType:l.TYPE_CHANNEL,contentId:e.name})),t._store.dispatch((0,h.clearCollection)())})}},{key:"_handleSetVideo",value:function(e){var t=a(e,2),n=t[0],r=t[1];this._store.dispatch(l.setStream({contentType:l.TYPE_VIDEO,contentId:n})),this._store.dispatch((0,h.clearCollection)()),this._store.dispatch((0,N.setStartTime)(r))}},{key:"_handleSetCollection",value:function(e){var t=a(e,3),n=t[0],r=t[1],i=t[2];this._store.dispatch((0,h.requestCollection)(n,r,i))}},{key:"_sendPlayerState",value:function(e){var t=e.streamMetadata,n=e.stream,r=e.quality,i=e.playback,a=e.viewercount,o=this._configurePlaybackState(),s=n,l={channelName:s instanceof g.LiveTwitchContentStream?s.channel:"",channelId:t.channel.id,currentTime:i.currentTime,duration:i.duration,muted:i.muted,playback:o,quality:r.current,qualitiesAvailable:r.available,videoID:s instanceof y.VODTwitchContentStream?s.videoId:"",viewers:a,volume:i.volume};this._sendAll(T.BRIDGE_STATE_UPDATE,l)}},{key:"_configurePlaybackState",value:function(){return this._store.getState().playback.ended?T.PLAYBACK_ENDED:this._store.getState().playback.paused?T.PLAYBACK_PAUSED:T.PLAYBACK_PLAYING}},{key:"_sendPlayerEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT,{event:e})}},{key:"_sendAdCompanionEvent",value:function(e,t){switch(e){case b.COMPANION_RENDERED:this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_AD_COMPANION_RENDERED,data:t});break;case S.FLASH_AD_EVENTS.AD_COMPANION_RENDERED:this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_FLASH_AD_COMPANION_RENDERED,data:t})}}},{key:"_emitWheelEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_WHEEL,data:e})}},{key:"_sendPlaybackBlockedEvent",value:function(){this._sendPlayerEvent(T.EVENT_EMBED_PLAYBACK_BLOCKED)}},{key:"_sendFirstPartyAnalyticEvent",value:function(e,t){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:x[e],data:t})}},{key:"_getNormalizedStoreState",value:function(){var e=this._store.getState(),t=e.analytics,n=e.captions,r=e.manifestInfo,i=e.screenMode,a=e.stats,o=e.stream,s=e.streamMetadata,l=e.viewercount;return{captions:{available:n.available},viewercount:l,stats:{videoStats:a.videoStats},playSessionId:t.playSessionId,broadcastId:r.broadcast_id,screenMode:i,stream:{contentId:o.contentType===C.CONTENT_MODE_PROVIDED?o.contentId:"",customerId:o.contentType===C.CONTENT_MODE_PROVIDED?o.customerId:""},mature:s.channel.mature}}},{key:"_sendStoreState",value:function(){this._sendAll(T.BRIDGE_STORE_STATE_UPDATE,this._getNormalizedStoreState())}},{key:"_sendTransitionToCollectionEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_TRANSITION_TO_COLLECTION_VOD,data:e})}},{key:"_sendTransitionToRecommendedVodEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_TRANSITION_TO_REC_VOD,data:e})}},{key:"_sendStatsUpdateEvent",value:function(){this._sendStoreState(),this._sendPlayerEvent(T.EVENT_EMBED_STATS_UPDATE)}},{key:"_sendSeekedEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_SEEKED,data:e})}},{key:"_sendPlaybackEvent",value:function(e){switch(e){case N.ACTION_PLAY:this._sendPlayerEvent(T.EVENT_EMBED_PLAY);break;case N.ACTION_PLAYING:this._sendPlayerEvent(T.EVENT_EMBED_PLAYING)}}},{key:"_sendCaptionsEvent",value:function(e){this._sendAll(T.BRIDGE_PLAYER_EVENT_WITH_PAYLOAD,{event:T.EVENT_EMBED_CAPTIONS,data:e})}},{key:"_setTrackingProperties",value:function(e){var t=[v.PLAYER_SITE,v.PLAYER_FRONTPAGE,v.PLAYER_POPOUT,v.PLAYER_FEED,v.PLAYER_ONBOARDING,v.PLAYER_TWITCH_EVERYWHERE,v.PLAYER_CHANNEL_TRAILER];(0,O.default)(t,this._store.getState().env.playerType)&&this._store.dispatch((0,P.setTrackingProperties)(e))}},{key:"destroy",value:function(){this._window.removeEventListener("message",this),this._store.getState().env.playerType===v.PLAYER_FRONTPAGE&&this._player.removeEventListener(_.OPEN_STREAM,this._sendOpenStreamEvent.bind(this)),this._unsubscribes.forEach(function(e){return e()})}}]),e}()},hAxP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerUIResume=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=h(n("UB5X")),o=n("J0qE"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("JZwe")),l=n("Irul"),u=n("uAxA"),c=n("56nq"),d=n("wsSb"),f=n("VIow"),p=n("uAOA"),_=h(n("DzJC"));function h(e){return e&&e.__esModule?e:{default:e}}var m=5e3;t.PlayerUIResume=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r._store=n,r._player=e,r._streamTimeOffset=0;var i=(0,_.default)(r._onTimeUpdate.bind(r),m);return r.subscribe(r._store,["playback.currentTime"],i),r._player.addEventListener(s.LOADED_METADATA,r._onLoadedMetadata.bind(r)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,p.UIStateSubscriber),i(t,[{key:"_seekToResumeTime",value:function(e,t){var n=this._store.getState(),r=n.stream,i=n.playback,a=t.filter(function(e){return e.video._id===r.videoId});if(this._store.dispatch((0,l.setIsSeeked)(!0)),0!==a.length){var s=a[0].position;s<i.duration-o.cancelResumeAmount&&this._player.setCurrentTime(s)}}},{key:"_seekToResumeTimeLocal",value:function(e){var t=this._store.getState(),n=t.resumeWatch,r=t.stream,i=t.playback,s=n.times[r.videoId],u=n.streamTimes[e.broadcast_id],c=i.duration;if(this._store.dispatch((0,l.setIsSeeked)(!0)),(0,a.default)(s)&&s<c-o.cancelResumeAmount)this._player.setCurrentTime(s);else if((0,a.default)(u)&&u<c-o.cancelResumeAmount){var d=Math.max(0,u-o.livestreamResumePushback);this._player.setCurrentTime(d)}this._store.dispatch((0,l.cancelLivestreamResumeTime)(e.broadcast_id))}},{key:"_onLoadedMetadata",value:function(){var e=this,t=this._store.getState(),n=t.stream,i=t.resumeWatch,o=t.collection,s=t.playback;if(n.contentType!==d.CONTENT_MODE_LIVE){if(!(o.id||n.contentType!==f.CONTENT_MODE_VOD||i.isSeeked||s.startTimeSet)){var u=(0,c.videoInfo)(n.videoId);if(!i.userId)return u.then(function(t){e._seekToResumeTimeLocal(t)});var p=(0,l.getResumeTimes)(i.userId);return Promise.all([u,p]).then(function(t){var n=r(t,2),i=n[0],a=n[1];e._store.dispatch((0,l.setResumeTimes)(a)),e._seekToResumeTime(i,a)})}}else this._streamTimeOffset=(0,a.default)(this._player.getVideoInfo().stream_time_offset)?this._player.getVideoInfo().stream_time_offset:0}},{key:"_onTimeUpdate",value:function(){var e=void 0,t=this._store.getState(),n=t.stream,r=t.streamMetadata,i=t.onlineStatus,a=t.playback;if(!a.isLoading){if(n.contentType===d.CONTENT_MODE_LIVE){var s=r.broadcastID;e=i===u.ONLINE_STATUS?(0,l.setLivestreamResumeTime)(s,this._streamTimeOffset+a.currentTime):(0,l.cancelLivestreamResumeTime)(s)}else if(n.contentType===f.CONTENT_MODE_VOD){if(0===a.duration)return;e=a.duration-a.currentTime>o.cancelResumeAmount?(0,l.setVodResumeTime)(n.videoId,a.currentTime):(0,l.cancelVodResumeTime)(n.videoId)}e&&this._store.dispatch(e)}}}]),t}()},hBsN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviews=function(e){return(0,i.videoInfo)(e).then(function(e){return fetch(e.seek_previews_url).then(function(e){return e.json()}).then(function(t){return function(e,t){if(null===e)return Promise.reject(new Error("Raw preview data not available"));var n=(0,r.parseUri)(t),i=n.protocol+"://"+n.host+n.directory,s={};e.forEach(function(e,t){s[e.quality]=t});var l=s[a],u=s[o];return{count:e[l].count,lq:{width:e[l].width,height:e[l].height,rows:e[l].rows,cols:e[l].cols,URLs:e[l].images.map(function(e){return""+i+e})},hq:{width:e[u].width,height:e[u].height,rows:e[u].rows,cols:e[u].cols,URLs:e[u].images.map(function(e){return""+i+e})}}}(t,e.seek_previews_url)})})};var r=n("uCED"),i=n("56nq"),a="low",o="high"},hCFK:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return E});var r,i,a,o=n("pVnL"),s=n.n(o),l=n("MVZn"),u=n.n(l),c=n("VbXa"),d=n.n(c),f=n("q1tI"),p=n("fNzW"),_=n("vCsY");n("AaQW");!function(e){e.Fade="fade",e.TranslateRight="translate-right",e.TranslateLeft="translate-left",e.TranslateTop="translate-top",e.TranslateBottom="translate-bottom",e.ScaleOver="scale-over",e.SlideOverRight="slide-over-right",e.SlideOverLeft="slide-over-left",e.SlideOverTop="slide-over-top",e.SlideOverBottom="slide-over-bottom"}(i||(i={})),function(e){e.Short="duration-short",e.Medium="duration-medium",e.Long="duration-long"}(a||(a={}));var h,m=((r={})[a.Short]=100,r[a.Medium]=250,r[a.Long]=300,r);!function(e){e.enter="enter-prep",e.entering="enter-active",e.entered="enter-done",e.exit="exit-prep",e.exiting="exit-active",e.exited="exit-done"}(h||(h={}));var E=function(e){function t(t){var n;return(n=e.call(this,t)||this).getDuration=function(){return n.props.duration||a.Medium},n.onEnterComplete=function(){n.setState({status:h.entered}),n.props.onEnterComplete&&n.props.onEnterComplete()},n.onExitComplete=function(){n.setState({status:h.exited}),n.props.onExitComplete&&n.props.onExitComplete()},n.refHanlder=function(e){if(n.containerRef=e,n.props.injectChild){var t=f.Children.only(n.props.children).ref;"function"==typeof t&&t(e)}},n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.state={status:t.show&&!t.transitionInitialMount?h.entered:h.exited},n}d()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,r=t.status,i=h;return n&&r===i.exited?{status:i.enter}:n&&r===i.exiting?{status:i.entering}:n||r!==i.entered?n||r!==i.entering?null:{status:i.exiting}:{status:i.exit}};var n=t.prototype;return n.componentDidMount=function(){this.props.transitionInitialMount&&this.props.show&&this.setState({status:h.enter})},n.componentWillUnmount=function(){clearTimeout(this.transitionTimer)},n.componentDidUpdate=function(e,t){var n=h;this.state.status===n.enter?(this.ensureLayoutReflow(),this.setState({status:n.entering})):this.state.status===n.exit?(this.ensureLayoutReflow(),this.setState({status:n.exiting})):this.state.status===n.entering&&t.status!==n.entering?(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onEnterComplete,m[this.getDuration()])):this.state.status===n.exiting&&t.status!==n.exiting&&(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onExitComplete,m[this.getDuration()]))},n.render=function(){var e=this.state.status;if(this.state.status===h.exited&&!this.props.alwaysRenderChild)return null;var t,n=[h.enter,h.entering,h.entered].includes(e),r=["tw-transition","tw-transition__"+(t=Array.isArray(this.props.type)?n?this.props.type[0]:this.props.type[1]:this.props.type),"tw-transition__"+t+"--"+e,"tw-transition--"+e,"tw-transition--"+this.getDuration()];if(this.props.injectChild&&f.isValidElement(this.props.children)){var i=f.Children.only(this.props.children);return f.cloneElement(i,u()({},i.props,Object(_.a)(this.props),{ref:this.refHanlder,className:Object(p.a)(this.props.className,i.props.className,r)}))}return f.createElement("div",s()({ref:this.refHanlder,className:Object(p.a)(this.props.className,r)},Object(_.a)(this.props)),this.props.children)},t}(f.Component);E.displayName="Transition"},hF4l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clipsEditingUpdated=function(e){return{type:r,clipsEditing:e}};var r=t.ACTION_CLIPS_EDITING_UPDATED="clips raw media updated"},hJg3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackendClip=t.BACKEND_CLIP=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("uC+K"),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("JZwe")),o=n("A8Fc");var s=t.BACKEND_CLIP="clip backend",l=Object.freeze({autoplay:!0}),u=Object.freeze({mp4:"video/mp4"});t.BackendClip=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=r,this._options=n,this._srcHasBeenSet=null,this._srcReady=new Promise(function(e){t._srcHasBeenSet=e}),this._initVideoTag()}return r(e,[{key:"getBackend",value:function(){return s}},{key:"_initVideoTag",value:function(){var e=this;this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=u.mp4,this._options.playsinline&&(this._video.setAttribute("webkit-playsinline",""),this._video.setAttribute("playsinline","")),this._video.addEventListener(a.CAN_PLAY,function(){e._store.dispatch((0,o.trackClipsVideoStartedEvent)())})}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._events=null,this._src="",this._srcHasBeenSet=null,this._srcReady=null}},{key:"setAutoplay",value:function(e){this._video.autoplay=e}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._video.src=e,this.load(),null!==this._srcHasBeenSet&&this._srcHasBeenSet()}},{key:"load",value:function(){this._video.load(),this.getAutoplay()&&this.play()}},{key:"play",value:function(){var e=this;return this._srcReady.then(function(){return new Promise(function(t){if(e._video.readyState>=3)t(e._video.play());else{e._video.addEventListener(a.CAN_PLAY,function n(){e._video&&e._video.removeEventListener&&e._video.removeEventListener(a.CAN_PLAY,n),t(e._video.play())})}})}).catch(function(t){"NotAllowedError"===t.name&&(e._video.dispatchEvent(new CustomEvent(a.PLAYBACK_BLOCKED)),e._video.dispatchEvent(new CustomEvent(a.PAUSE)))})}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video?this._video.currentTime:0}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this._video.autoplay}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"setClip",value:function(e){var t=e.quality;this.setQuality(t)}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(e){var t=this._store.getState().quality,n=t.available.find(function(t){return t.group===e});if(n)this.setSrc(n.source);else{var r=parseInt(e,10),a=t.available.reverse().find(function(e){return parseInt(e.group,10)>r});if(a)this.setSrc(a.source);else{var o=document.body.clientWidth>500&&this._options.player!==i.PLAYER_CLIPS_EMBED?t.available.length-1:0,s=t.available[o];s&&this.setSrc(s.source),console.warn("Invalid quality '"+e+"'. Available qualities: "+t.available.map(function(e){return e.group}).join(", "))}}}},{key:"getQualities",value:function(){return this._store.getState().quality.available}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"getNetworkProfile",value:function(){return[]}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}},{key:"setLiveLowLatencyEnabled",value:function(){}},{key:"getBandwidthEstimate",value:function(){}},{key:"getAverageBitrate",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}()},hURu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipEditingContentStream=t.CONTENT_MODE_CLIP_EDITING=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("2jd5");var a=t.CONTENT_MODE_CLIP_EDITING="clip-editing";t.ClipEditingContentStream=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return r._slug=e,r._streamUrl=n,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.AbstractStream),r(t,[{key:"contentType",get:function(){return a}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve(this._streamUrl)}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}()},hXej:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptions=p;var r=u(n("q1tI")),i=u(n("17x9")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("8+VK")),o=u(n("zdiy")),s=u(n("Puqe")),l=u(n("JZM8"));function u(e){return e&&e.__esModule?e:{default:e}}var c={captionsText:i.default.array.isRequired,captionsStyle:i.default.shape({fontSize:i.default.number,font:i.default.string,fontOpacity:i.default.string,alignment:i.default.string,edge:i.default.string,verticalPosition:i.default.string,backgroundColorName:i.default.string,backgroundOpacity:i.default.string,windowColorName:i.default.string,windowOpacity:i.default.string,fontUnderline:i.default.string,fontBold:i.default.string,fontItalic:i.default.string}).isRequired},d="player-captions-row",f=Object.freeze(["top","bottom","textAlign","fontSize"]);function p(e){var t=e.captionsText,n=e.captionsStyle,i=t.map(function(e,t){return r.default.createElement("div",{className:d,key:t+"-"+e},e)}),u=function(e){var t=(g=e,T=g.fontColorName,b=void 0===T?"white":T,S=g.fontOpacity,A=void 0===S?"solid":S,{color:a.calculateRGBA(a.fontColorMap[b].fontColorValue,a.opacityMap[A].opacityValue),animation:a.opacityMap[A].animation}),n=(h=e,m=h.backgroundOpacity,E=void 0===m?"solid":m,v=h.backgroundColorName,y=void 0===v?"black":v,a.calculateRGBA(a.backgroundColorMap[y].backgroundColorValue,a.opacityMap[E].opacityValue)),r=(u=e,c=u.windowColorName,d=void 0===c?"transparent":c,p=u.windowOpacity,_=void 0===p?"solid":p,{backgroundColor:a.calculateRGBA(a.backgroundColorMap[d].backgroundColorValue,a.opacityMap[_].opacityValue)}),i=(0,o.default)({},e,t,a.fontMap[e.font],a.edgeMap[e.edge],a.verticalPositionMap[e.verticalPosition],a.fontUnderlineMap[e.fontUnderline],a.fontItalicMap[e.fontItalic],a.fontBoldMap[e.fontBold],a.alignmentMap[e.alignment],{backgroundColor:n});var u,c,d,p,_;var h,m,E,v,y;var g,T,b,S,A;return{textStyles:(0,s.default)(i,f),containerStyles:(0,l.default)(i,f),windowStyles:r}}(n),c=u.containerStyles,p=u.textStyles,_=u.windowStyles;return r.default.createElement("div",{className:"player-captions-container",style:c},r.default.createElement("div",{style:_,className:"player-captions-window"},r.default.createElement("div",{className:"player-captions",style:p},i)))}p.propTypes=c},hh3C:function(e,t,n){var r=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,i=n("xOyo"),a=Object.create?Object.create(null):{};function o(e,t,n,r,i){var a=t.indexOf("<",r),o=t.slice(r,-1===a?void 0:a);/^\s*$/.test(o)&&(o=" "),(!i&&a>-1&&n+e.length>=0||" "!==o)&&e.push({type:"text",content:o})}e.exports=function(e,t){t||(t={}),t.components||(t.components=a);var n,s=[],l=-1,u=[],c={},d=!1;return e.replace(r,function(r,a){if(d){if(r!=="</"+n.name+">")return;d=!1}var f,p="/"!==r.charAt(1),_=0===r.indexOf("\x3c!--"),h=a+r.length,m=e.charAt(h);p&&!_&&(l++,"tag"===(n=i(r)).type&&t.components[n.name]&&(n.type="component",d=!0),n.voidElement||d||!m||"<"===m||o(n.children,e,l,h,t.ignoreWhitespace),c[n.tagName]=n,0===l&&s.push(n),(f=u[l-1])&&f.children.push(n),u[l]=n),(_||!p||n.voidElement)&&(_||l--,!d&&"<"!==m&&m&&o(f=-1===l?s:u[l].children,e,l,h,t.ignoreWhitespace))}),!s.length&&e.length&&o(s,e,0,0,t.ignoreWhitespace),s}},hj5q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineRecommendations=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=n("NYFb"),s=n("iec6"),l=u(n("TSYQ"));function u(e){return e&&e.__esModule?e:{default:e}}var c={videos:a.default.array.isRequired,onSelectVOD:a.default.func.isRequired,playerHeight:a.default.number.isRequired,playerWidth:a.default.number.isRequired,onExit:a.default.func.isRequired,trackEvent:a.default.func.isRequired,lang:a.default.object.isRequired,windowObj:a.default.object.isRequired,streamWasOnline:a.default.bool.isRequired};(t.OfflineRecommendations=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showFeatured:!0},e.handleCloseFeaturedPane=e.handleCloseFeaturedPane.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props;(0,e.trackEvent)("player_rec_show",{type:e.streamWasOnline?"postLive":"offline"})}},{key:"render",value:function(){var e=this.props,t=e.videos,n=e.lang,r=e.windowObj,a=e.playerHeight,u=e.playerWidth,c=e.onSelectVOD,d=e.onExit,f=e.trackEvent,p=this.state.showFeatured,_=i.default.createElement(s.OtherVODs,{height:a,width:u,videos:t,onSelect:c,onClose:d,trackEvent:f,lang:n,windowObj:r}),h=i.default.createElement(o.PinnedVOD,{onClose:this.handleCloseFeaturedPane,onSelect:c,width:u,video:t[0],trackEvent:f}),m=p?h:_,E=(0,l.default)({"player-overlay":!0,"recommendations-overlay":!0,"pl-rec-wrapper":!this.state.showFeatured,"pl-single-rec-wrapper":this.state.showFeatured});return i.default.createElement("div",{className:E},m)}},{key:"handleCloseFeaturedPane",value:function(){this.setState({showFeatured:!1})}}]),t}()).propTypes=c},hjMf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchGateOverlay=t.TwitchGateOverlayContainer=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=_(n("q1tI")),o=_(n("17x9")),s=n("N58E"),l=n("DgUF"),u=n("uC+K"),c=n("4b1H"),d=n("VPTj"),f=n("ipln"),p=n("wsSb");function _(e){return e&&e.__esModule?e:{default:e}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=(h(r={},u.PLAYER_SITE,!0),h(r,u.PLAYER_SITE_MINI,!0),h(r,u.PLAYER_DASHBOARD,!0),h(r,u.PLAYER_POPOUT,!0),h(r,u.PLAYER_FRONTPAGE,!0),r),E={contentIsShowing:o.default.func,contentRestricted:o.default.func,pause:o.default.func,play:o.default.func,mutePlayer:o.default.func,playerType:o.default.string,stream:o.default.object,streamMetadata:o.default.object},v=t.TwitchGateOverlayContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showOverlay:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this._shouldShowOverlay(e);t!==this.state.showOverlay&&this.setState({showOverlay:t})}},{key:"componentDidUpdate",value:function(e,t){t.showOverlay!==this.state.showOverlay&&(this.state.showOverlay?(this.props.mutePlayer(!0,!0),this.props.pause(),this.props.contentIsShowing(),this.props.contentRestricted(f.CONTENT_RESTRICTED_TWITCH_GATE)):(this.props.mutePlayer(!1,!0),this.props.play(),this.props.contentRestricted(f.CONTENT_UNRESTRICTED)))}},{key:"_shouldShowOverlay",value:function(e){var t=e.playerType,n=e.stream;return e.streamMetadata.isEncrypted&&n.channel&&n.contentType===p.CONTENT_MODE_LIVE&&!m.hasOwnProperty(t)}},{key:"render",value:function(){if(this.state.showOverlay){var e="https://www.twitch.tv/"+this.props.streamMetadata.channelName;return a.default.createElement(l.TwitchGateOverlay,{url:e})}return null}}]),t}();v.propTypes=E;t.TwitchGateOverlay=(0,s.connect)(function(e){var t=e.env,n=e.stream,r=e.streamMetadata;return{playerType:t.playerType,stream:n,streamMetadata:r}},function(e){return{pause:function(){e((0,c.pause)())},mutePlayer:function(t,n){e((0,c.mutePlayer)(t,n))},play:function(){e((0,c.play)())},contentIsShowing:function(){e((0,d.contentIsShowing)())},contentRestricted:function(t){e((0,d.contentRestricted)(t))}}})(v)},hm9X:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_NOTIFICATION_TYPE=t.EXTENSION_MODAL_REQUEST_TYPE=t.EXTENSION_INSTALLATION_PROP_TYPE=t.DEFAULT_EXTENSIONS=void 0,t.extensions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.ACTION_CLEAR_EXTENSION_INSTALLATIONS:return(0,a.default)({},e,u);case r.ACTION_FETCHING_EXTENSION_INSTALLATIONS:return(0,a.default)({},e,{loadingState:r.EXTENSIONS_LOADING,channel:t.channel,activeInstallations:[]});case r.ACTION_SET_EXTENSION_INSTALLATIONS:return(0,a.default)({},e,{loadingState:r.EXTENSIONS_LOADED,channel:t.channel,activeInstallations:t.installations});case r.ACTION_EXTENSION_ACTIVATED:return(0,a.default)({},e,{loadingState:r.EXTENSIONS_RELOADING,channel:t.channel});case r.ACTION_UPDATE_EXTENSION_INSTALLATION:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.extension.id;return n!==t.extensionId?e:(0,o.default)({},e,{activationConfig:t.activationConfig})}).filter(i.isPlayerInstallation)});case r.ACTION_REQUEST_TOGGLE_EXTENSION_IDENTITY:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;if(n!==t.installationId)return e;var r=e.playerState,a=r.token.permissionsState===i.EXTENSION_PERMISSION_STATE_GRANTED;return(0,o.default)({},e,{playerState:{isUserIdentityLinked:!a}})})});case r.ACTION_SET_EXTENSION_IDENTITY:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return n!==t.installationId?e:(0,o.default)({},e,{playerState:{isUserIdentityLinked:t.isLinked,token:{permissionsState:t.isLinked?i.EXTENSION_PERMISSION_STATE_GRANTED:i.EXTENSION_PERMISSION_STATE_NONE}}})})});case r.ACTION_SET_EXTENSION_MENU:return(0,a.default)({},e,{menuState:t.menuState});case r.ACTION_SET_EXTENSION_NOTIFICATION:return!t.notification&&e.notification&&e.notification.timer&&clearTimeout(e.notification.timer),(0,a.default)({},e,{notification:t.notification});case r.ACTION_PURCHASE_INTENT_RECEIVED:return(0,a.default)({},e,{purchaseIntent:t.purchaseIntent});case r.ACTION_EXTENSION_HOVER:return(0,a.default)({},e,{hoveredExtension:t.extension,activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return t.extension&&n===t.extension.id&&t.highlightFrame?(0,o.default)({},e,{playerState:{isHighlighted:!0}}):(0,o.default)({},e,{playerState:{isHighlighted:!1}})})});case r.ACTION_SET_EXTENSION_VISIBILITY:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;if(n!==t.installationId)return e;var r={isHidden:!t.visible};return t.collapseLocation&&(r.collapseLocation=t.collapseLocation),(0,o.default)({},e,{playerState:r})})});case r.ACTION_SET_EXTENSION_COLLAPSE_LOCATION:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return n!==t.installationId?e:(0,o.default)({},e,{playerState:{collapseLocation:t.collapseLocation}})})});case r.ACTION_DECLINE_UNRELEASED_EXTENSION:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return n!==t.installationId?e:(0,o.default)({},e,{playerState:{unreleasedPromptResponded:!0,unreleasedAccepted:!1}})})});case r.ACTION_ACCEPT_UNRELEASED_EXTENSION:return(0,a.default)({},e,{activeInstallations:e.activeInstallations.map(function(e){var n=e.id;return n!==t.installationId?e:(0,o.default)({},e,{playerState:{unreleasedPromptResponded:!0,unreleasedAccepted:!0}})})});case r.ACTION_SET_EXTENSIONS_TO_TRACK:return(0,a.default)({},e,{extensionsToTrack:t.extensionsToTrack});default:return e}};var r=n("wy0h"),i=n("vpBF"),a=l(n("3OWR")),o=l(n("QkVN")),s=l(n("17x9"));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.DEFAULT_EXTENSIONS={loadingState:r.EXTENSIONS_NOT_LOADED,channel:void 0,activeInstallations:[],extensionsToTrack:[],modalRequest:void 0,purchaseIntent:null,hoveredExtension:null,menuState:{extensionSlot:null,menuName:null,modalOptions:null},notification:c},c=(t.EXTENSION_INSTALLATION_PROP_TYPE=s.default.shape({abilities:s.default.shape({isChatEnabled:s.default.bool.isRequired}),id:s.default.string.isRequired,extension:s.default.shape({authorName:s.default.string.isRequired,clientId:s.default.string.isRequired,description:s.default.string.isRequired,iconUrl:s.default.string.isRequired,iconUrls:s.default.shape({square100:s.default.string.isRequired,square24:s.default.string}).isRequired,id:s.default.string.isRequired,name:s.default.string.isRequired,requestIdentityLink:s.default.bool.isRequired,sku:s.default.string.isRequired,summary:s.default.string.isRequired,token:s.default.string.isRequired,version:s.default.string.isRequired,views:s.default.shape({component:s.default.shape({aspectHeight:s.default.number.isRequired,aspectWidth:s.default.number.isRequired,viewerUrl:s.default.string.isRequired,zoom:s.default.bool.isRequired,zoomPixels:s.default.number}),hidden:s.default.shape({viewerUrl:s.default.string.isRequired}),videoOverlay:s.default.shape({viewerUrl:s.default.string.isRequired})}),vendorCode:s.default.string.isRequired,state:s.default.string.isRequired}),activationConfig:s.default.shape({anchor:s.default.string.isRequired,slot:s.default.string.isRequired,state:s.default.string.isRequired,x:s.default.number,y:s.default.number}),playerState:s.default.shape({isUserIdentityLinked:s.default.bool.isRequired,token:s.default.shape({permissionsState:s.default.string.isRequired,role:s.default.string,token:s.default.string}),isHidden:s.default.bool.isRequired,isHighlighted:s.default.bool,collapseLocation:s.default.shape({x:s.default.number,y:s.default.number}),unreleasedPromptResponded:s.default.bool,unreleasedAccepted:s.default.bool})}),t.EXTENSION_MODAL_REQUEST_TYPE=s.default.shape({extensionId:s.default.string.isRequired,message:s.default.shape({action:s.default.string.isRequired,payload:s.default.object.isRequired}),resultCallback:s.default.func.isRequired}),t.EXTENSION_NOTIFICATION_TYPE=s.default.shape({type:s.default.string.isRequired,options:s.default.object,timer:s.default.number.isRequired}))},hspN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(t&&"object"===(void 0===t?"undefined":r(t))){var n="",i=encodeURIComponent;for(var a in t)n+="&"+i(a)+"="+i(t[a]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}t.default=function(e,t,n,a,o){a&&"object"===(void 0===a?"undefined":r(a))&&(o||(a._t=new Date),a=i("",a).slice(1)),t.queryStringParams&&(e=i(e,t.queryStringParams));try{var s;(s=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(a?"POST":"GET",e,1),t.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!t.withCredentials,a&&s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var l=t.customHeaders;if(l)for(var u in l)s.setRequestHeader(u,l[u]);s.onreadystatechange=function(){s.readyState>3&&n&&n(s.responseText,s)},s.send(a)}catch(e){console&&console.log(e)}}},hzCD:function(e,t,n){var r=n("EA7m")(n("0Q2g"));e.exports=r},hzFE:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreen=t.FULLSCREEN_CHANGE=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("NE/w"),o=(r=a)&&r.__esModule?r:{default:r},s=n("KE4D"),l=n("qT8i"),u=n("2GWp");t.FULLSCREEN_CHANGE="fullscreenchange",t.FullScreen=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=n,this._root=t,this._store.dispatch((0,s.setCanFullScreen)(this.canFullScreen())),(0,l.subscribe)(this._store,["screenMode.isFullScreen"],function(e){var t=e.screenMode;r.setFullScreen(t.isFullScreen)}),o.default.onchange=this._onFullScreenChange.bind(this)}return i(e,[{key:"canFullScreen",value:function(){return o.default.enabled||this._checkWebkitFullscreen()}},{key:"_checkWebkitFullscreen",value:function(){var e=this._root.getElementsByTagName("video").item(0);return e&&e.webkitSupportsFullscreen||!1}},{key:"isFullScreen",value:function(){return o.default.element===this._root}},{key:"setFullScreen",value:function(e){if(this.canFullScreen()&&this.isFullScreen()!==e){var t=this._onFullScreenChange.bind(this);o.default.toggle(this._root,t,t)}}},{key:"_onFullScreenChange",value:function(){this._store.dispatch((0,s.setFullScreen)(this.isFullScreen())),this._store.dispatch((0,u.emitFullscreenChange)())}}]),e}()},"i0u+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecCloseButton=void 0;var r=l(n("q1tI")),i=l(n("17x9")),a=n("1fV9"),o=l(n("TSYQ")),s=n("GX/C");function l(e){return e&&e.__esModule?e:{default:e}}var u={onClick:i.default.func.isRequired,className:i.default.string};(t.RecCloseButton=function(e){var t=e.onClick,n=e.className,i=(0,o.default)("pl-close-button",n);return r.default.createElement(a.Button,{className:i,onClick:t},r.default.createElement("figure",null,r.default.createElement(s.CrossSVG,{className:"pl-close-button__svg",id:"pl-icon_close"})))}).propTypes=u},i48D:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewercount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case r.ACTION_SET_STREAMMETADATA:return t.streamMetadata.viewers||e;case i.ACTION_UPDATE_VIEWERCOUNT:return t.count;default:return e}};var r=n("AUgO"),i=n("k2Rd")},i8fZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionEmptyOverlay=t.CollectionEmptyOverlayContainer=t.mapStateToProps=void 0;var r=l(n("17x9")),i=l(n("q1tI")),a=n("N58E"),o=n("uNCh"),s=n("z3C2");function l(e){return e&&e.__esModule?e:{default:e}}var u={shouldShow:r.default.bool.isRequired},c=t.mapStateToProps=function(e){var t=e.screen,n=e.ui;return{shouldShow:t[0]===o.COLLECTION_EMPTY_SCREEN&&!n.isMini}},d=t.CollectionEmptyOverlayContainer=function(e){return e.shouldShow?i.default.createElement(s.CollectionEmptyOverlay,null):null};d.propTypes=u;t.CollectionEmptyOverlay=(0,a.connect)(c)(d)},iGsp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=t.BACKEND_VIDEO_TAG="video tag backend",a=Object.freeze({autoplay:!0}),o=Object.freeze({mp4:"video/mp4"});t.BackendVideoTag=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=n,this._options=t,this._src="",this._initVideoTag()}return r(e,[{key:"getBackend",value:function(){return i}},{key:"_initVideoTag",value:function(){this._video=document.createElement("video"),this._video.autoplay=this._options.autoplay,this._video.preload="auto",this._video.type=o.mp4}},{key:"attach",value:function(e){e.insertBefore(this._video,e.firstChild)}},{key:"destroy",value:function(){this._video=null,this._src=""}},{key:"addEventListener",value:function(e,t){this._video.addEventListener(e,t)}},{key:"removeEventListener",value:function(e,t){this._video.removeEventListener(e,t)}},{key:"setSrc",value:function(e){this._src=e,this._video.src=e,this.load()}},{key:"load",value:function(){""!==this._src&&this._video.load()}},{key:"play",value:function(){this._video.play()}},{key:"pause",value:function(){this._video.pause()}},{key:"getVolume",value:function(){return this._video.volume}},{key:"setVolume",value:function(e){this._video.volume=e}},{key:"getSeeking",value:function(){return this._video.seeking}},{key:"getCurrentTime",value:function(){return this._video.currentTime}},{key:"setCurrentTime",value:function(e){this._video.currentTime=e}},{key:"getDuration",value:function(){return this._video.duration}},{key:"getPaused",value:function(){return this._video.paused}},{key:"getPlaybackRate",value:function(){return this._video.playbackRate}},{key:"setPlaybackRate",value:function(e){this._video.playbackRate=e}},{key:"getPlayed",value:function(){return this._video.played}},{key:"getEnded",value:function(){return this._video.ended}},{key:"getAutoplay",value:function(){return this._options.autoplay}},{key:"setAutoplay",value:function(e){this._options.autoplay=e}},{key:"setLoop",value:function(e){this._video.loop=e}},{key:"getMuted",value:function(){return this._video.muted}},{key:"setMuted",value:function(e){this._video.muted=e}},{key:"getQuality",value:function(){}},{key:"setQuality",value:function(){}},{key:"getQualities",value:function(){return[]}},{key:"absAvailable",value:function(){return!1}},{key:"getVersion",value:function(){return""}},{key:"getStats",value:function(){return{}}},{key:"getVideoInfo",value:function(){return{}}},{key:"setClip",value:function(){}},{key:"setChannel",value:function(){}},{key:"setVideo",value:function(){}},{key:"elapsedTime",value:function(){}},{key:"getCaption",value:function(){}},{key:"getNetworkState",value:function(){}},{key:"getBuffered",value:function(){}},{key:"getReadyState",value:function(){}},{key:"getError",value:function(){}},{key:"getSrc",value:function(){}},{key:"getNetworkProfile",value:function(){}},{key:"setLiveLowLatencyEnabled",value:function(){}},{key:"getBandwidthEstimate",value:function(){}},{key:"getAverageBitrate",value:function(){}}],[{key:"canPlay",value:function(){return!0}}]),e}()},iRt7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowLatencyPopup=t.LowLatencyPopupComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n("q1tI")),a=u(n("17x9")),o=u(n("TSYQ")),s=n("Kiig"),l=n("9kay");function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,o.default)({"pl-notif__text":!0}),d=(0,o.default)({"pl-notif__content":!0}),f={t:a.default.func.isRequired,onClose:a.default.func.isRequired},p=t.LowLatencyPopupComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClose=e.handleClose.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props.t;return i.default.createElement(s.NotificationPopUp,{onClose:this.handleClose},i.default.createElement("div",{className:d},i.default.createElement("p",{className:c},e("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode"))))}},{key:"handleClose",value:function(){var e;(e=this.props).onClose.apply(e,arguments)}}]),t}();p.propTypes=f;t.LowLatencyPopup=(0,l.translate)()(p)},iSDK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("q1tI")),a=p(n("17x9")),o=p(n("jjtq")),s=n("cQV+"),l=n("u3o+"),u=p(n("UnXY")),c=p(n("J2m7")),d=p(n("TSYQ")),f=p(n("DzJC"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={afterSliderChildren:a.default.oneOfType([a.default.arrayOf(a.default.element),a.default.element]),alwaysShowThumb:a.default.bool,behindSliderChildren:a.default.oneOfType([a.default.arrayOf(a.default.element),a.default.element]),classNames:a.default.shape({slider:a.default.string,sliderLeft:a.default.string,sliderThumb:a.default.string}),dragHandlers:a.default.shape({onStart:a.default.func,onDrag:a.default.func,onStop:a.default.func}),getOptimizedValue:a.default.func,max:a.default.number.isRequired,min:a.default.number.isRequired,onBlur:a.default.func,onClick:a.default.func,onKeyDown:a.default.func,onMouseMove:a.default.func,onMouseOut:a.default.func,sliderTabIndex:a.default.number,windowObj:a.default.object,value:a.default.number,valueOptimizationEnabled:a.default.bool,selectionAreaMaxValue:a.default.number,selectionAreaMinValue:a.default.number},m=200,E=t.Slider=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isDragging:!1,currentInputMethod:"",currentDragValue:0,touchIdentifier:-1,optimizedValue:0,requestAnimationID:0,isHovering:!1},e.handleTouchStart=e.handleTouchStart.bind(e),e.handleMouseDown=e.handleMouseDown.bind(e),e.handleMouseMove=e.handleMouseMove.bind(e),e.handleMouseOut=e.handleMouseOut.bind(e),e.handleDocumentTouchMove=e.handleDocumentTouchMove.bind(e),e.handleDocumentTouchEnd=e.handleDocumentTouchEnd.bind(e),e.handleDocumentMouseUp=e.handleDocumentMouseUp.bind(e),e.handleDocumentMouseMove=e.handleDocumentMouseMove.bind(e),e.handleClick=e.handleClick.bind(e),e.handleFocus=e.handleFocus.bind(e),e._sliderRefHandler=e._sliderRefHandler.bind(e),e.updateOptimizedValue=(0,f.default)(e.updateOptimizedValue.bind(e),m),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.valueOptimizationEnabled&&this.updateOptimizedValue()}},{key:"componentWillUnmount",value:function(){this.props.valueOptimizationEnabled&&this.props.windowObj.cancelAnimationFrame(this.state.requestAnimationID),this.removeDocumentHandlers()}},{key:"updateOptimizedValue",value:function(){this.setState({optimizedValue:this.props.getOptimizedValue(),requestAnimationID:this.props.windowObj.requestAnimationFrame(this.updateOptimizedValue)})}},{key:"render",value:function(){var e,t=this.props,n=t.afterSliderChildren,r=t.alwaysShowThumb,a=t.behindSliderChildren,o=t.classNames,c=t.max,f=t.min,p=t.onBlur,h=t.onKeyDown,m=t.sliderTabIndex,E=t.value,v=t.valueOptimizationEnabled,y=0;y=this.state.isDragging?this.state.currentDragValue:v?this.state.optimizedValue:E,y=this._constrainedSliderValue(y);var g=i.default.createElement(s.SliderLeft,{className:o.sliderLeft,max:c,min:f,value:y}),T=null;(this.state.isHovering||this.state.isDragging||r)&&(T=i.default.createElement(l.AnimatedSliderThumb,{className:o.sliderThumb,max:c,min:f,onTouchStart:this.handleTouchStart,onMouseDown:this.handleMouseDown,value:y}));var b=(0,d.default)((_(e={},o.slider,!0),_(e,"slider--no-outline","mouse"===this.state.currentInputMethod),e));return i.default.createElement("div",{"aria-valuemax":c,"aria-valuemin":f,"aria-valuenow":y,className:b,onBlur:p,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:h,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseOut,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,ref:this._sliderRefHandler,role:"slider",tabIndex:m},a,g,n,i.default.createElement(u.default,{component:"div"},T))}},{key:"_constrainedSliderValue",value:function(e){var t=this.props,n=t.selectionAreaMaxValue,r=t.selectionAreaMinValue,i=e;return n&&(i=Math.min(i,n)),r&&(i=Math.max(i,r)),i}},{key:"_sliderRefHandler",value:function(e){this.$slider=e}},{key:"calculateValueAtPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.props,n=t.max,r=t.min,i=this.$slider.getBoundingClientRect(),a=i.left,o=i.width;if(0===o)return 0;var s=Math.min(1,Math.max(0,(e-a)/o));return this._constrainedSliderValue(s*(n-r)+r)}},{key:"handleFocus",value:function(){this.setState({currentInputMethod:o.default.ask()})}},{key:"handleClick",value:function(e){var t=this.calculateValueAtPosition(e.pageX),n=this.props.onClick;n&&n(t,e)}},{key:"handleMouseMove",value:function(e){this.props.onMouseMove(e),this.setState({isHovering:!0})}},{key:"handleMouseOut",value:function(){this.props.onMouseOut(),this.setState({isHovering:!1})}},{key:"handleMouseDown",value:function(e){this.onDragStart(e),this.addDocumentHandlers(!1)}},{key:"handleTouchStart",value:function(e){var t=e.touches[0];this.setState({touchIdentifier:t.identifier}),this.onDragStart(t),this.addDocumentHandlers(!0)}},{key:"onDragStart",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({isDragging:!0,currentDragValue:t});var n=this.props.dragHandlers.onStart;n&&n(t,e)}},{key:"onDragEvent",value:function(e){var t=this.calculateValueAtPosition(e.pageX);this.setState({currentDragValue:t});var n=this.props.dragHandlers.onDrag;n&&n(t,e)}},{key:"onDragEnd",value:function(e){this.setState({isDragging:!1,currentDragValue:0});var t=this.calculateValueAtPosition(e.pageX),n=this.props.dragHandlers.onStop;n&&n(t,e)}},{key:"addDocumentHandlers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.$slider){var t=this.$slider.ownerDocument;e?(t.addEventListener("touchmove",this.handleDocumentTouchMove),t.addEventListener("touchend",this.handleDocumentTouchEnd),t.addEventListener("touchcancel",this.handleDocumentTouchEnd)):(t.addEventListener("mousemove",this.handleDocumentMouseMove),t.addEventListener("mouseup",this.handleDocumentMouseUp))}}},{key:"removeDocumentHandlers",value:function(){if(this.$slider){var e=this.$slider.ownerDocument;e.removeEventListener("touchmove",this.handleDocumentTouchMove),e.removeEventListener("touchend",this.handleDocumentTouchEnd),e.removeEventListener("touchcancel",this.handleDocumentTouchEnd),e.removeEventListener("mousemove",this.handleDocumentMouseMove),e.removeEventListener("mouseup",this.handleDocumentMouseUp)}}},{key:"handleDocumentTouchMove",value:function(e){var t=this,n=(0,c.default)(e.touches,function(e){return e.identifier===t.state.touchIdentifier});n&&this.onDragEvent(n)}},{key:"handleDocumentTouchEnd",value:function(e){var t=this,n=(0,c.default)(e.changedTouches,function(e){return e.identifier===t.state.touchIdentifier});n&&(this.onDragEnd(n),this.removeDocumentHandlers(),this.setState({touchIdentifier:-1}))}},{key:"handleDocumentMouseUp",value:function(e){this.onDragEnd(e),this.removeDocumentHandlers()}},{key:"handleDocumentMouseMove",value:function(e){this.props.onMouseMove(e),this.onDragEvent(e)}}]),t}();E.propTypes=h,E.defaultProps={value:0,classNames:{},sliderTabIndex:0,valueOptimizationEnabled:!1,getOptimizedValue:function(){return 0},onMouseMove:function(){},onMouseOut:function(){},alwaysShowThumb:!1}},"ic+G":function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getFallbackDefaultAction=function(){return h("Cheer")},t.getFallbackBitsAction=h;var a,o,s=t.CHEERMOTE_TYPE_FIRST_PARTY="FIRST_PARTY",l=t.CHEERMOTE_TYPE_GLOBAL_THIRD_PARTY="THIRD_PARTY",u=(t.DEFAULT_CHEER_PREFIX="cheer",t.CHEER_COLOR=Object.freeze({Gray:1,Purple:100,Green:1e3,Blue:5e3,Red:1e4,Yellow:1e5})),c=t.CHEER_COLOR_MAP=Object.freeze((i(r={},u.Gray,"#979797"),i(r,u.Purple,"#9c3ee8"),i(r,u.Green,"#1db2a5"),i(r,u.Blue,"#0099fe"),i(r,u.Red,"#f43021"),i(r,u.Yellow,"#f3a71a"),r)),d=Object.freeze({Cheer:s,Kreygasm:s,Kappa:s,Muxy:l,Streamlabs:l,SwiftRage:s,VoHiYo:s}),f=Object.freeze(["LIGHT","DARK"]),p=Object.freeze([1,1.5,2,3,4]),_=t.FALLBACK_BITS_CONFIG=Object.freeze((a=[],o={},Object.keys(d).forEach(function(e){var t=function(e,t){var n=[u.Red,u.Blue,u.Green,u.Purple,u.Gray],r=new Map,i=[];if("Cheer"===e){var a=m(e,u.Yellow);r.set(u.Yellow,a),i.push(a)}return i.push.apply(i,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.map(function(t){var n=m(e,t);return r.set(t,n),n}))),{prefix:e,type:t,tiers:i,orderedTiers:i,indexedTiers:r}}(e,d[e]);a.push(t),o[e.toLowerCase()]=t}),{orderedActions:a,indexedActions:o}));function h(e){return _.indexedActions[e.toLowerCase()]}function m(e,t){var n=[],r={};return f.forEach(function(i){p.forEach(function(a){r[i]||(r[i]={animated:new Map,static:new Map});var o=E(e,i,!0,t,a);n.push(o),r[i].animated.set(a,o.url);var s=E(e,i,!1,t,a);n.push(s),r[i].static.set(a,s.url)})}),{id:e+";"+t,bits:t,color:c[t],images:n,indexedImages:r}}function E(e,t,n,r,i){var a=n?"gif":"png";return{theme:t,isAnimated:n,dpiScale:i,url:"https://d3aqoihi2n8ty8.cloudfront.net/actions/"+e.toLowerCase()+"/"+t.toLowerCase()+"/"+(n?"animated":"static")+"/"+r+"/"+i+"."+a}}},idqK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackendMediaPlayer=t.SURESTREAM_METADATA_AD_ORDER_ID_KEY=t.SURESTREAM_METADATA_AD_ADVERTISER_ID_KEY=t.SURESTREAM_METADATA_AD_ID=t.SURESTREAM_METADATA_AD_LINE_ITEM_KEY=t.SURESTREAM_METADATA_AD_CREATIVE_ID_KEY=t.SURESTREAM_METADATA_AD_POD_POSITION_KEY=t.SURESTREAM_METADATA_AD_POD_LENGTH_KEY=t.SURESTREAM_METADATA_START_TIME_KEY=t.SURESTREAM_METADATA_DURATION_KEY=t.SURESTREAM_METADATA_ROLL_TYPE_KEY=t.SURESTREAM_METADATA_URL_KEY=t.SURESTREAM_METADATA_CLASS=t.MIN_IN_MS=t.DAY_IN_MS=t.DRM_CELLULAR_NETWORK_PROHIBITED=t.DRM_UNBLOCKER=t.DRM_UNSUPPORTED_DEVICE=t.DRM_GEOBLOCKED=t.PLAYER_LVS_CCU_CAP_ERROR=t.PLAYER_WARN_AUTH_ERROR=t.PLAYER_FATAL_AUTH_ERROR=t.PLAYER_OFFLINE_ERROR=t.PLAYER_FATAL_ERROR=t.LVS_CCU_CAP_ERROR_CODE=t.WARN_AUTH_ERROR_CODE=t.FATAL_AUTH_ERROR_CODE=t.OFFLINE_ERROR_CODE=t.FATAL_ERROR_CODE=t.BACKEND_MEDIA_PLAYER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("nC/T"),a=n("aacC"),o=n("TRt3"),s=U(n("JZwe")),l=x(n("puQj")),u=x(n("+qE3")),c=x(n("3OWR")),d=x(n("J2m7")),f=x(n("xaJk")),p=x(n("tpxX")),_=x(n("ijCd")),h=x(n("OFL0")),m=x(n("mwIZ")),E=x(n("ix15")),v=n("Rnd+"),y=U(n("e063")),g=U(n("Aa1x")),T=n("YWLq"),b=n("VPTj"),S=x(n("y+GA")),A=n("+eo6"),C=n("uAxA"),O=n("Yd1q"),P=n("56nq"),N=n("9+6w"),I=n("CeWH"),R=n("wsSb"),w=n("KR5+"),k=n("qT8i"),M=n("EoNM"),L=n("J0qE"),D=n("OyQT");function x(e){return e&&e.__esModule?e:{default:e}}function U(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var V=t.BACKEND_MEDIA_PLAYER="mediaplayer",j=t.FATAL_ERROR_CODE=8001,q=t.OFFLINE_ERROR_CODE=8002,F=t.FATAL_AUTH_ERROR_CODE=8003,H=t.WARN_AUTH_ERROR_CODE=8004,Y=t.LVS_CCU_CAP_ERROR_CODE=509,G=t.PLAYER_FATAL_ERROR="fatal_error",W=t.PLAYER_OFFLINE_ERROR="offline_error",K=t.PLAYER_FATAL_AUTH_ERROR="fatal_auth_error",Q=t.PLAYER_WARN_AUTH_ERROR="warn_auth_error",z=t.PLAYER_LVS_CCU_CAP_ERROR="ccu_cap_error",X=t.DRM_GEOBLOCKED="content_geoblocked",J=t.DRM_UNSUPPORTED_DEVICE="no_cdm_specified",Z=t.DRM_UNBLOCKER="anonymizer_blocked",$=t.DRM_CELLULAR_NETWORK_PROHIBITED="cellular_geoblocked",ee=t.DAY_IN_MS=864e5,te=t.MIN_IN_MS=6e4,ne=t.SURESTREAM_METADATA_CLASS="twitch-stitched-ad",re=(t.SURESTREAM_METADATA_URL_KEY="X-TV-TWITCH-AD-URL",t.SURESTREAM_METADATA_ROLL_TYPE_KEY="X-TV-TWITCH-AD-ROLL-TYPE",t.SURESTREAM_METADATA_DURATION_KEY="DURATION",t.SURESTREAM_METADATA_START_TIME_KEY="START-DATE",t.SURESTREAM_METADATA_AD_POD_LENGTH_KEY="X-TV-TWITCH-AD-POD-LENGTH",t.SURESTREAM_METADATA_AD_POD_POSITION_KEY="X-TV-TWITCH-AD-POD-POSITION",t.SURESTREAM_METADATA_AD_CREATIVE_ID_KEY="X-TV-TWITCH-AD-CREATIVE-ID",t.SURESTREAM_METADATA_AD_LINE_ITEM_KEY="X-TV-TWITCH-AD-LINE-ITEM-ID",t.SURESTREAM_METADATA_AD_ID="ID",t.SURESTREAM_METADATA_AD_ADVERTISER_ID_KEY="X-TV-TWITCH-AD-ADVERTISER-ID",t.SURESTREAM_METADATA_AD_ORDER_ID_KEY="X-TV-TWITCH-AD-ORDER-ID",{group:"auto",name:"Auto"}),ie={broadcast_id:0,cluster:"",manifest_cluster:"",manifest_node:"",manifest_node_type:"",node:"",serving_id:0,user_ip:"",vod_cdn_origin:"",vod_cdn_region:"",stream_time_offset:0,segment_protocol:"",bandwidth:0,current_bitrate:0,current_fps:0,current_fps_exact:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_latency_encoder:0,hls_target_duration:0,paused:!1,playing:!1,stream_time:0,totalMemoryNumber:0,vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,volume:0},ae=Object.freeze({playbackRate:-1,fps:-1,bufferSize:-1,skippedFrames:-1,memoryUsage:"0 MB",hlsLatencyEncoder:-1,hlsLatencyBroadcaster:-1,latencyMode:"",videoResolution:"",displayResolution:"",backendVersion:"",codecs:""}),oe=Object.freeze(["minute-watched","video-play","buffer-refill","buffer-empty"]);(t.BackendMediaPlayer=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];B(this,e),this.store=n,this._unsubscribes=[],this._options=t,this._mediaPlayer=null,this._eventEmitter=new u.default,this._apiCallQueue=[],this._readyStateStatus=y.HAVE_NOTHING,this._networkState=g.NETWORK_NO_SOURCE,this._hiddenTimer=null,this._didAutoDowngradeQuality=!1;var r=this.store.getState().experiments;this._untrustedTier1Experiment=r.get(v.ExperimentIds.UntrustedTier1),this._vp9Experiment=r.get(v.ExperimentIds.EnableVP9),this._fireLoadedMetadata=!1,this._hasRetried=!1,this._firePlay=!1,this._vp9disabled=!1,this._src="",this._currentCaptionData={},this._mediaPlayerLogLevel=t["cvp-log"]||"error",this.initialize()}return r(e,[{key:"initialize",value:function(){var e=this;return this.loadMediaPlayer().then(function(t){e._initMediaPlayer(t),e.setMuted(e._options.muted),e._initMobileAttributes(),e._setupStoreSubscriptions()},function(t){e.onCoreAnalytics(t)})}},{key:"_initMediaPlayer",value:function(e){var t=e.mediaPlayerInstance,n=e.mediaPlayerHandle,r=e.isWasm,a=void 0!==r&&r;this.sendPerformanceEvent(O.WEB_BACKEND_LOADED),this.store.dispatch((0,N.usingWasmBackend)(a)),this._mediaPlayer=t,this._mediaPlayer.setBufferReplaceEnabled(!0),this._mediaPlayerHandle=n,this._attachInternalListeners(n),this._eventEmitter.emit(i.PLAYER_INIT),this._apiCallQueue.forEach(function(e){e()}),this._apiCallQueue=[]}},{key:"_initMobileAttributes",value:function(){this._mediaPlayer&&this._options.playsinline&&(this._mediaPlayer.getHTMLVideoElement().setAttribute("webkit-playsinline",""),this._mediaPlayer.getHTMLVideoElement().setAttribute("playsinline",""))}},{key:"_setupStoreSubscriptions",value:function(){this._unsubscribes.push((0,k.subscribe)(this.store,["streamMetadata.game"],this._onGameChange.bind(this)))}},{key:"loadMediaPlayer",value:function(){var e=this;if(this._options.playerCoreDetails)return Promise.resolve(this._options.playerCoreDetails);var t=this.store.getState().experiments,n=this._mediaPlayerLogLevel;return(0,P.krakenUserInfo)().then(function(e){return"staff"===e.type}).catch(function(){return!1}).then(function(e){var n=e?v.ExperimentIds.PlayerCoreStaffVersion:v.ExperimentIds.MediaplayerVersionControl;return Promise.all([t.get(n),t.get(v.ExperimentIds.PlayerCoreWASM)])}).then(function(t){return E.default.loadMediaPlayer({value:t[0],latencyValue:"control",logLevel:n,forceAsmJs:e._options.asmjs||"asmjs"===t[2]})})}},{key:"_onGameChange",value:function(e){var t=e.streamMetadata.game;this._checkDisableSpeedUp(t)}},{key:"_minToMs",value:function(e){return e*te}},{key:"getStats",value:function(){var e=this._mediaPlayer;if(e){var t=e.getVideoWidth()+"x"+e.getVideoHeight(),n=e.getDisplayWidth()+"x"+e.getDisplayHeight(),r=(e.getQuality()||{}).codecs||"",i={playbackRate:(0,p.default)(e.getVideoBitRate()/1e3),fps:(0,p.default)(e.getVideoFrameRate()),bufferSize:e.getBufferDuration(),skippedFrames:e.getDroppedFrames(),memoryUsage:"64 MB",hlsLatencyEncoder:e.getTranscoderLatency()/1e3,hlsLatencyBroadcaster:e.getBroadcasterLatency()/1e3,videoResolution:t,displayResolution:n,backendVersion:e.getVersion(),codecs:r},a=this._checkLatencyMode();return(0,c.default)(i,a),i}return ae}},{key:"_checkLatencyMode",value:function(){var e="auto"===this.store.getState().quality.selected,t=this.store.getState().settings.lowLatencyModeEnabled,n=this.store.getState().manifestInfo.future;if(this.store.getState().stream.contentType===R.CONTENT_MODE_LIVE)return l.default.chrome||l.default.firefox?{latencyMode:t&&n?"Low Latency":"Normal Latency"}:{latencyMode:n&&!e?"Low Latency":"Normal Latency"}}},{key:"getCaption",value:function(){return this._currentCaptionData}},{key:"onCoreAnalytics",value:function(e){var t=e.spadeEventName,n=e.spadeEventData;this.store.dispatch((0,T.trackEvent)(t,n))}},{key:"addEventListener",value:function(e,t){null!==this._mediaPlayer?this._eventEmitter.on(e,t):this._apiCallQueue.push(this.addEventListener.bind(this,e,t))}},{key:"removeEventListener",value:function(e,t){null!==this._mediaPlayer?this._eventEmitter.removeListener(e,t):this._apiCallQueue.push(this.removeEventListener.bind(this,e,t))}},{key:"attach",value:function(e){null!==this._mediaPlayer?e.insertBefore(this._mediaPlayer.getHTMLVideoElement(),e.firstChild):this._apiCallQueue.push(this.attach.bind(this,e))}},{key:"detach",value:function(e){null!==this._mediaPlayer?e.removeChild(this._mediaPlayer.getHTMLVideoElement()):this._apiCallQueue.push(this.detach.bind(this,e))}},{key:"load",value:function(){var e=this;if(null!==this._mediaPlayer){if(this._firePlay=!1,this._src)if(this._src.indexOf(L.usherHost)>-1){var t=function(){return e._loadAndPlay()};this._evaluateVP9Experiment().then(t).catch(t)}else this._loadAndPlay()}else this._apiCallQueue.push(this.load.bind(this))}},{key:"_evaluateVP9Experiment",value:function(){var e=this;return this._vp9Experiment.then(function(t){var n="treatment"===t&&e._mediaPlayerHandle.MediaPlayer.isVP9Supported()&&!e._vp9disabled?"vp09%2Cavc1":"avc1";e._src+="&supported_codecs="+n})}},{key:"_loadAndPlay",value:function(){var e=this.store.getState().playback,t=this._mediaPlayer.getPlayerState();this._mediaPlayer.pause(),this._mediaPlayer.load(this._src),this._eventEmitter.emit(s.LOADSTART),e.autoplay&&(this._mediaPlayer.play(),t===this._mediaPlayerHandle.PlayerState.IDLE?this._eventEmitter.emit(s.PLAY):this._firePlay=!0)}},{key:"setAutoplay",value:function(){}},{key:"getSrc",value:function(){return this._src}},{key:"setSrc",value:function(e){null!==this._mediaPlayer?(this._src=e,this._src&&this.load()):this._apiCallQueue.push(this.setSrc.bind(this,e))}},{key:"getVolume",value:function(){return this._mediaPlayer?this._mediaPlayer.getVolume():0}},{key:"setVolume",value:function(e){null!==this._mediaPlayer?(this._mediaPlayer.setVolume(e),this._eventEmitter.emit(s.VOLUME_CHANGE)):this._apiCallQueue.push(this.setVolume.bind(this,e))}},{key:"setMuted",value:function(e){null!==this._mediaPlayer?(e?this._mediaPlayer.getHTMLVideoElement().setAttribute("muted",""):this._mediaPlayer.getHTMLVideoElement().removeAttribute("muted"),this._mediaPlayer.setMuted(e),this._eventEmitter.emit(s.VOLUME_CHANGE)):this._apiCallQueue.push(this.setMuted.bind(this,e))}},{key:"getMuted",value:function(){return this._mediaPlayer&&this._mediaPlayer.isMuted()}},{key:"setChannel",value:function(e,t){var n=this;return t.streamUrl.then(function(t){var r=n.store.getState().streamMetadata,i=r.channelName,a=r.game;e===i&&(n.setSrc(t),n._checkDisableSpeedUp(a))}).catch(function(e){console.warn("Error generating live url:",e)})}},{key:"setClip",value:function(){}},{key:"setVideo",value:function(e,t){var n=this;t.streamUrl.then(function(t){var r=n.store.getState().streamMetadata;e===r.videoId&&n.setSrc(t)}).catch(function(e){console.warn("Error generating vod url:",e)})}},{key:"setQuality",value:function(e){if(null!==this._mediaPlayer)if("auto"===e)this._mediaPlayer.setAutoSwitchQuality(!0);else{var t=this._mediaPlayer.getQualities().find(function(t){return t.group===e});void 0!==t&&this._mediaPlayer.setQuality(t)}else this._apiCallQueue.push(this.setQuality.bind(this,e))}},{key:"getQualities",value:function(){if(null===this._mediaPlayer)return[];return[re].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._mediaPlayer.getQualities())).map(function(e){return Object.assign({},e,{bandwidth:e.bitrate})})}},{key:"getQuality",value:function(){return null===this._mediaPlayer?null:this._mediaPlayer.getAutoSwitchQuality()?re.group:this._mediaPlayer.getQuality().group}},{key:"elapsedTime",value:function(){return null===this._mediaPlayer?0:this._mediaPlayer.getStartOffset()+this._mediaPlayer.getPosition()}},{key:"getCurrentTime",value:function(){return this._mediaPlayer?this._mediaPlayer.getPosition():0}},{key:"setCurrentTime",value:function(e){null!==this._mediaPlayer?(this._mediaPlayer.seekTo(e),this._eventEmitter.emit(s.SEEKING)):this._apiCallQueue.push(this.setCurrentTime.bind(this,e))}},{key:"getDuration",value:function(){return this._mediaPlayer?this._mediaPlayer.getDuration():0}},{key:"getNetworkProfile",value:function(){return this._mediaPlayer?this._mediaPlayer.getNetworkProfile():[]}},{key:"getBuffered",value:function(){if(null===this._mediaPlayer)return new se;var e=this._mediaPlayer.getBuffered();return new se(e.start,e.end)}},{key:"getReadyState",value:function(){return this._readyStateStatus}},{key:"getNetworkState",value:function(){return this._networkState}},{key:"getEnded",value:function(){return this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.ENDED}},{key:"getError",value:function(){return this._errorCode}},{key:"getVersion",value:function(){return this._mediaPlayer?this._mediaPlayer.getVersion():""}},{key:"getBackend",value:function(){return V}},{key:"play",value:function(){null!==this._mediaPlayer?(this._mediaPlayer.play(),this._firePlay=!1,this._eventEmitter.emit(s.PLAY)):this._apiCallQueue.push(this.play.bind(this))}},{key:"pause",value:function(){null!==this._mediaPlayer?(this._firePlay=!1,this._mediaPlayer.pause()):this._apiCallQueue.push(this.pause.bind(this))}},{key:"getPaused",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.getPlayerState()===this._mediaPlayerHandle.PlayerState.IDLE}},{key:"getSeeking",value:function(){return!!this._mediaPlayer&&this._mediaPlayer.isSeeking()}},{key:"getVideoInfo",value:function(){var e=this.store.getState(),t=e.manifestInfo,n=e.window,r={broadcast_id:t.broadcast_id,cluster:t.cluster,manifest_cluster:t.manifest_cluster,manifest_node:t.manifest_node,manifest_node_type:t.manifest_node_type,node:t.node,serving_id:t.serving_id,user_ip:t.user_ip,vod_cdn_origin:t.origin,vod_cdn_region:t.region,stream_time_offset:parseFloat(t.stream_time),segment_protocol:"https:"===n.location.protocol?"https":"http"},i=this._mediaPlayer,a={};if(i){var o=i.getPlayerState(),s=i.getVideoBitRate()/1e3,l=i.getVideoFrameRate();a={bandwidth:s,current_bitrate:s,current_fps:(0,p.default)(l),current_fps_exact:l,decoded_frames:i.getDecodedFrames(),dropped_frames:i.getDroppedFrames(),hls_latency_broadcaster:(0,p.default)(i.getBroadcasterLatency()),hls_latency_encoder:(0,p.default)(i.getTranscoderLatency()),hls_target_duration:5,paused:o===this._mediaPlayerHandle.PlayerState.IDLE,playing:o===this._mediaPlayerHandle.PlayerState.PLAYING,stream_time:i.getPosition(),totalMemoryNumber:64,vid_display_height:i.getDisplayHeight(),vid_display_width:i.getDisplayWidth(),vid_height:i.getVideoHeight(),vid_width:i.getVideoWidth(),video_buffer_size:i.getBufferDuration(),volume:i.getVolume()}}return Object.assign({},ie,r,a)}},{key:"getAverageBitrate",value:function(){return this._mediaPlayer&&"function"==typeof this._mediaPlayer.getAverageBitrate?this._mediaPlayer.getAverageBitrate():0}},{key:"getBandwidthEstimate",value:function(){return this._mediaPlayer?this._mediaPlayer.getBandwidthEstimate():0}},{key:"setPlaybackRate",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setPlaybackRate.bind(this,e)),this._mediaPlayer.setPlaybackRate(e)}},{key:"getPlaybackRate",value:function(){return this._mediaPlayer?this._mediaPlayer.getPlaybackRate():1}},{key:"getPlayed",value:function(){return new se}},{key:"getStatsEnabled",value:function(){return!1}},{key:"absAvailable",value:function(){return!0}},{key:"setLoop",value:function(){}},{key:"setVisible",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==this._mediaPlayer?this._mediaPlayer.setVisible&&this._mediaPlayer.setVisible(e):this._apiCallQueue.push(this.setVisible.bind(this,e))}},{key:"setLiveLowLatencyEnabled",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setLiveLowLatencyEnabled.bind(this,e)),this._mediaPlayer.setLiveLowLatencyEnabled(e)}},{key:"setLiveMaxLatency",value:function(e){null===this._mediaPlayer&&this._apiCallQueue.push(this.setLiveMaxLatency.bind(this,e)),this._mediaPlayer.setLiveMaxLatency(e)}},{key:"setAutoMaxVideoSize",value:function(e,t){null===this._mediaPlayer&&this._apiCallQueue.push(this.setAutoMaxVideoSize.bind(this,e,t)),this._mediaPlayer.setAutoMaxVideoSize(e,t)}},{key:"destroy",value:function(){this._unsubscribes.forEach(function(e){return e()}),this._mediaPlayer?(this._mediaPlayer.delete(),this._mediaPlayer=null):this._apiCallQueue.push(this.destroy.bind(this))}},{key:"_retryStreamLoad",value:function(){var e=this,t=this.store.getState().stream;return this.src="",t.resetNAuthToken(),t.streamUrl.then(function(t){e.setSrc(t),e.play()})}},{key:"_onAuthError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(this._checkForDRMErrors(e),this._errorCode)||((0,_.default)(e,"PREMIUM_CONTENT")||"unauthorized_entitlements"===e?this._eventEmitter.emit(i.PREMIUM_CONTENT_RESTRICTED):(0,_.default)(e,"vod_manifest_restricted")?this._eventEmitter.emit(i.VOD_RESTRICTED):this.store.getState().onlineStatus===C.OFFLINE_STATUS||(this._hasRetried?(this.store.dispatch((0,A.setError)(S.default.CODES.CONTENT_NOT_AVAILABLE)),this.store.dispatch((0,T.trackEvent)(o.PLAYBACK_ERROR,{playback_error_code:F,playback_error_msg:K}))):(this._hasRetried=!0,this._retryStreamLoad(),this.store.dispatch((0,T.trackEvent)(o.PLAYBACK_ERROR,{playback_error_code:H,playback_error_msg:Q})))))}},{key:"_retryVP9Error",value:function(e,t){var n=this._mediaPlayer.getQuality().codecs,r=e===this._mediaPlayerHandle.ErrorSource.DECODER,i=e===this._mediaPlayerHandle.ErrorSource.PLAYLIST&&t>=500;return!(-1===n.indexOf("vp09.")||!r&&!i)&&(this._vp9disabled=!0,this._retryStreamLoad(),!0)}},{key:"_checkForDRMErrors",value:function(e){if((0,_.default)(e,X))return this._errorCode=S.default.CODES.DRM_GEOBLOCKED,void this.store.dispatch((0,A.setError)(this._errorCode));var t=this.store.getState(),n=t.env,r=t.streamMetadata;return(0,_.default)(e,J)&&n.platform!==w.PLATFORM_MOBILE_WEB&&r.isEncrypted&&l.default.safari?(this._errorCode=7004,void this.store.dispatch((0,A.setError)(this._errorCode))):(0,_.default)(e,J)?(this._errorCode=S.default.CODES.DRM_UNSUPPORTED_DEVICE,void this.store.dispatch((0,A.setError)(this._errorCode))):(0,_.default)(e,Z)?(this._errorCode=S.default.CODES.DRM_UNBLOCKER,void this.store.dispatch((0,A.setError)(this._errorCode))):(0,_.default)(e,$)?(this._errorCode=S.default.CODES.DRM_CELLULAR_NETWORK_PROHIBITED,void this.store.dispatch((0,A.setError)(this._errorCode))):void 0}},{key:"_onOfflineError",value:function(){this.store.dispatch((0,T.trackEvent)(o.PLAYBACK_ERROR,{playback_error_code:q,playback_error_msg:W})),this._eventEmitter.emit(i.OFFLINE),this._eventEmitter.emit(s.ENDED)}},{key:"_onCCUCapReached",value:function(){this._errorCode=S.default.CODES.CCU_CAP_REACHED,this.store.dispatch((0,T.trackEvent)(o.PLAYBACK_ERROR,{playback_error_code:S.default.CODES.CCU_CAP_REACHED,playback_error_msg:z})),this.store.dispatch((0,A.setError)(this._errorCode))}},{key:"_handleNotAvailableError",value:function(e){return e===Y?this._onCCUCapReached():this._onOfflineError()}},{key:"onMediaplayerInitialized",value:function(){this._eventEmitter.emit(i.PLAYER_INIT)}},{key:"onPlaying",value:function(){this._readyStateStatus<=y.HAVE_CURRENT_DATA&&(this._readyStateStatus=y.HAVE_FUTURE_DATA),this.sendPerformanceEvent(O.WEB_PLAYBACK_STARTED),this._eventEmitter.emit(s.LOADED_DATA),this._eventEmitter.emit(s.PLAYING)}},{key:"onQualityChanged",value:function(){this._eventEmitter.emit(i.QUALITY_CHANGE,{quality:this._mediaPlayer.getQuality().group,isAuto:this._mediaPlayer.getAutoSwitchQuality()})}},{key:"onDurationChanged",value:function(){this._fireLoadedMetadata&&(this._fireLoadedMetadata=!1,this._eventEmitter.emit(s.LOADED_METADATA)),this._eventEmitter.emit(s.DURATION_CHANGE)}},{key:"onPlaybackRateChanged",value:function(){this._eventEmitter.emit(s.RATE_CHANGE,this._mediaPlayer.getPlaybackRate())}},{key:"onRebuffering",value:function(){this._readyStateStatus=y.HAVE_CURRENT_DATA,this._eventEmitter.emit(s.WAITING)}},{key:"onTimeUpdate",value:function(){this._eventEmitter.emit(s.TIME_UPDATE)}},{key:"onBufferUpdate",value:function(){this._eventEmitter.emit(i.BUFFER_CHANGE,this._mediaPlayer.getBuffered())}},{key:"onSeekCompleted",value:function(){this._eventEmitter.emit(s.CAN_PLAY),this._eventEmitter.emit(s.SEEKED),this.store.dispatch((0,b.setLoading)(!1))}},{key:"onTrackingEvent",value:function(e){var t=this,n=e.name,r=e.properties;"video_error"!==n&&"abs_stream_format_change"!==n&&"buffer_2_seconds"!==n&&"video_seek_success"!==n||(r.broadcast_id=this.store.getState().streamMetadata.broadcastID,r.manifest_broadcast_id=this.store.getState().manifestInfo.broadcast_id,this.store.dispatch((0,T.trackEvent)(n,r))),(0,_.default)(oe,n)&&this._untrustedTier1Experiment.then(function(e){"send"===e&&t.store.dispatch((0,T.trackEvent)("x_untrusted_"+n,r))}),this._eventEmitter.emit(s.TRACKING,e)}},{key:"onPerformanceTimedEvent",value:function(e){this.store.dispatch((0,O.performanceTimedMilestoneReached)(e.name,e.time))}},{key:"onBuffering",value:function(){this._readyStateStatus=y.HAVE_CURRENT_DATA,this._networkState=g.NETWORK_LOADING}},{key:"onIdle",value:function(){this._readyStateStatus=y.HAVE_NOTHING,this._networkState=g.NETWORK_IDLE,this._eventEmitter.emit(s.PAUSE),this._firePlay&&(this._firePlay=!1,this._eventEmitter.emit(s.PLAY))}},{key:"onEnded",value:function(){this._readyStateStatus=y.HAVE_NOTHING,this._networkState=g.NETWORK_EMPTY,this._eventEmitter.emit(s.ENDED)}},{key:"on2020",value:function(){var e=this.store.getState().quality;Date.now()-M.localStore.get(D.SOURCE_QUALITY_SET_TIMESTAMP,0)>=ee&&e.selected===D.QUALITY_SOURCE&&(this.store.dispatch((0,D.selectQuality)(D.QUALITY_AUTO)),this.store.dispatch((0,D.setPreferredQuality)(D.QUALITY_AUTO_OBJECT)))}},{key:"onReady",value:function(){var e=this.store.getState().analytics;this._hasRetried=!1,this._readyStateStatus=y.HAVE_METADATA,this._networkState=g.NETWORK_IDLE,this.store.dispatch((0,T.trackEvent)(a.VIDEO_PLAY_MASTER_MANIFEST,{time_since_load_start:Date.now()-e.playSessionStartTime}));var t=(0,f.default)(this._mediaPlayer.getManifestInfo(),function(e,t,n){return e[n.toLowerCase().replace(/-/g,"_")]=t,e},{});this._eventEmitter.emit(i.MANIFEST_EXTRA_INFO,t),this._eventEmitter.emit(i.MASTER_MANIFEST_READY),this._eventEmitter.emit(s.CAN_PLAY),this._fireLoadedMetadata=!0,this._vp9disabled=!1}},{key:"onID3",value:function(e){var t=(0,d.default)(e,function(e){return"TOFN"===e.id}),n=(0,d.default)(e,function(e){return"TXXX"===e.id});if(t&&this._eventEmitter.emit(i.SEGMENT_CHANGE,{name:t.info[0]}),n&&"content"!==n.desc){var r=JSON.parse(n.info[0]);if("commercial"===r.cmd&&this._eventEmitter.emit(i.MIDROLL_REQUESTED,{duration:r.length,commercialId:r.commercial_id,spliceEventId:r.splice_event_id,availNum:r.avail_num}),(0,h.default)(r,"stream_loudness")){var a=(0,m.default)(r,"stream_loudness");this._eventEmitter.emit(i.STREAM_LOUDNESS,{streamLoudness:a})}}}},{key:"onCaption",value:function(e){this._currentCaptionData=e,this._eventEmitter.emit(i.CAPTION_UPDATE)}},{key:"onMetadataCueEnter",value:function(e){if("string"==typeof e)try{var t=JSON.parse(e);t.CLASS===ne&&this._eventEmitter.emit(i.STITCHED_AD_START,t)}catch(e){}else e.CLASS===ne&&this._eventEmitter.emit(i.STITCHED_AD_START,e)}},{key:"onMetadataCueExit",value:function(e){if("string"==typeof e)try{JSON.parse(e).CLASS===ne&&this._eventEmitter.emit(i.STITCHED_AD_END)}catch(e){}else e.CLASS===ne&&this._eventEmitter.emit(i.STITCHED_AD_END)}},{key:"onPlaybackBlocked",value:function(){this._eventEmitter.emit(s.PLAYBACK_BLOCKED)}},{key:"onAudioBlocked",value:function(){this._eventEmitter.emit(s.AUDIO_BLOCKED)}},{key:"onVariantManifestRequest",value:function(){var e=this.store.getState().performance,t=(0,d.default)(e.otherMetrics,function(e){return e.name===O.MP_VARIANT_MANIFEST_REQUEST_COUNT}),n=(0,d.default)(e.timedMilestones,function(e){return e.name===O.MP_VARIANT_MANIFEST_REQUEST}),r=t&&t.value?t.value:0;n||this.sendPerformanceEvent(O.MP_VARIANT_MANIFEST_REQUEST),this.store.dispatch((0,O.performanceMetricRecorded)(O.MP_VARIANT_MANIFEST_REQUEST_COUNT,r+1))}},{key:"onVariantManifestReady",value:function(){var e=this.store.getState().performance,t=(0,d.default)(e.otherMetrics,function(e){return e.name===O.MP_VARIANT_MANIFEST_READY_COUNT}),n=(0,d.default)(e.timedMilestones,function(e){return e.name===O.MP_VARIANT_MANIFEST_READY}),r=t&&t.value?t.value:0;n||this.sendPerformanceEvent(O.MP_VARIANT_MANIFEST_READY),this.store.dispatch((0,O.performanceMetricRecorded)(O.MP_VARIANT_MANIFEST_READY_COUNT,r+1))}},{key:"onSessionData",value:function(e){var t=e.sessionData,n={};Object.keys(t).forEach(function(e){var r=e.toLowerCase().replace(/-/g,"_");n[r]=t[e]}),this.store.dispatch((0,I.setManifestInfo)(n))}},{key:"onTimedMetadata",value:function(e){this._eventEmitter.emit(i.TIMED_METADATA,e)}},{key:"_attachPlayerEventListeners",value:function(e){var t=e.PlayerEvent;this._mediaPlayer.addEventListener(t.INITIALIZED,this.onMediaplayerInitialized.bind(this)),this._mediaPlayer.addEventListener(t.QUALITY_CHANGED,this.onQualityChanged.bind(this)),this._mediaPlayer.addEventListener(t.DURATION_CHANGED,this.onDurationChanged.bind(this)),this._mediaPlayer.addEventListener(t.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChanged.bind(this)),this._mediaPlayer.addEventListener(t.REBUFFERING,this.onRebuffering.bind(this)),this._mediaPlayer.addEventListener(t.TIME_UPDATE,this.onTimeUpdate.bind(this)),this._mediaPlayer.addEventListener(t.BUFFER_UPDATE,this.onBufferUpdate.bind(this)),this._mediaPlayer.addEventListener(t.SEEK_COMPLETED,this.onSeekCompleted.bind(this)),this._mediaPlayer.addEventListener(t.TRACKING,this.onTrackingEvent.bind(this)),this._mediaPlayer.addEventListener(t.PERFORMANCE_EVENT,this.onPerformanceTimedEvent.bind(this)),this._mediaPlayer.addEventListener(t.PLAYBACK_BLOCKED,this.onPlaybackBlocked.bind(this)),this._mediaPlayer.addEventListener(t.AUDIO_BLOCKED,this.onAudioBlocked.bind(this)),this._mediaPlayer.addEventListener(t.SESSION_DATA,this.onSessionData.bind(this)),this._mediaPlayer.addEventListener(t.TIMED_METADATA,this.onTimedMetadata.bind(this)),this._mediaPlayer.addEventListener(t.METADATA_CUE_ENTER,this.onMetadataCueEnter.bind(this)),this._mediaPlayer.addEventListener(t.METADATA_CUE_EXIT,this.onMetadataCueExit.bind(this)),this._mediaPlayer.addEventListener("2020",this.on2020.bind(this))}},{key:"_attachPlayerStateListeners",value:function(e){var t=e.PlayerState;this._mediaPlayer.addEventListener(t.PLAYING,this.onPlaying.bind(this)),this._mediaPlayer.addEventListener(t.BUFFERING,this.onBuffering.bind(this)),this._mediaPlayer.addEventListener(t.IDLE,this.onIdle.bind(this)),this._mediaPlayer.addEventListener(t.ENDED,this.onEnded.bind(this)),this._mediaPlayer.addEventListener(t.READY,this.onReady.bind(this))}},{key:"_attachErrorListeners",value:function(e){var t=this;this._mediaPlayer.addEventListener(e.PlayerEvent.ERROR,function(n){var r=n.type,i=n.source,a=n.code,s=n.message;switch(r){case e.ErrorType.NOT_AVAILABLE:return void t._handleNotAvailableError(a);case e.ErrorType.AUTHORIZATION:return void t._onAuthError(s);case e.ErrorType.NOT_SUPPORTED:t._errorCode=S.default.CODES.FORMAT_NOT_SUPPORTED;break;case e.ErrorType.NETWORK:if(t._retryVP9Error(i,a))return;t._errorCode=S.default.CODES.NETWORK;break;case e.ErrorType.NETWORK_IO:t._errorCode=S.default.CODES.NETWORK;break;default:if(i===e.ErrorSource.DECODER){if(t._retryVP9Error(i,a))return;t._errorCode=S.default.CODES.DECODE}else console.error("MediaPlayer failed",r),t._errorCode=S.default.CODES.ABORTED}t.store.dispatch((0,T.trackEvent)(o.PLAYBACK_ERROR,{playback_error_code:j,playback_error_msg:G})),t.store.dispatch((0,A.setError)(t._errorCode))})}},{key:"_attachMetadataListeners",value:function(e){var t=e.MetadataEvent;this._mediaPlayer.addEventListener(t.ID3,this.onID3.bind(this)),this._mediaPlayer.addEventListener(t.CAPTION,this.onCaption.bind(this))}},{key:"_attachProfilingListeners",value:function(e){var t=this;this._mediaPlayer.addEventListener(e.PlayerEvent.PROFILE,function(n){switch(n){case e.ProfileEvent.PLAYER_LOADED_IN_WORKER:t.sendPerformanceEvent(O.MP_PLAYER_LOADED_IN_WORKER);break;case e.ProfileEvent.HLS_MASTER_PLAYLIST_REQUEST:t._fetchUsherTime=Date.now(),t.sendPerformanceEvent(O.MP_MASTER_MANIFEST_REQUEST);break;case e.ProfileEvent.HLS_MASTER_PLAYLIST_READY:t.sendPerformanceEvent(O.MP_MASTER_MANIFEST_READY);break;case e.ProfileEvent.HLS_MEDIA_PLAYLIST_REQUEST:t.onVariantManifestRequest();break;case e.ProfileEvent.HLS_MEDIA_PLAYLIST_READY:t.onVariantManifestReady();break;case e.ProfileEvent.MIN_BUFFER_READY:t.sendPerformanceEvent(O.MP_MIN_BUFFER_READY);break;case e.ProfileEvent.VIDEO_ELEMENT_PLAY:t.sendPerformanceEvent(O.MP_VIDEO_ELEMENT_PLAY)}})}},{key:"_attachInternalListeners",value:function(e){this._attachPlayerEventListeners(e),this._attachPlayerStateListeners(e),this._attachErrorListeners(e),this._attachMetadataListeners(e),this._attachProfilingListeners(e)}},{key:"_checkDisableSpeedUp",value:function(e){null!==this._mediaPlayer?/Twitch Sings/i.test(e)&&"function"==typeof this._mediaPlayer.setLiveSpeedUpRate&&this._mediaPlayer.setLiveSpeedUpRate(1):this._apiCallQueue.push(this._checkDisableSpeedUp.bind(this,e))}},{key:"sendPerformanceEvent",value:function(e){var t=this.store.getState().window;this.store.dispatch((0,O.performanceTimedMilestoneReached)(e,t.performance.now()))}}]),e}()).canPlay=function(){return E.default.canLoadMediaplayer()};var se=function(){function e(t,n){B(this,e),this.length=void 0===t?0:1,this._start=t,this._end=n}return r(e,[{key:"start",value:function(){return this._start}},{key:"end",value:function(){return this._end}}]),e}()},iec6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OtherVODs=t.OtherVODsComponent=t.RECOMMENDATION_ROW_CONFIG=t.RECOMMENDATION_COLUMN_CONFIG=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("q1tI")),a=p(n("17x9")),o=p(n("TSYQ")),s=n("i0u+"),l=p(n("J2m7")),u=n("gCUw"),c=n("9kay"),d=n("9Mp/"),f=n("x8gO");function p(e){return e&&e.__esModule?e:{default:e}}var _=t.RECOMMENDATION_COLUMN_CONFIG=[{minPlayerWidth:2381,columns:8},{minPlayerWidth:2084,columns:7},{minPlayerWidth:1786,columns:6},{minPlayerWidth:1489,columns:5},{minPlayerWidth:1191,columns:4},{minPlayerWidth:893,columns:3},{minPlayerWidth:596,columns:2},{minPlayerWidth:0,columns:1}],h=t.RECOMMENDATION_ROW_CONFIG=[{minPlayerHeight:950,rows:4},{minPlayerHeight:700,rows:3},{minPlayerHeight:520,rows:2},{minPlayerHeight:0,rows:1}],m={height:a.default.number.isRequired,width:a.default.number.isRequired,videos:a.default.arrayOf(a.default.shape({thumbnailURL:a.default.string.isRequired,title:a.default.string.isRequired,channelName:a.default.string.isRequired,creationDate:a.default.string.isRequired,duration:a.default.number.isRequired,id:a.default.string.isRequired,recommendationType:a.default.string.isRequired}).isRequired).isRequired,onSelect:a.default.func.isRequired,trackEvent:a.default.func.isRequired,onClose:a.default.func.isRequired,t:a.default.func.isRequired,lang:a.default.object.isRequired,windowObj:a.default.object.isRequired},E=(0,o.default)("pl-rec","pl-flex","pl-flex--stretch","pl-flex--horizontalCenter"),v=(0,o.default)("pl-rec__title","pl-flex__item"),y=(0,o.default)("pl-rec__container","pl-flex","pl-flex__item","pl-flex--verticalCenter","pl-flex--horizontalCenter"),g=t.OtherVODsComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelect=e.handleSelect.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.height,n=e.width,r=e.videos;(0,e.trackEvent)("player_rec_show_others",{recommended_vod_ids:r.slice(0,this._getNumOfCardsVisible(t,n)).map(function(e){return e.id}).join(","),recommended_vod_types:r[0].recommendationType})}},{key:"render",value:function(){var e=this,t=this.props,n=t.videos,r=t.width,a=t.height,l=t.onClose,c=t.t,p=t.windowObj,_=t.lang,h=this._getNumOfCardsVisible(a,r),m=n.map(function(t,n){var r=(0,o.default)({"pl-mg-x-05":!0,"pl-rec__item":!0,hidden:n>=h});if(t.recommendationType===d.CHANNEL_VODS)return i.default.createElement(u.PlayerCard,{key:t.id+"_"+(n>=h),className:r,thumbnailURL:t.thumbnailURL,title:t.title,info:t.game,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0});var a=i.default.createElement(f.InfoDateLength,{length:t.duration,date:new p.Date(t.creationDate),languageCode:_.langCode});return i.default.createElement(u.PlayerCard,{key:t.id+"_"+(n>=h),className:r,thumbnailURL:t.thumbnailURL,bread:t.channelName,title:t.title,info:a,onSelect:e.handleSelect,selectItem:t,hasThumbZoom:!0})}),g=null;n[0].recommendationType===d.CHANNEL_VODS?g=c("More from {{channelName}}",{channelName:n[0].channelName}):g=c("Watch Now");return i.default.createElement("div",{className:E},i.default.createElement(s.RecCloseButton,{onClick:l}),i.default.createElement("h2",{className:v},g),i.default.createElement("div",{className:y},m))}},{key:"_getNumOfCardsVisible",value:function(e,t){return(0,l.default)(_,function(e){return t>=e.minPlayerWidth}).columns*(0,l.default)(h,function(t){return e>=t.minPlayerHeight}).rows}},{key:"handleSelect",value:function(e){this.props.trackEvent("player_rec_select",{recommended_vod_id:e.id,recommended_vod_type:e.recommendationType,recommended_vod_view:"other"}),this.props.onSelect(e)}}]),t}();g.propTypes=m;t.OtherVODs=(0,c.translate)()(g)},ig48:function(e,t){},ijCd:function(e,t,n){var r=n("R/W3"),i=n("MMmD"),a=n("4qC0"),o=n("Sxd8"),s=n("P/G1"),l=Math.max;e.exports=function(e,t,n,u){e=i(e)?e:s(e),n=n&&!u?o(n):0;var c=e.length;return n<0&&(n=l(c+n,0)),a(e)?n<=c&&e.indexOf(t,n)>-1:!!c&&r(e,t,n)>-1}},ikhW:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_MINUTE=void 0,t.MinutesWatched=s;var r,i=n("4O8T"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.EVENT_MINUTE="minute";function s(){this.initialDelay=Math.round(6e4*Math.random()),this._remainingDelay=this.initialDelay,this._timeout=null,this._timeoutStart=null,this.totalMinutes=0,this.clockDrift=0,this._events=new a.default}s.EVENT_INTERVAL=6e4,s.MAX_DRIFT=1e4,s.prototype.start=function(){null===this._timeout&&this._scheduleTick()},s.prototype.stop=function(){null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null,this._tick())},s.prototype.reset=function(){this.stop(),this._remainingDelay=s.EVENT_INTERVAL},s.prototype.on=function(e,t){this._events.on(e,t)},s.prototype.off=function(e,t){this._events.off(e,t)},s.prototype.destroy=function(){clearTimeout(this._timeout),this._events.removeAllListeners()},s.prototype._tick=function(){var e=(new Date).getTime()-this._timeoutStart;for(this._remainingDelay-=e,this.clockDrift=this._remainingDelay,this._remainingDelay<=-s.MAX_DRIFT&&(this._remainingDelay=0),this._remainingDelay>=s.EVENT_INTERVAL+s.MAX_DRIFT&&(this._remainingDelay=0);this._remainingDelay<=0;)this._remainingDelay+=s.EVENT_INTERVAL,this.totalMinutes+=1,setTimeout(this._events.emit.bind(this._events,o),0)},s.prototype._scheduleTick=function(){this._timeoutStart=(new Date).getTime();var e=this;this._timeout=setTimeout(function(){e._tick(),e._scheduleTick()},this._remainingDelay)},s.prototype.isCurrentlyTracking=function(){return Boolean(this._timeout)}},inRc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerControls=t.mapStateToProps=void 0,t.PlayerControlsContainer=m;var r=p(n("q1tI")),i=p(n("17x9")),a=n("N58E"),o=n("DHIc"),s=n("Rmx2"),l=n("ZAIN"),u=n("D7px"),c=n("CzhY"),d=n("7uxP"),f=n("ZHYT");function p(e){return e&&e.__esModule?e:{default:e}}var _={player:i.default.object,shouldShowControls:i.default.bool.isRequired,showBottomControls:i.default.bool,showTopControls:i.default.bool,isPreview:i.default.bool},h=t.mapStateToProps=function(e){var t=e.stream;return{shouldShowControls:e.ui.shouldShowControls,isPreview:!!t.accessExpiration}};function m(e){var t=e.player,n=e.shouldShowControls,i=e.showBottomControls,a=e.showTopControls,p=e.isPreview,_=a&&!p?r.default.createElement(d.TopBar,null,r.default.createElement(s.CollectionTopBar,null),r.default.createElement(c.SquadStreamPanelContainer,null),r.default.createElement(l.StreamInfo,null),r.default.createElement(u.StreamStatus,null),r.default.createElement(f.TheatreModeSocialPanel,null)):null,h=i?r.default.createElement(o.BottomControls,{getCurrentTime:t.getCurrentTime}):null;return n?r.default.createElement("div",null,_,h):null}t.PlayerControls=(0,a.connect)(h)(m);m.propTypes=_,m.defaultProps={player:{getCurrentTime:function(){}},showBottomControls:!1,showTopControls:!1}},ipln:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTENT_RESTRICTED_VOD_SUBSCRIPTION=t.CONTENT_RESTRICTED_TWITCH_GATE=t.CONTENT_RESTRICTED_AGE=t.CONTENT_RESTRICTED_MATURE=t.CONTENT_UNRESTRICTED=t.CONTENT_RESTRICTED_PREMIUM=t.TRANSITION_TYPE_RECOMMENDATIONS=t.TRANSITION_TYPE_COLLECTION=void 0,t.playback=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case s.ACTION_CLEAR_COLLECTION:return(0,r.default)({},e,{transitionScheme:d});case s.ACTION_LOADED_COLLECTION_ITEM:return(0,r.default)({},e,{transitionScheme:c});case s.ACTION_LOADED_LAST_COLLECTION_ITEM:return(0,r.default)({},e,{transitionScheme:d});case s.ACTION_SET_COLLECTION:return(0,r.default)({},e,{transitionScheme:c});case o.ACTION_SET_STREAM:return t.stream===l.nullContentStream?(0,r.default)({},e,g,{paused:!1}):(0,r.default)({},e,g);case a.ACTION_CLEAR_QUALITY_RESTRICTED_ERROR:return(0,r.default)({},e,{restrictedQualityError:!1});case a.ACTION_CONTENT_IS_SHOWING:return(0,r.default)({},e,y);case a.ACTION_ENDED:return(0,r.default)({},e,v);case a.ACTION_INITIALIZE_PLAYBACK_SETTINGS:return(0,r.default)({},e,(0,i.default)(t.playback,T));case a.ACTION_PAUSE:return(0,r.default)({},e,E);case a.ACTION_PLAYBACK_RATE_CHANGED:return(0,r.default)({},e,{playbackRate:t.playbackRate});case a.ACTION_TIMED_METADATA_RECEIVED:return(0,r.default)({},e,{timedMetadata:t.data});case a.ACTION_PLAYER_MUTED:return(0,r.default)({},e,{muted:t.muted,automatedMute:t.automated});case a.ACTION_PLAYER_SEEKED:return(0,r.default)({},e,{isSeeking:!1});case a.ACTION_PLAYER_SEEKING:return(0,r.default)({},e,{isSeeking:!0});case a.ACTION_PLAYING:return(0,r.default)({},e,_,y);case a.ACTION_PLAY:return(0,r.default)({},e,h,y);case a.ACTION_QUALITY_RESTRICTED_ERROR:return(0,r.default)({},e,{restrictedQualityError:!0});case a.ACTION_SET_AUTOPLAY_STATE:return(0,r.default)({},e,{autoplay:t.playback.autoplay,paused:!t.playback.autoplay});case a.ACTION_SET_LOADING:return(0,r.default)({},e,{isLoading:t.isLoading});case a.ACTION_SET_START_TIME:return(0,r.default)({},e,{startTime:t.startTime,startTimeSet:!0});case a.ACTION_UPDATE_BUFFER_VALUES:return(0,r.default)({},e,{buffer:{start:t.start,end:t.end}});case a.ACTION_UPDATE_CURRENT_TIME:return(0,r.default)({},e,{currentTime:t.currentTime});case a.ACTION_UPDATE_PLAYBACK_DURATION:return(0,r.default)({},e,(0,i.default)(t.playback,T));case a.ACTION_VOLUME_CHANGED:return(0,r.default)({},e,{volume:t.volume});case a.ACTION_WAITING:return(0,r.default)({},e,m);case a.ACTION_CONTENT_RESTRICTED:return(0,r.default)({},e,{contentRestriction:t.restriction});case a.ACTION_INCREMENT_BUFFER_EMPTIES:return(0,r.default)({},e,{bufferEmpties:e.bufferEmpties+1});case a.ACTION_CLEAR_BUFFER_EMPTIES:return(0,r.default)({},e,{bufferEmpties:0});default:return e}},t.isPlayingSound=function(e){var t=e.playback;return!t.muted&&0!==t.volume};var r=u(n("3OWR")),i=u(n("JZM8")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("VPTj")),o=n("D3OJ"),s=n("rRi7"),l=n("jC1Q");function u(e){return e&&e.__esModule?e:{default:e}}var c=t.TRANSITION_TYPE_COLLECTION="transition collection",d=t.TRANSITION_TYPE_RECOMMENDATIONS="transition recommendations",f=(t.CONTENT_RESTRICTED_PREMIUM="premium content restricted",t.CONTENT_UNRESTRICTED="content unrestricted"),p=(t.CONTENT_RESTRICTED_MATURE="content restricted mature",t.CONTENT_RESTRICTED_AGE="content restricted age",t.CONTENT_RESTRICTED_TWITCH_GATE="content restricted twitch gate",t.CONTENT_RESTRICTED_VOD_SUBSCRIPTION="content restricted vod subscription",{autoplay:!0,buffer:{start:0,end:0},bufferEmpties:0,currentTime:0,startTime:0,startTimeSet:!1,duration:0,ended:!1,hasPlayed:!1,isLoading:!1,isSeeking:!1,muted:!1,automatedMute:!1,paused:!1,playing:!1,playbackRate:1,restrictedQualityError:!1,timedMetadata:{},volume:.5,transitionScheme:d,contentShowing:!1,contentRestriction:f}),_={playing:!0,hasPlayed:!0,paused:!1,ended:!1,isSeeking:!1},h={playing:!0,paused:!1,ended:!1,isSeeking:!1},m={ended:!1},E={playing:!1,paused:!0,ended:!1},v={playing:!1,paused:!0,ended:!0},y={contentShowing:!0},g={bufferEmpties:0,playing:!1,hasPlayed:!1,contentShowing:!1,startTime:0,startTimeSet:!1,isSeeking:!1,restrictedQualityError:!1,contentRestriction:f},T=Object.keys(p)},irPz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FirstPartyClient=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("8U7r"),o=d(n("JZM8")),s=n("QcJP"),l=n("2GWp"),u=n("uC+K"),c=d(n("ijCd"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Object.freeze((f(r={},a.N_SECOND_PLAY,["time","device_id","play_session_id","customer_id","content_id","seconds_after_play"]),f(r,a.TIER_1_EVENTS.MINUTE_WATCHED,["time","device_id","play_session_id","customer_id","content_id","seconds_offset"]),f(r,a.TIER_1_EVENTS.VIDEO_PLAY,["time","device_id","play_session_id","customer_id","content_id","time_since_load_start","seconds_offset"]),f(r,a.TIER_1_EVENTS.BUFFER_EMPTY,["time","device_id","play_session_id","customer_id","content_id","buffer_empty_count"]),f(r,a.VIDEO_PLAYBACK_ERROR,["time","device_id","play_session_id","customer_id","content_id","reason","code"]),r)),_=Object.freeze(Object.keys(p));t.FirstPartyClient=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t}return i(e,[{key:"trackEvents",value:function(e){var t=this;e.reduce(function(e,t){var n=t.event,r=t.properties;return(0,c.default)(_,n)&&e.push({name:n,properties:(0,o.default)(r,p[n])}),e},[]).forEach(function(e){var n=t._store.getState().env.playerType;(0,c.default)(u.AMAZON_EMBED_PLAYER_TYPES,n)?t._store.dispatch((0,s.emitFirstPartyAnalyticEmbedEvent)(e)):t._store.dispatch((0,l.emitFirstPartyAnalyticEvent)(e))})}}]),e}()},itsj:function(e,t){e.exports=function(e,t){if("__proto__"!=t)return e[t]}},ix15:function(e,t,n){var r=n("YZsm"),i=r.SPADE_ERRORS;e.exports.canLoadMediaplayer=function(){return r.CAN_LOAD};var a=null;e.exports.loadMediaPlayer=function(e,t){if(!r.CAN_LOAD)return Promise.reject(i.NOT_SUPPORTED);if(!e||!e.value)return Promise.reject(i.BAD_CONFIG);var n=function(e){var t=e.match(/([^+]+)(?:\+([^+]+))?/);return{version:t[1]||r.DEFAULT_VERSION,settings:t[2]||""}}(e.value),o="object"==typeof WebAssembly&&"function"==typeof WebAssembly.instantiate&&!e.forceAsmJs,s=function(e){var t={},n=e.indexOf("?");if(n>-1){var r=e.slice(n+1)||"",i=r.split("&")||[];i.forEach(function(e){var n=e.split("=")||[];t[n[0]]=n[1]})}return t}(document.URL),l=!e.disableCache;if(a||(a=function(e,t,n,a){var o,s,l,u,e=t["cvp-branch"]||t["cvp-ver"]||e;t["cvp-branch"]?(o=r.HOST.dev,a=!1):o=t["cvp-env"]&&r.HOST[t["cvp-env"]]?r.HOST[t["cvp-env"]]:r.HOST.prod;o===r.HOST.dev?(s=r.CLIENT_PATH_DEBUG,l=n?r.WASM_WORKER_PATH_DEBUG:r.ASMJS_WORKER_PATH_DEBUG,u=r.WASM_BINARY_PATH_DEBUG):(s=r.CLIENT_PATH,l=n?r.WASM_WORKER_PATH:r.ASMJS_WORKER_PATH,u=r.WASM_BINARY_PATH);var c=o+e+"/";return function(e,t,n,a){return new Promise(function(o,s){var l=document.createElement("script");l.onload=function(){if("object"==typeof window.MediaPlayer&&"function"==typeof window.MediaPlayer.MediaPlayer){var e=window.MediaPlayer;window.MediaPlayer=null;try{o({client:e,worker:e.MediaPlayer.createWorker(t,n,a)})}catch(e){s(i.FAILED_WORKER)}}else s(i.BAD_RESPONSE)},l.onerror=function(e){s(i.SCRIPT_ERROR)},l.src=e,l.id=r.SCRIPT_ID,document.head.appendChild(l)})}(c+s,c+l,c+u,a)}(n.version,s,o,l)),t)return a;var u=s["cvp-settings"]||n.settings,c=e.logLevel||"",d=e.latencyValue||"";return a.then(function(e){return{mediaPlayerHandle:e.client,mediaPlayerInstance:new e.client.MediaPlayer({settings:u,logLevel:c,latencyValue:d},e.worker),isWasm:o}})},e.exports._reset=function(){a=null;var e=document.getElementById(r.SCRIPT_ID);e&&e.parentNode.removeChild(e)}},"j+dE":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareButton=t.ShareButtonComponent=void 0;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("1fV9"),s=n("9kay"),l=n("sTFd"),u=n("uNCh");function c(e){return e&&e.__esModule?e:{default:e}}var d={t:i.default.func.isRequired,showSharing:i.default.func.isRequired},f=t.ShareButtonComponent=function(e){var t=e.showSharing,n=e.t;return r.default.createElement(o.Button,{className:"player-button",onClick:t},r.default.createElement("span",null,r.default.createElement("span",{className:"player-tip player-tip--aright","data-tip":n("Share")}),r.default.createElement(l.ShareSVG,null)))};f.propTypes=d;t.ShareButton=(0,s.translate)()((0,a.connect)(null,function(e){return{showSharing:function(){e((0,u.pushScreen)(u.CLIP_SHARING_SCREEN))}}})(f))},"j0G+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLIP_STATUS_QUERY=t.getClipStatus=t.FETCH_RECOMMENDATION_SETS_QUERY=t.fetchRecommendationsSetsGQL=t.CLIP_VIEW_COUNT_MUTATION=t.incrementClipViewCountGQL=void 0,t.incrementClipViewCount=function(e){fetch(s("clips/"+e+"/view"))},t.fetchRecommendationsSets=function(e,t){return fetch(s("clips/"+e+"/related-clips-sets?sets="+t.join(",")),{method:"GET"}).then(function(e){return e.json()}).then(function(e){return"error"===e.status?Promise.reject({apiError:!0,status:e.status,message:e.message}):{apiError:!1,clipSets:(t=e,Object.keys(t).reduce(function(e,n){return e[n]=t[n].map(function(e){return{id:(t=e).id,channel:{channelUrl:t.broadcaster_channel_url,displayName:t.broadcaster_display_name,name:t.broadcaster_login,id:t.broadcaster_id,logo:t.broadcaster_logo},curator:{channelUrl:t.curator_channel_url,displayName:t.curator_display_name,name:t.curator_login,id:t.curator_id,logo:t.curator_logo},game:t.game,url:t.url,title:t.title,thumbnails:t.thumbnails,createdAt:t.created_at,duration:t.duration,embedHtml:t.embed_html,embedUrl:t.embed_url,language:t.language,slug:t.slug,viewCount:t.views,vod:{id:t.vod_id,offset:t.vod_offset,url:t.vod_url,previewImageUrl:t.vod_preview_image_url},segments:t.segments,editUrl:t.edit_url,infoUrl:t.info_url,statusUrl:t.status_url,previewImage:t.preview_image};var t}),e},{}))};var t}).catch(function(e){if(!e.response)return{apiError:!0,message:e.message};var t=parseInt(e.response.status,10);return Promise.reject({apiError:!0,status:t,message:e.message})})},t.normalizedGQLClipSets=function(e){var t=e;return t.channel=t.broadcaster,delete t.broadcaster,Object.keys(t).reduce(function(e,n){return e[n]=t[n].map(function(e){return{id:(t=e).slug,channel:t.broadcaster&&{channelUrl:t.broadcaster.profileURL,displayName:t.broadcaster.displayName,name:t.broadcaster.login,id:t.broadcaster.id,logo:t.broadcaster.profileImageURL},curator:t.curator&&{channelUrl:t.curator.profileURL,displayName:t.curator.displayName,name:t.curator.login,id:t.curator.id,logo:t.curator.profileImageURL},game:t.game&&t.game.displayName,url:t.url,title:t.title,thumbnails:{medium:t.thumbnailURL},createdAt:t.createdAt,duration:t.durationSeconds,embedUrl:t.embedURL,language:t.language,slug:t.slug,viewCount:t.viewCount,vod:{id:t.video&&t.video.id,offset:t.videoOffsetSeconds,previewImageUrl:t.video&&t.video.previewThumbnailURL},previewImage:t.thumbnailURL};var t}),e},{})},t.normalizeGQLQualityData=function(e){if(!e)return d;return{status:e.creationState.toLowerCase(),quality_options:e.videoQualities.map(function(e){return{frame_rate:e.frameRate,quality:e.quality,source:e.sourceURL}})}};var r,i=n("56nq"),a=n("44Ds"),o=(r=a)&&r.__esModule?r:{default:r};function s(e){return"https://clips.twitch.tv/api/v2/"+e}t.incrementClipViewCountGQL=(0,o.default)(function(e){return(0,i.makeGQLRequest)(l,{slug:e})});var l=t.CLIP_VIEW_COUNT_MUTATION="\n    mutation incrementClipViewCount($slug:ID!) {\n        updateClipViewCount(input:{ slug: $slug}) {\n            clip {\n                id\n            }\n        }\n    }\n";t.fetchRecommendationsSetsGQL=function(e){return(0,i.makeGQLRequest)(u,{slug:e})};var u=t.FETCH_RECOMMENDATION_SETS_QUERY="\n    query relatedClips($slug:ID!) {\n        clip(slug: $slug) {\n            relatedClips {\n                broadcaster {\n                    ...recommendedClip\n                }\n                similar {\n                    ...recommendedClip\n                }\n                game {\n                    ...recommendedClip\n                }\n                top {\n                    ...recommendedClip\n                }\n            }\n        }\n    }\n\n    fragment recommendedClip on Clip {\n        broadcaster {\n            profileURL\n            displayName\n            login\n            id\n            profileImageURL(width: 150)\n        }\n        curator {\n            profileURL\n            displayName\n            login\n            id\n            profileImageURL(width: 150)\n        }\n        game {\n            id\n            name\n            displayName\n        }\n        url\n        title\n        #   picked one of the three ( large )\n        thumbnailURL(width:480, height:272)\n        createdAt\n        durationSeconds\n        embedURL\n        language\n        slug\n        viewCount\n        videoOffsetSeconds\n        video {\n            id\n            previewThumbnailURL(width: 320, height:240)\n        }\n    }\n",c=(t.getClipStatus=(0,o.default)(function(e){return(0,i.makeGQLRequest)(c,{slug:e})}),t.CLIP_STATUS_QUERY="\n    query getClipStatus($slug:ID!) {\n        clip(slug: $slug) {\n            creationState\n            videoQualities {\n              frameRate\n              quality\n              sourceURL\n            }\n          }\n    }\n");var d={status:"creating",quality_options:[]}},"j4+h":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNewAdPod=t.DEFAULT_STATS=t.DISPLAY_VIDEO_STATS=t.DISPLAY_AD_STATS=t.DISPLAY_NONE=void 0,t.stats=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case r.ACTION_UPDATE_STATS:return(0,a.default)({},e,{videoStats:(0,i.default)(t.videoStats,Object.keys(u.videoStats))});case r.ACTION_UPDATE_AD_STATS:var n=t.adStats,o=(0,a.default)({},e);return c(n)?o.adStats=[n]:o.adStats.push(n),o;case r.ACTION_DISPLAY_STATS:return(0,a.default)({},e,{displayState:t.displayState});default:return e}};var r=n("0D68"),i=s(n("JZM8")),a=s(n("3OWR")),o=s(n("mwIZ"));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.DISPLAY_NONE="DISPLAY_NONE",u=(t.DISPLAY_AD_STATS="DISPLAY_AD_STATS",t.DISPLAY_VIDEO_STATS="DISPLAY_VIDEO_STATS",t.DEFAULT_STATS={videoStats:{bufferSize:0,displayResolution:"",skippedFrames:0,fps:0,bitrate:0,hlsLatencyBroadcaster:0,latencyMode:"",hlsLatencyEncoder:0,memoryUsage:"",playbackRate:0,videoResolution:"",backendVersion:"",codecs:""},adStats:[],displayState:l}),c=t.isNewAdPod=function(e){return 1===(0,o.default)(e,"adPodInfo.adPosition")}},jC1Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=t.CONTENT_MODE_NONE=null,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"contentType",get:function(){return i}},{key:"channel",get:function(){return""}},{key:"restrictedBitrates",get:function(){return[]}},{key:"accessExpiration",get:function(){return null}},{key:"videoId",get:function(){return""}},{key:"slug",get:function(){return""}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),e}();t.nullContentStream=new a},jCcP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeartSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={disabled:a.default.bool.isRequired,viewBox:a.default.string,fill:a.default.string};(t.HeartSVG=function(e){return e.disabled?i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 16 16"},e),i.default.createElement("path",{d:"M15.055 5.548C14.96 3.798 13.858 2 11.561 2 9.517 2 7.978 4.727 7.978 4.727S6.438 2 4.394 2C2.097 2 .994 3.798.902 5.548h14.153zM3.551 10.869c1.385 1.492 2.96 2.727 3.808 3.347.367.268.87.268 1.237 0 .85-.62 2.423-1.855 3.808-3.347H3.551zm11.52-1.774H.884a.888.888 0 1 1 0-1.773H15.07a.887.887 0 0 1 0 1.773z",fill:e.fill})):i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 16 16"},e),i.default.createElement("path",{d:"M8.596 14.216a1.053 1.053 0 0 1-1.238 0C5.633 12.954.882 9.172.882 5.793.882 3.97 1.99 2 4.394 2c2.044 0 3.584 2.727 3.584 2.727S9.516 2 11.56 2c2.405 0 3.512 1.97 3.512 3.793 0 3.379-4.751 7.16-6.477 8.423",fill:e.fill}))}).propTypes=l},jGRf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experiments=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.ACTION_SET_EXPERIMENTS:return t.experiments;default:return e}};var r=n("YSP/"),i=new Error("Attempting to use experiments too early"),a={get:function(){return Promise.reject(i)}}},jKim:function(e,t,n){"use strict";n.r(t);var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var i={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))}},a=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(t,n)}return e.prototype.init=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||i,this.options=t,this.debug=t.debug},e.prototype.setDebug=function(e){this.debug=e},e.prototype.log=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)},e.prototype.warn=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)},e.prototype.error=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")},e.prototype.deprecate=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)},e.prototype.forward=function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=""+n+this.prefix+" "+e[0]),this.logger[t](e))},e.prototype.create=function(t){return new e(this.logger,r({prefix:this.prefix+":"+t+":"},this.options))},e}());var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.observers={}}return e.prototype.on=function(e,t){var n=this;e.split(" ").forEach(function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})},e.prototype.off=function(e,t){var n=this;this.observers[e]&&this.observers[e].forEach(function(){if(t){var r=n.observers[e].indexOf(t);r>-1&&n.observers[e].splice(r,1)}else delete n.observers[e]})},e.prototype.emit=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach(function(e){e.apply(void 0,n)});this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){var r;t.apply(t,(r=[e]).concat.apply(r,n))})},e}();function s(e){return null==e?"":""+e}function l(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var a="string"!=typeof t?[].concat(t):t.split(".");a.length>1;){if(i())return{};var o=r(a.shift());!e[o]&&n&&(e[o]=new n),e=e[o]}return i()?{}:{obj:e,k:r(a.shift())}}function u(e,t,n){var r=l(e,t,Object);r.obj[r.k]=n}function c(e,t){var n=l(e,t),r=n.obj,i=n.k;if(r)return r[i]}function d(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function p(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,function(e){return f[e]}):e}var _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e,t))}var m=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i.data=n||{},i.options=r,i}return h(t,e),t.prototype.addNamespaces=function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)},t.prototype.removeNamespaces=function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)},t.prototype.getResource=function(e,t,n){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===r&&(r=".");var i=[e,t];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split(".")),c(this.data,i)},t.prototype.addResource=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},a=this.options.keySeparator;void 0===a&&(a=".");var o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(r=t,t=(o=e.split("."))[1]),this.addNamespaces(t),u(this.data,o,r),i.silent||this.emit("added",e,t,n,r)},t.prototype.addResources=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"==typeof n[i]&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)},t.prototype.addResourceBundle=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var s=c(this.data,o)||{};r?function e(t,n,r){for(var i in n)i in t?"string"==typeof t[i]||t[i]instanceof String||"string"==typeof n[i]||n[i]instanceof String?r&&(t[i]=n[i]):e(t[i],n[i],r):t[i]=n[i];return t}(s,n,i):s=_({},s,n),u(this.data,o,s),a.silent||this.emit("added",e,t,n)},t.prototype.removeResourceBundle=function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)},t.prototype.hasResourceBundle=function(e,t){return void 0!==this.getResource(e,t)},t.prototype.getResourceBundle=function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_({},this.getResource(e,t)):this.getResource(e,t)},t.prototype.toJSON=function(){return this.data},t}(o),E={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var a=this;return e.forEach(function(e){a.processors[e]&&(t=a.processors[e].process(t,n,r,i))}),t}},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e,t))}var T=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i,o,s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return i=n,o=s,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"].forEach(function(e){i[e]&&(o[e]=i[e])}),s.options=r,s.logger=a.create("translator"),s}return g(t,e),t.prototype.changeLanguage=function(e){e&&(this.language=e)},t.prototype.exists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res},t.prototype.extractFromKey=function(e,t){var n=t.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var r=t.keySeparator||this.options.keySeparator||".",i=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var a=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}},t.prototype.translate=function(e,t){var n=this;if("object"!==(void 0===t?"undefined":y(t))&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),null==e||""===e)return"";"number"==typeof e&&(e=String(e)),"string"==typeof e&&(e=[e]);var r=t.keySeparator||this.options.keySeparator||".",i=this.extractFromKey(e[e.length-1],t),a=i.key,o=i.namespaces,s=o[o.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){var c=t.nsSeparator||this.options.nsSeparator;return s+c+a}return a}var d=this.resolve(e,t),f=d&&d.res,p=d&&d.usedKey||a,_=Object.prototype.toString.apply(f),h=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays;if(f&&("string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(_)<0&&(!h||"[object Array]"!==_)){if(!t.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,f,t):"key '"+a+" ("+this.language+")' returned an object instead of string.";if(t.keySeparator||this.options.keySeparator){var m="[object Array]"===_?[]:{};for(var E in f)if(Object.prototype.hasOwnProperty.call(f,E)){var g=""+p+r+E;m[E]=this.translate(g,v({},t,{joinArrays:!1,ns:o})),m[E]===g&&(m[E]=f[E])}f=m}}else if(h&&"[object Array]"===_)(f=f.join(h))&&(f=this.extendTranslation(f,e,t));else{var T=!1,b=!1;this.isValidLookup(f)||void 0===t.defaultValue||(T=!0,f=t.defaultValue),this.isValidLookup(f)||(b=!0,f=a);var S=t.defaultValue&&t.defaultValue!==f&&this.options.updateMissing;if(b||T||S){this.logger.log(S?"updateKey":"missingKey",l,s,a,S?t.defaultValue:f);var A=[],C=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&C&&C[0])for(var O=0;O<C.length;O++)A.push(C[O]);else"all"===this.options.saveMissingTo?A=this.languageUtils.toResolveHierarchy(t.lng||this.language):A.push(t.lng||this.language);var P=function(e,r){n.options.missingKeyHandler?n.options.missingKeyHandler(e,s,r,S?t.defaultValue:f,S,t):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,s,r,S?t.defaultValue:f,S,t),n.emit("missingKey",e,s,r,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&t.count?A.forEach(function(e){n.pluralResolver.getPluralFormsOfKey(e,a).forEach(function(t){return P([e],t)})}):P(A,a))}f=this.extendTranslation(f,e,t),b&&f===a&&this.options.appendNamespaceToMissingKey&&(f=s+":"+a),b&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},t.prototype.extendTranslation=function(e,t,n){var r=this;n.interpolation&&this.interpolator.init(v({},n,{interpolation:v({},this.options.interpolation,n.interpolation)}));var i=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(i=v({},this.options.interpolation.defaultVariables,i)),e=this.interpolator.interpolate(e,i,n.lng||this.language),!1!==n.nest&&(e=this.interpolator.nest(e,function(){return r.translate.apply(r,arguments)},n)),n.interpolation&&this.interpolator.reset();var a=n.postProcess||this.options.postProcess,o="string"==typeof a?[a]:a;return null!=e&&o&&o.length&&!1!==n.applyPostProcessor&&(e=E.handle(o,e,t,n,this)),e},t.prototype.resolve=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0,i=void 0;return"string"==typeof e&&(e=[e]),e.forEach(function(e){if(!t.isValidLookup(r)){var a=t.extractFromKey(e,n),o=a.key;i=o;var s=a.namespaces;t.options.fallbackNS&&(s=s.concat(t.options.fallbackNS));var l=void 0!==n.count&&"string"!=typeof n.count,u=void 0!==n.context&&"string"==typeof n.context&&""!==n.context,c=n.lngs?n.lngs:t.languageUtils.toResolveHierarchy(n.lng||t.language);s.forEach(function(e){t.isValidLookup(r)||c.forEach(function(i){if(!t.isValidLookup(r)){var a=o,s=[a],c=void 0;l&&(c=t.pluralResolver.getSuffix(i,n.count)),l&&u&&s.push(a+c),u&&s.push(a+=""+t.options.contextSeparator+n.context),l&&s.push(a+=c);for(var d=void 0;d=s.pop();)t.isValidLookup(r)||(r=t.getResource(i,e,d,n))}})})}}),{res:r,usedKey:i}},t.prototype.isValidLookup=function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)},t.prototype.getResource=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(e,t,n,r)},t}(o);function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}var S=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=a.create("languageUtils")}return e.prototype.getScriptPartFromCode=function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),this.formatLanguageCode(t.join("-")))},e.prototype.getLanguagePartFromCode=function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])},e.prototype.formatLanguageCode=function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map(function(e){return e.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=b(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=b(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=b(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e},e.prototype.isWhitelisted=function(e){return("languageOnly"===this.options.load||this.options.nonExplicitWhitelist)&&(e=this.getLanguagePartFromCode(e)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(e)>-1},e.prototype.getFallbackCodes=function(e,t){if(!e)return[];if("string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e.default),n||[]},e.prototype.toResolveHierarchy=function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],a=function(e){e&&(n.isWhitelisted(e)?i.push(e):n.logger.warn("rejecting non-whitelisted language code: "+e))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&a(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&a(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&a(this.getLanguagePartFromCode(e))):"string"==typeof e&&a(this.formatLanguageCode(e)),r.forEach(function(e){i.indexOf(e)<0&&a(n.formatLanguageCode(e))}),i},e}();var A=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],C={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0===e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0===e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0===e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}};var O=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.languageUtils=t,this.options=r,this.logger=a.create("pluralResolver"),this.rules=(n={},A.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:C[e.fc]}})}),n)}return e.prototype.addRule=function(e,t){this.rules[e]=t},e.prototype.getRule=function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]},e.prototype.needsPlural=function(e){var t=this.getRule(e);return t&&t.numbers.length>1},e.prototype.getPluralFormsOfKey=function(e,t){var n=this,r=[],i=this.getRule(e);return i?(i.numbers.forEach(function(i){var a=n.getSuffix(e,i);r.push(""+t+a)}),r):r},e.prototype.getSuffix=function(e,t){var n=this,r=this.getRule(e);if(r){var i=r.noAbs?r.plurals(t):r.plurals(Math.abs(t)),a=r.numbers[i];this.options.simplifyPluralSuffix&&2===r.numbers.length&&1===r.numbers[0]&&(2===a?a="plural":1===a&&(a=""));var o=function(){return n.options.prepend&&a.toString()?n.options.prepend+a.toString():a.toString()};return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?"_plural_"+a.toString():o():"v2"===this.options.compatibilityJSON||2===r.numbers.length&&1===r.numbers[0]?o():2===r.numbers.length&&1===r.numbers[0]?o():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}return this.logger.warn("no plural rule found for: "+e),""},e}(),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.logger=a.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=e,this.format=e.interpolation&&e.interpolation.format||function(e){return e},this.escape=e.interpolation&&e.interpolation.escape||p),e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.prefix=t.prefix?d(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?d(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?d(t.nestingPrefix):t.nestingPrefixEscaped||d("$t("),this.nestingSuffix=t.nestingSuffix?d(t.nestingSuffix):t.nestingSuffixEscaped||d(")"),this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.resetRegExp()},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.resetRegExp=function(){var e=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(e,"g");var t=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(t,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},e.prototype.interpolate=function(e,t,n){var r=this,i=void 0,a=void 0,o=void 0;function l(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(r.formatSeparator)<0)return c(t,e);var i=e.split(r.formatSeparator),a=i.shift().trim(),o=i.join(r.formatSeparator).trim();return r.format(c(t,a),o,n)};for(this.resetRegExp(),o=0;(i=this.regexpUnescape.exec(e))&&(a=u(i[1].trim()),e=e.replace(i[0],a),this.regexpUnescape.lastIndex=0,!(++o>=this.maxReplaces)););for(o=0;i=this.regexp.exec(e);){if("string"!=typeof(a=u(i[1].trim()))&&(a=s(a)),!a)if("function"==typeof this.options.missingInterpolationHandler){var d=this.options.missingInterpolationHandler(e,i);a="string"==typeof d?d:""}else this.logger.warn("missed to pass in variable "+i[1]+" for interpolating "+e),a="";if(a=this.escapeValue?l(this.escape(a)):l(a),e=e.replace(i[0],a),this.regexp.lastIndex=0,++o>=this.maxReplaces)break}return e},e.prototype.nest=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=void 0,i=void 0,a=P({},n);function o(e,t){if(e.indexOf(",")<0)return e;var n=e.split(",");e=n.shift();var r=n.join(",");r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=P({},t,a))}catch(t){this.logger.error("failed parsing options string in nesting for key "+e,t)}return e}for(a.applyPostProcessor=!1;r=this.nestingRegexp.exec(e);){if((i=t(o.call(this,r[1].trim(),a),a))&&r[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=s(i)),i||(this.logger.warn("missed to resolve "+r[1]+" for nesting "+e),i=""),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e},e}(),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e,t))}var k=function(e){function t(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.backend=n,s.store=r,s.languageUtils=i.languageUtils,s.options=o,s.logger=a.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(i,o.backend,o),s}return w(t,e),t.prototype.queueLoad=function(e,t,n){var r=this,i=[],a=[],o=[],s=[];return e.forEach(function(e){var n=!0;t.forEach(function(t){var o=e+"|"+t;r.store.hasResourceBundle(e,t)?r.state[o]=2:r.state[o]<0||(1===r.state[o]?a.indexOf(o)<0&&a.push(o):(r.state[o]=1,n=!1,a.indexOf(o)<0&&a.push(o),i.indexOf(o)<0&&i.push(o),s.indexOf(t)<0&&s.push(t)))}),n||o.push(e)}),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:n}),{toLoad:i,pending:a,toLoadLanguages:o,toLoadNamespaces:s}},t.prototype.loaded=function(e,t,n){var r=this,i=e.split("|"),a=R(i,2),o=a[0],s=a[1];t&&this.emit("failedLoading",o,s,t),n&&this.store.addResourceBundle(o,s,n),this.state[e]=t?-1:2,this.queue.forEach(function(n){var i,a,u,c,d,f;i=n.loaded,a=s,c=l(i,[o],Object),d=c.obj,f=c.k,d[f]=d[f]||[],u&&(d[f]=d[f].concat(a)),u||d[f].push(a),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(r.emit("loaded",n.loaded),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.queue=this.queue.filter(function(e){return!e.done})},t.prototype.read=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:250,o=arguments[5];return e.length?this.backend[n](e,t,function(s,l){s&&l&&r<5?setTimeout(function(){i.read.call(i,e,t,n,r+1,2*a,o)},a):o(s,l)}):o(null,{})},t.prototype.load=function(e,t,n){var r=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var i=I({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var a=this.queueLoad(e,t,n);if(!a.toLoad.length)return a.pending.length||n(),null;i.allowMultiLoading&&this.backend.readMulti?this.read(a.toLoadLanguages,a.toLoadNamespaces,"readMulti",null,null,function(e,t){e&&r.logger.warn("loading namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading failed",e),!e&&t&&r.logger.log("successfully loaded namespaces "+a.toLoadNamespaces.join(", ")+" for languages "+a.toLoadLanguages.join(", ")+" via multiloading",t),a.toLoad.forEach(function(n){var i=n.split("|"),a=R(i,2),o=a[0],s=a[1],l=c(t,[o,s]);if(l)r.loaded(n,e,l);else{var u="loading namespace "+s+" for language "+o+" via multiloading failed";r.loaded(n,u),r.logger.error(u)}})}):a.toLoad.forEach(function(e){r.loadOne(e)})},t.prototype.reload=function(e,t){var n=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var r=I({},this.backend.options,this.options.backend);"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]),r.allowMultiLoading&&this.backend.readMulti?this.read(e,t,"readMulti",null,null,function(r,i){r&&n.logger.warn("reloading namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading failed",r),!r&&i&&n.logger.log("successfully reloaded namespaces "+t.join(", ")+" for languages "+e.join(", ")+" via multiloading",i),e.forEach(function(e){t.forEach(function(t){var a=c(i,[e,t]);if(a)n.loaded(e+"|"+t,r,a);else{var o="reloading namespace "+t+" for language "+e+" via multiloading failed";n.loaded(e+"|"+t,o),n.logger.error(o)}})})}):e.forEach(function(e){t.forEach(function(t){n.loadOne(e+"|"+t,"re")})})},t.prototype.loadOne=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=R(r,2),a=i[0],o=i[1];this.read(a,o,"read",null,null,function(r,i){r&&t.logger.warn(n+"loading namespace "+o+" for language "+a+" failed",r),!r&&i&&t.logger.log(n+"loaded namespace "+o+" for language "+a,i),t.loaded(e,r,i)})},t.prototype.saveMissing=function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,I({},a,{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r)},t}(o),M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e,t))}var D=function(e){function t(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return s.cache=n,s.store=r,s.services=i,s.options=o,s.logger=a.create("cacheConnector"),s.cache&&s.cache.init&&s.cache.init(i,o.cache,o),s}return L(t,e),t.prototype.load=function(e,t,n){var r=this;if(!this.cache)return n&&n();var i=M({},this.cache.options,this.options.cache),a="string"==typeof e?this.services.languageUtils.toResolveHierarchy(e):e;i.enabled?this.cache.load(a,function(e,t){if(e&&r.logger.error("loading languages "+a.join(", ")+" from cache failed",e),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i))for(var o in t[i])if(Object.prototype.hasOwnProperty.call(t[i],o)&&"i18nStamp"!==o){var s=t[i][o];s&&r.store.addResourceBundle(i,o,s)}n&&n()}):n&&n()},t.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},t}(o);function x(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e}var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function V(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var i=n[r],a=Object.getOwnPropertyDescriptor(t,i);a&&a.configurable&&void 0===e[i]&&Object.defineProperty(e,i,a)}}(e,t))}function q(){}var F=new(function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=V(this,e.call(this));if(i.options=x(n),i.services={},i.logger=a,i.modules={external:[]},r&&!i.isInitialized&&!n.isClone){var o;if(!i.options.initImmediate)return o=i.init(n,r),V(i,o);setTimeout(function(){i.init(n,r)},0)}return i}return j(t,e),t.prototype.init=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];function r(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),this.options=B({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};return e[1]&&(t.defaultValue=e[1]),e[2]&&(t.tDescription=e[2]),t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,x(t)),this.format=this.options.interpolation.format,n||(n=q),!this.options.isClone){this.modules.logger?a.init(r(this.modules.logger),this.options):a.init(null,this.options);var i=new S(this.options);this.store=new m(this.options.resources,this.options);var o=this.services;o.logger=a,o.resourceStore=this.store,o.resourceStore.on("added removed",function(e,t){o.cacheConnector.save()}),o.languageUtils=i,o.pluralResolver=new O(i,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new N(this.options),o.backendConnector=new k(r(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),o.backendConnector.on("loaded",function(e){o.cacheConnector.save()}),o.cacheConnector=new D(r(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.languageDetector&&(o.languageDetector=r(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new T(this.services,this.options),this.translator.on("*",function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))}),this.modules.external.forEach(function(t){t.init&&t.init(e)})}["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}});var s=function(){e.changeLanguage(e.options.lng,function(t,r){e.isInitialized=!0,e.logger.log("initialized",e.options),e.emit("initialized",e.options),n(t,r)})};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},t.prototype.loadResources=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var n=[],r=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach(function(e){n.indexOf(e)<0&&n.push(e)})};if(this.language)r(this.language);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(e){return r(e)});this.options.preload&&this.options.preload.forEach(function(e){return r(e)}),this.services.cacheConnector.load(n,this.options.ns,function(){e.services.backendConnector.load(n,e.options.ns,t)})}},t.prototype.reloadResources=function(e,t){e||(e=this.languages),t||(t=this.options.ns),this.services.backendConnector.reload(e,t)},t.prototype.use=function(e){return"backend"===e.type&&(this.modules.backend=e),"cache"===e.type&&(this.modules.cache=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"postProcessor"===e.type&&E.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this},t.prototype.changeLanguage=function(e,t){var n=this,r=function(e){e&&(n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.translator.language||n.translator.changeLanguage(e),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(e)),n.loadResources(function(r){!function(e,r){n.translator.changeLanguage(r),r&&(n.emit("languageChanged",r),n.logger.log("languageChanged",r)),t&&t(e,function(){return n.t.apply(n,arguments)})}(r,e)})};e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect())},t.prototype.getFixedT=function(e,t){var n=this,r=function e(t,r){for(var i=arguments.length,a=Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];var s=B({},r);return"object"!==(void 0===r?"undefined":U(r))&&(s=n.options.overloadTranslationOptionHandler([t,r].concat(a))),s.lng=s.lng||e.lng,s.lngs=s.lngs||e.lngs,s.ns=s.ns||e.ns,n.t(t,s)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r},t.prototype.t=function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)},t.prototype.exists=function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)},t.prototype.setDefaultNamespace=function(e){this.options.defaultNS=e},t.prototype.loadNamespaces=function(e,t){var n=this;if(!this.options.ns)return t&&t();"string"==typeof e&&(e=[e]),e.forEach(function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)}),this.loadResources(t)},t.prototype.loadLanguages=function(e,t){"string"==typeof e&&(e=[e]);var n=this.options.preload||[],r=e.filter(function(e){return n.indexOf(e)<0});if(!r.length)return t();this.options.preload=n.concat(r),this.loadResources(t)},t.prototype.dir=function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"},t.prototype.createInstance=function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},t.prototype.cloneInstance=function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q,i=B({},this.options,n,{isClone:!0}),a=new t(i);return["store","services","language"].forEach(function(t){a[t]=e[t]}),a.translator=new T(a.services,a.options),a.translator.on("*",function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];a.emit.apply(a,[e].concat(n))}),a.init(i,r),a.translator.options=a.options,a},t}(o));n.d(t,"changeLanguage",function(){return H}),n.d(t,"cloneInstance",function(){return Y}),n.d(t,"createInstance",function(){return G}),n.d(t,"dir",function(){return W}),n.d(t,"exists",function(){return K}),n.d(t,"getFixedT",function(){return Q}),n.d(t,"init",function(){return z}),n.d(t,"loadLanguages",function(){return X}),n.d(t,"loadNamespaces",function(){return J}),n.d(t,"loadResources",function(){return Z}),n.d(t,"off",function(){return $}),n.d(t,"on",function(){return ee}),n.d(t,"setDefaultNamespace",function(){return te}),n.d(t,"t",function(){return ne}),n.d(t,"use",function(){return re});t.default=F;var H=F.changeLanguage.bind(F),Y=F.cloneInstance.bind(F),G=F.createInstance.bind(F),W=F.dir.bind(F),K=F.exists.bind(F),Q=F.getFixedT.bind(F),z=F.init.bind(F),X=F.loadLanguages.bind(F),J=F.loadNamespaces.bind(F),Z=F.loadResources.bind(F),$=F.off.bind(F),ee=F.on.bind(F),te=F.setDefaultNamespace.bind(F),ne=F.t.bind(F),re=F.use.bind(F)},jbVh:function(e,t){},jby0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContentInfo=function(e){var t=!0,n="live";e===r.BROADCAST_PLATFORM_WATCH_PARTY||e===r.BROADCAST_PLATFORM_WATCH_PARTY_PREMIERE||e===r.BROADCAST_PLATFORM_WATCH_PARTY_RERUN?n="vodcast":e===r.REBROADCAST_TYPE&&(n="vod",t=!1);return{live:t,contentMode:n}},t.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode("0x"+t)}))};var r=n("aacC")},jeLo:function(e,t,n){var r=n("juv8"),i=n("mTTR");e.exports=function(e){return r(e,i(e))}},ji7g:function(e,t,n){"use strict";var r=n("ZFOp"),i=n("MgzW"),a=n("8jRI");function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function l(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:a(o),n(a(i),o,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return t[e]}):t}(n):e[t]=n,e},Object.create(null))):r}t.extract=s,t.parse=l,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[o(t,e),"[",r,"]"].join(""):[o(t,e),"[",o(r,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return o(r,t);if(Array.isArray(i)){var a=[];return i.slice().forEach(function(e){void 0!==e&&a.push(n(r,e,a.length))}),a.join("&")}return o(r,t)+"="+o(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:l(s(e),t)}}},jibU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptionsPanel=t.ClosedCaptionsPanelComponent=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n("q1tI")),a=m(n("17x9")),o=n("9kay"),s=n("1fV9"),l=n("1r0f"),u=n("V6vH"),c=n("fPn6"),d=n("DtOl"),f=n("CEto"),p=n("ozMv"),_=m(n("TSYQ")),h=n("9ruY");function m(e){return e&&e.__esModule?e:{default:e}}var E={onClose:a.default.func.isRequired,t:a.default.func.isRequired},v=t.ClosedCaptionsPanelComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.selectPanel=e.selectPanel.bind(e),e.state={currentPanel:u.PRESETS},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"selectPanel",value:function(e){this.setState({currentPanel:e})}},{key:"getPanelComponent",value:function(){switch(this.state.currentPanel){case u.PRESETS:return i.default.createElement(u.PresetsPanel,null);case d.EFFECTS:return i.default.createElement(d.EffectsPanel,null);case f.BACKGROUND:return i.default.createElement(f.BackgroundPanel,null);case p.WINDOW:return i.default.createElement(p.WindowPanel,null);case c.TEXT:return i.default.createElement(c.TextPanel,null);default:return i.default.createElement(u.PresetsPanel,null)}}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.t,r=this.state.currentPanel,a=(0,_.default)({"pl-modal__content":!0,"pl-modal__content--text":r===c.TEXT});return i.default.createElement("div",{className:a},i.default.createElement(s.Button,{className:"pl-modal__close",onClick:t},i.default.createElement(h.CloseModalSVG,{id:"icon_close_modal"})),i.default.createElement("h2",{className:"pl-modal__header"},n("Closed Caption Settings")),i.default.createElement(l.CCPanelTabs,{selectPanel:this.selectPanel,currentPanel:r}),this.getPanelComponent(r))}}]),t}();v.propTypes=E,v.defaultProps={t:function(){}};t.ClosedCaptionsPanel=(0,o.translate)()(v)},jjtq:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var e=document.documentElement,t=null,n="initial",r=n;try{window.sessionStorage.getItem("what-input")&&(n=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(r=window.sessionStorage.getItem("what-intent"))}catch(e){}var i=null,a=["input","select","textarea"],o=[],s=[16,17,18,91,93],l=[],u={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"},c=!1,d=!1,f={x:null,y:null},p={2:"touch",3:"touch",4:"mouse"},_=!1;try{var h=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,h)}catch(e){}var m=function(){var e=!!_&&{passive:!0};window.PointerEvent?(window.addEventListener("pointerdown",E),window.addEventListener("pointermove",y)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",E),window.addEventListener("MSPointerMove",y)):(window.addEventListener("mousedown",E),window.addEventListener("mousemove",y),"ontouchstart"in window&&(window.addEventListener("touchstart",b,e),window.addEventListener("touchend",E))),window.addEventListener(A(),y,e),window.addEventListener("keydown",b),window.addEventListener("keyup",b),window.addEventListener("focusin",g),window.addEventListener("focusout",T)},E=function(e){if(!c){var t=e.which,i=u[e.type];"pointer"===i&&(i=S(e));var o=!l.length&&-1===s.indexOf(t),d=l.length&&-1!==l.indexOf(t),f="keyboard"===i&&t&&(o||d)||"mouse"===i||"touch"===i;if(n!==i&&f){n=i;try{window.sessionStorage.setItem("what-input",n)}catch(e){}v("input")}if(r!==i&&f){var p=document.activeElement;if(p&&p.nodeName&&-1===a.indexOf(p.nodeName.toLowerCase())){r=i;try{window.sessionStorage.setItem("what-intent",r)}catch(e){}v("intent")}}}},v=function(t){e.setAttribute("data-what"+t,"input"===t?n:r),C(t)},y=function(e){if(O(e),!c&&!d){var t=u[e.type];if("pointer"===t&&(t=S(e)),r!==t){r=t;try{window.sessionStorage.setItem("what-intent",r)}catch(e){}v("intent")}}},g=function(n){n.target.nodeName?(t=n.target.nodeName.toLowerCase(),e.setAttribute("data-whatelement",t),n.target.classList&&n.target.classList.length&&e.setAttribute("data-whatclasses",n.target.classList.toString().replace(" ",","))):T()},T=function(){t=null,e.removeAttribute("data-whatelement"),e.removeAttribute("data-whatclasses")},b=function(e){E(e),window.clearTimeout(i),c=!0,i=window.setTimeout(function(){c=!1},100)},S=function(e){return"number"==typeof e.pointerType?p[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},A=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},C=function(e){for(var t=0,i=o.length;t<i;t++)o[t].type===e&&o[t].fn.call(void 0,"input"===e?n:r)},O=function(e){f.x!==e.screenX||f.y!==e.screenY?(d=!1,f.x=e.screenX,f.y=e.screenY):d=!0};return"addEventListener"in window&&Array.prototype.indexOf&&(u[A()]="mouse",m(),v("input"),v("intent")),{ask:function(e){return"intent"===e?r:n},element:function(){return t},ignoreKeys:function(e){s=e},specificKeys:function(e){l=e},registerOnChange:function(e,t){o.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,n=o.length;t<n;t++)if(o[t].fn===e)return t}(e);(t||0===t)&&o.splice(t,1)}}}()}])},e.exports=r()},jl5L:function(e,t,n){var r=n("Sxd8"),i=n("tLB3"),a=n("dt0z"),o=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=i(e),n=null==n?0:o(r(n),292)){var s=(a(e)+"e").split("e"),l=t(s[0]+"e"+(+s[1]+n));return+((s=(a(l)+"e").split("e"))[0]+"e"+(+s[1]-n))}return t(e)}}},jxNe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTwilightSessionId=t.getClipsSessionId=t.getSessionId=t.TWILIGHT_TAB_SESSION_ID_KEY=t.CLIPS_TAB_SESSION_ID_KEY=void 0;var r=n("uXPQ"),i=n("EoNM"),a=t.CLIPS_TAB_SESSION_ID_KEY="clips_rec_sid",o=t.TWILIGHT_TAB_SESSION_ID_KEY="session_storage_unique_id",s=t.getSessionId=function(e){var t=void 0;try{(t=i.sessionStore.get(e))||(t=(0,r.generate)()),i.sessionStore.set(e,t)}catch(e){t=null}return t};t.getClipsSessionId=function(){return s(a)},t.getTwilightSessionId=function(){return s(o)}},k2Rd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateViewerCount=function(e){return{type:r,count:e}};var r=t.ACTION_UPDATE_VIEWERCOUNT="update viewercount"},kDMx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalFullScreen=t.EXTERNAL_FULLSCREEN_CHANGE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.supportsExternalFullScreen=c;var i,a=n("NE/w"),o=(i=a)&&i.__esModule?i:{default:i},s=n("KE4D"),l=n("qT8i"),u=n("2GWp");t.EXTERNAL_FULLSCREEN_CHANGE="externalfullscreenchange";function c(){return!!o.default.enabled}t.ExternalFullScreen=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=n,this._root=t,this._store.dispatch((0,s.setCanFullScreen)(this.canFullScreen())),(0,l.subscribe)(this._store,["screenMode.isFullScreen"],function(){r._store.dispatch((0,u.emitExternalFullscreenChange)())})}return r(e,[{key:"canFullScreen",value:function(){return c()}},{key:"isFullScreen",value:function(){return this._store.getState().screenMode.isFullScreen&&this.canFullScreen()}}]),e}()},kKdq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGWrapper=void 0;var r=a(n("q1tI")),i=a(n("17x9"));function a(e){return e&&e.__esModule?e:{default:e}}var o={className:i.default.string,id:i.default.string,width:i.default.number,height:i.default.number,viewBox:i.default.string,preserveAspectRatio:i.default.string,children:i.default.oneOfType([i.default.arrayOf(i.default.element),i.default.element,i.default.node])};(t.SVGWrapper=function(e){return r.default.createElement("svg",{className:e.className,id:e.id,width:e.width,height:e.height,viewBox:e.viewBox,preserveAspectRatio:e.preserveAspectRatio,xmlns:"http://www.w3.org/2000/svg"},e.children)}).propTypes=o},kcRU:function(e,t){!function(e,t,n,r,i,a,o){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},_Q:[]},(a=n.createElement(r)).async=!0,a.src="//c.amazon-adsystem.com/aax2/apstag.js",(o=n.getElementsByTagName(r)[0]).parentNode.insertBefore(a,o))}("apstag",window,document,"script")},kgFP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LowLatencyNotification=t.LowLatencyPopUpsContainer=t.mapDispatchToProps=t.MAX_SEEN_COUNT=t.WEEKLY_TIMESTAMP=t.SEVEN_DAYS=t.MAX_LIFETIME_SEEN=t.BUFFER_LIMIT=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=p(n("q1tI")),a=p(n("17x9")),o=p(n("puQj")),s=n("N58E"),l=n("EoNM"),u=n("Fbet"),c=n("iRt7"),d=n("VPTj"),f=n("wsSb");function p(e){return e&&e.__esModule?e:{default:e}}var _=t.BUFFER_LIMIT=2,h=t.MAX_LIFETIME_SEEN=4,m=t.SEVEN_DAYS=604e6,E=t.WEEKLY_TIMESTAMP="lowLatencySeenThisWeekTimestamp",v=t.MAX_SEEN_COUNT="lowLatencyMaxSeenCount",y={clearBufferEmpties:a.default.func,displayLowLatencyNotification:a.default.func,isLive:a.default.bool.isRequired,isLowLatencyMode:a.default.bool.isRequired,lowLatencyModeEnabled:a.default.bool.isRequired},g=t.mapDispatchToProps=function(e){return{displayLowLatencyNotification:function(){e((0,u.addNotification)(c.LowLatencyPopup))},clearBufferEmpties:function(){e((0,d.clearBufferEmpties)())}}},T=t.LowLatencyPopUpsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={showPopup:!1},l.localStore.get(E)||l.localStore.set(E,(new Date).getTime()-m),l.localStore.get(v)||l.localStore.set(v,0),e._previousBufferTimestamp=(new Date).getTime(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.isLowLatencyMode&&e.lowLatencyModeEnabled&&(o.default.chrome||o.default.firefox)&&e.isLive){var t=this._shouldShowPopup(e),n=this.state.showPopup;t&&!n&&(this.setState({showPopup:!0}),this.props.displayLowLatencyNotification())}}},{key:"_shouldShowPopup",value:function(e){var t=e.currentBufferEmpties;return this._capturedMaxBufferEmpties({currentBufferEmpties:t})&&!this._seenOnceThisWeek()&&!this._seenMaxTimes()}},{key:"_capturedMaxBufferEmpties",value:function(e){var t=e.currentBufferEmpties,n=(new Date).getTime(),r=n-this._previousBufferTimestamp;return t===_&&r<6e5||(r>6e5||t>=_?(this.props.clearBufferEmpties(),this._previousBufferTimestamp=n,!1):void 0)}},{key:"_seenOnceThisWeek",value:function(){return!((new Date).getTime()-l.localStore.get(E)>=m)||(l.localStore.set(E,(new Date).getTime()),!1)}},{key:"_seenMaxTimes",value:function(){var e=l.localStore.get(v);return this._seenOnceThisWeek()&&e<h?(l.localStore.set(v,e+1),!1):e>=h||void 0}},{key:"render",value:function(){return null}}]),t}();T.propTypes=y,T.defaultProps={clearBufferEmpties:function(){},displayLowLatencyNotification:function(){},isLive:!1,isLowLatencyMode:!1,lowLatencyModeEnabled:!1};t.LowLatencyNotification=(0,s.connect)(function(e){var t=e.manifestInfo,n=e.playback,r=e.settings,i=e.stream;return{currentBufferEmpties:n.bufferEmpties,isLive:i.contentType===f.CONTENT_MODE_LIVE,isLowLatencyMode:t.future,lowLatencyModeEnabled:r.lowLatencyModeEnabled}},g)(T)},kkHK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipsBenchmarkTracking=t.performanceFetchStartSelector=t.MILLIS_IN_SECOND=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("SaYp"),o=n("uAOA"),s=n("ggpQ"),l=n("7oTh"),u=n("uC+K"),c=n("lFKM"),d=(r=c)&&r.__esModule?r:{default:r};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=t.MILLIS_IN_SECOND=1e3,_=t.performanceFetchStartSelector=function(e){var t=e.window;return t.performance&&t.performance.timing&&t.performance.timing.fetchStart?t.performance.timing.fetchStart:t.Benchmark?t.Benchmark:void 0};t.ClipsBenchmarkTracking=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i=e.getState().env.playerType!==u.PLAYER_CLIPS_EMBED;return r.store=e,r.trackPageview=r.trackPageview.bind(r),r.handleStateChange=r.handleStateChange.bind(r),r.trackVideoPlaybackStarted=r.trackVideoPlaybackStarted.bind(r),r.shouldSendEvents=!1,r.hasFetchedTrackingInfo=!1,r.eventsQueue=[],r.subscribe(e,["streamMetadata","broadcasterInfo"],function(e){r.handleStateChange(e)}),r.hasTrackedEventMap=(f(n={},a.TRACKING_PAGEVIEW_EVENT,i),f(n,a.TRACKING_BENCHMARK_FETCH_START,i),f(n,a.TRACKING_BENCHMARK_COMPLETE_TRANSITION,i),f(n,a.TRACKING_BENCHMARK_VIDEO_STARTED,i),n),r.trackFetchStart(),r.handleStateChange(e.getState()),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.UIStateSubscriber),i(t,[{key:"setEventToTracked",value:function(e){this.hasTrackedEventMap[e]=!0}},{key:"hasEventBeenTracked",value:function(e){return this.hasTrackedEventMap[e]}},{key:"handleStateChange",value:function(e){var t=e.streamMetadata;!this.hasFetchedTrackingInfo&&t.channel&&t.channel.name&&(this.hasFetchedTrackingInfo=!0,this.store.dispatch((0,s.fetchChannelInfo)(t.channel.name)),this.store.dispatch((0,s.fetchStreamInfo)(t.channel.name))),t.url&&this.trackPageview(),!this.shouldSendEvents&&t.channel&&(0,l.broadcasterLiveStatus)(e,t.channel.name)!==s.NOT_AVAILABLE&&(this.shouldSendEvents=!0,this.sendQueuedEvents())}},{key:"currentTime",value:function(){return Date.now()}},{key:"fetchStartTime",value:function(){return _(this.store.getState())}},{key:"timeFromFetchStartMillis",value:function(){var e=this.fetchStartTime();return(0,d.default)(e)?this.currentTime()-e:null}},{key:"trackPageview",value:function(){this.hasEventBeenTracked(a.TRACKING_PAGEVIEW_EVENT)||(this.setEventToTracked(a.TRACKING_PAGEVIEW_EVENT),this.sendEvent(a.TRACKING_PAGEVIEW_EVENT,{client_time:this.currentTime()/p}))}},{key:"trackFetchStart",value:function(){if(!this.hasEventBeenTracked(a.TRACKING_BENCHMARK_FETCH_START)){this.setEventToTracked(a.TRACKING_BENCHMARK_FETCH_START);var e=this.fetchStartTime(),t=(0,d.default)(e)?e/p:null;this.sendEvent(a.TRACKING_BENCHMARK_FETCH_START,{client_time:t})}}},{key:"trackAppReady",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTime();this.hasEventBeenTracked(a.TRACKING_BENCHMARK_COMPLETE_TRANSITION)||(this.setEventToTracked(a.TRACKING_BENCHMARK_COMPLETE_TRANSITION),this.sendEvent(a.TRACKING_BENCHMARK_COMPLETE_TRANSITION,{destination:"clips",time_from_fetch:this.timeFromFetchStartMillis(),client_time:e/p}))}},{key:"trackVideoPlaybackStarted",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentTime();this.hasEventBeenTracked(a.TRACKING_BENCHMARK_VIDEO_STARTED)||(this.setEventToTracked(a.TRACKING_BENCHMARK_VIDEO_STARTED),this.sendEvent(a.TRACKING_BENCHMARK_VIDEO_STARTED,{client_time:e/p}))}},{key:"sendEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.shouldSendEvents?this.store.getState().analyticsTracker.clipsTrackEvent(e,t):this.eventsQueue.push({eventName:e,eventData:t})}},{key:"sendQueuedEvents",value:function(){var e=this;this.eventsQueue.forEach(function(t){e.store.getState().analyticsTracker.clipsTrackEvent(t.eventName,t.eventData)}),this.eventsQueue=[]}}]),t}()},kqSx:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),u=n("vCsY"),c=n("1H2c"),d=n("hnjF"),f=n("X2PJ"),p=n("Ws8v"),_=n("2Ob2"),h=n("2nDl"),m=(n("3ypW"),function(e){var t,n=Object(c.a)(),r={"tw-checkbox":!0,"tw-checkbox--error":e.error,"tw-checkbox--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var a=h.c.Default;e.size&&(a=e.size);e.label,e.size,e.overlay,e.error;var _=o()(e,["label","size","overlay","error"]);return s.createElement(p.a,i()({className:Object(l.a)(r),fontSize:h.b[a]},Object(u.a)(e)),s.createElement("input",i()({},Object(u.b)(_),{className:"tw-checkbox__input",type:"checkbox","data-a-target":"tw-checkbox",id:e.id?e.id:n,tabIndex:t})),s.createElement(f.f,{display:d.d.Block},s.createElement("label",{className:"tw-checkbox__label",htmlFor:e.id?e.id:n},e.label)))});m.displayName="CheckBoxComponent",m.displayName="CheckBoxComponent";var E=Object(_.c)(m)},kxDQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DISPLAY_MODE_UNKNOWN=t.DISPLAY_MODE_POPOUT=t.DISPLAY_MODE_MINI=t.DISPLAY_MODE_FULLSCREEN=t.DISPLAY_MODE_THEATRE_MODE=t.DISPLAY_MODE_DEFAULT=void 0,t.getPlayerSizeMode=function(e){var t=e.getState(),n=t.screenMode,c=t.ui,d=t.env;if(n.isFullscreen)return o;if(d.playerType===r.PLAYER_POPOUT)return l;if(d.playerType===r.PLAYER_SITE)return c.isMini?s:n.isTheatreMode?a:i;return u};var r=n("uC+K"),i=t.DISPLAY_MODE_DEFAULT="default",a=t.DISPLAY_MODE_THEATRE_MODE="theatre_mode",o=t.DISPLAY_MODE_FULLSCREEN="fullscreen",s=t.DISPLAY_MODE_MINI="mini",l=t.DISPLAY_MODE_POPOUT="popout",u=t.DISPLAY_MODE_UNKNOWN="unknown"},l0UL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_VOD_STATE=void 0,t.vod=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.ACTION_SET_STREAM:return(0,s.default)({},e,{videoMomentEdges:[]});case i.ACTION_VIDEO_MOMENTS_FETCHED:return(0,s.default)({},e,{videoMomentEdges:t.videoMomentEdges});default:return e}};var r,i=n("vOQQ"),a=n("D3OJ"),o=n("3OWR"),s=(r=o)&&r.__esModule?r:{default:r};var l=t.DEFAULT_VOD_STATE=Object.freeze({videoMomentEdges:[]})},lFKM:function(e,t,n){var r=n("Kz5y").isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},lJhZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MainMenu=t.MainMenuContainer=t.mapDispatchToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=C(n("q1tI")),a=C(n("17x9")),o=C(n("ijCd")),s=n("N58E"),l=n("9kay"),u=n("fcnJ"),c=n("TBIW"),d=n("4b1H"),f=n("FxCM"),p=n("VIow"),_=n("nqwM"),h=n("idqK"),m=n("hJg3"),E=n("Z4ex"),v=n("rSwD"),y=n("uC+K"),g=n("uNCh"),T=n("8Y3c"),b=n("+i0y"),S=n("uaEd"),A=n("YWLq");function C(e){return e&&e.__esModule?e:{default:e}}var O=[h.BACKEND_MEDIA_PLAYER,m.BACKEND_CLIP],P={availableQualities:a.default.array.isRequired,backendType:a.default.string.isRequired,captionsAvailable:a.default.bool.isRequired,collection:a.default.object.isRequired,currentSpeed:a.default.number.isRequired,currentTime:a.default.number,hideSettingsMenu:a.default.func,isStaffUser:a.default.bool,countryCode:a.default.string,isVod:a.default.bool.isRequired,isClip:a.default.bool.isRequired,showDeleteAllClips:a.default.bool.isRequired,showDeleteClip:a.default.bool.isRequired,showReportClip:a.default.bool.isRequired,trackAdvancedClick:a.default.func,onMenuTransition:a.default.func,pausePlayback:a.default.func,playback:a.default.object.isRequired,playerType:a.default.string,selectedQuality:a.default.string.isRequired,showClipsShortcutOverlay:a.default.func.isRequired,showCaptionsOptions:a.default.func.isRequired,openClipsModerationModal:a.default.func.isRequired,stream:a.default.object.isRequired,streamUrl:a.default.string,t:a.default.func.isRequired,windowObj:a.default.object.isRequired},N=t.mapDispatchToProps=function(e){return{trackAdvancedClick:function(){e({type:A.ACTION_TRACK_EVENT,eventName:"player_click",eventProperties:{component:"advanced_menu",component_state:"show"}})},pausePlayback:function(){e((0,d.pause)())},hideSettingsMenu:function(){e((0,E.showMenu)(E.MENU_STATE_NONE))},showCaptionsOptions:function(){e((0,v.showCCModal)(!0))},showClipsShortcutOverlay:function(){e((0,g.pushScreen)(g.CLIP_SHORTCUT_SCREEN))},openClipsModerationModal:function(t){e((0,T.openModerationMenu)(t))}}},I=t.MainMenuContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.trackAdvancedClick=e.trackAdvancedClick.bind(e),e.showCaptionsOptions=e.showCaptionsOptions.bind(e),e.popoutPlayer=e.popoutPlayer.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"trackAdvancedClick",value:function(){this.props.trackAdvancedClick()}},{key:"showCaptionsOptions",value:function(){this.props.hideSettingsMenu(),this.props.showCaptionsOptions()}},{key:"popoutPlayer",value:function(){this.props.pausePlayback(),this.props.hideSettingsMenu(),(0,c.popoutPlayer)({collection:this.props.collection,playback:this.props.playback,stream:this.props.stream,window:this.props.windowObj,playerType:this.props.playerType})}},{key:"render",value:function(){var e=this.props,t=e.availableQualities,n=e.backendType,r=e.captionsAvailable,a=e.currentTime,s=e.currentSpeed,l=e.isStaffUser,c=e.countryCode,d=e.isVod,p=e.isClip,_=e.showDeleteAllClips,h=e.showDeleteClip,m=e.showReportClip,E=e.onMenuTransition,v=e.playerType,g=e.selectedQuality,T=e.streamUrl,S=e.showClipsShortcutOverlay,A=e.t,C=e.openClipsModerationModal,P=e.windowObj,N=(0,o.default)(O,n)||(0,o.default)(y.CLIPS_PLAYER_TYPES,v),I=-1!==y.MULTIVIEW_PLAYER_TYPES.indexOf(v),R=v!==y.PLAYER_AMAZON_VSE&&!I,w=T+"?t="+(0,f.toURLString)(a),k=t.length>0&&v!==y.PLAYER_MULTIVIEW_SECONDARY,M="KR"===c&&t.length>1&&t[1].group===g&&"auto"!==g?"HD":(0,b.getTranslatedQualityName)(t,g,A);return i.default.createElement(u.MainMenu,{playerType:v,canChangePlaybackSpeed:N,canPopoutPlayer:R,captionsAvailable:r,currentTime:a,currentSpeed:s,isStaffUser:l,isVod:d,isClip:p,trackAdvancedClick:this.trackAdvancedClick,onMenuTransition:E,onPopoutPlayer:this.popoutPlayer,onShowCaptionsOptions:this.showCaptionsOptions,selectedQualityName:M,shouldShowQualityMenu:k,vodUrlWithTimestamp:w,showClipsShortcutOverlay:S,openClipsModerationModal:C,showDeleteAllClips:_,showDeleteClip:h,showReportClip:m,windowObj:P})}}]),t}();I.propTypes=P,I.defaultProps={currentTime:0,isStaffUser:!1,hideSettingsMenu:function(){},trackAdvancedClick:function(){},onMenuTransition:function(){},pausePlayback:function(){},streamUrl:"",playerType:""};t.MainMenu=(0,l.translate)()((0,s.connect)(function(e){var t=e.backendInfo,n=e.captions,r=e.collection,i=e.env,a=e.playback,o=e.quality,s=e.stream,l=e.streamMetadata,u=e.user,c=e.window;return{availableQualities:o.available,backendType:t.playerBackendType,captionsAvailable:n.available,collection:r,currentSpeed:a.playbackRate,currentTime:a.currentTime,isStaffUser:u.isStaff,countryCode:u.countryCode,showDeleteAllClips:(0,S.showDeleteAllClips)(e),showDeleteClip:(0,S.showDeleteClip)(e),showReportClip:(0,S.showReportClip)(e),isVod:s.contentType===p.CONTENT_MODE_VOD,isClip:s.contentType===_.CONTENT_MODE_CLIP,playback:a,playerType:i.playerType,selectedQuality:o.selected,stream:s,streamUrl:l.url,windowObj:c}},N)(I))},lVWK:function(e,t,n){},ln9Q:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionSidebarItem=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n("17x9")),a=s(n("q1tI")),o=s(n("TSYQ"));function s(e){return e&&e.__esModule?e:{default:e}}var l={index:i.default.number.isRequired,onSelect:i.default.func.isRequired,selectItem:i.default.any.isRequired,isActive:i.default.bool,thumbnailURL:i.default.string.isRequired,title:i.default.string.isRequired,subTitle:i.default.string},u=(0,o.default)("collection-sidebar-item__number","pl-flex__item","qa-collection-item-number"),c=(0,o.default)("collection-sidebar-item__thumbnail","pl-flex__item","qa-collection-item-thumbnail"),d=(0,o.default)("collection-sidebar-item-detail","pl-flex__item"),f=(0,o.default)("collection-sidebar-item-detail__title","qa-collection-item-title"),p=t.CollectionSidebarItem=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.thumbnailURL,r=e.title,i=e.subTitle,s=e.index,l=(0,o.default)({"collection-sidebar-item":!0,"collection-sidebar-item--active":t,"pl-flex":!0,"pl-flex--verticalCenter":!0,"pl-flex--nowrap":!0});return a.default.createElement("div",{className:l,onClick:this.handleClick,onKeyUp:this.handleKeyUp,tabIndex:0,role:"button"},a.default.createElement("div",{className:u},s+1),a.default.createElement("img",{className:c,alt:"Thumbnail of one of the videos in the collection.",src:n}),a.default.createElement("div",{className:d},a.default.createElement("div",{className:f},r),a.default.createElement("div",{className:"collection-sidebar-item-detail__meta"},a.default.createElement("span",{className:"qa-collection-item-channel"},i))))}},{key:"handleKeyUp",value:function(e){"Enter"===e.key&&this.props.onSelect(this.props.selectItem)}},{key:"handleClick",value:function(){this.props.onSelect(this.props.selectItem)}}]),t}();p.propTypes=l,p.defaultProps={isActive:!1,subTitle:""}},lvO4:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},"lxK/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionUseBitsModalError=t.ExtensionUseBitsModalErrorComponent=t.MODAL_BUY_URL=t.MODAL_BUTTON_CANCEL=t.MODAL_BUTTON_BUY=t.MODAL_BUTTON_CONFIRM=t.MODAL_TITLE_HEADER=void 0;var r,i,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n("q1tI")),s=d(n("17x9")),l=d(n("TSYQ")),u=n("9kay"),c=n("1fV9");function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=t.MODAL_TITLE_HEADER="qa-use-bits-modal-title-header",_=(t.MODAL_BUTTON_CONFIRM="qa-use-bits-modal-button-confirm",t.MODAL_BUTTON_BUY="qa-use-bits-modal-button-buy",t.MODAL_BUTTON_CANCEL="qa-use-bits-modal-button-cancel"),h=(t.MODAL_BUY_URL="https://www.twitch.tv/bits",(0,l.default)({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0,"extension-modal__title-use-bits":!0})),m=(0,l.default)((f(r={},p,!0),f(r,"pl-menu__item",!0),f(r,"extension-modal__title",!0),r)),E=(0,l.default)({"pl-menu__inner":!0,"extension-modal__inner":!0}),v=(0,l.default)({"pl-menu__section":!0}),y=(0,l.default)((f(i={},_,!0),f(i,"pl-button",!0),f(i,"extension-modal__button",!0),i)),g={t:s.default.func.isRequired,onClose:s.default.func.isRequired},T=t.ExtensionUseBitsModalErrorComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.cancelUseBits=e._cancelUseBits.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"render",value:function(){return o.default.createElement("div",{className:E},o.default.createElement("div",{className:h},o.default.createElement("div",{className:"extension-modal__header-row"},o.default.createElement("div",{className:m},this.props.t("Sorry, something went wrong. Please try again.")))),o.default.createElement("div",{className:v},this._renderButtons()))}},{key:"_renderButtons",value:function(){return o.default.createElement("div",null,o.default.createElement(c.Button,{className:y,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}}]),t}();T.propTypes=g;t.ExtensionUseBitsModalError=(0,u.translate)()(T)},"m/O8":function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TextEffectsPalette=t.UNIFORM=t.DEPRESSED=t.DROP=t.RAISED=t.NONE=void 0,t.TextEffectsPaletteComponent=y;var i=l(n("q1tI")),a=l(n("17x9")),o=n("9kay"),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c="Aa",d=t.NONE="none",f=t.RAISED="raised",p=t.DROP="drop",_=t.DEPRESSED="depressed",h=t.UNIFORM="uniform",m=Object.freeze((u(r={},d,!0),u(r,f,!0),u(r,p,!0),u(r,_,!0),u(r,h,!0),r)),E={currentTextEffect:a.default.string.isRequired,selectTextEffect:a.default.func.isRequired,t:a.default.func.isRequired};var v=function(e){return function(t){"Enter"===t.key&&e()}};function y(e){var t=e.currentTextEffect,n=e.selectTextEffect,r=e.t,a=Object.keys(m).map(function(e){function r(){n(e)}var a=function(e,t){var n;return m[e]&&m[t]?(0,s.default)((u(n={"pl-cc-button":!0,"cc-edge-palette__square":!0},"cc-edge-palette__square--"+e,!0),u(n,"pl-cc-button--selected",e===t),n)):"cc-edge-palette__square"}(e,t),o=v(r),l=e===d?i.default.createElement("hr",{className:"cc-edge-disabled"}):null;return i.default.createElement("div",{className:"cc-edge-palette__container",key:"cc-text-effect-palette."+e},l,i.default.createElement("div",{role:"button",tabIndex:-1,htmlFor:"edge-effect-"+e,className:a,onClick:r,onKeyUp:o},c))});return i.default.createElement("div",{className:"cc-customize-field"},i.default.createElement("div",null,r("Effect")),i.default.createElement("div",{className:"cc-edge-palette"},a))}y.propTypes=E;t.TextEffectsPalette=(0,o.translate)()(y)},m7yn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NielsenAnalytics=t.NIELSEN_TEST_CHANNEL=t.NIELSEN_APP_ID=t.NIELSEN_END=t.NIELSEN_STOP=t.NIELSEN_SET_PLAYHEAD_POSITION=t.NIELSEN_LOAD_METADATA=t.EXPERIMENT_INACTIVE=t.EXPERIMENT_ACTIVE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("JZwe"),a=n("UvTj");n("b4U0");var o=g(n("mwIZ")),s=g(n("3WF5")),l=g(n("afOK")),u=g(n("ijCd")),c=n("qT8i"),d=n("uXPQ"),f=n("Rnd+"),p=n("QBeZ"),_=n("wsSb"),h=n("VIow"),m=n("uC+K"),E=n("56nq"),v=g(n("xaJk")),y=n("D3OJ");function g(e){return e&&e.__esModule?e:{default:e}}var T=t.EXPERIMENT_ACTIVE="active",b=(t.EXPERIMENT_INACTIVE="inactive",t.NIELSEN_LOAD_METADATA="loadMetadata"),S=t.NIELSEN_SET_PLAYHEAD_POSITION="setPlayheadPosition",A=t.NIELSEN_STOP="stop",C=t.NIELSEN_END="end",O=t.NIELSEN_APP_ID="P34D56F9D-5684-4C83-8EE1-5EA7DE9CF45D",P=t.NIELSEN_TEST_CHANNEL="twitchmedia31",N={ggPM:function(){}};t.NielsenAnalytics=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=t,this.store=n;var r=this.store.getState();this._window=(0,o.default)(r,"window"),this._nSdkInstance=null,this._playheadPositionInterval=null,this._secondsFromStartOfAd=0,this._lastPlayheadPosition=0,this._lastContentType=null,this._isBuffering=!1,this._isPaused=!1,this._hasPlayed=!1,this._subscriptions=[];var i=(0,o.default)(r,"experiments");this._experiment=i.get(f.ExperimentIds.NielsenAnalytics),(0,o.default)(r,"gdprConsent.vendors.nielsen.consent")?(this.initializeNielsenSDK(),this.initializeEventListeners()):this._subscriptions.push((0,c.subscribe)(this.store,["gdprConsent.vendors.nielsen.consent"],this._onNielsenGDPRConsentChange.bind(this)))}return r(e,[{key:"initializeEventListeners",value:function(){this.player.addEventListener(i.PLAYING,this.onPlaying.bind(this)),this.player.addEventListener(a.AD_START,this.onAdStart.bind(this)),this.player.addEventListener(a.AD_IMPRESSION,this.onAdImpression.bind(this)),this.player.addEventListener(a.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this)),this.player.addEventListener(a.AD_END,this.onAdEnd.bind(this)),this.player.addEventListener(i.LOADSTART,this.onLoadStart.bind(this)),this.player.addEventListener(i.PAUSE,this.onPause.bind(this)),this.player.addEventListener(i.SEEKING,this.onSeeking.bind(this)),this.player.addEventListener(i.SEEKED,this.onSeeked.bind(this)),this.player.addEventListener(i.ENDED,this.onEnded.bind(this)),this._subscriptions.push((0,c.subscribe)(this.store,["playback.isLoading"],this.onBuffering.bind(this))),this._window.addEventListener("beforeunload",this.onBeforeUnload.bind(this))}},{key:"_onNielsenGDPRConsentChange",value:function(){var e=this.store.getState(),t=(0,o.default)(e,"gdprConsent.vendors.nielsen.consent"),n=null!==this._nSdkInstance,r=t&&!n,i=(0,o.default)(e,"playback.playing"),a=(0,o.default)(e,"ads.playback.isAdImpression");r&&(this.initializeNielsenSDK(),this.initializeEventListeners(),i?this.onPlaying():a&&this.onAdImpression())}},{key:"initializeNielsenSDK",value:function(){var e=this.store.getState(),t=(0,d.generate)(),n=(0,o.default)(e,"playerOptions.channel"),r=(0,o.default)(e,"env.playerType");(0,u.default)(m.AMAZON_EMBED_PLAYER_TYPES,r)?this._nSdkInstance=N:this._nSdkInstance=n===P?this._window.NOLBUNDLE.nlsQ(O,t,{nol_sdkDebug:"debug"}):this._window.NOLBUNDLE.nlsQ(O,t)}},{key:"_getNielsenMetadata",value:function(){var e=this.store.getState(),t=(0,o.default)(e,"streamMetadata.channel.status"),n=(0,o.default)(e,"streamMetadata.channel.id"),r=(0,o.default)(e,"streamMetadata.channelName"),i=(0,o.default)(e,"streamMetadata.game"),a=(0,o.default)(e,"streamMetadata.createdAt"),s=(0,o.default)(e,"streamMetadata.video_id"),u=(0,o.default)(e,"streamMetadata.name"),c=(0,o.default)(e,"playback.duration"),d=a.slice(0,-1);if(this._isLive())return{type:"content",assetid:n,isfullepisode:"y",program:r,title:t,length:0,segA:i,segB:"",airdate:d,adloadtype:"2"};if(this._isVOD())return{type:"content",assetid:s,isfullepisode:"y",program:r,title:u,length:c,segA:i,segB:"",airdate:d,adloadtype:"2"};if(this._isAd()){var f=(0,o.default)(e,"ads.currentMetadata.rollType"),p=(0,o.default)(e,"ads.details.adWrapperIds"),_=(0,o.default)(e,"ads.details.adId");return{type:f,assetid:(0,l.default)(p)||_,title:(0,o.default)(e,"ads.details.title")}}}},{key:"_emitNielsenExperimentEvent",value:function(e){var t=this,n=e.eventName,r=e.values,i=this.store.getState(),a=(0,o.default)(i,"streamMetadata.channelName");this._experiment.then(function(e){e!==T&&a!==P||t._nSdkInstance.ggPM(n,r)})}},{key:"_emitNielsenLoadMetadata",value:function(){var e=this._getNielsenMetadata();this._emitNielsenExperimentEvent({eventName:b,values:e}),this._lastContentType=(0,o.default)(e,"type")}},{key:"_startPlayheadPositionInterval",value:function(){var e=this,t=this._getPlayheadPosition();this._emitNielsenExperimentEvent({eventName:S,values:t}),this._clearPlayheadPositionInterval(),this._playheadPositionInterval=this._window.setInterval(function(){e._secondsFromStartOfAd+=1;var t=e._getPlayheadPosition();e._emitNielsenExperimentEvent({eventName:S,values:t})},1e3)}},{key:"_emitAdOrContentPlayingEvents",value:function(){var e=this._getNielsenMetadata(),t=(0,o.default)(e,"type")!==this._lastContentType,n=this._isAd()&&0===this._getPlayheadPosition();this._isPaused||!t&&!n||this._emitNielsenLoadMetadata(),this._isBuffering||this._startPlayheadPositionInterval()}},{key:"_emitAdStartAndAdImpressionCompleteEvents",value:function(){var e=this._lastPlayheadPosition;this._emitNielsenExperimentEvent({eventName:A,values:e}),this._clearPlayheadPositionInterval(),this._resetSecondsFromStartOfAd()}},{key:"_getPlayheadPosition",value:function(){var e=this.store.getState(),t=void 0;return this._isLive()?t=Math.floor(Date.now()/1e3):this._isVOD()?t=e.playback.currentTime:this._isAd()&&(t=this._secondsFromStartOfAd),this._lastPlayheadPosition=t,t}},{key:"onPlaying",value:function(){this._isPaused=!1,this._emitAdOrContentPlayingEvents();var e=this.store.getState();""!==(0,o.default)(e,"previousPlaySession.previousPlaySessionId")&&(this._sendNielsenAuditPing(3,!0),this.store.dispatch((0,y.setPreviousPlaySessionId)(""))),this._hasPlayed||(this._sendNielsenAuditPing(1,!1),this._hasPlayed=!0)}},{key:"onAdStart",value:function(){this._emitAdStartAndAdImpressionCompleteEvents()}},{key:"onAdImpression",value:function(){this._emitAdOrContentPlayingEvents()}},{key:"onAdImpressionComplete",value:function(){this._emitAdStartAndAdImpressionCompleteEvents()}},{key:"onAdEnd",value:function(){this._emitNielsenLoadMetadata(),this._startPlayheadPositionInterval()}},{key:"onLoadStart",value:function(){this._hasPlayed=!1}},{key:"onPause",value:function(){this._clearPlayheadPositionInterval(),this._isPaused=!0}},{key:"onSeeking",value:function(){this._isVOD()&&this._clearPlayheadPositionInterval()}},{key:"onSeeked",value:function(){this._isVOD()&&this._startPlayheadPositionInterval()}},{key:"onEnded",value:function(){var e=this._lastPlayheadPosition;this._emitNielsenExperimentEvent({eventName:C,values:e}),this._sendNielsenAuditPing(3,!1)}},{key:"onBeforeUnload",value:function(){var e=this._lastPlayheadPosition;this._isLive()||this._isVOD()?this._emitNielsenExperimentEvent({eventName:C,values:e}):this._isAd()&&this._emitNielsenExperimentEvent({eventName:A,values:e}),this._sendNielsenAuditPing(3,!1)}},{key:"onBuffering",value:function(){this.store.getState().playback.isLoading?(this._isBuffering=!0,this._clearPlayheadPositionInterval()):(this._isBuffering=!1,this._startPlayheadPositionInterval())}},{key:"_resetSecondsFromStartOfAd",value:function(){this._secondsFromStartOfAd=0}},{key:"_clearPlayheadPositionInterval",value:function(){this._window.clearInterval(this._playheadPositionInterval)}},{key:"destroy",value:function(){this._window.clearInterval(this._playheadPositionInterval),(0,s.default)(this._subscriptions,function(e){return e()}),this._window.removeEventListener("beforeunload",this.onBeforeUnload),this.onBeforeUnload=this.onBeforeUnload.bind(this)}},{key:"_isAd",value:function(){var e=this.store.getState(),t=(0,o.default)(e,"ads.currentMetadata.contentType");return t===p.AdContentTypes.IMA||t===p.AdContentTypes.STITCHED}},{key:"_isLive",value:function(){var e=this.store.getState(),t=(0,o.default)(e,"stream.contentType");return!this._isAd()&&t===_.CONTENT_MODE_LIVE}},{key:"_isVOD",value:function(){var e=this.store.getState(),t=(0,o.default)(e,"stream.contentType");return!this._isAd()&&t===h.CONTENT_MODE_VOD}},{key:"_sendNielsenAuditPing",value:function(e,t){var n=this.store.getState(),r=void 0;if(""!==(r=t?(0,o.default)(n,"previousPlaySession.previousPlaySessionId"):(0,o.default)(n,"analytics.playSessionId",""))){var i=n.stream instanceof _.LiveTwitchContentStream||t,a=n.accessToken.params.player_type;i&&"squad_secondary"!==a&&(0,E.viewerInfo)().then(function(t){if("US"===t.requestInfo.countryCode){var i={prd:"audit",apid:"PE7867845-886F-4940-8BB2-44030EE44570",sessionid:(0,o.default)(n,"tracking.app_session_id",r),streamid:r,pingtype:e,product:"dcr",uoo:0,createtm:Math.floor((0,o.default)(n,"analytics.playSessionStartTime",1)/1e3)},a=(0,v.default)(i,function(e,t,n){return e.push(n+"="+t),e},[]).join("&");fetch("https://secure-sts-prod.imrworldwide.com/cgi-bin/gn?"+a,{headers:{"Content-Type":"application/json"},method:"GET",mode:"cors"})}})}}}]),e}()},mPFt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.playerDimensions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_UPDATE_PLAYER_DIMENSIONS:return(0,a.default)({},e,t.playerDimensions);default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("Si5T");var s={left:0,top:0,width:0,height:0}},mUg4:function(e,t,n){var r=n("cq/+"),i=n("EwQA"),a=n("mTTR");e.exports=function(e,t){return null==e?e:r(e,i(t),a)}},mWCY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackSpeedMenu=t.PlaybackSpeedMenuComponent=t.TEXT_NORMAL=t.TEXT_SPEED=t.PLAYBACK_SPEEDS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=c(n("TSYQ")),s=n("9kay"),l=n("bDXi"),u=n("I22O");function c(e){return e&&e.__esModule?e:{default:e}}var d={currentSpeed:a.default.number.isRequired,onMenuTransition:a.default.func,onSelectPlaybackSpeed:a.default.func,t:a.default.func.isRequired},f=t.PLAYBACK_SPEEDS=Object.freeze([.25,.5,.75,1,1.25,1.5,2]),p=t.TEXT_SPEED="Speed",_=t.TEXT_NORMAL="Normal",h=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),m=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),E=t.PlaybackSpeedMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleMenuTransition=e.handleMenuTransition.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleMenuTransition",value:function(){this.props.onMenuTransition(l.IDENTIFIER_MAIN_MENU)}},{key:"render",value:function(){var e=this.props.t,t=this._getSpeedSelectionButtons();return i.default.createElement("div",{className:"pl-menu__inner"},i.default.createElement("div",{className:h},i.default.createElement("button",{className:"qa-header-button",onClick:this.handleMenuTransition},e(p))),i.default.createElement("div",{className:m},t))}},{key:"_getSpeedSelectionButtons",value:function(){var e=this.props,t=e.currentSpeed,n=e.onSelectPlaybackSpeed,r=e.t;return f.map(function(e){var a=t===e,o=1===e?"1x ("+r(_)+")":e+"x";return i.default.createElement(u.PlaybackSpeedButton,{isActive:a,key:e,label:o,onClick:n,speedValue:e})})}}]),t}();E.propTypes=d,E.defaultProps={onMenuTransition:function(){},onSelectPlaybackSpeed:function(){}};t.PlaybackSpeedMenu=(0,s.translate)()(E)},mawI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BottomLeftControls=t.CONTAINER_CLASSES=void 0;var r,i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r},o=n("oeCv"),s=n("gu39"),l=n("RvzI");var u=t.CONTAINER_CLASSES="player-buttons-left";t.BottomLeftControls=function(){return a.default.createElement("div",{className:u},a.default.createElement(l.VideoMarkersWithErrorHandling,null),a.default.createElement(o.PausePlayButton,null),a.default.createElement(s.VolumeSlider,null))}},mhpV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptionButton=t.mapDispatchToProps=void 0,t.ClosedCaptionButtonContainer=f;var r=u(n("q1tI")),i=u(n("17x9")),a=n("N58E"),o=n("rSwD"),s=n("YWLq"),l=n("1Avz");function u(e){return e&&e.__esModule?e:{default:e}}var c={captionsAvailable:i.default.bool.isRequired,captionsEnabled:i.default.bool.isRequired,onEnableCaptions:i.default.func.isRequired,onDisableCaptions:i.default.func.isRequired},d=t.mapDispatchToProps=function(e){return{onEnableCaptions:function(){e((0,o.setCaptionsEnabled)(!0)),e((0,s.trackEvent)("player_click_cc"))},onDisableCaptions:function(){e((0,o.setCaptionsEnabled)(!1)),e((0,s.trackEvent)("player_click_cc"))}}};function f(e){var t=e.captionsAvailable,n=e.captionsEnabled,i=e.onEnableCaptions,a=e.onDisableCaptions;return t?r.default.createElement(l.ClosedCaptionButton,{captionsEnabled:n,onEnableCaptions:i,onDisableCaptions:a}):null}f.propTypes=c;t.ClosedCaptionButton=(0,a.connect)(function(e){var t=e.captions;return{captionsAvailable:t.available,captionsEnabled:t.enabled}},d)(f)},mlPz:function(e,t){},mrID:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEventEmitterMiddleware=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return function(t){return function(n){var l=e;return function(e){var h=t.getState(),m=h.screenMode;switch(e.type){case r.ACTION_USE_EVENT_EMITTER:l=e.emitter;break;case r.ACTION_EMIT_OPEN_STREAM:l.emit(i.OPEN_STREAM);break;case r.ACTION_TRANSITION_TO_COLLECTION:l.emit(i.TRANSITION_TO_COLLECTION_VOD,{vodId:e.vodId,collectionId:e.collectionId});break;case r.ACTION_EMIT_FULLSCREEN_CHANGE:l.emit(u.FULLSCREEN_CHANGE);break;case r.ACTION_EMIT_EXTERNAL_FULLSCREEN_CHANGE:l.emit(c.EXTERNAL_FULLSCREEN_CHANGE);break;case r.ACTION_TRANSITION_TO_REC_VOD:l.emit(i.TRANSITION_TO_RECOMMENDED_VOD,{vodId:e.vodId});break;case d.ACTION_SET_PERSISTENCE:l.emit(i.PERSISTENT_PLAYER_TOGGLE);break;case f.ACTION_SET_THEATRE_MODE:if(m.isTheatreMode===e.isTheatreMode)break;l.emit(i.THEATRE_CHANGE,!m.isFullScreen&&e.isTheatreMode);break;case f.ACTION_TOGGLE_THEATRE_MODE:l.emit(i.THEATRE_CHANGE,!m.isFullScreen&&!m.isTheatreMode);break;case p.ACTION_PROMPT_LOGIN_MODAL:l.emit(i.PROMPT_LOGIN_MODAL,{channelDisplayName:e.channelName});break;case r.ACTION_AD_PLAY:l.emit(a.PLAY);break;case r.ACTION_AD_PLAYING:l.emit(a.PLAYING);break;case r.ACTION_AD_PAUSE:l.emit(a.PAUSE);break;case r.ACTION_EMIT_PLAYER_READY:l.emit(i.PLAYER_READY);break;case r.ACTION_PLAYBACK_BLOCKED_EVENT:l.emit(a.PLAYBACK_BLOCKED);break;case r.ACTION_FIRST_PARTY_ANALYTIC_EVENT:l.emit(e.event,e.data);break;case _.ACTION_MODERATION_OPENED:l.emit(i.CLIPS_MODERATION_OPEN,e.moderationType);break;case r.ACTION_EMIT_FOCUS_PLAYER:l.emit(i.FOCUS_PLAYER);break;case r.ACTION_EMIT_FOLLOW_CHANNEL:l.emit(i.FOLLOW_CHANNEL);break;case r.ACTION_EMIT_UNFOLLOW_CHANNEL:l.emit(i.UNFOLLOW_CHANNEL);break;case r.ACTION_EMIT_ENABLE_NOTIFICATIONS:l.emit(i.ENABLE_NOTIFICATIONS);break;case r.ACTION_EMIT_DISABLE_NOTIFICATIONS:l.emit(i.DISABLE_NOTIFICATIONS);break;case r.ACTION_EMIT_ENTER_MULTIVIEW:l.emit(i.ENTER_MULTIVIEW,t.getState().stream.channel);break;case r.ACTION_EMIT_REMOVE_STREAM:l.emit(i.REMOVE_STREAM,t.getState().stream.channel);break;case r.ACTION_EMIT_SUBSCRIBE_CHANNEL:l.emit(i.SUBSCRIBE_CHANNEL);break;case r.ACTION_EMIT_OPEN_SUB_CHECKOUT:l.emit(i.OPEN_SUB_CHECKOUT,e.productName);break;case r.ACTION_EMIT_PRIME_SUBSCRIBE_CHANNEL:l.emit(i.PRIME_SUBSCRIBE_CHANNEL);break;case o.ACTION_CONTENT_RESTRICTED:l.emit(i.CONTENT_RESTRICTED,e.restriction);break;case s.ACTION_ERROR:l.emit(i.PLAYBACK_ERROR)}n(e)}}}};var r=h(n("2GWp")),i=h(n("nC/T")),a=h(n("JZwe")),o=h(n("VPTj")),s=h(n("+eo6")),l=n("Bb3z"),u=n("hzFE"),c=n("kDMx"),d=n("L5pO"),f=n("KE4D"),p=n("/24N"),_=n("8Y3c");function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var m=new l.NullEventEmitter},mtzo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TwitchEverywhereManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("qT8i"),a=n("9/en"),o=n("/24N"),s=n("/71H");t.TwitchEverywhereManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.unsubs=[],this.unsubs.push((0,i.subscribe)(this.store,["streamMetadata.channel"],this.onChannelChange.bind(this)))}return r(e,[{key:"onChannelChange",value:function(){var e=this.store.getState(),t=e.user,n=e.streamMetadata,r=n.channel.name;if(this.store.dispatch((0,a.fetchSubscriptionProducts)(r)),t.loggedInStatus===s.LOGGED_IN){var i=t.id,l=n.channel.id;this.store.dispatch((0,o.fetchFollowInfo)(i,l)),this.store.dispatch((0,a.fetchChannelSubscriptions)(i,l))}}},{key:"destroy",value:function(){this.unsubs.forEach(function(e){return e()})}}]),e}()},"nC/T":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PLAYER_INIT="init",t.STREAM_LOUDNESS="streamLoudness",t.CONTENT_SHOWING="contentShowing",t.PLAYBACK_STATISTICS="playbackStatistics",t.CHANSUB_REQUIRED="chansubRequired",t.VIDEO_FAILURE="videoFailure",t.FORMATS="videoFormats",t.FORMAT_CHANGED="videoFormatChanged",t.TIME_CHANGE="timeChange",t.BUFFER_CHANGE="bufferChange",t.SEGMENT_CHANGE="segmentchange",t.USHER_FAIL_ERROR="usherFail",t.CAPTION_UPDATE="captions",t.SEEK_FAILED="seekfailed",t.VARIANT_SWITCH_REQUESTED="variantSwitchRequested",t.VIEWERS_CHANGE="viewerschange",t.STREAM_LOADED="streamLoaded",t.VIDEO_LOADED="videoLoaded",t.VIDEO_PAUSED="videoPaused",t.QUALITY_CHANGE="qualitychange",t.ONLINE="online",t.OFFLINE="offline",t.RESTRICTED="restricted",t.CASTING_CHANGE="castingchange",t.THEATRE_CHANGE="theatrechange",t.MIDROLL_REQUESTED="midrollrequested",t.MANIFEST_EXTRA_INFO="manifestExtraInfo",t.TRANSITION_TO_COLLECTION_VOD="transitionToCollectionVod",t.TRANSITION_TO_RECOMMENDED_VOD="transitionToRecommendedVod",t.STITCHED_AD_START="stitchedadstart",t.STITCHED_AD_END="stitchedadend",t.PERSISTENT_PLAYER_TOGGLE="persistentPlayerEnableToggle",t.STATS_UPDATE="statsupdate",t.PROMPT_LOGIN_MODAL="prompt login modal",t.OPEN_STREAM="openStream",t.PLAYER_READY="ready",t.CLIPS_MODERATION_OPEN="clips-moderation-open",t.PREMIUM_CONTENT_RESTRICTED="premiumContentRestricted",t.FOCUS_PLAYER="focusPlayer",t.FOLLOW_CHANNEL="followChannel",t.UNFOLLOW_CHANNEL="unfollowChannel",t.ENABLE_NOTIFICATIONS="enableNotifications",t.DISABLE_NOTIFICATIONS="disableNotifications",t.TIMED_METADATA="timedMetadata",t.VOD_RESTRICTED="vodrestricted",t.ENTER_MULTIVIEW="enterMultiview",t.REMOVE_STREAM="removeStream",t.CONTENT_RESTRICTED="contentRestricted",t.SUBSCRIBE_CHANNEL="subscribeChannel",t.OPEN_SUB_CHECKOUT="subscriptionCheckout",t.PRIME_SUBSCRIBE_CHANNEL="primeSubscribeChannel",t.PLAYBACK_ERROR="playbackerror",t.MASTER_MANIFEST_READY="masterManifestReady"},nMl0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMBED_WHITELIST=void 0,t.initOptions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)(e)?s.parse(e):e;if(function(e,t){var n=(0,c.parseUri)(t.getState().window.location.href);n.queryKey.hasOwnProperty("force_preroll")&&(e.usher_force_preroll=!0,e.force_preroll=n.queryKey.force_preroll),n.queryKey.hasOwnProperty("force_midroll")&&(e.usher_force_midroll=!0,e.force_midroll=n.queryKey.force_midroll),n.queryKey.hasOwnProperty("force_preroll_id")&&(e.force_preroll_id=n.queryKey.force_preroll_id),n.queryKey.hasOwnProperty("force_midroll_id")&&(e.force_midroll_id=n.queryKey.force_midroll_id)}(n=b(n,window.location.href),t),!(0,l.isTwitchEmbed)()){var v=[h.PLAYER_CURSE,h.PLAYER_SITE,h.PLAYER_FRONTPAGE,h.PLAYER_AMAZON_VSE,h.PLAYER_FEED,h.PLAYER_ONBOARDING,h.PLAYER_CHANNEL_TRAILER];(0,a.default)(T,n.player)||(n=(0,o.default)(n,d.embedParameters)),n.branding=!(0,a.default)(v,n.player)}n.backend=function(e){if(e.flash)return p.BACKEND_FLASH;if(e.hls)return f.BACKEND_HLS;var t=_.BackendMediaPlayer.canPlay(),n=f.BackendHls.canPlay();return e.html5&&t?_.BACKEND_MEDIA_PLAYER:e.html5&&n?f.BACKEND_HLS:void 0}(n),n.allowfullscreen=!1!==n.allowfullscreen,(n=(0,r.default)(n,{time:n.t})).time=s.convertUrlQueryParamTime(n.time),n=(0,r.default)(n,{volume:u.localStore.get("volume"),muted:m.mutedPersistence.get(n.player),backend:u.localStore.get("backend"),player:n.player===h.PLAYER_IMDB?h.PLAYER_IMDB:(0,E.getPlayerType)()}),(n=(0,r.default)(n,{showInfo:n.channelInfo},{showInfo:!0,branding:!0,volume:.5,muted:!1,persistUserPreferences:!0,controls:!0,autoplay:!0,playsinline:!0,quality:"medium",time:null,leaveDialogEnabled:d.leaveDialog.enabled,leaveDialogViewerThreshold:d.leaveDialog.viewerThreshold,refreshWarningEnabled:d.leaveDialog.enabled,lang:d.defaultLanguage,showtheatre:!1,abs:!1,origin:"",tt_content:"",tt_medium:""})).tracking=(0,r.default)({},n.tracking,n.trackingProperties),n.nSecondPlayPeriods&&(Array.isArray(n.nSecondPlayPeriods)&&!n.nSecondPlayPeriods.some(function(e){return"number"!=typeof e})||delete n.nSecondPlayPeriods);if("string"==typeof n.multiview)try{n.multiview=JSON.parse(n.multiview)}catch(e){}return n},t.optionsWithClipsEmbedPlayerHack=b;var r=g(n("la6v")),i=g(n("4qC0")),a=g(n("ijCd")),o=g(n("JZM8")),s=y(n("ZtkW")),l=n("0gEH"),u=n("EoNM"),c=n("uCED"),d=y(n("J0qE")),f=n("7SVc"),p=n("TxdA"),_=n("idqK"),h=y(n("uC+K")),m=n("TYSy"),E=n("Qn3q"),v=g(n("3OWR"));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var T=t.EMBED_WHITELIST=Object.freeze([h.PLAYER_IMDB,h.PLAYER_CURSE,h.PLAYER_SITE,h.PLAYER_AMAZON_LIVE,h.PLAYER_AMAZON_VSE,h.PLAYER_AMAZON_PRODUCT_PAGE].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(h.CLIPS_PLAYER_TYPES)));function b(e,t){return 0!==t.indexOf("https://clips.twitch.tv/embed")?e:(0,v.default)({},e,{player:h.PLAYER_CLIPS_EMBED})}},nNAs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BalloonItem=t.BalloonItemComponent=void 0;var r=c(n("q1tI")),i=c(n("17x9")),a=c(n("TSYQ")),o=n("9kay"),s=n("cLw2"),l=n("dndI"),u=n("/TO3");function c(e){return e&&e.__esModule?e:{default:e}}var d={active:i.default.bool.isRequired,currentTime:i.default.number.isRequired,index:i.default.number.isRequired,marker:i.default.object.isRequired,t:i.default.func.isRequired,trackEvent:i.default.func.isRequired,onSubClick:i.default.func.isRequired,onVideoMarkerClick:i.default.func.isRequired},f=(0,a.default)({"video-markers-row__info-wrapper":!0,"pl-flex":!0,"pl-flex--horizontalCenter":!0,"pl-flex--column":!0,"pl-flex__item--grow":!0,"pl-pd-l-1":!0,"pl-pd-t-05":!0,"pl-pd-b-05":!0}),p=(0,a.default)({"video-markers-row__image-wrapper":!0,"pl-flex__item--noGrow":!0,"pl-flex__item--noShrink":!0,"video-markers-balloon-pl-relative":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),_=(0,a.default)({"video-markers-row__image-play-overlay":!0,"pl-flex":!0,"pl-flex--verticalCenter":!0}),h=t.BalloonItemComponent=function(e){function t(){e.marker.children&&e.marker.children.length>0?e.onSubClick(e.marker):e.onVideoMarkerClick(e.marker.offset),e.trackEvent("player_video_marker_balloon_item_click",{index:e.index,content_id:e.marker.id,content_type:e.marker.momentType})}var n=void 0;e.marker.children&&e.marker.children.length>0&&(n=r.default.createElement("div",{className:"pl-flex pl-flex--inline pl-flex--verticalCenter pl-flex__item--noShrink"},r.default.createElement("span",{className:"video-markers-balloon__item-pill pl-pill pl-pill--purple"},e.marker.children.length),r.default.createElement(u.GlyphArrow,{asset:u.SVGAsset.GlyphArrRight})));var i=(0,a.default)({"video-markers-balloon__item":!0,"video-markers-balloon__item-active":e.active,"pl-flex":!0,"pl-flex--nowrap":!0});return r.default.createElement("div",{className:i},r.default.createElement("div",{className:"video-markers-balloon__item-interactable"},r.default.createElement("div",{className:"pl-flex pl-pd-05 pl-flex--nowrap",onClick:t,onKeyPress:t,role:"button",tabIndex:e.index},r.default.createElement("div",{className:p},r.default.createElement("figure",null,r.default.createElement("img",{src:e.marker.thumbnailUrl,alt:e.marker.label})),r.default.createElement("div",{className:_},r.default.createElement("figure",{className:"video-markers-balloon__play"},r.default.createElement(l.PlaySVG,null)))),r.default.createElement("div",{className:f},r.default.createElement("p",{className:"video-markers-balloon-c-text ellipsis"},e.marker.label),r.default.createElement("p",{className:"video-markers-balloon-c-text-alt-2"},e.marker.parentMoment?e.marker.subLabel:m(e))),n)))},m=function(e){if(e.active){var t=E(e.currentTime,e.marker.offset,e.marker.duration);return(0,s.toHumanTimeRemaining)(t,e.t)}return(0,s.toHumanTime)(e.marker.duration,e.t)},E=function(e,t,n){return t+n-e};h.propTypes=d;t.BalloonItem=(0,o.translate)()(h)},nOTn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.avapLoaded=void 0,t.loadAVAP=function(e){e.AmazonVideoAds&&i();o||(o=!0,(0,r.fetchVAESScript)().then(i,a))};var r=n("2ANx"),i=null,a=null,o=(t.avapLoaded=new Promise(function(e,t){i=e,a=t}),!1)},"nS/Q":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.LiveSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 12 12"},e),i.default.createElement("path",{d:"M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0",fill:e.fill}))}).propTypes=l},nWaZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BottomRightControls=t.BottomRightControlsComponent=t.mapStateToProps=t.CONTAINER_CLASSES=void 0;var r=v(n("q1tI")),i=v(n("17x9")),a=n("FKuM"),o=n("5+Jb"),s=n("mhpV"),l=n("1SR/"),u=n("HzOX"),c=n("4D9z"),d=n("eUgB"),f=n("og/t"),p=n("j+dE"),_=n("N58E"),h=n("uC+K"),m=n("kgFP"),E=n("Er8A");function v(e){return e&&e.__esModule?e:{default:e}}var y=t.CONTAINER_CLASSES="player-buttons-right",g={shouldShowMultiviewButton:i.default.bool.isRequired,shouldShowFullscreenButton:i.default.bool.isRequired,shouldShowShareButton:i.default.bool.isRequired,shouldShowSettingsButton:i.default.bool.isRequired,shouldShowTheatreButton:i.default.bool.isRequired},T=t.mapStateToProps=function(e){var t=e.env;return{shouldShowMultiviewButton:h.PLAYER_SITE===t.playerType||h.PLAYER_MULTIVIEW_PRIMARY===t.playerType,shouldShowFullscreenButton:h.PLAYER_MULTIVIEW_SECONDARY!==t.playerType,shouldShowShareButton:h.PLAYER_CLIPS_EMBED===t.playerType,shouldShowSettingsButton:h.PLAYER_CLIPS_EDITING!==t.playerType,shouldShowTheatreButton:!h.MULTIVIEW_PLAYER_TYPES.includes(t.playerType)}},b=t.BottomRightControlsComponent=function(e){var t=e.shouldShowMultiviewButton,n=e.shouldShowFullscreenButton,i=e.shouldShowSettingsButton,_=e.shouldShowShareButton,h=e.shouldShowTheatreButton;return r.default.createElement("div",{className:y},r.default.createElement(a.NotificationPopUpsWrapper,null),r.default.createElement(m.LowLatencyNotification,null),i&&r.default.createElement(o.Settings,null),r.default.createElement(s.ClosedCaptionButton,null),r.default.createElement("div",{className:"player-menu"},r.default.createElement(l.ClipsButton,null)),_&&r.default.createElement(p.ShareButton,null),r.default.createElement(u.ChromecastButton,null),t&&r.default.createElement(E.MultiviewButton,null),h&&r.default.createElement(c.TheatreModeButton,null),n&&r.default.createElement(d.FullScreenButton,null),r.default.createElement(f.WatchTwitchButton,null))};b.propTypes=g;t.BottomRightControls=(0,_.connect)(T)(b)},noZS:function(e,t,n){var r=n("hypo"),i=n("JC6p"),a=n("ut/Y");e.exports=function(e,t){var n={};return t=a(t,3),i(e,function(e,i,a){r(n,i,t(e,i,a))}),n}},nqwM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClipContentStream=t.CONTENT_MODE_CLIP=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("2jd5");var a=t.CONTENT_MODE_CLIP="clip";t.ClipContentStream=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._slug=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.AbstractStream),r(t,[{key:"contentType",get:function(){return a}},{key:"slug",get:function(){return this._slug}},{key:"streamUrl",get:function(){return Promise.resolve("")}},{key:"castStreamUrl",get:function(){return Promise.resolve("")}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}()},o5w0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptions=t.mapStateToProps=void 0,t.ClosedCaptionsContainer=f,t.parseCaptions=p;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("hXej"),s=n("uNCh");function l(e){return e&&e.__esModule?e:{default:e}}var u={isShowingAd:i.default.bool,isMiniPlayer:i.default.bool,enabled:i.default.bool.isRequired,captionsData:i.default.object,captionsStyle:i.default.shape({fontSize:i.default.number,font:i.default.string,fontOpacity:i.default.string,alignment:i.default.string,edge:i.default.string,verticalPosition:i.default.string,backgroundColorName:i.default.string,backgroundOpacity:i.default.string,windowColorName:i.default.string,windowOpacity:i.default.string,fontUnderline:i.default.string,fontBold:i.default.string,fontItalic:i.default.string}).isRequired},c=/\r?\n|\r/g,d=t.mapStateToProps=function(e){var t=e.captions,n=e.ui,r=e.screen;return{enabled:t.enabled,captionsData:t.data,captionsStyle:t.style,isMiniPlayer:n.isMini,isShowingAd:r[0]===s.ADVERTISEMENT_SCREEN||r[0]===s.STITCHED_ADVERTISEMENT_SCREEN}};function f(e){var t=e.enabled,n=e.captionsData,i=e.captionsStyle,a=e.isMiniPlayer,s=e.isShowingAd;if(!t||!n||a||s)return null;var l=p(n);return r.default.createElement(o.ClosedCaptions,{captionsText:l,captionsStyle:i})}f.propTypes=u;t.ClosedCaptions=(0,a.connect)(d)(f);function p(e){var t=e.text;return(t&&t.length>0?t.trim():"")?String(t).split(c):[]}},oDQa:function(e,t,n){},oLeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoplayProgressBar=void 0;var r=o(n("q1tI")),i=o(n("17x9")),a=o(n("lFKM"));function o(e){return e&&e.__esModule?e:{default:e}}var s={percentage:i.default.number.isRequired};(t.AutoplayProgressBar=function(e){var t=e.percentage;return!(0,a.default)(t)||t<0||t>100?null:r.default.createElement("div",{className:"pl-card__progress-bar"},r.default.createElement("div",{className:"pl-card__progress-bar--fill",style:{width:t+"%"}}))}).propTypes=s},oeCv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PausePlayButton=t.PausePlayButtonContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=f(n("ijCd")),s=n("N58E"),l=n("sE+n"),u=n("4b1H"),c=n("YWLq"),d=n("uC+K");function f(e){return e&&e.__esModule?e:{default:e}}var p={pause:a.default.func.isRequired,play:a.default.func.isRequired,trackPlayPause:a.default.func.isRequired,unmutePlayer:a.default.func.isRequired,paused:a.default.bool.isRequired,showReplay:a.default.bool.isRequired,isMobileWeb:a.default.bool.isRequired},_=t.mapStateToProps=function(e){var t=e.playback,n=e.env;return{paused:t.paused,showReplay:(0,o.default)(d.CLIPS_PLAYER_TYPES,n.playerType)&&t.paused&&t.ended,isMobileWeb:n.isMobileLocation}},h=t.mapDispatchToProps=function(e){return{play:function(){e((0,u.play)())},pause:function(){e((0,u.pause)())},trackPlayPause:function(){e((0,c.trackEvent)("player_click_playpause"))},unmutePlayer:function(){e((0,u.mutePlayer)(!1))}}},m=t.PausePlayButtonContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onPauseHandler=e.onPauseHandler.bind(e),e.onPlayHandler=e.onPlayHandler.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.showReplay;return i.default.createElement(l.PausePlayButton,{onPause:this.onPauseHandler,onPlay:this.onPlayHandler,paused:t,showReplay:n})}},{key:"onPlayHandler",value:function(){var e=this.props,t=e.play,n=e.trackPlayPause;t(),n()}},{key:"onPauseHandler",value:function(){var e=this.props,t=e.pause,n=e.trackPlayPause,r=e.unmutePlayer,i=e.isMobileWeb;t(),n(),i&&r()}}]),t}();m.propTypes=p;t.PausePlayButton=(0,s.connect)(_,h)(m)},"og/t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatchTwitchButton=t.WatchTwitchButtonContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=g(n("q1tI")),a=g(n("17x9")),o=n("N58E"),s=n("22Sn"),l=n("4b1H"),u=n("56nq"),c=n("J0qE"),d=n("FxCM"),f=n("wsSb"),p=n("VIow"),_=n("jC1Q"),h=n("nqwM"),m=n("SaYp"),E=n("GHcg"),v=n("9kay"),y=n("KR5+");function g(e){return e&&e.__esModule?e:{default:e}}var T={currentTime:a.default.number.isRequired,streamType:a.default.string,channelName:a.default.string.isRequired,videoId:a.default.string,metadataUrl:a.default.string,windowObj:a.default.object.isRequired,showBranding:a.default.bool.isRequired,pausePlayer:a.default.func.isRequired,t:a.default.func.isRequired,isMobile:a.default.bool.isRequired},b={streamType:_.CONTENT_MODE_NONE,videoId:""},S=t.mapStateToProps=function(e){var t=e.env,n=e.playback,r=e.stream,i=e.streamMetadata,a=e.window,o=e.playerOptions;return{currentTime:n.currentTime,streamType:r.contentType,channelName:i.channel.name,videoId:i.videoId,metadataUrl:i.url,windowObj:a,showBranding:o.branding,isMobile:t.platform===y.PLATFORM_MOBILE_WEB}},A=t.mapDispatchToProps=function(e){return{pausePlayer:function(){e((0,l.pause)())}}},C=t.WatchTwitchButtonContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=e.handleClick.bind(e),e.getButtonLabel=e.getButtonLabel.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){var t=this,n=function(n){return e[n]!==t.props[n]};return n("streamType")||n("channelName")||n("videoId")||n("showBranding")||n("pausePlayer")}},{key:"render",value:function(){return this.props.showBranding?i.default.createElement(s.WatchTwitchButton,{onClick:this.handleClick,buttonLabel:this.getButtonLabel()}):null}},{key:"getButtonLabel",value:function(){var e=this.props,t=e.streamType,n=e.t;return t===h.CONTENT_MODE_CLIP?n("View clip page"):n("Watch on Twitch")}},{key:"handleClick",value:function(){var e=this.props,t=e.isMobile,n=e.streamType,r=e.windowObj,i=e.pausePlayer,a="";switch(n){case f.CONTENT_MODE_LIVE:a=this._getLiveURL();break;case p.CONTENT_MODE_VOD:a=this._getVODURL();break;case h.CONTENT_MODE_CLIP:a=this._getClipURL();break;case _.CONTENT_MODE_NONE:a=t?c.mobileWebTwitchHost:c.twitchHost}r.open(a,"_blank"),i()}},{key:"_getClipURL",value:function(){var e=this.props.metadataUrl;return(0,E.ttAnalyticsQuery)(e,m.TRACKING_MEDIUM_EMBED,m.TRACKING_PROPERTY_TWITCH_LOGO)}},{key:"_getVODURL",value:function(){var e=this.props,t=e.channelName,n=e.videoId,r=e.currentTime,i=e.isMobile,a=(0,d.toURLString)(Math.round(r));return(0,u.videoUrl)({channel:t,video:n,params:{t:a},isMobile:i})}},{key:"_getLiveURL",value:function(){return(0,u.channelUrl)({channel:this.props.channelName,params:null,isMobile:this.props.isMobile})}}]),t}();C.propTypes=T,C.defaultProps=b;t.WatchTwitchButton=(0,v.translate)()((0,o.connect)(S,A)(C))},ohnt:function(e,t,n){!function(){function t(e,t){var n,r,i,a,o,s,l,u;for(n=3&e.length,r=e.length-n,i=t,o=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(a=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(a>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,a=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++a;switch(r){case 3:i^=(255&e.charCodeAt(a+2))<<16;case 2:i^=(255&e.charCodeAt(a+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(a)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},olr1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n("q1tI")),a=l(n("17x9")),o=l(n("TSYQ")),s=n("kKdq");function l(e){return e&&e.__esModule?e:{default:e}}var u={muted:a.default.bool.isRequired,fill:a.default.string,viewBox:a.default.string};(t.VolumeSVG=function(e){var t=(0,o.default)({"player-icon-volumemute":e.muted,"player-icon-volumefull":!e.muted});return e.muted?i.default.createElement(s.SVGWrapper,r({viewBox:"0 0 30 30",className:t},e),i.default.createElement("path",{d:"M10 12l4.146-4.146a.5.5 0 0 1 .854.353v13.586a.5.5 0 0 1-.854.354L10 18H7v-6h3zm7 1.414L18.414 12l1.623 1.623L21.66 12l1.414 1.414-1.623 1.623 1.623 1.623-1.414 1.414-1.623-1.623-1.623 1.623L17 16.66l1.623-1.623L17 13.414z",fill:e.fill})):i.default.createElement(s.SVGWrapper,r({viewBox:"0 0 30 30",className:t},e),i.default.createElement("path",{d:"M14.146 7.854a.5.5 0 0 1 .854.353v13.586a.5.5 0 0 1-.854.354L10 18H9a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h1l4.146-4.146zM17 13a2 2 0 1 1 0 4v-4zm0-2V9a6 6 0 0 1 0 12v-2a4 4 0 0 0 0-8z",fill:e.fill}))}).propTypes=u},op7T:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReportIssuesMenu=t.ReportIssuesMenuContainer=t.mapDispatchToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n("q1tI")),a=d(n("17x9")),o=n("N58E"),s=n("b5kB"),l=n("4b1H"),u=n("WPq1"),c=n("Z4ex");function d(e){return e&&e.__esModule?e:{default:e}}var f={handleVideoIssueReport:a.default.func,handleAdIssueReport:a.default.func,setHideSettingsMenuTimer:a.default.func,hideSettingsMenu:a.default.func,onMenuTransition:a.default.func,windowObj:a.default.object.isRequired},p=t.mapDispatchToProps=function(e){return{handleVideoIssueReport:function(t){e((0,l.submitVideoIssueReport)(t))},handleAdIssueReport:function(t){e((0,u.submitAdIssueReport)(t))},hideSettingsMenu:function(){e((0,c.showMenu)(c.MENU_STATE_NONE))}}},_=t.ReportIssuesMenuContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleVideoIssueReport=e.handleVideoIssueReport.bind(e),e.handleAdIssueReport=e.handleAdIssueReport.bind(e),e.setHideSettingsMenuTimer=e.setHideSettingsMenuTimer.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"setHideSettingsMenuTimer",value:function(){var e=this;this.props.windowObj.setTimeout(function(){e.props.hideSettingsMenu()},s.REPORT_FEEDBACK_DELAY)}},{key:"handleVideoIssueReport",value:function(e){this.props.handleVideoIssueReport(e),this.setHideSettingsMenuTimer()}},{key:"handleAdIssueReport",value:function(e){this.props.handleAdIssueReport(e),this.setHideSettingsMenuTimer()}},{key:"render",value:function(){var e=this.props,t=e.onMenuTransition,n=e.windowObj;return i.default.createElement(s.ReportIssuesMenu,{onMenuTransition:t,onReportVideoIssueSubmit:this.handleVideoIssueReport,onReportAdIssueSubmit:this.handleAdIssueReport,windowObj:n})}}]),t}();_.propTypes=f,_.defaultProps={handleVideoIssueReport:function(){},handleAdIssueReport:function(){},setHideSettingsMenuTimer:function(){},hideSettingsMenu:function(){},onMenuTransition:function(){}};t.ReportIssuesMenu=(0,o.connect)(function(e){return{windowObj:e.window}},p)(_)},opCn:function(e){e.exports={Live:"Live",Advertisement:"Advertisement","This Ad supports {{channelName}}":"This Ad supports {{channelName}}","This Ad supports Twitch":"This Ad supports Twitch","{{channelName}} will be back shortly. This Ad supports Twitch.":"{{channelName}} will be back shortly. This Ad supports Twitch.","{{channelName}} will be back shortly. This Ad supports them.":"{{channelName}} will be back shortly. This Ad supports them.","This video will be back shortly. This Ad supports Twitch.":"This video will be back shortly. This Ad supports Twitch.","This video will be back shortly. This Ad supports {{channelName}}.":"This video will be back shortly. This Ad supports {{channelName}}.","Thanks for watching the stream! This Ad supports {{channelName}}.":"Thanks for watching the stream! This Ad supports {{channelName}}.","Thanks for watching the stream! This Ad supports Twitch.":"Thanks for watching the stream! This Ad supports Twitch.",ID:"ID","Impression Time":"Impression Time","Ad Position":"Ad Position","Total Ads":"Total Ads","Creative ID":"Creative ID","Ad Wrapper IDs":"Ad Wrapper IDs",Title:"Title",System:"System","Content Type":"Content Type","VAST Media Height":"VAST Media Height","VAST Media Width":"VAST Media Width","VAST Media Bitrate":"VAST Media Bitrate",Pause:"Pause",Play:"Play",Mute:"Mute",Unmute:"Unmute",Options:"Options",Fullscreen:"Fullscreen","Exit Fullscreen":"Exit Fullscreen","Player Options":"Player Options","Video Quality":"Video Quality",Source:"Source",High:"High",Medium:"Medium",Low:"Low",Mobile:"Mobile","Popout Player":"Popout Player","Video Stats":"Video Stats","Ad Stats":"Ad Stats","Report Playback Issue":"Report Playback Issue",Captions:"Captions","Closed Captioning":"Closed Captioning","Closed Caption Settings":"Closed Caption Settings",Presets:"Presets",Text:"Text",Background:"Background",Window:"Window",Aa:"Aa",Font:"Font","Mono Serif":"Mono Serif",Serif:"Serif","Mono Sans-Serif":"Mono Sans-Serif","Sans-Serif":"Sans-Serif",Casual:"Casual",Cursive:"Cursive","Small Capitals":"Small Capitals",Position:"Position",Bottom:"Bottom",Top:"Top",Justification:"Justification",Alignment:"Alignment",Center:"Center",Left:"Left",Right:"Right",Style:"Style",Effects:"Effects",Effect:"Effect",Color:"Color",Size:"Size",A:"A",Opacity:"Opacity",Solid:"Solid",Translucent:"Translucent","Semi-Transparent":"Semi-Transparent",Transparent:"Transparent",Flashing:"Flashing","Increase Size":"Increase Size","Decrease Size":"Decrease Size",Select:"Select","Audio and video stutter":"Audio and video stutter","Leave feedback?":"Leave feedback?","Video stutters, but audio is fine":"Video stutters, but audio is fine","Video is completely black or doesn't load":"Video is completely black or doesn't load","Audio and video aren't synced":"Audio and video aren't synced","Fullscreen playback doesn't work":"Fullscreen playback doesn't work","Advertisement can't be muted or is too loud":"Advertisement can't be muted or is too loud","Advertisement has played too many times":"Advertisement has played too many times","Advertisement playback doesn't work":"Advertisement playback doesn't work","Advertisement is offensive or inappropriate":"Advertisement is offensive or inappropriate","Advertisement is too loud":"Advertisement is too loud","Advertisement is not relevant to my interests":"Advertisement is not relevant to my interests",Submit:"Submit","Theatre Mode":"Theatre Mode","Exit Theatre Mode":"Exit Theatre Mode","Video could not be found, or has been deleted by its owner":"Video could not be found, or has been deleted by its owner","Channel could not be found, or has been deleted by its owner":"Channel could not be found, or has been deleted by its owner","Video is loading":"Video is loading","Video is not available":"Video is not available","Flash is not installed":"Flash is not installed","The broadcaster indicated that the channel is intended for mature audiences.":"The broadcaster indicated that the channel is intended for mature audiences.","Start Watching":"Start Watching","Video Resolution":"Video Resolution","Display Resolution":"Display Resolution",FPS:"FPS","Skipped Frames":"Skipped Frames","Buffer Size":"Buffer Size","Latency To Broadcaster":"Latency To Broadcaster","Latency Mode":"Latency Mode","Normal Latency":"Normal Latency","Low Latency":"Low Latency","Latency To Encoder":"Latency To Encoder","Playback Rate":"Playback Rate","Memory Usage":"Memory Usage","Backend Version":"Backend Version","This channel is not configured in Low Latency mode":"This channel is not configured in Low Latency mode","This channel is configured in Low Latency mode. Low Latency enables you to interact with the broadcaster with minimal delay. However, some users may experience increased buffering as a result. You can disable Low latency mode using this toggle.":"This channel is configured in Low Latency mode. Low Latency enables you to interact with the broadcaster with minimal delay. However, some users may experience increased buffering as a result. You can disable Low latency mode using this toggle.","Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode":"Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.":"This video is only available to subscribers. Subscribe now to watch and support {{channelName}}.","This video quality is only available to subscribers. Subscribe now to watch and support %s.":"This video quality is only available to subscribers. Subscribe now to watch and support %s.","Playing on {{device}}":"Playing on {{device}}"," has started a playlist.":" has started a playlist.","Introducing Auto Quality!":"Introducing Auto Quality!","You can enable automatic video quality selection by clicking on the gear menu and selecting â€œAutoâ€ under Video Quality.":"You can enable automatic video quality selection by clicking on the gear menu and selecting â€œAutoâ€ under Video Quality.","Submit feedback by selecting Report Playback Issue from the gear menu.":"Submit feedback by selecting Report Playback Issue from the gear menu.",Offline:"Offline","Get notified when {{channelName}} is live":"Get notified when {{channelName}} is live","Follow and get notified when {{channelName}} is live":"Follow and get notified when {{channelName}} is live","Live Broadcast has ended":"Live Broadcast has ended","Get notified when {{channelName}} goes live next":"Get notified when {{channelName}} goes live next","Follow {{channelName}} on Twitch":"Follow {{channelName}} on Twitch",Follow:"Follow",Following:"Following",Unfollow:"Unfollow",Notifications:"Notifications","Turn On Notifications":"Turn On Notifications",Playlist:"Playlist",Subscribe:"Subscribe","Gift a Sub":"Gift a Sub",Close:"Close","The broadcast is down.":"The broadcast is down.","The player will automatically reload when the broadcast is back.":"The player will automatically reload when the broadcast is back.","Copy Video URL at Current Time":"Copy Video URL at Current Time","Thanks for your report":"Thanks for your report","Coming Up":"Coming Up","Now playing: ":"Now playing: ","playing {{game}} for {{viewerCount}} viewer":"playing {{game}} for {{viewerCount}} viewer","playing {{game}} for {{viewerCount}} viewer_plural":"playing {{game}} for {{viewerCount}} viewers",Chromecast:"Chromecast","Watch on Twitch":"Watch on Twitch","You must be {{age}} to view this content. Please enter your date of birth.":"You must be {{age}} to view this content. Please enter your date of birth.","Sorry, you must be over the age of {{age}} to view this content.":"Sorry, you must be over the age of {{age}} to view this content.","Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.":"Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","Clip (Alt+X)":"Clip (Alt+X)","Clips is under maintenance and will be back in a few hours.":"Clips is under maintenance and will be back in a few hours.",Clip:"Clip","Learn More":"Learn More","Make an impact with Clip Titles":"Make an impact with Clip Titles","Give your clips the perfect title to share more about your favorite moments.":"Give your clips the perfect title to share more about your favorite moments.","Clip Trimming is Here":"Clip Trimming is Here","It just got a lot easier to share the perfect moment with Clips.":"It just got a lot easier to share the perfect moment with Clips.",Auto:"Auto","HTML5 Player":"HTML5 Player","You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.":"You are now using our new HTML5 video player! Click the gear icon to adjust your settings and share feedback.","Give Feedback":"Give Feedback","No supported video backend available; Flash is not installed":"No supported video backend available; Flash is not installed","Up Next":"Up Next",Cancel:"Cancel","Playing in {{timeRemaining}} second":"Playing in {{timeRemaining}} second","Playing in {{timeRemaining}} second_plural":"Playing in {{timeRemaining}} seconds","Mini Player":"Mini Player",ON:"ON",OFF:"OFF","By {{author}}":"By {{author}}","{{count}} video":"{{count}} video","{{count}} video_plural":"{{count}} videos","{{count}} second":"{{count}} second","{{count}} second_plural":"{{count}} seconds","{{count}} minute":"{{count}} minute","{{count}} minute_plural":"{{count}} minutes","{{count}} hour":"{{count}} hour","{{count}} hour_plural":"{{count}} hours","{{hoursText}} and {{minutesText}}":"{{hoursText}} and {{minutesText}}","{{count}} second left":"{{count}} second left","{{count}} second left_plural":"{{count}} seconds left","{{count}} minute left":"{{count}} minute left","{{count}} minute left_plural":"{{count}} minutes left","{{count}} hour left":"{{count}} hour left","{{count}} hour left_plural":"{{count}} hours left","{{hoursText}} and {{minutesText}} left":"{{hoursText}} and {{minutesText}} left","{{currentPosition}}/{{totalVideos}} video":"{{currentPosition}}/{{totalVideos}} video","{{currentPosition}}/{{totalVideos}} video_plural":"{{currentPosition}}/{{totalVideos}} videos","Video unavailable":"Video unavailable","Start watching":"Start watching","Skip this video":"Skip this video","This collection is empty.":"This collection is empty.",Quality:"Quality",Speed:"Speed",Normal:"Normal","Closed Captions Options":"Closed Captions Options",Advanced:"Advanced","Noticed a video playback issue? Let us know!":"Noticed a video playback issue? Let us know!","Sent!":"Sent!","Copy Video URL at {{time}}":"Copy Video URL at {{time}}","Copied!":"Copied!","Playing in":"Playing in","{{timeRemaining}} second":"{{timeRemaining}} second","{{timeRemaining}} second_plural":"{{timeRemaining}} seconds","Watch Now":"Watch Now","Watch Next":"Watch Next","Most Recent Video":"Most Recent Video",Settings:"Settings","Is your video buffering? Try the Auto quality option.":"Is your video buffering? Try the Auto quality option.","Your Twitch User ID":"Your Twitch User ID","Report Extension":"Report Extension","More from {{channelName}}":"More from {{channelName}}",Vodcast:"Vodcast",Premiere:"Premiere",Rerun:"Rerun","Playing pre-recorded video":"Playing pre-recorded video","Playing highlight":"Playing highlight","Playing uploaded video":"Playing uploaded video","Playing past broadcast":"Playing past broadcast","Rerun of video":"Rerun of video","Premiering video":"Premiering video","Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)":"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)","terms of service":"terms of service","Grant Access":"Grant Access","Revoke Access":"Revoke Access","You are granting {{extensionName}} the following access:":"You are granting {{extensionName}} the following access:","You are revoking the following access for {{extensionName}}:":"You are revoking the following access for {{extensionName}}:","Allows this extension to know your User ID on Twitch.":"Allows this extension to know your User ID on Twitch.","View Details":"View Details","Manage Access":"Manage Access",Access:"Access",Granted:"Granted","Active Extensions":"Active Extensions",Extensions:"Extensions",Interactions:"Interactions","Manage Permissions":"Manage Permissions",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December","Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.":"Receive updates on this channel's activity, including when they go live and upload videos or clips, on mobile, email, and web.","You must be logged in to use this extension feature":"You must be logged in to use this extension feature","The channel you are attempting to follow does not exist":"The channel you are attempting to follow does not exist","You are already following {{channelName}}":"You are already following {{channelName}}","You are about to follow {{channelName}}":"You are about to follow {{channelName}}","You must be logged in to use this extension feature.":"You must be logged in to use this extension feature.",'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under':'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',Buy:"Buy","In-Extension Purchase":"In-Extension Purchase","{{extensionName}} Extension":"{{extensionName}} Extension","You seem to be offline. Please wait while we try to reconnect.":"You seem to be offline. Please wait while we try to reconnect.",Share:"Share","{{displayName}} playing {{game}}":"{{displayName}} playing {{game}}","{{numberOfViews}} view":"{{numberOfViews}} view","{{numberOfViews}} view_plural":"{{numberOfViews}} views","Keyboard Shortcuts":"Keyboard Shortcuts","Pause/Play":"Pause/Play","Back/Forward 1 frame":"Back/Forward 1 frame","Slow down/Speed up":"Slow down/Speed up","Toggle Fullscreen":"Toggle Fullscreen","Show this menu":"Show this menu","Back/Forward {{count}} second":"Back/Forward {{count}} second","Back/Forward {{count}} second_plural":"Back/Forward {{count}} seconds",Space:"Space",Esc:"Esc",Shift:"Shift","{{displayName}} streaming on Twitch":"{{displayName}} streaming on Twitch","{{displayName}}'s video on Twitch":"{{displayName}}'s video on Twitch","Full Video":"Full Video","Watch {{broadcaster}} Live":"Watch {{broadcaster}} Live","Continue Watching":"Continue Watching","Sharing is Caring":"Sharing is Caring","Embed Code":"Embed Code",Copy:"Copy",Back:"Back",Link:"Link","Check out this clip from {{displayName}}'s broadcast":"Check out this clip from {{displayName}}'s broadcast","Tap to unmute":"Tap to unmute","Click to unmute":"Click to unmute","{{time}} sec.":"{{time}} sec.","{{time}} sec._plural":"{{time}} sec.","Success!":"Success!","You are trying to get":"You are trying to get","Bits Balance {{bitsCount}}":"Bits Balance {{bitsCount}}","{{bitsCount}} Bits":"{{bitsCount}} Bits","After confirming, your Bits balance will be {{bitsBalance}}":"After confirming, your Bits balance will be {{bitsBalance}}","Your remaining Bits balance will be {{remainingBitsCount}}":"Your remaining Bits balance will be {{remainingBitsCount}}",Confirm:"Confirm","Buy Bits":"Buy Bits","By clicking ":"By clicking ","You need {{bitsRequired}} more Bits to proceed.":"You need {{bitsRequired}} more Bits to proceed.","You need {{bitsRequired}} to get this item.":"You need {{bitsRequired}} to get this item.","Sorry, something went wrong. Please try again.":"Sorry, something went wrong. Please try again.","Safari is not currently supported for this stream. Please try Chrome or Firefox.":"Safari is not currently supported for this stream. Please try Chrome or Firefox.","Error Code":"Error Code","This premium content is not available in your region.":"This premium content is not available in your region.","Your device does not support playback of this premium content. Please try a different device.":"Your device does not support playback of this premium content. Please try a different device.","A proxy or unblocker has been detected. This premium content will not be available to you while it is in use.":"A proxy or unblocker has been detected. This premium content will not be available to you while it is in use.","We encountered a problem while loading your premium content. Please try again in a moment.":"We encountered a problem while loading your premium content. Please try again in a moment.","This channel has embedding disabled.":"This channel has embedding disabled.","Please connect to a Wi-Fi network to watch this premium content.":"Please connect to a Wi-Fi network to watch this premium content.","Command Center view: Watch with All-Access Pass":"Command Center view: Watch with All-Access Pass","Chapter Select":"Chapter Select","You can only watch this stream on the Twitch website.":"You can only watch this stream on the Twitch website.","{{broadcasterHero}} vs {{opponentHero}}":"{{broadcasterHero}} vs {{opponentHero}}","This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.":"This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime. Proceed only if you are familiar with the developer, the Extension, or Channel.","You've declined to use this test extension. To use it, please refresh this page and select accept.":"You've declined to use this test extension. To use it, please refresh this page and select accept.",Accept:"Accept",Decline:"Decline","The video download was cancelled. Please try again.":"The video download was cancelled. Please try again.","There was a network error. Please try again.":"There was a network error. Please try again.","An error occurred. Please try again.":"An error occurred. Please try again.","Your browser encountered an error while decoding the video.":"Your browser encountered an error while decoding the video.","This video is either unavailable or not supported in this browser.":"This video is either unavailable or not supported in this browser.","This video is unavailable.":"This video is unavailable.","Your browser does not support playback of this video.":"Your browser does not support playback of this video.","{{channelName}} is live streaming for subscribers.":"{{channelName}} is live streaming for subscribers.","Subscribe now to watch and support the stream.":"Subscribe now to watch and support the stream.","Get Access":"Get Access","Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})":"Ad {{adPosition}} of {{totalAds}} : ({{minutes}}:{{seconds}})",Codec:"Codec","is streaming for subscribers":"is streaming for subscribers","Your free preview ends in":"Your free preview ends in","Your free preview has expired":"Your free preview has expired","Sign up to watch a free preview":"Sign up to watch a free preview","Sign up now to join in:":"Sign up now to join in:","Watch free previews of Subscriber Streams":"Watch free previews of Subscriber Streams","Follow {{streamerName}} and never miss a stream":"Follow {{streamerName}} and never miss a stream","Subscribe to {{streamerName}}":"Subscribe to {{streamerName}}","Subscribe to watch and support {{streamerName}}":"Subscribe to watch and support {{streamerName}}","Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.":"Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.","Content is restricted":"Content is restricted","Subscribe free with Prime":"Subscribe free with Prime","Subscribe free":"Subscribe free","More options":"More options","Something went wrong.":"Something went wrong.","Try again":"Try again","is streaming for Tier {{tier}} subscribers":"is streaming for Tier {{tier}} subscribers","Subscribe Tier {{tier}} to watch and support {{streamerName}}":"Subscribe Tier {{tier}} to watch and support {{streamerName}}","Upgrade your Subscription":"Upgrade your Subscription",Visible:"Visible","Add to My Channel":"Add to My Channel","Build an Extension":"Build an Extension"}},oq68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StormWarningOverlay=void 0,t.StormWarningComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={t:i.default.func.isRequired};function l(e){var t=e.t;return r.default.createElement("div",{className:"pl-storm-warning"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("div",{className:"pl-loading-spinner"}),r.default.createElement("p",null,r.default.createElement("span",{className:"broadcast-down-label"},t("The broadcast is down.")),r.default.createElement("br",null),r.default.createElement("span",{className:"broadcast-reload-label"},t("The player will automatically reload when the broadcast is back.")))))}l.propTypes=s,l.defaultProps={t:function(){}};t.StormWarningOverlay=(0,a.translate)()(l)},ozMv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WindowPanel=t.mapDispatchToProps=t.mapStateToProps=t.WINDOW=void 0,t.WindowPanelContainer=f;var r=l(n("q1tI")),i=l(n("17x9")),a=n("N58E"),o=n("rSwD"),s=n("wTxB");function l(e){return e&&e.__esModule?e:{default:e}}t.WINDOW="Window";var u={selectColor:i.default.func.isRequired,selectOpacity:i.default.func.isRequired,currentColor:i.default.string.isRequired,currentOpacity:i.default.string.isRequired},c=t.mapStateToProps=function(e){var t=e.captions;return{currentColor:t.style.windowColorName,currentOpacity:t.style.windowOpacity}},d=t.mapDispatchToProps=function(e){return{selectColor:function(t){e((0,o.setCaptionsPreset)("custom",{windowColorName:t}))},selectOpacity:function(t){e((0,o.setCaptionsPreset)("custom",{windowOpacity:t}))}}};function f(e){var t=e.currentColor,n=e.selectColor,i=e.selectOpacity,a=e.currentOpacity;return r.default.createElement(s.BGandWindowPanel,{currentColor:t,currentOpacity:a,selectColor:n,selectOpacity:i})}f.propTypes=u;t.WindowPanel=(0,a.connect)(c,d)(f)},p7e0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grantAllConsent=function(){return{type:r}},t.clearAllConsent=function(){return{type:i}},t.setAmazonConsent=function(e){return{type:a,consent:e}},t.setComscoreConsent=function(e){return{type:o,consent:e}},t.setGoogleConsent=function(e){return{type:s,consent:e}},t.setNielsenConsent=function(e){return{type:l,consent:e}},t.setHasUserSavedAmazonConsent=function(e){return{type:u,hasUserSavedGDPRConsent:e}},t.setHasUserSavedComscoreConsent=function(e){return{type:c,hasUserSavedGDPRConsent:e}},t.setHasUserSavedGoogleConsent=function(e){return{type:d,hasUserSavedGDPRConsent:e}},t.setHasUserSavedNielsenConsent=function(e){return{type:f,hasUserSavedGDPRConsent:e}};var r=t.GRANT_ALL_CONSENT="grant all consent",i=t.CLEAR_ALL_CONSENT="clear all consent",a=t.SET_AMAZON_CONSENT="set amazon consent",o=t.SET_COMSCORE_CONSENT="set comscore consent",s=t.SET_GOOGLE_CONSENT="set google consent",l=t.SET_NIELSEN_CONSENT="set nielsen consent",u=t.SET_HAS_USER_SAVED_AMAZON_CONSENT="set has user saved amazon consent",c=t.SET_HAS_USER_SAVED_COMSCORE_CONSENT="set has user saved comscore consent",d=t.SET_HAS_USER_SAVED_GOOGLE_CONSENT="set has user saved google consent",f=t.SET_HAS_USER_SAVED_NIELSEN_CONSENT="set has user saved nielsen consent"},pB4y:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAdPlaying=t.DEFAULT_ADS=void 0,t.ads=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments[1];switch(t.type){case s.ACTION_SET_CLICKTHROUGH_URL:return(0,r.default)({},e,{clickThrough:t.URL});case s.ACTION_SET_AD_METADATA:return t.currentMetadata.contentType===s.AdContentTypes.STITCHED?(0,r.default)({},e,{currentMetadata:t.currentMetadata}):(0,r.default)({},e,{currentMetadata:t.currentMetadata,clickThrough:u.clickThrough});case s.ACTION_IMA_SCRIPT_LOADED:return(0,r.default)({},e,{imaScriptLoaded:t.imaScriptLoaded});case s.ACTION_SET_VOD_MIDROLL_ARCHIVE_SETTING:return(0,r.default)({},e,{vodMidrollArchiveSetting:t.setting});case o.ACTION_SET_STREAM:return(0,r.default)({},e,{vodMidrollArchiveSetting:a.VOD_MIDROLL_SETTING_INSERTED,currentAdProperties:s.DEFAULT_AD_PROPERTIES,currentSubscriptionBenefit:null,currentSubscriptionProducts:[]});case s.ACTION_SET_AD_DETAILS:return(0,r.default)({},e,{details:t.values});case s.ACTION_SET_AD_PLAYBACK:var n=t.playback.isAdImpression;return(0,i.default)({},e,{playback:{isAdImpression:n}});case s.ACTION_SET_REMAINING_AD_TIME:return(0,i.default)({},e,{details:{remainingAdTime:t.remainingAdTime}});case s.ACTION_SET_CHANNEL_AD_INFO:return(0,r.default)({},e,{currentAdProperties:t.currentAdProperties,currentSubscriptionBenefit:t.currentSubscriptionBenefit,currentSubscriptionProducts:t.currentSubscriptionProducts});case s.ACTION_SET_REMAINING_STITCHED_AD_TIME:return(0,i.default)({},e,{currentMetadata:{remainingStitchedAdTime:t.remainingStitchedAdTime}});case s.ACTION_SET_MOAT_ANALYTICS:return(0,r.default)({},e,{moatAnalytics:t.moatAnalytics});default:return e}};var r=l(n("3OWR")),i=l(n("QkVN")),a=n("ySAb"),o=n("D3OJ"),s=n("QBeZ");function l(e){return e&&e.__esModule?e:{default:e}}var u=t.DEFAULT_ADS={currentMetadata:{contentType:s.AdContentTypes.NONE,rollType:s.AdRollTypes.NONE,adPodInfo:{adPosition:0,totalAds:0}},clickThrough:"",imaScriptLoaded:!1,vodMidrollArchiveSetting:a.VOD_MIDROLL_SETTING_INSERTED,playback:{isAdImpression:!1},currentSubscriptionBenefit:null,currentSubscriptionProducts:[],currentAdProperties:s.DEFAULT_AD_PROPERTIES,details:s.DEFAULT_AD_DETAILS,moatAnalytics:null};t.isAdPlaying=function(e){return e.ads.currentMetadata.contentType!==s.AdContentTypes.NONE}},pBkb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_BITS_BALANCE_RETRIEVED=t.ACTION_RETRIEVING_BITS_BALANCE=t.ACTION_SET_BITS_BALANCE=void 0,t.fetchBitsBalance=function(){return function(e,t){var n=t(),a=n.user,o=n.bits;return o.retrievingBitsBalance?Promise.reject():a.loggedInStatus===i.LOGGED_IN?(e(u()),(0,r.getBitsBalance)(a.id).then(function(t){return e(l(t.balance))}).catch(function(){return e(c())})):Promise.reject(e(l(null)))}},t.setBitsBalance=l,t.retrievingBitsBalance=u,t.bitsBalanceRetrieved=c;var r=n("56nq"),i=n("/71H"),a=t.ACTION_SET_BITS_BALANCE="set bits balance",o=t.ACTION_RETRIEVING_BITS_BALANCE="retrieving bits balance",s=t.ACTION_BITS_BALANCE_RETRIEVED="bits balance retrieved";function l(e){return{type:a,bitsBalance:e}}function u(){return{type:o}}function c(){return{type:s}}},pFxt:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptionsPanel=t.ClosedCaptionsPanelContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("GBMM")),o=c(n("17x9")),s=n("N58E"),l=n("jibU"),u=n("rSwD");function c(e){return e&&e.__esModule?e:{default:e}}var d={onClose:o.default.func.isRequired,showPanel:o.default.bool.isRequired},f=t.mapStateToProps=function(e){return{showPanel:e.captions.showCCModal}},p=t.mapDispatchToProps=function(e){return{onClose:function(){e((0,u.showCCModal)(!1))}}},_=t.ClosedCaptionsPanelContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClickOutside=e.handleClickOutside.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleClickOutside",value:function(){var e=this.props,t=e.onClose;e.showPanel&&t()}},{key:"render",value:function(){var e=this.props,t=e.onClose;return e.showPanel?i.default.createElement(l.ClosedCaptionsPanel,{onClose:t}):null}}]),t}();_.propTypes=d;t.ClosedCaptionsPanel=(0,s.connect)(f,p)((0,a.default)(_))},pQoL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lang=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.DEFAULT_LANGUAGE,t=arguments[1];switch(t.type){case r.ACTION_SET_LANGUAGE:return t.lang;default:return e}};var r=n("vS/w"),i=n("KmPj")},pWOI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayVodSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.PlayVodSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 14 14"},e),i.default.createElement("path",{d:"M13.222.002V0c.43 0 .778.348.778.778v7.78c0 .429-.348.777-.778.777H.778A.778.778 0 0 1 0 8.557V.78C0 .35.348.002.778.002h12.444zm-4.147 5.08a.467.467 0 0 0 0-.833L5.342 2.382a.464.464 0 0 0-.675.416v3.734a.466.466 0 0 0 .675.417l3.733-1.866z",fill:e.fill}))}).propTypes=l},pZt1:function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},pbqf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timelineMetadata=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.ACTION_SET_MUTED_SEGMENTS:return(0,s.default)({},e,{mutedSegments:t.mutedSegments});case i.ACTION_SET_PREVIEWS:return(0,s.default)({},e,{previews:t.previews});case a.ACTION_SET_STREAM:return l;default:return e}};var r,i=n("Z0MU"),a=n("D3OJ"),o=n("3OWR"),s=(r=o)&&r.__esModule?r:{default:r};var l={mutedSegments:[],previews:{count:0,lq:{width:0,height:0,rows:0,cols:0,URLs:[""]},hq:{width:0,height:0,rows:0,cols:0,URLs:[""]}}}},pew1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnavailableContentFollowPanel=void 0;var r=n("tsW4"),i=n("aZ7o");t.UnavailableContentFollowPanel=(0,r.makeFollowPanel)(i.UnavailableContentFollowPanel)},phZZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedUnmuteOverlay=void 0,t.UnmuteOverlayComponent=d;var r=u(n("q1tI")),i=u(n("17x9")),a=n("9kay"),o=n("03Qf"),s=u(n("TSYQ")),l=n("olr1");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClick:i.default.func.isRequired,className:i.default.string.isRequired,isTapToUnmute:i.default.bool.isRequired,t:i.default.func.isRequired};function d(e){var t,n,i,a=e.onClick,o=e.isTapToUnmute,u=e.className,c=e.t,d=(0,s.default)((i=!0,(n=u)in(t={"player-overlay":!0,"pl-overlay--unmute":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),f=o?"Tap to unmute":"Click to unmute";return r.default.createElement("div",{className:d,onClick:a,onKeyUp:a,role:"button",tabIndex:-1},r.default.createElement("div",{className:"pl-overlay__center-content"},r.default.createElement(l.VolumeSVG,{id:"icon_volumemute",className:"pl-overlay__icon--unmute",muted:!0}),r.default.createElement("p",{className:"pl-overlay__text--unmute"},c(f))))}d.propTypes=c;var f=(0,a.translate)()(d);t.AnimatedUnmuteOverlay=(0,o.makeAnimatedComponent)(f,{showDuration:350,hideDuration:350,showClass:"pl-overlay--transition-in",hideClass:"pl-overlay--transition-out"})},pya5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OfflineSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={fill:a.default.string,viewBox:a.default.string};(t.OfflineSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 12 12"},e),i.default.createElement("path",{d:"M6,0 C-1.7,0, -1.7,12, 6,12 C13.7,12, 13.7,0, 6,0",fill:e.fill}))}).propTypes=l},"q/Rs":function(e,t){var n=4;t.fetch=function(e,t,r){t.injectScript?function(e,t){var n=document.head||document.getElementsByTagName("head")[0];n||t(new Error("No head element to append script"));var r=document.createElement("script");r.onload=function(){t(null),setTimeout(function(){n.removeChild(r)},0)},r.onerror=function(){t(new Error("Unable to load script"))},n.appendChild(r),r.src=e}(e,r||function(){}):function(e,t,r){var i=new XMLHttpRequest;i.open(t.method||"GET",e,!0),t.headers&&Object.keys(t.headers).forEach(function(e){i.setRequestHeader(e,t.headers[e])});i.onreadystatechange=function(){switch(i.readyState){case n:return void(200<=i.status&&i.status<300?r(null,i.responseText):r(new Error("XHR error: "+i.status+" "+e),null))}},i.send(t.body)}(e,t,r||function(){})}},q4HE:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",u="[\\ufe0e\\ufe0f]?"+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")[\\ufe0e\\ufe0f]?"+l+")*"),c="(?:"+[a+r+"?",r,o,s,n].join("|")+")",d=RegExp(i+"(?="+i+")|"+c+u,"g");e.exports=function(e){for(var t=d.lastIndex=0;d.test(e);)++t;return t}},qHst:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Icon=void 0,t.IconComponent=u;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=s(n("TSYQ"));function s(e){return e&&e.__esModule?e:{default:e}}var l={labelClass:i.default.string,label:i.default.string.isRequired,children:i.default.node.isRequired,t:i.default.func,iconClass:i.default.string};function u(e){var t,n,i,a=e.labelClass,s=e.label,l=e.children,u=e.t,c=e.iconClass,d=(0,o.default)((i=""!==a,(n=a)in(t={"player-tip":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t)),f=s?r.default.createElement("span",{className:d,"data-tip":u(s)}):null;return r.default.createElement("span",null,f,r.default.createElement("span",{className:c},l))}u.propTypes=l,u.defaultProps={labelClass:"",t:function(e){return e},iconClass:""};t.Icon=(0,a.translate)()(u)},qHw9:function(e,t,n){"use strict";n.r(t);var r,i,a,o,s=n("mrSG"),l=n("q1tI"),u=n("N58E"),c=n("1hWM");!function(e){e.LINKED="linked",e.UNLINKED="unlinked",e.LINK_REQUESTED="link_requested",e.UNLINK_REQUESTED="unlink_requested"}(r||(r={})),function(e){e.VIEWER="viewer",e.BROADCASTER="broadcaster"}(i||(i={})),function(e){e.EXTENSIONS_NOT_LOADED="not loaded",e.EXTENSIONS_LOADED="loaded",e.EXTENSIONS_LOADING="loading",e.EXTENSIONS_RELOADING="reloading"}(a||(a={})),function(e){e[e.NONE=0]="NONE",e[e.INSTALL=1]="INSTALL",e[e.SETTINGS=2]="SETTINGS",e[e.REPORT=3]="REPORT",e[e.MANAGE_ACCESS=4]="MANAGE_ACCESS",e[e.UNRELEASED=5]="UNRELEASED",e[e.FOLLOW=6]="FOLLOW",e[e.PURCHASE=7]="PURCHASE",e[e.LOGIN_REQUIRED=8]="LOGIN_REQUIRED"}(o||(o={}));var d,f=function(e){return e.type===o.FOLLOW},p=function(e){return e.type===o.PURCHASE},_=function(e){return e.type===o.LOGIN_REQUIRED};!function(e){e[e.NONE=0]="NONE",e[e.BITS_BALANCE=1]="BITS_BALANCE"}(d||(d={}));var h,m=function(e){return e.type===d.BITS_BALANCE};!function(e){e[e.UniqueExtensionID=0]="UniqueExtensionID"}(h||(h={}));var E=3e3;function v(e){var t=e.activationConfig.slot.match(/\d+/)||[];return parseInt(t[0],10)}function y(e){return e.activationConfig.anchor===c.ExtensionAnchor.Overlay}function g(e){return e.activationConfig.anchor===c.ExtensionAnchor.Component}var T=150,b=175,S=75,A=75,C=1,O=30,P=70,N=100,I=75+C+C,R=1e4;function w(e,t,n,r,i){var a={height:t,width:n},o={height:Math.max(t,T),width:Math.max(n,b)},s={height:e?o.height:a.height,width:e?o.width:a.width},l=s.height+O;return{offset:Math.floor(0-l/2),canRender:o.height<=r&&o.height>S&&(o.width<=i&&o.width>=A),extensionSize:a,popoverContentSize:s}}var k={offset:0,shouldShow:!1,extensionSize:{height:0,width:0},popoverContentSize:{height:0,width:0},zoom:1};var M=142,L=80,D=59,x=.25,U={shouldShow:!1,height:0,xOffset:0,zoom:1};function B(e){var t={identityLinkedStatus:r.UNLINKED,role:i.VIEWER};try{var n=JSON.parse(atob(e.split(".")[1]));return{identityLinkedStatus:n&&n.user_id?r.LINKED:r.UNLINKED,role:n&&n.role===i.BROADCASTER?i.BROADCASTER:i.VIEWER}}catch(e){return t}}var V,j=function(e){return e.id+"-"+e.extension.version},q=function(e,t){return t[j(e)]||{}},F=function(e,t){var n=t[j(e)],r=e.extension.state===c.ExtensionState.Released,i=n&&n.unreleasedAccepted;return!(!r&&!i)};function H(e){return e.reduce(function(e,t){var n=j(t);return n&&(e[n]={identityLinkedStatus:B(t.extension.token).identityLinkedStatus}),e},{})}!function(e){e[e.RESET=0]="RESET",e[e.SET_OVERLAY_VISIBILITY=1]="SET_OVERLAY_VISIBILITY",e[e.OPEN_POPOVER=2]="OPEN_POPOVER",e[e.CLOSE_POPOVER=3]="CLOSE_POPOVER",e[e.SET_MENU_STATE=4]="SET_MENU_STATE",e[e.SET_NOTIFICATION_STATE=5]="SET_NOTIFICATION_STATE"}(V||(V={}));var Y=function(){return null},G={containers:{ExtensionsViewContainer:Y,ExtensionsDockContainer:Y,ExtensionsPopoverContainer:Y,ExtensionsDockCardContainer:Y,ExtensionsPopoverViewLoggedOutContainer:Y,ExtensionsPopoverViewSettingsContainer:Y,ExtensionsPopoverViewReportContainer:Y,ExtensionsPopoverViewManageAccessContainer:Y,ExtensionsPopoverViewFollowContainer:Y,ExtensionsPopoverViewPurchaseContainer:Y,ExtensionsPopoverViewUnreleasedContainer:Y,ExtensionsNotificationBitsBalanceContainer:Y},overlayExtension:null,componentExtensions:[],allVideoExtensions:[],isChannelInfoVisible:!1,isOverlayVisible:!1,permissionsStates:{},setOverlayVisibility:function(){},setMenuState:function(e,t){},setPermissionsState:function(e,t){},setNotification:function(e){},openPopover:function(e){},closePopover:function(e){},togglePopover:function(e){},isMenuOpen:function(e){return!1},isPopoverOpen:function(e){return!1},isAnyPopoverOpen:function(){return!1},getMenuState:function(e){return{type:o.NONE}},getNotification:function(){return{type:d.NONE}},hideExtensions:!0,trackEvent:function(e,t,n){}},W={isOverlayVisible:!0,menuState:{type:o.NONE},notificationState:{type:d.NONE},selectedExtensionID:null,permissionsStates:{}},K=l.createContext(G);function Q(e){return function(t){var n=e||function(e){return{extensionsUIContext:e}},r=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(r,e),r.prototype.render=function(){var e=this.context,r=n(e,this.props);return l.createElement(t,s.__assign({},this.props,r))},r.contextType=K,r}(l.Component);return l.memo(r)}}var z=function(e){function t(t){var n=e.call(this,t)||this;return n.computeNewState=function(e,t,r){switch(e.type){case V.RESET:return n.getDefaultState(r.installations);case V.SET_OVERLAY_VISIBILITY:return s.__assign({},t,{isOverlayVisible:e.payload.visible});case V.SET_NOTIFICATION_STATE:return s.__assign({},t,{notificationState:e.payload.notificationState});case V.OPEN_POPOVER:var i=o.NONE;return y(e.payload.installation)&&(i=o.SETTINGS),F(e.payload.installation,t.permissionsStates)||(i=o.UNRELEASED),s.__assign({},t,{menuState:{type:i},selectedExtensionID:j(e.payload.installation)});case V.CLOSE_POPOVER:return s.__assign({},t,{menuState:{type:o.NONE},selectedExtensionID:null});case V.SET_MENU_STATE:return e.payload.menuState.type===o.NONE&&y(e.payload.installation)?s.__assign({},t,{menuState:{type:o.NONE},selectedExtensionID:null}):y(e.payload.installation)||e.payload.menuState.type!==o.MANAGE_ACCESS&&e.payload.menuState.type!==o.LOGIN_REQUIRED||t.selectedExtensionID===j(e.payload.installation)?e.payload.menuState.type!==o.MANAGE_ACCESS||r.loginID?s.__assign({},t,{menuState:e.payload.menuState,selectedExtensionID:j(e.payload.installation)}):s.__assign({},t,{menuState:n.addOnDestroyCallbackToMenuState(e.payload.menuState),selectedExtensionID:j(e.payload.installation)}):t;default:return t}},n.getDefaultState=function(e){return e.length?s.__assign({},W,{permissionsStates:H(n.props.installations)}):W},n.updateState=function(e,t,r){void 0===r&&(r=!1);var i=n.state;n.setState(function(r){return n.computeNewState(e,r,t||n.props)},function(){n.handleExpiringNotification(),r||n.handleDestroyedConfirmationRequests(i)})},n.handleDestroyedConfirmationRequests=function(e){var t=e.menuState;t!==n.state.menuState&&(f(t)||_(t)||p(t))&&t.onDestroy&&t.onDestroy(t.confirmationRequest)},n.handleExpiringNotification=function(){var e=n.state.notificationState;m(e)?n.createExpiringNotificationTimeout(e):n.cancelExpiringNotificationTimeout()},n.cancelExpiringNotificationTimeout=function(){n.expiringNotificationTimer&&(clearTimeout(n.expiringNotificationTimer),n.expiringNotificationTimer=0)},n.createExpiringNotificationTimeout=function(e){n.cancelExpiringNotificationTimeout(),n.expiringNotificationTimer=setTimeout(n.removeExpiringNotificationIfExpired,n.remainingExpiringNotificationTime(e))},n.removeExpiringNotificationIfExpired=function(){n.cancelExpiringNotificationTimeout();var e=n.state.notificationState;m(e)&&(0===n.remainingExpiringNotificationTime(e)&&n.updateState({type:V.SET_NOTIFICATION_STATE,payload:{notificationState:{type:d.NONE}}}))},n.remainingExpiringNotificationTime=function(e){var t=Date.now(),n=e.expiration;return Math.max(n-t,0)},n.computeContextProps=function(){var e=n.sortExtensions();return s.__assign({loginID:n.props.loginID,channelID:n.props.channelID,containers:n.props.containers,hideExtensions:n.props.hideExtensions,isChannelInfoVisible:n.props.isFullscreen||n.props.isTheatreMode||n.props.showChannelInfoOnHover},e,{isOverlayVisible:n.state.isOverlayVisible&&!!e.overlayExtension,permissionsStates:n.state.permissionsStates,setOverlayVisibility:n.setOverlayVisibility,openPopover:n.openPopover,closePopover:n.closePopover,togglePopover:n.togglePopover,setMenuState:n.setMenuState,setPermissionsState:n.setPermissionsState,setNotification:n.setNotification,isMenuOpen:n.isMenuOpen,getMenuState:n.getMenuState,getNotification:n.getNotification,isPopoverOpen:n.isPopoverOpen,isAnyPopoverOpen:n.isAnyPopoverOpen,trackEvent:n.trackEvent})},n.sortExtensions=function(){var e,t,r,i=(e=n.props.installations,(t={})[c.ExtensionAnchor.Overlay]=[],t[c.ExtensionAnchor.Component]=[],t[c.ExtensionAnchor.Panel]=[],t[c.ExtensionAnchor.Hidden]=[],r=t,e.length?(e.slice().sort(function(e,t){return v(e)-v(t)}).forEach(function(e){var t=e.activationConfig.anchor;Object.values(c.ExtensionAnchor).includes(t)&&r[t].push(e)}),r):r),a=i[c.ExtensionAnchor.Overlay][0]||null,o=i[c.ExtensionAnchor.Component];return{overlayExtension:a,componentExtensions:o,allVideoExtensions:(a?[a]:[]).concat(o)}},n.computeInitialNotificationState=function(e,t){switch(e){case d.BITS_BALANCE:return s.__assign({},t,{type:d.BITS_BALANCE,expiration:Date.now()+E});default:return{type:d.NONE}}},n.setNotification=function(e,t){n.updateState({type:V.SET_NOTIFICATION_STATE,payload:{notificationState:n.computeInitialNotificationState(e,t)}})},n.getNotification=function(){return n.state.notificationState},n.setOverlayVisibility=function(e){n.updateState({type:V.SET_OVERLAY_VISIBILITY,payload:{visible:e}})},n.openPopover=function(e){n.updateState({type:V.OPEN_POPOVER,payload:{installation:e}})},n.closePopover=function(e){n.updateState({type:V.CLOSE_POPOVER,payload:{installation:e}})},n.togglePopover=function(e){n.isPopoverOpen(e)?n.closePopover(e):n.openPopover(e)},n.setMenuState=function(e,t,r){void 0===r&&(r=!1),n.updateState({type:V.SET_MENU_STATE,payload:{menuState:n.addOnDestroyCallbackToMenuState(e),installation:t}},void 0,r)},n.addOnDestroyCallbackToMenuState=function(e){return f(e)||_(e)||p(e)?s.__assign({},e,{onDestroy:function(e){e&&e.resultCallback&&e.defaultResult&&e.resultCallback(e.defaultResult)}}):e},n.reset=function(){n.updateState({type:V.RESET})},n.getMenuState=function(e){return n.state.selectedExtensionID===j(e)?n.state.menuState:{type:o.NONE}},n.isMenuOpen=function(e){return n.state.selectedExtensionID===j(e)&&n.state.menuState.type!==o.NONE},n.isPopoverOpen=function(e){return n.state.selectedExtensionID===j(e)},n.isAnyPopoverOpen=function(){return null!==n.state.selectedExtensionID},n.setPermissionsState=function(e,t){var r=j(e);n.setState(function(e){var n;return{permissionsStates:s.__assign({},e.permissionsStates,(n={},n[r]=s.__assign({},e.permissionsStates[r],t),n))}})},n.trackEvent=function(e,t,r,i){var a={action_type:e,action_result:t,extension_id:i.id,extension_name:i.extension.name,extension_type:i.activationConfig.anchor,extension_version:i.extension.version};n.props.trackEvent(r,a)},n.state=n.getDefaultState(t.installations),n}return s.__extends(t,e),t.prototype.componentDidUpdate=function(e){e.channelID!==this.props.channelID&&this.reset()},t.prototype.componentWillUnmount=function(){this.cancelExpiringNotificationTimeout()},t.prototype.render=function(){return l.createElement(K.Provider,{value:this.computeContextProps()},this.props.children||null)},t}(l.Component),X=n("yIzk"),J=function(e){function t(t){return e.call(this,t)||this}return s.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.arePlayerControlsVisible,n=e.game,r=e.isVideoAdShowing;c.extensionService.postContext({arePlayerControlsVisible:t,game:n,isVideoAdShowing:r})},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.arePlayerControlsVisible,r=t.game,i=t.isVideoAdShowing,a=e.game!==r,o=e.arePlayerControlsVisible!==n,s=e.isVideoAdShowing!==i;(a||o||s)&&c.extensionService.postContext({arePlayerControlsVisible:n,game:r,isVideoAdShowing:i})},t.prototype.render=function(){return null},t}(l.Component),Z=n("sUnt"),$=n("hnjF"),ee=16/9,te=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.computeDimensions=function(){if(!t.props.playerHeight||!t.props.playerWidth)return{width:0,height:0};var e=t.getAspectRatio(),n=t.props.playerWidth/t.props.playerHeight>e;return{width:n?Math.ceil(t.props.playerHeight*e):t.props.playerWidth,height:n?t.props.playerHeight:Math.ceil(t.props.playerWidth/e)}},t.getAspectRatio=function(){return t.props.videoHeight&&t.props.videoWidth?t.props.videoWidth/t.props.videoHeight:ee},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.computeDimensions(),t=e.width,n=e.height;return l.createElement(Z.a,{position:$.j.Absolute,display:this.props.hidden?$.d.Hide:$.d.Block,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0},this.props.children({videoWidth:t,videoHeight:n}))},t}(l.Component),ne=n("Ws8v"),re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props.ExtensionsNotificationBitsBalanceContainer;return l.createElement(ne.a,{position:$.j.Absolute,attachRight:!0,attachBottom:!0,alignItems:$.b.Center,className:"extensions-notifications"},l.createElement(e,null))},t}(l.Component),ie=Q(function(e){return{ExtensionsNotificationBitsBalanceContainer:e.containers.ExtensionsNotificationBitsBalanceContainer}})(re);n("3bsn");var ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.game,r=t.isVideoAdShowing,i=t.hideExtensions,a=t.arePlayerControlsVisible,o=t.ExtensionsDockContainer;return l.createElement(l.Fragment,null,l.createElement(X.a,null,l.createElement(te,s.__assign({},this.props.playerDimensions,this.props.videoDimensions,{hidden:i}),function(t){return l.createElement(l.Fragment,null,e.renderVideoOverlay(t),l.createElement(o,{playerDimensions:e.props.playerDimensions,videoDimensions:t}),l.createElement(ie,null))})),l.createElement(J,{game:n,isVideoAdShowing:r,arePlayerControlsVisible:a}))},t.prototype.renderVideoOverlay=function(e){var t=this.props,n=t.overlayExtension,r=t.shouldShowOverlayExtension,i=t.ExtensionsViewContainer,a=t.permissionsStates;if(!n||!F(n,a))return null;var o=e.videoWidth,s=e.videoHeight,u={transform:"translate("+Math.floor(-.5*o)+"px, "+Math.floor(-.5*s)+"px)",width:o+"px",height:s+"px",display:r?"block":"none"};return l.createElement("div",{className:"extensions-video-overlay-size-container",style:u},l.createElement(i,{isHidden:!r,installation:n}))},t}(l.Component),oe=Q(function(e){var t=e.channelID,n=e.allVideoExtensions,r=e.overlayExtension,i=e.containers,a=i.ExtensionsViewContainer,o=i.ExtensionsDockContainer,s=e.isOverlayVisible,l=e.hideExtensions,u=e.permissionsStates;return{channelID:t,allVideoExtensions:n,ExtensionsDockContainer:o,ExtensionsViewContainer:a,overlayExtension:r,hideExtensions:l,shouldShowOverlayExtension:!l&&s,permissionsStates:u}})(ae);n("t+zC"),n("mlPz");var se=n("TSYQ"),le=n("hCFK"),ue=n("X2PJ"),ce=(n("bhbo"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopovers=function(e,n){var r=t.props.allVideoExtensions.map(function(e){var r=t.props,i=r.playerDimensions,a=r.videoDimensions,o=r.containers.ExtensionsPopoverContainer,s=(0,r.isPopoverOpen)(e);return l.createElement(o,{key:"extensions-dock-popover__"+j(e),visible:s&&n,playerDimensions:i,videoDimensions:a,installation:e})});return l.createElement("div",{style:{marginRight:e+"px"}},r)},t.renderDockAndIcons=function(e){var n=t.props,r=n.shouldShow,i=n.allVideoExtensions,a={transform:1!==e?"scale("+e+")":"none",transformOrigin:"100% 50%"};return l.createElement(le.a,{type:le.c.TranslateRight,duration:le.b.Long,show:r,alwaysRenderChild:!0},l.createElement(Z.a,{display:$.d.Flex,alignItems:$.b.Center,className:se("extensions-dock__dock")},l.createElement("div",{style:a},l.createElement(ne.a,{display:$.d.Flex,background:ue.a.Base,flexDirection:$.e.Column,borderRadius:ue.b.Medium,padding:{top:1},justifyContent:$.h.Center,alignItems:$.b.Center},i.map(t.renderExtensionCard)))))},t.renderExtensionCard=function(e){var n=t.props.containers.ExtensionsDockCardContainer;return l.createElement(n,{key:"extensions-dock-card__"+j(e),installation:e})},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.isChannelInfoVisible,n=e.hideExtensions,r=function(e,t){if(!e.videoHeight)return U;var n=t?N:P,r=e.videoHeight-2*n,i=e.videoHeight*x,a=Math.min(i,M);return a<L||a>r?U:{shouldShow:!0,height:a,xOffset:a*D/M-D,zoom:a/M}}(this.props.videoDimensions,t),i=r.shouldShow,a=r.zoom,o=r.xOffset,s=i&&!n;return l.createElement(ne.a,{display:s?$.d.Flex:$.d.Hide,position:$.j.Absolute,attachRight:!0,fullHeight:!0,alignItems:$.b.Center,className:se(this.props.themeClass,"extensions-dock__layout")},this.renderPopovers(o,s),this.renderDockAndIcons(a))},t}(l.Component)),de=Q(function(e){var t=e.isPopoverOpen,n=e.isChannelInfoVisible,r=e.hideExtensions,i=e.containers,a=e.allVideoExtensions;return{isPopoverOpen:t,isChannelInfoVisible:n,hideExtensions:r,containers:i,allVideoExtensions:a}})(ce);n("tK0c");var fe,pe,_e,he=n("b7S+"),me=n("7uM4"),Ee=n("C7sF"),ve=n("uG/k");!function(e){e.ToolbarLeftAngleIconClick="toolbar_left_angle_icon_click",e.ToolbarGearIconClick="toolbar_gear_icon_click",e.ToolbarXIconClick="toolbar_x_icon_click",e.MenuOptionClick="menu_option_click",e.ExtensionDockIconClick="dock_icon_click"}(fe||(fe={})),function(e){e.MaximizeExtension="maximize_extension",e.MinimizeExtension="minimize_extension",e.BuildExtension="build_extension",e.ReportExtension="report_extension",e.ViewDetails="view_details",e.Grant="grant_access",e.Revoke="revoke_access",e.ViewMenu="view_menu",e.HideMenu="hide_menu",e.HideOverlay="hide_overlay",e.ViewOverlay="view_overlay"}(pe||(pe={})),function(e){e.ExtensionDockIconClick="extension_dock_icon_click",e.ExtensionDockToolbarIconClick="extension_dock_toolbar_icon_click",e.ExtensionDockMenuOptionClick="extension_dock_menu_option_click"}(_e||(_e={}));n("ZRG8");var ye="19px",ge=function(e){function t(t){var n=e.call(this,t)||this;return n.renderMenuOpenStatus=function(e){return l.createElement(ne.a,{alignItems:$.b.Center},l.createElement(ne.a,{className:se("extensions-dock-card__menu-status",e&&"extensions-dock-card__menu-status__visible"),margin:{right:.5,left:.5}}))},n.renderCardImage=function(e){var t=n.props.installation,r=n.state.iconUrls,i=""+t.activationConfig.anchor[0].toUpperCase()+v(t),a=!r.length;return l.createElement(he.a,{direction:he.c.Left,align:he.b.Right,label:t.extension.name,offsetX:ye},l.createElement("div",{onClick:n.handleClick,className:se("extensions-dock-card__image",e&&"extensions-dock-card__image__visible",a&&"extensions-dock-card__image__fallback")},a?l.createElement(Z.a,{display:$.d.Flex,alignItems:$.b.Center,justifyContent:$.h.Center},l.createElement(me.a,{height:30,width:30,asset:Ee.a.Extensions,type:me.b.Brand})):l.createElement(ve.a,{src:r[r.length-1],alt:i,onError:n.onImageLoadFail,className:se("extensions-dock-card__image__img")})))},n.installationIsVisible=function(){var e=n.props,t=e.installation,r=e.isOverlayVisible,i=e.isPopoverOpen,a=r&&y(t),o=i(t)&&g(t);return a||o},n.handleClick=function(){var e,t=n.props,r=t.installation,i=t.togglePopover,a=t.trackEvent,o=(0,t.isPopoverOpen)(r);e="video_overlay"===r.activationConfig.anchor?o?pe.HideMenu:pe.ViewMenu:o?pe.MinimizeExtension:pe.MaximizeExtension,a(fe.ExtensionDockIconClick,e,_e.ExtensionDockIconClick,r),i(r)},n.onImageLoadFail=function(){n.setState(function(e){var t=e.iconUrls;return{iconUrls:t.slice(0,t.length-1)}})},n.getIconUrls=function(e){var t=e.extension.iconUrls.square100,n=[];return t&&n.push(t),n},n.state={iconUrls:n.getIconUrls(n.props.installation)},n}return s.__extends(t,e),t.prototype.componentDidUpdate=function(e){j(e.installation)!==j(this.props.installation)&&this.setState({iconUrls:this.getIconUrls(this.props.installation)})},t.prototype.render=function(){var e=this.installationIsVisible();return l.createElement(ne.a,{margin:{left:0,bottom:1,top:0,right:1},borderRadius:ue.b.Medium,className:se("extensions-dock-card",this.props.themeClass),display:$.d.Flex,alignItems:$.b.Center},this.renderMenuOpenStatus(e),this.renderCardImage(e))},t}(l.Component),Te=Q(function(e){var t=e.isOverlayVisible,n=e.isPopoverOpen,r=e.togglePopover,i=e.trackEvent;return{isOverlayVisible:t,isPopoverOpen:n,togglePopover:r,trackEvent:i}})(ge);n("w4Cc");var be,Se=n("7d/q"),Ae=n("LDmb"),Ce=n("ygYM"),Oe=n("+80q");n("OM3L");!function(e){e.BackButton="popover-nav__back-button",e.SettingsButton="popover-nav__settings-button",e.CloseButton="popover-nav__close-button"}(be||(be={}));var Pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderInsufficientSpaceTooltip=function(e){return l.createElement(ne.a,{position:$.j.Absolute},l.createElement(he.a,{direction:he.c.Left,align:he.b.Right,label:t.props.insufficientTooltipMessage,offsetY:"-12px",show:e}))},t.renderExtension=function(e){var n=t.props,r=n.installation,i=n.containers.ExtensionsViewContainer,a=n.permissionsStates;return g(r)&&F(r,a)?l.createElement(i,{isHidden:e,installation:r}):null},t.renderMenu=function(){var e=t.props,n=e.installation,r=e.containers,i=r.ExtensionsPopoverViewLoggedOutContainer,a=r.ExtensionsPopoverViewSettingsContainer,s=r.ExtensionsPopoverViewReportContainer,u=r.ExtensionsPopoverViewManageAccessContainer,c=r.ExtensionsPopoverViewPurchaseContainer,d=r.ExtensionsPopoverViewFollowContainer,f=r.ExtensionsPopoverViewUnreleasedContainer,p=e.isMenuOpen,_=(0,e.getMenuState)(n);return p(n)?_.type===o.SETTINGS?l.createElement(a,{installation:n}):_.type===o.MANAGE_ACCESS?l.createElement(u,{installation:n}):_.type===o.PURCHASE?l.createElement(c,{installation:n}):_.type===o.FOLLOW?l.createElement(d,{installation:n}):_.type===o.REPORT?l.createElement(s,{installation:n}):_.type===o.LOGIN_REQUIRED?l.createElement(i,{installation:n}):_.type===o.UNRELEASED?l.createElement(f,{installation:n}):null:null},t.getHeaderTitle=function(){return t.props.installation.extension.name},t.handleSettingsClick=function(){var e=t.props,n=e.installation,r=e.isMenuOpen,i=e.setMenuState,a=e.getMenuState,s=e.trackEvent,l=r(n)&&a(n).type===o.SETTINGS;i(l?{type:o.NONE}:{type:o.SETTINGS},n),s(fe.ToolbarGearIconClick,l?pe.HideMenu:pe.ViewMenu,_e.ExtensionDockToolbarIconClick,n)},t.handleCloseViewClick=function(){var e=t.props,n=e.installation,r=e.setMenuState,i=e.trackEvent;r({type:y(n)?o.SETTINGS:o.NONE},n),i(fe.ToolbarLeftAngleIconClick,pe.HideMenu,_e.ExtensionDockToolbarIconClick,n)},t.handleClosePopoverClick=function(){var e=t.props,n=e.installation,r=e.closePopover;(0,e.trackEvent)(fe.ToolbarXIconClick,pe.MinimizeExtension,_e.ExtensionDockToolbarIconClick,n),r(n)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.getHeaderTitle(),t=this.props,n=t.visible,r=t.installation,i=t.isMenuOpen,a=t.getMenuState,s=t.isChannelInfoVisible,u=i(r),d=function(e,t,n,r){if(void 0===t.videoHeight||void 0===t.videoWidth||null===n)return k;var i=2*(r?N:P)+2*C+O,a=t.videoHeight-i,o=t.videoWidth-I;if(n.activationConfig.anchor===c.ExtensionAnchor.Overlay){var s=w(e,l=Math.min(270,a),u=Math.min(260,o),a,o);return{offset:s.offset,shouldShow:s.canRender,extensionSize:E=s.extensionSize,popoverContentSize:s.popoverContentSize,zoom:1}}if(g(n)&&void 0!==n.extension.views.component){var l,u,d=n.extension.views.component,f=d.aspectRatioX,p=d.aspectRatioY,_=d.targetHeight,h=d.autoScale,m=d.scalePixels;(u=(l=a*(_/R))*f/p)>o&&(l=(u=o)*p/f);var E,v=w(e,l,u,a,o);return{offset:v.offset,shouldShow:v.canRender,extensionSize:E=v.extensionSize,popoverContentSize:v.popoverContentSize,zoom:h&&m>0?E.width/m:1}}return k}(u,this.props.videoDimensions,r,s),f=d.offset,p=d.shouldShow,_=d.extensionSize,h=d.popoverContentSize,m=d.zoom,E={transform:1!==m?"scale("+m+")":"none",height:_.height/m+"px",width:_.width/m+"px",transformOrigin:"0 0",position:"absolute"},v=y(r),T=!v&&u||v&&a(r).type!==o.SETTINGS;return l.createElement(l.Fragment,null,this.renderInsufficientSpaceTooltip(n&&!p),l.createElement(ne.a,{border:!0,display:n?$.d.Block:$.d.Hide,position:$.j.Relative,className:se("extensions-popover")},l.createElement(Ae.a,{popoverId:"popover-extensions",show:p,size:Ce.c.Auto,direction:Ce.b.TopRight,offsetY:f+"px"},l.createElement("div",{style:{width:h.width+"px"}},l.createElement(ne.a,{display:$.d.Flex,flexDirection:$.e.Column,padding:0,fullWidth:!0},l.createElement(ne.a,{display:$.d.Flex,elevation:1,background:ue.a.Base},l.createElement(Z.a,{display:$.d.Flex,flexDirection:$.e.Column,justifyContent:$.h.Center,className:se("extensions-popover__icon-slot")},T&&l.createElement(Se.a,{overlay:!0,icon:Ee.a.AngleLeft,onClick:this.handleCloseViewClick,"data-test-selector":be.BackButton})),!v&&l.createElement(Z.a,{display:$.d.Flex,flexDirection:$.e.Column,justifyContent:$.h.Center,className:se("extensions-popover__icon-slot")}),l.createElement(Z.a,{display:$.d.Flex,flexDirection:$.e.Column,justifyContent:$.h.Center,flexGrow:1,flexShrink:1,overflow:$.i.Hidden,textAlign:$.l.Center},l.createElement(Oe.a,{type:Oe.e.H6,bold:!0,ellipsis:!0},e)),!v&&l.createElement(Z.a,{display:$.d.Flex,flexDirection:$.e.Column,justifyContent:$.h.Center,className:se("extensions-popover__icon-slot")},l.createElement(Se.a,{overlay:!0,icon:Ee.a.Gear,onClick:this.handleSettingsClick,"data-test-selector":be.SettingsButton})),l.createElement(Z.a,{display:$.d.Flex,flexDirection:$.e.Column,justifyContent:$.h.Center,className:se("extensions-popover__icon-slot")},l.createElement(Se.a,{overlay:!0,icon:Ee.a.Close,onClick:this.handleClosePopoverClick,"data-test-selector":be.CloseButton})))),l.createElement("div",{style:{height:h.height+"px",position:"relative"}},l.createElement("div",{style:E},this.renderExtension(!n||!p)),this.renderMenu())))))},t}(l.Component),Ne=Q(function(e){var t=e.isMenuOpen,n=e.getMenuState,r=e.isChannelInfoVisible,i=e.containers,a=e.permissionsStates,o=e.trackEvent,s=e.setMenuState,l=e.closePopover;return{isMenuOpen:t,getMenuState:n,isChannelInfoVisible:r,containers:i,permissionsStates:a,trackEvent:o,setMenuState:s,closePopover:l}})(Pe);n("ehcl");var Ie=n("dEDE"),Re=(n("Fbw6"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){return l.createElement(ne.a,{padding:{top:1,left:1,right:1,bottom:0},fullHeight:!0,fullWidth:!0,position:$.j.Absolute,display:$.d.Flex,flexDirection:$.e.Column,alignItems:$.b.Center,overflow:$.i.Auto,fontSize:ue.d.Size6,className:se(this.props.className,"extensions-popover-view-layout")},l.createElement(Z.a,{className:se("extensions-popover-view-layout__body")},this.props.children))},t}(l.Component)),we=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:o.NONE},n)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelClose,n=e.labelMustBeLoggedIn;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,n)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexWrap:$.f.Wrap,justifyContent:$.h.End,margin:{y:1}},l.createElement(Z.a,{margin:{bottom:1}},l.createElement(Ie.a,{type:Ie.d.Secondary,onClick:this.handleClose},t))))},t}(l.Component),ke=Q(function(e){return{setMenuState:e.setMenuState}})(we);n("ig48");var Me=n("cNYe"),Le=n("4wKg"),De=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackMenuOptionClick=function(e){return function(){var n=t.props,r=n.installation;(0,n.trackEvent)(fe.MenuOptionClick,e,_e.ExtensionDockMenuOptionClick,r)}},t.renderManageAccessOption=function(){var e=t.props,n=e.loginID,a=e.installation,o=e.labelManage,s=e.permissionsStates,u=a&&a.extension.requestIdentityLink,c=q(a,s).identityLinkedStatus===r.LINKED;return!function(e){return B(e.extension.token).role===i.BROADCASTER}(a)&&!!n&&(u||c)?l.createElement(Z.a,{margin:{y:1}},l.createElement(Le.a,{label:o,figure:{icon:Ee.a.PermissionsRemove},onClick:t.handleManageAccess})):null},t.handleMakeExtensionVisible=function(){var e=t.props,n=e.isOverlayVisible,r=e.setOverlayVisibility,i=e.trackEvent;r(!n),i(fe.MenuOptionClick,n?pe.HideOverlay:pe.ViewOverlay,_e.ExtensionDockMenuOptionClick,t.props.installation)},t.getAddExtensionLink=function(){var e=t.props.installation.extension;return"https://twitch.tv/ext/"+e.id+"-"+e.version},t.handleReportExtension=function(){var e=t.props,n=e.installation,r=e.setMenuState;(0,e.trackEvent)(fe.MenuOptionClick,pe.ReportExtension,_e.ExtensionDockMenuOptionClick,n),r({type:o.REPORT},n)},t.handleManageAccess=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:o.MANAGE_ACCESS},n)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.visibleLabel,r=e.addLabel,i=e.buildLabel,a=e.reportLabel,o=e.isOverlayVisible,s=t&&t.extension&&(t.extension.viewerSummary||t.extension.summary)||"";return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,s)),y(t)&&l.createElement(Z.a,{margin:{y:1}},l.createElement(Me.a,{type:Me.b.Toggle,label:n,onChange:this.handleMakeExtensionVisible,checked:o})),l.createElement(Z.a,{margin:{y:1}},l.createElement(Le.a,{label:r,onClick:this.trackMenuOptionClick(pe.ViewDetails),figure:{icon:Ee.a.AddReaction},linkTo:this.getAddExtensionLink(),targetBlank:!0})),l.createElement(Z.a,{margin:{y:1}},l.createElement(Le.a,{label:i,figure:{icon:Ee.a.Extensions},onClick:this.trackMenuOptionClick(pe.BuildExtension),linkTo:"https://dev.twitch.tv/extensions",targetBlank:!0})),this.renderManageAccessOption(),l.createElement(Z.a,{margin:{y:1}},l.createElement(Le.a,{label:a,figure:{icon:Ee.a.Ban},onClick:this.handleReportExtension})))},t}(l.Component),xe=Q(function(e){var t=e.loginID,n=e.setMenuState,r=e.isOverlayVisible,i=e.setOverlayVisibility,a=e.permissionsStates,o=e.trackEvent;return{loginID:t,setMenuState:n,isOverlayVisible:r,setOverlayVisibility:i,permissionsStates:a,trackEvent:o}})(De);n("jbVh");var Ue=n("DY5q"),Be=n("Kae6"),Ve=function(e){function t(t){var n=e.call(this,t)||this;return n.handleReasonSelect=function(e){var t=e.currentTarget.value;n.setState({reportReason:t,reportReasonError:!t})},n.handleDescriptionChange=function(e){var t=e.currentTarget.value.trim();n.setState(function(e){return e.reportDescription===t?null:{reportDescription:t,reportDescriptionError:!t}})},n.handleCancel=function(){var e=n.props,t=e.installation,r=e.setMenuState;t&&r({type:o.NONE},t)},n.handleSubmit=function(){var e=n.props,t=e.installation,r=e.reportExtension,i=e.channelID,a=n.state,o=a.reportReason;r({description:a.reportDescription||"",reason:o||"",contentID:j(t),targetID:i||"",extra:""})},n.state={reportReasonError:!1,reportDescriptionError:!1},n}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelMain,n=e.labelSelectPlaceholder,r=e.labelDescriptionPlaceholder,i=e.labelCancel,a=e.labelSubmit,o=e.reportReasons;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Ue.a,{required:!0,defaultValue:"",onChange:this.handleReasonSelect,onBlur:this.handleReasonSelect,error:this.state.reportReasonError},l.createElement("option",{key:"report-reason-placeholder",value:"",disabled:!0},n),o.map(function(e){return l.createElement("option",{key:"report-reason-"+e.id,value:e.id},e.text)}))),l.createElement(Z.a,{margin:{y:1}},l.createElement(Be.a,{placeholder:r,onChange:this.handleDescriptionChange,onBlur:this.handleDescriptionChange,error:this.state.reportDescriptionError})),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,flexWrap:$.f.WrapReverse,justifyContent:$.h.End,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},i)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Default,disabled:!this.state.reportReason||!this.state.reportDescription,onClick:this.handleSubmit},a))))},t}(l.Component),je=Q(function(e){var t=e.channelID,n=e.setMenuState;return{channelID:t,setMenuState:n}})(Ve);n("xeH1");var qe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:o.NONE},n)},t.handleToggleAccess=function(){var e=t.props,n=e.installation,i=e.setMenuState,a=e.setPermissionsState,s=e.trackEvent,l=e.permissionsStates,u=q(n,l),c=u.identityLinkedStatus,d=u.linkIdentity,f=u.unlinkIdentity,p=c===r.UNLINKED?r.LINK_REQUESTED:r.UNLINK_REQUESTED;a(n,{identityLinkedStatus:p}),p===r.LINK_REQUESTED&&d&&d(),p===r.UNLINK_REQUESTED&&f&&f(),s(fe.MenuOptionClick,p===r.UNLINK_REQUESTED?pe.Revoke:pe.Grant,_e.ExtensionDockMenuOptionClick,n),i({type:o.NONE},n)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelMain,n=e.labelAllow,i=e.labelManage,a=e.labelCancel,o=e.labelGrant,s=e.labelRevoke,u=e.installation,c=e.permissionsStates,d=q(u,c);if(!d||!d.identityLinkedStatus)return null;var f=d.identityLinkedStatus===r.LINKED||d.identityLinkedStatus===r.LINK_REQUESTED,p=d.identityLinkedStatus===r.LINK_REQUESTED||d.identityLinkedStatus===r.UNLINK_REQUESTED;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,n)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Le.a,{label:i,figure:{icon:Ee.a.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,flexWrap:$.f.WrapReverse,justifyContent:$.h.End,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},a)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Default,onClick:this.handleToggleAccess,disabled:p},f?s:o))))},t}(l.Component),Fe=Q(function(e){var t=e.permissionsStates,n=e.setPermissionsState,r=e.setMenuState,i=e.trackEvent;return{permissionsStates:t,setPermissionsState:n,setMenuState:r,trackEvent:i}})(qe);n("y7cp");var He=n("G9mL"),Ye=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={notifications:!0},t.handleCancel=function(){var e=t.props,n=e.installation,r=e.getMenuState,i=e.setMenuState,a=r(n);f(a)&&i({type:o.NONE},n)},t.handleFollow=function(){var e=t.props,n=e.installation,r=e.getMenuState,i=e.setMenuState,a=r(n);f(a)&&(a.confirmationRequest.resultCallback({didFollow:!0,notifications:t.state.notifications}),i({type:o.NONE},n,!0))},t.handleNotificationsToggle=function(){t.setState({notifications:!t.state.notifications})},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=(0,e.getMenuState)(t);if(!f(n))return null;var r=n.confirmationRequest.options;return l.createElement(Re,null,r.isFollowing?this.renderAlreadyFollowed():this.renderMain())},t.prototype.renderMain=function(){var e=this.props,t=e.labelMain,n=e.labelCancel,r=e.labelFollow,i=e.labelNotificationsAllow,a=e.labelNotificationsDescription;return l.createElement(l.Fragment,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexWrap:$.f.WrapReverse,justifyContent:$.h.Center,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},n)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Default,onClick:this.handleFollow},r))),l.createElement(Z.a,{margin:{y:1}},l.createElement(He.a,null),l.createElement(Me.a,{type:Me.b.Toggle,label:i,onChange:this.handleNotificationsToggle,checked:this.state.notifications})),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,a)))},t.prototype.renderAlreadyFollowed=function(){var e=this.props,t=e.labelAlreadyFollowed,n=e.labelCancel;return l.createElement(l.Fragment,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,justifyContent:$.h.Center,margin:{y:1}},l.createElement(Z.a,{flexGrow:1},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},n))))},t}(l.Component),Ge=Q(function(e){var t=e.getMenuState,n=e.setMenuState;return{getMenuState:t,setMenuState:n}})(Ye);n("sO++");var We=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:o.NONE},n)},t.handleConfirm=function(){var e=t.props,n=e.installation,r=e.getMenuState,i=e.setMenuState,a=r(n);p(a)&&(a.confirmationRequest.resultCallback({didConfirm:!0,didUseBits:!1}),i({type:o.NONE},n,!0))},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelPurchaseIntent,n=e.labelCancel,r=e.labelConfirm,i=e.labelProductName,a=e.labelRemainingBalance,o=e.labelDisclaimer;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,i)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,a)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,{fontSize:ue.d.Size8,color:ue.c.Alt2},o)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,flexWrap:$.f.WrapReverse,justifyContent:$.h.Center,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},n)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Default,onClick:this.handleConfirm},r))))},t}(l.Component),Ke=Q(function(e){var t=e.getMenuState,n=e.setMenuState;return{getMenuState:t,setMenuState:n}})(We);n("NWFT");var Qe="https://www.twitch.tv/bits",ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:o.NONE},n)},t.handleBuyBits=function(){window.open(Qe)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelPurchaseIntent,n=e.labelPurchaseAmount,r=e.labelCancel,i=e.labelProductName,a=e.labelBuyBits;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,i)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,n)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,flexWrap:$.f.WrapReverse,justifyContent:$.h.Center,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},r)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,onClick:this.handleBuyBits},a))))},t}(l.Component),Xe=Q(function(e){return{setMenuState:e.setMenuState}})(ze);n("4Wsi");var Je=n("Jsra"),Ze=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.closePopover)(n)},t.handleAccept=function(){var e=t.props,n=e.installation,r=e.setMenuState;(0,e.setPermissionsState)(n,{unreleasedAccepted:!0}),r({type:o.NONE},n)},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.labelUnacceptedMainCopy,n=e.labelUnacceptedSecondaryCopy,r=e.labelLearnMore,i=e.labelCancel,a=e.labelAccept;return l.createElement(Re,null,l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,t)),l.createElement(Z.a,{margin:{y:1}},l.createElement(Oe.a,null,n),l.createElement(Je.a,{linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",targetBlank:!0},r)),l.createElement(ne.a,{fullWidth:!0,display:$.d.Flex,flexDirection:$.e.Row,flexWrap:$.f.WrapReverse,justifyContent:$.h.Center,margin:{y:1}},l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Secondary,onClick:this.handleCancel},i)),l.createElement(Z.a,{flexGrow:1,margin:{bottom:1,x:.5}},l.createElement(Ie.a,{fullWidth:!0,size:Ie.b.Small,type:Ie.d.Default,onClick:this.handleAccept},a))))},t}(l.Component),$e=Q(function(e){var t=e.closePopover,n=e.setPermissionsState,r=e.setMenuState;return{closePopover:t,setPermissionsState:n,setMenuState:r}})(Ze);n("cBp7");var et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.getNotification,n=e.loginID,r=t();if(!m(r))return null;var i=r.type===d.BITS_BALANCE,a=!0===r.success;return l.createElement(le.a,{type:le.c.TranslateRight,duration:le.b.Long,show:i&&void 0!==n,alwaysRenderChild:!0,transitionInitialMount:!0},l.createElement(ne.a,{borderTop:!0,background:ue.a.Overlay,display:$.d.Block,position:$.j.Relative,padding:{y:1,x:2},margin:{y:5,x:3},className:"bits-balance-notification"},a&&l.createElement(ne.a,{margin:{right:.5},display:$.d.Inline,className:"extension-notification__success-text"},this.props.bitsSuccessMessage),this.props.bitsBalanceMessage))},t}(l.Component),tt=Q(function(e){var t=e.loginID,n=e.getNotification;return{loginID:t,getNotification:n}})(et);var nt=n("YWLq"),rt=n("pB4y"),it=n("vpBF"),at=n("fvjX"),ot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){var e=!t.props.extensionsUIContext.hideExtensions,n=!!t.props.playerControlsVisible,r=!!t.props.extensionsUIContext.isAnyPopoverOpen();return e&&(n||r)},t}return s.__extends(t,e),t.prototype.render=function(){var e=se("tw-root--theme-dark","tw-root--hover"),t={playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions,shouldShow:this.shouldShow(),themeClass:e};return l.createElement(de,s.__assign({},t))},t}(l.Component),st=Object(at.compose)(Q(),Object(u.connect)(function(e){var t=e.ui;return{playerControlsVisible:t.shouldShowControls&&t.showUI}}))(ot),lt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=se("tw-root--theme-light","tw-root--hover"),t={installation:this.props.installation,themeClass:e};return l.createElement(Te,s.__assign({},t))},t}(l.Component),ut=n("9kay"),ct=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e={installation:this.props.installation,visible:this.props.visible,labelClose:this.props.t("Close"),insufficientTooltipMessage:this.props.t("Please expand your player size to use this extension."),playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions};return l.createElement(Ne,s.__assign({},e),this.props.children)},t}(l.Component),dt=Object(ut.translate)()(ct),ft=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.extensionsUIContext.getMenuState;if(!t)return null;var r=n(t);if(!f(r))return null;var i=r.confirmationRequest;if(!i)return null;var a=i.options,o={labelMain:this.props.t("You are about to follow {{channelName}}",{channelName:a.channel}),labelCancel:this.props.t("Cancel"),labelFollow:this.props.t("Follow"),labelNotificationsAllow:this.props.t("Turn On Notifications"),labelNotificationsDescription:this.props.t("Receive updates on this channel's activity, including when they go live and upload new videos or clips, on mobile, email, and web."),labelAlreadyFollowed:this.props.t("You are already following {{channelName}}",{channelName:a.channel}),installation:t};return l.createElement(Ge,s.__assign({},o))},t}(l.Component),pt=Object(at.compose)(Q(),Object(ut.translate)())(ft),_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props.installation,t={labelMustBeLoggedIn:this.props.t("You must be logged in to use this extension feature"),labelClose:this.props.t("Close"),installation:e};return l.createElement(ke,s.__assign({},t))},t}(l.Component),ht=Object(ut.translate)()(_t),mt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e={labelMain:this.props.t("You are granting {{extensionName}} the following access:",{extensionName:this.props.installation.extension.name}),labelAllow:this.props.t("Allows this extension to know your user ID on Twitch."),labelManage:this.props.t("Manage Permissions"),labelCancel:this.props.t("Cancel"),labelGrant:this.props.t("Grant"),labelRevoke:this.props.t("Revoke"),installation:this.props.installation};return l.createElement(Fe,s.__assign({},e))},t}(l.Component),Et=Object(ut.translate)()(mt),vt=n("4AzW"),yt=n("ic+G"),gt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.extensionsUIContext.getMenuState;if(!t)return null;var r=n(t);if(!p(r))return null;var i=r.confirmationRequest;if(!i)return null;var a=i.options.payload;if(!a)return null;var o=a.bitsRequired||0,u=a.bitsBalance-o,c=l.createElement("span",{className:"extension-menu-bits__product-label"},a.extensionItemLabel," ",l.createElement(vt.BitsCount,{bitsConfig:yt.FALLBACK_BITS_CONFIG,count:o,withImage:!0,withNumber:!0,animated:!1}));if(u<0){var d=l.createElement(ut.Interpolate,{i18nKey:"You need {{bitsRequired}} to get this item.",bitsRequired:l.createElement(vt.BitsCount,{bitsConfig:yt.FALLBACK_BITS_CONFIG,count:-u,withImage:!0,withNumber:!0,animated:!1})}),f={labelPurchaseIntent:this.props.t("You are trying to get"),labelPurchaseAmount:d,labelCancel:this.props.t("Cancel"),labelBuyBits:this.props.t("Buy Bits"),labelProductName:c,installation:t};return l.createElement(Xe,s.__assign({},f))}var _=l.createElement(ut.Interpolate,{i18nKey:"Your remaining Bits balace will be {{remainingBitsCount}}",remainingBitsCount:l.createElement(vt.BitsCount,{bitsConfig:yt.FALLBACK_BITS_CONFIG,count:u,withImage:!0,withNumber:!0,animated:!1})}),h=l.createElement(ut.Interpolate,{i18nKey:'By clicking "Confirm", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under {{settingsLink}}',extensionName:this.props.installation.extension.name,settingsLink:l.createElement("a",{target:"blank",href:"https://twitch.tv/settings/connections"},this.props.t("Settings"))}),m={labelPurchaseIntent:this.props.t("You are trying to get"),labelCancel:this.props.t("Cancel"),labelConfirm:this.props.t("Confirm"),labelProductName:c,labelDisclaimer:h,labelRemainingBalance:_,installation:t};return l.createElement(Ke,s.__assign({},m))},t}(l.Component),Tt=Object(at.compose)(Q(),Object(ut.translate)())(gt),bt=n("56nq"),St="extension_report",At=[{id:"tos_ban_evasion",text:"Site Suspension Evasion"},{id:"selfharm",text:"Self-Harm"},{id:"harm",text:"Violence or Threats to Harm"},{id:"harassment",text:"Harassment"},{id:"hateful_conduct",text:"Hateful Conduct"},{id:"impersonation",text:"Impersonation"},{id:"spam",text:"Spam, Scams, or Other Malicious Content"},{id:"sexual_content",text:"Sexually Explicit or Sexually Suggestive Content"},{id:"sexual_violence",text:"Sexual Violence or Exploitation"},{id:"gore",text:"Extreme Violence, Gore, or Other Obscene Content"},{id:"cheating",text:"Cheating in Online Game"},{id:"prohibited",text:"Prohibited Game"},{id:"bits_violation",text:"Bits Acceptable Use Policy Violation"},{id:"other",text:"Other Terms of Service Violation"}],Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reportExtension=function(e){var t={content:St,content_id:e.contentID,target_user_id:e.targetID,reason:e.reason,description:e.description};Object(bt.postExtensionReport)(t)},t}return s.__extends(t,e),t.prototype.render=function(){var e={labelMain:this.props.t("Tell us why there has been a violation of the terms of service. Abuse of this feature is also a violation of our terms of services."),labelSelectPlaceholder:this.props.t("Select Reason"),labelDescriptionPlaceholder:this.props.t("Description Required"),labelCancel:this.props.t("Cancel"),labelSubmit:this.props.t("Submit"),reportReasons:At,reportExtension:this.reportExtension,installation:this.props.installation};return l.createElement(je,s.__assign({},e))},t}(l.Component),Ot=Object(ut.translate)()(Ct),Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e={visibleLabel:this.props.t("Visible"),addLabel:this.props.t("Add to My Channel"),buildLabel:this.props.t("Build an Extension"),reportLabel:this.props.t("Report Extension"),labelManage:this.props.t("Manage Access"),installation:this.props.installation};return l.createElement(xe,s.__assign({},e))},t}(l.Component),Nt=Object(ut.translate)()(Pt),It=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props.t("Accept"),t={labelUnacceptedMainCopy:this.props.t("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime."),labelUnacceptedSecondaryCopy:this.props.t("Proceed only if you are familiar with the developer, the Extension, or Channel."),labelLearnMore:this.props.t("Learn More"),labelCancel:this.props.t("Cancel"),labelAccept:e,installation:this.props.installation};return l.createElement($e,s.__assign({},t))},t}(l.Component),Rt=Object(ut.translate)()(It),wt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s.__extends(t,e),t.prototype.render=function(){var e=this.props.bitsBalance;if(null===e)return null;var t={bitsBalanceMessage:l.createElement(l.Fragment,null,this.props.t("Bits Balance"),l.createElement(vt.BitsCount,{bitsConfig:yt.FALLBACK_BITS_CONFIG,count:e,withImage:!0,withText:!0,animated:!1})),bitsSuccessMessage:this.props.t("Success!")};return l.createElement(tt,s.__assign({},t))},t}(l.Component),kt=Object(at.compose)(Object(u.connect)(function(e){return{bitsBalance:e.bits.bitsBalance}}),Object(ut.translate)())(wt),Mt=n("pBkb"),Lt=n("KE4D"),Dt=n("/71H"),xt=n("8BOE"),Ut=n("R/6P"),Bt=function(e){function t(t){var n=e.call(this,t)||this;return n.getTrackingProperties=function(){return{login:n.props.login,channel:n.props.channelLogin,channelId:n.props.channelID,deviceId:n.props.deviceID,platform:n.props.platform,playerType:n.props.playerType}},n.getPlayerStateLinkedStatus=function(){var e=n.props,t=e.installation,i=e.extensionsUIContext,a=q(t,i.permissionsStates),o=a&&a.identityLinkedStatus,s=o===r.LINKED||o===r.LINK_REQUESTED;return o!==r.LINKED&&o!==r.UNLINKED||(n.lastConfirmedLinkedStatus=o),{isUserIdentityLinked:s,token:{permissionsState:n.lastConfirmedLinkedStatus===r.LINKED?it.EXTENSION_PERMISSION_STATE_GRANTED:it.EXTENSION_PERMISSION_STATE_NONE}}},n.onIdentityLinked=function(e,t){var i=n.props,a=i.installation,o=i.extensionsUIContext;n.lastConfirmedLinkedStatus=t;var s=t?r.LINKED:r.UNLINKED;o.setPermissionsState(a,{identityLinkedStatus:s})},n.onMinimize=function(){var e=n.props,t=e.installation,r=e.extensionsUIContext,i=r.isOverlayVisible,a=r.closePopover,o=r.isPopoverOpen,s=r.setOverlayVisibility,l=r.overlayExtension;i&&l&&l.id===t.id&&s(!1),o(t)&&a(t)},n.onModalRequested=function(e,t){var r=n.props,i=r.installation,a=r.extensionsUIContext.setMenuState;switch(t.action){case c.FunctionAction.FollowAction:a({type:o.FOLLOW,confirmationRequest:t},i);break;case c.FunctionAction.UseBits:a({type:o.PURCHASE,confirmationRequest:t},i);break;case c.FunctionAction.LoginRequest:a({type:o.LOGIN_REQUIRED,confirmationRequest:t},i);break;case c.FunctionAction.IdShareRequest:a({type:o.MANAGE_ACCESS},i)}},n.onModalNotification=function(e,t){e===Ut.EXTENSION_NOTIFICATION_TYPES.BITS_BALANCE&&n.props.fetchBitsBalance().then(function(){(0,n.props.extensionsUIContext.setNotification)(d.BITS_BALANCE,t)})},n.onDoubleClick=function(){n.props.toggleFullscreen()},n}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.languageCode,r=e.locale,i=e.isLoggedIn,a=e.loginID,o=e.channelID,u=e.channelLogin,c=e.isHidden;if(!o||!u||!t)return null;var d=s.__assign({},t,{playerState:s.__assign({isHidden:c},this.getPlayerStateLinkedStatus())});return l.createElement(xt.ExtensionFrame,{iframeClass:"extension-view__iframe",installation:d,isLoggedIn:i,key:t.id,language:n,locale:r,loginId:a,onIdentityLinked:this.onIdentityLinked,onMinimize:this.onMinimize,onModalRequested:this.onModalRequested,onModalNotification:this.onModalNotification,onDoubleClick:this.onDoubleClick,isPlayerRedesignExperiment:!0,isVisible:!0,trackingProperties:this.getTrackingProperties(),tracker:{trackEvent:this.props.trackEvent}})},t}(l.Component),Vt=Object(at.compose)(Q(),Object(u.connect)(function(e){return{channelLogin:e.streamMetadata.channel.name,channelID:e.streamMetadata.channel.id,languageCode:e.lang.shortCode,locale:e.lang.langCode,login:e.user.name,loginID:e.user.id,isLoggedIn:e.user.loggedInStatus===Dt.LOGGED_IN,deviceID:e.env.deviceId,platform:e.env.platform,playerType:e.env.playerType}},function(e){return{fetchBitsBalance:function(){return e(Object(Mt.fetchBitsBalance)())},toggleFullscreen:function(){e(Object(Lt.toggleFullScreen)())},trackEvent:function(t,n){e(Object(nt.trackEvent)(t,n))}}}))(Bt),jt={videoHeight:9,videoWidth:16},qt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackEvent=function(e,n){t.props.trackEvent(e,n)},t.getVideoDimensions=function(e){var t=/(\d+)\D*(\d+)/g.exec(e);if(!t)return jt;var n=parseInt(t[1],10),r=parseInt(t[2],10);return r?{videoHeight:r,videoWidth:n}:jt},t}return s.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.activeInstallations,n=e.arePlayerControlsVisible,r=e.game,i=e.playerHeight,a=e.playerWidth,o=e.shouldEnableExtensions,u=e.isVideoAdShowing;if(!o||!t.length)return null;var c={loginID:this.props.loginID,channelID:this.props.channelID,hideExtensions:this.props.hideExtensions,isFullscreen:this.props.isFullscreen,isTheatreMode:this.props.isTheatreMode,showChannelInfoOnHover:this.props.showChannelInfoOnHover,installations:this.props.activeInstallations,trackEvent:this.trackEvent,containers:{ExtensionsDockContainer:st,ExtensionsDockCardContainer:lt,ExtensionsViewContainer:Vt,ExtensionsPopoverContainer:dt,ExtensionsPopoverViewSettingsContainer:Nt,ExtensionsPopoverViewReportContainer:Ot,ExtensionsPopoverViewManageAccessContainer:Et,ExtensionsPopoverViewFollowContainer:pt,ExtensionsPopoverViewPurchaseContainer:Tt,ExtensionsPopoverViewLoggedOutContainer:ht,ExtensionsPopoverViewUnreleasedContainer:Rt,ExtensionsNotificationBitsBalanceContainer:kt}};return l.createElement(z,s.__assign({},c),l.createElement(oe,{playerDimensions:{playerWidth:a,playerHeight:i},videoDimensions:this.getVideoDimensions(this.props.videoDimensions),arePlayerControlsVisible:n,game:r,isVideoAdShowing:u}))},t}(l.Component),Ft=function(e){return{trackEvent:function(t,n){e(Object(nt.trackEvent)(t,n))}}},Ht=Object(u.connect)(function(e){return{activeInstallations:e.extensions.activeInstallations,loginID:e.user.id,channelID:e.streamMetadata.channel.id,playerWidth:e.playerDimensions.width,playerHeight:e.playerDimensions.height,videoDimensions:e.stats.videoStats.videoResolution,arePlayerControlsVisible:e.ui.showUI,game:e.streamMetadata.game||"",isFullscreen:e.screenMode.isFullScreen,isTheatreMode:e.screenMode.isTheatreMode,showChannelInfoOnHover:e.playerOptions.showInfo,hideExtensions:Object(it.hideExtensions)(e),shouldEnableExtensions:Object(it.shouldEnableExtensions)(e),isVideoAdShowing:Object(rt.isAdPlaying)(e)}},Ft)(qt);n.d(t,"ExtensionsOverlayContainerComponent",function(){return qt}),n.d(t,"mapDispatchToProps",function(){return Ft}),n.d(t,"ExtensionsOverlayContainer",function(){return Ht})},qOU0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FlashManager=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("7Eji"),o=n("QBeZ"),s=f(n("UvTj")),l=f(n("TRt3")),u=n("4O8T"),c=(r=u)&&r.__esModule?r:{default:r},d=n("wjyp");function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var p={preroll:o.AdRollTypes.PREROLL,midroll:o.AdRollTypes.MIDROLL,postroll:o.AdRollTypes.POSTROLL},_=Object.freeze({AD_START:"flashAdstart",AD_END:"flashAdend",AD_REQUEST:"flashAdRequested",AD_REQUEST_DECLINED:"flashAdRequestDeclined",AD_REQUEST_RESPONSE:"flashAdRequestResponse",AD_REQUEST_ERROR:"flashAdRequestError",AD_ERROR:"flashAdError",AD_COMPANION_RENDERED:"flashAdcompanionrendered",AD_IMPRESSION:"flashAdImpression",AD_IMPRESSION_COMPLETE:"flashAdImpressionComplete",AD_LOADED:"flashAdLoaded"});t.FlashManager=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._flashBackend=t,this._store=n,this._eventEmitter=new c.default,this._initializeEventListeners()}return i(e,[{key:"_initializeEventListeners",value:function(){this._flashBackend.addEventListener(_.AD_START,this.onAdStarted.bind(this)),this._flashBackend.addEventListener(_.AD_END,this.onAdEnded.bind(this)),this._flashBackend.addEventListener(_.COMPANION_RENDERED,this.onAdCompanionRendered.bind(this)),this._flashBackend.addEventListener(_.AD_REQUEST,this.onAdRequest.bind(this)),this._flashBackend.addEventListener(_.AD_REQUEST_DECLINED,this.onAdRequestDeclined.bind(this)),this._flashBackend.addEventListener(_.AD_REQUEST_RESPONSE,this.onAdRequestResponse.bind(this)),this._flashBackend.addEventListener(_.AD_REQUEST_ERROR,this.onAdRequestError.bind(this)),this._flashBackend.addEventListener(_.AD_ERROR,this.onAdError.bind(this)),this._flashBackend.addEventListener(_.AD_LOADED,this.onAdLoaded.bind(this)),this._flashBackend.addEventListener(_.AD_IMPRESSION,this.onAdImpression.bind(this)),this._flashBackend.addEventListener(_.AD_IMPRESSION_COMPLETE,this.onAdImpressionComplete.bind(this))}},{key:"onAdStarted",value:function(e){this._store.dispatch((0,o.setCurrentAdMetadata)({contentType:o.AdContentTypes.IMA,rollType:p[e.roll_type]})),this._eventEmitter.emit(s.AD_START,{roll_type:e.roll_type})}},{key:"onAdEnded",value:function(e){this._store.dispatch((0,o.clearCurrentAdMetadata)()),this._eventEmitter.emit(s.AD_END,{roll_type:e.roll_type})}},{key:"onAdCompanionRendered",value:function(){this._eventEmitter.emit(s.COMPANION_RENDERED,{provider:"ima"})}},{key:"onAdRequest",value:function(e){this._sendSpadeEvent(l.AD_REQUEST,e)}},{key:"onAdRequestDeclined",value:function(e){this._sendSpadeEvent(l.AD_REQUEST_DECLINED,e)}},{key:"onAdRequestResponse",value:function(e){this._sendSpadeEvent(l.AD_REQUEST_RESPONSE,e)}},{key:"onAdRequestError",value:function(e){this._sendSpadeEvent(l.AD_REQUEST_ERROR,e)}},{key:"onAdError",value:function(e){this._sendSpadeEvent(l.AD_ERROR,e)}},{key:"onAdLoaded",value:function(e){this._sendSpadeEvent(l.AD_LOADED,e)}},{key:"onAdImpression",value:function(e){this._sendSpadeEvent(l.AD_IMPRESSION,e),this._eventEmitter.emit(s.AD_IMPRESSION,{time_break:e.time_break})}},{key:"onAdImpressionComplete",value:function(e){this._sendSpadeEvent(l.AD_IMPRESSION_COMPLETE,e),this._eventEmitter.emit(s.AD_IMPRESSION_COMPLETE)}},{key:"_sendSpadeEvent",value:function(e,t){(0,d.sendAdSpadeEvent)({store:this._store,eventName:e,data:t})}},{key:"requestAds",value:function(e){var t=e.duration,n=e.adType,r=(0,a.buildDFPIMATags)(e);this._flashBackend.requestAdFill(t,n,r)}},{key:"pause",value:function(){this._isAdRunning()&&this._flashBackend.pause()}},{key:"play",value:function(){this._isAdRunning()&&this._flashBackend.play()}},{key:"setVolume",value:function(e){this._isAdRunning()&&this._flashBackend.setVolume(e)}},{key:"setMuted",value:function(e){this._isAdRunning()&&this._flashBackend.setMuted(e)}},{key:"addEventListener",value:function(e,t){this._eventEmitter.on(e,t)}},{key:"destroy",value:function(){}},{key:"_isAdRunning",value:function(){return this._store.getState().ads.current.contentType!==o.AdContentTypes.NONE}},{key:"paused",get:function(){return this._flashBackend.getPaused()}},{key:"muted",get:function(){return this._flashBackend.getMuted()}},{key:"sdk",get:function(){return"flash"}}]),e}()},qT8i:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribe=function(e,t,n){var a=e.getState();return e.subscribe(function(){var o=!1,s=e.getState(),l=t.reduce(function(e,t){return(0,r.default)(e,t,(0,i.default)(s,t)),(0,i.default)(s,t)!==(0,i.default)(a,t)&&(o=!0),e},{});if(o){var u=a;a=s,n(l,u)}})};var r=a(n("D1y2")),i=a(n("mwIZ"));function a(e){return e&&e.__esModule?e:{default:e}}},qTN2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QualityMenu=t.QualityMenuContainer=t.mapDispatchToProps=void 0;var r=d(n("q1tI")),i=d(n("17x9")),a=n("N58E"),o=n("KRLB"),s=n("OyQT"),l=n("Z4ex"),u=n("YWLq"),c=n("EoNM");function d(e){return e&&e.__esModule?e:{default:e}}var f={availableQualities:i.default.array.isRequired,selectedQuality:i.default.string.isRequired,countryCode:i.default.string,onMenuTransition:i.default.func,handleSelectQuality:i.default.func},p=t.mapDispatchToProps=function(e){return{handleSelectQuality:function(t){e((0,s.selectQuality)(t.group)),e((0,s.setPreferredQuality)(t)),e((0,l.showMenu)(l.MENU_STATE_NONE)),e((0,u.trackEvent)("player_click_quality_change")),t.group===s.QUALITY_SOURCE&&c.localStore.set(s.SOURCE_QUALITY_SET_TIMESTAMP,Date.now())}}},_=t.QualityMenuContainer=function(e){var t=e.availableQualities,n=e.selectedQuality,i=e.handleSelectQuality,a=e.onMenuTransition,s={};return"KR"===e.countryCode&&t.length>1&&(s[t[1].group]="HD"),r.default.createElement(o.QualityMenu,{availableQualities:t,selectedQuality:n,qualityNameOverride:s,onMenuTransition:a,onQualitySelect:i})};_.propTypes=f,_.defaultProps={onMenuTransition:function(){},handleSelectQuality:function(){}};t.QualityMenu=(0,a.connect)(function(e){var t=e.quality,n=e.user;return{availableQualities:t.available,selectedQuality:t.selected,countryCode:n.countryCode}},p)(_)},qbnB:function(e,t,n){var r=n("juv8"),i=n("LsHQ"),a=n("mTTR"),o=i(function(e,t){r(t,a(t),e)});e.exports=o},qgtV:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoFullScreen=t.FULLSCREEN_CHANGE=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("NE/w"),o=(r=a)&&r.__esModule?r:{default:r},s=n("KE4D");t.FULLSCREEN_CHANGE="fullscreenchange",t.NoFullScreen=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=n,this._root=t,this._store.dispatch((0,s.setCanFullScreen)(this.canFullScreen()))}return i(e,[{key:"canFullScreen",value:function(){return!1}},{key:"isFullScreen",value:function(){return o.default.element===this._root}}]),e}()},quyA:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},qzlN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=m(n("mwIZ")),a=m(n("QkVN")),o=n("QBeZ"),s=n("YWLq"),l=n("rDCd"),u=n("uAxA"),c=n("wsSb"),d=h(n("IMEk")),f=n("qT8i"),p=n("M8Au"),_=h(n("uC+K"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var E=[_.PLAYER_AMAZON_PRODUCT_PAGE,_.PLAYER_AMAZON_VSE,_.PLAYER_ANIMATED_THUMBNAILS,_.PLAYER_MULTIVIEW_SECONDARY,_.PLAYER_SQUAD_SECONDARY,_.PLAYER_EMBED],v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._channelName=null,this._store=t,this._subscriptions=[],this._timers=[];var n=this._store.getState();this._window=n.window,this._initializeEventListeners()}return r(e,[{key:"attemptToResumeTimers",value:function(){var e=this._store.getState(),t=(0,i.default)(e,"stream.contentType")===c.CONTENT_MODE_LIVE,n=(0,i.default)(e,"ads.currentMetadata.contentType")===o.AdContentTypes.NONE;t&&n&&(0,i.default)(e,"playback.playing")&&!(0,i.default)(e,"playback.isLoading")&&this._timers.forEach(function(e){return e.start()})}},{key:"attemptToFetchPixels",value:function(){var e=this._store.getState(),t=(0,i.default)(e,"stream.contentType"),n=(0,i.default)(e,"onlineStatus");if(this.cancelTimers(),t===c.CONTENT_MODE_LIVE&&n===u.ONLINE_STATUS&&this.isPlayerTrackable()){var r=(0,i.default)(e,"stream.channel"),a=(0,i.default)(e,"gdprConsent.vendors");this._store.dispatch((0,l.fetchPixelInfo)(r,a))}}},{key:"cancelTimers",value:function(){this._timers.forEach(function(e){return e.destroy()}),this._timers=[]}},{key:"createTimer",value:function(e){var t=this,n=new p.Timer(function(){t.trackPixel(e),t._timers.shift()},1e3*e.timeOffsetSeconds,this._window);this._timers.push(n)}},{key:"destroy",value:function(){this._subscriptions.forEach(function(e){return e()}),this.cancelTimers()}},{key:"onAdContentTypeChange",value:function(){var e=this._store.getState();(0,i.default)(e,"ads.currentMetadata.contentType")===o.AdContentTypes.NONE?this.attemptToResumeTimers():this.pauseTimers()}},{key:"onGDPRChange",value:function(){this.attemptToFetchPixels()}},{key:"onOnlineStatusChange",value:function(){this.attemptToFetchPixels()}},{key:"onLoadingChange",value:function(){var e=this._store.getState();(0,i.default)(e,"playback.isLoading")?this.pauseTimers():this.attemptToResumeTimers()}},{key:"onPixelsChange",value:function(e){var t=this,n=e.pixel;this.cancelTimers(),this.isPlayerTrackable()&&(n.pixels.forEach(function(e){return t.createTimer(e)}),this.attemptToResumeTimers())}},{key:"onPlayerTypeChange",value:function(){this.attemptToFetchPixels()}},{key:"onPlayingChange",value:function(){var e=this._store.getState();(0,i.default)(e,"playback.playing")?this.attemptToResumeTimers():this.pauseTimers()}},{key:"isPlayerTrackable",value:function(){var e=this._store.getState(),t=(0,i.default)(e,"env.playerType");return-1===E.indexOf(t)}},{key:"pauseTimers",value:function(){this._timers.forEach(function(e){return e.pause()})}},{key:"trackPixel",value:function(e){var t=this,n={pixel_url:e.url,pixel_type:e.type,pixel_channel_id:e.channelId,pixel_time_offset_seconds:e.timeOffsetSeconds,pixel_origin:e.origin,pixel_service:e.service,pixel_rejected:!1,pixel_device_id:d.get(!1)};fetch(e.url,{cache:"no-store",mode:"no-cors"}).then(function(){t._store.dispatch((0,s.trackEvent)("tracking_pixel_fired",n))}).catch(function(e){var r={pixel_rejected:!0,pixel_rejected_reason:e.status};t._store.dispatch((0,s.trackEvent)("tracking_pixel_fired",(0,a.default)({},n,r)))})}},{key:"_initializeEventListeners",value:function(){this._subscriptions.push((0,f.subscribe)(this._store,["onlineStatus"],this.onOnlineStatusChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["playback.playing"],this.onPlayingChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["playback.isLoading"],this.onLoadingChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["pixel.pixels"],this.onPixelsChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["gdprConsent.vendors"],this.onGDPRChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["env.playerType"],this.onPlayerTypeChange.bind(this))),this._subscriptions.push((0,f.subscribe)(this._store,["ads.currentMetadata.contentType"],this.onAdContentTypeChange.bind(this)))}}]),e}();t.default=v},r0BL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsContainer=t.ExtensionsContainerComponent=t.mapDispatchToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("1hWM"),a=y(n("q1tI")),o=y(n("17x9")),s=n("N58E"),l=n("QgMV"),u=n("gvrc"),c=n("/71H"),d=n("hm9X"),f=n("wy0h"),p=n("YWLq"),_=n("pBkb"),h=n("KE4D"),m=y(n("TSYQ")),E=n("vpBF"),v=n("R/6P");function y(e){return e&&e.__esModule?e:{default:e}}var g={arePlayerControlsVisible:o.default.bool.isRequired,game:o.default.string.isRequired,height:o.default.number.isRequired,installations:o.default.arrayOf(d.EXTENSION_INSTALLATION_PROP_TYPE.isRequired).isRequired,modalRequest:d.EXTENSION_MODAL_REQUEST_TYPE,extensionNotification:d.EXTENSION_NOTIFICATION_TYPE,fetchBitsBalance:o.default.func.isRequired,setBitsBalance:o.default.func.isRequired,onExtensionDoubleClick:o.default.func.isRequired,onIdentityLinked:o.default.func.isRequired,onIdShareRequested:o.default.func.isRequired,onModalRequested:o.default.func.isRequired,onModalNotification:o.default.func.isRequired,onComponentHover:o.default.func.isRequired,clearExtensionNotification:o.default.func.isRequired,onMinimize:o.default.func.isRequired,onModalClose:o.default.func.isRequired,onPurchaseIntent:o.default.func.isRequired,shouldEnableExtensions:o.default.bool.isRequired,shouldShowExtensions:o.default.bool.isRequired,width:o.default.number.isRequired,videoResolution:o.default.string.isRequired,trackEvent:o.default.func.isRequired,channel:o.default.string.isRequired,channelId:o.default.number.isRequired,deviceId:o.default.string.isRequired,isLoggedIn:o.default.bool.isRequired,language:o.default.string.isRequired,locale:o.default.string.isRequired,login:o.default.string.isRequired,loginId:o.default.number.isRequired,platform:o.default.string.isRequired,playerType:o.default.string.isRequired,windowObj:o.default.object.isRequired},T=t.mapDispatchToProps=function(e){return{fetchBitsBalance:function(){return e((0,_.fetchBitsBalance)())},setBitsBalance:function(t){e((0,_.setBitsBalance)(t))},onExtensionDoubleClick:function(){e((0,h.toggleFullScreen)())},onIdentityLinked:function(t,n){e((0,f.updateExtensionIdentityLinking)(t,n))},onModalRequested:function(t,n){e((0,f.setExtensionModal)(t,n))},onModalNotification:function(t,n){e((0,f.setExtensionNotification)(t,n))},clearExtensionNotification:function(){e((0,f.clearExtensionNotification)())},onMinimize:function(t){e((0,f.setExtensionVisibility)(t,!1))},onModalClose:function(){e((0,f.closeExtensionMenu)())},onPurchaseIntent:function(t,n){var r={payload:t,makePurchase:n};e((0,f.purchaseIntentReceived)(r))},onIdShareRequested:function(t){e((0,f.setExtensionMenu)(t,E.EXTENSION_MENU_MANAGE_ACCESS))},onComponentHover:function(t){e((0,f.onExtensionHover)(t,!1))},trackEvent:function(t,n){e((0,p.trackEvent)(t,n))}}},b=t.ExtensionsContainerComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundOnModalRequested=e._onModalRequested.bind(e),e._boundOnModalNotification=e._onModalNotification.bind(e),e._tracker={trackEvent:e.props.trackEvent},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"hasOneOverlayExtension",get:function(){var e=this.props.installations;return 1===e.length&&e[0].activationConfig.anchor===E.EXTENSION_OVERLAY_ANCHOR}}]),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.game!==this.props.game,n=e.arePlayerControlsVisible!==this.props.arePlayerControlsVisible;(t||n)&&i.extensionService.postContext({arePlayerControlsVisible:e.arePlayerControlsVisible,game:e.game})}},{key:"render",value:function(){var e=this.props,t=e.shouldEnableExtensions,n=e.shouldShowExtensions,r=e.installations,i=e.videoResolution,o=this._getAspectRatio(i),s=this._computeDimensions(this.props.width,this.props.height,o);if(!t||!r.length)return null;var l=(0,m.default)({"extension-container":!0,invisible:!n}),u={transform:"translate("+Math.floor(-.5*s.width)+"px, "+Math.floor(-.5*s.height)+"px)"};return a.default.createElement("div",{className:l},a.default.createElement("div",{className:"extension-overlays",style:u},this._renderOverlayExtension(s)),a.default.createElement("div",{className:"extension-components-container",style:Object.assign({},s,u)},this._renderComponentExtensions(s)))}},{key:"_renderOverlayExtension",value:function(e){var t=this.props,n=t.installations,r=t.isLoggedIn,o=t.language,s=t.locale,l=t.loginId,c=t.onIdentityLinked,d=t.onExtensionDoubleClick,f=t.onMinimize,p=t.onPurchaseIntent,_=t.shouldShowExtensions,h=n.find(function(e){var t=e.activationConfig,n=e.extension,r=e.playerState;return t.anchor===i.ExtensionAnchor.Overlay&&("Released"===n.state||!0===r.unreleasedAccepted)});return h?a.default.createElement(u.ExtensionOverlay,{height:e.height,installation:h,isLoggedIn:r,isVisible:_,key:h.id,language:o,locale:s,loginId:l,onBeginPurchase:p,onDoubleClick:d,onIdentityLinked:c,onMinimize:f,onModalRequested:this._boundOnModalRequested,onModalNotification:this._boundOnModalNotification,ref:this._boundExtensionOverlayRefHandler,tracker:this._tracker,trackingProperties:this._getTrackingProperties(),width:e.width}):null}},{key:"_renderComponentExtensions",value:function(e){var t=this,n=this.props,r=n.installations,o=n.isLoggedIn,s=n.language,u=n.locale,c=n.loginId,d=n.onIdentityLinked,f=n.onExtensionDoubleClick,p=n.onMinimize,_=n.onPurchaseIntent,h=n.onComponentHover,m=n.shouldShowExtensions;return r.filter(function(e){var t=e.activationConfig,n=e.extension,r=e.playerState;return t.anchor===i.ExtensionAnchor.Component&&"number"==typeof t.x&&"number"==typeof t.y&&("Released"===n.state||!0===r.unreleasedAccepted)}).map(function(n){return a.default.createElement(l.ExtensionComponent,{installation:n,isLoggedIn:o,isVisible:m,key:n.id,language:s,locale:u,loginId:c,onBeginPurchase:_,onDoubleClick:f,onIdentityLinked:d,onMinimize:p,onModalRequested:t._boundOnModalRequested,onModalNotification:t._boundOnModalNotification,onHover:h,playerHeight:e.height,playerWidth:e.width,tracker:t._tracker,trackingProperties:t._getTrackingProperties()})})}},{key:"_getTrackingProperties",value:function(){return{login:this.props.login,channel:this.props.channel,channelId:this.props.channelId,deviceId:this.props.deviceId,platform:this.props.platform,playerType:this.props.playerType}}},{key:"_computeDimensions",value:function(e,t,n){var r=e/t>n;return{width:r?Math.ceil(t*n):e,height:r?t:Math.ceil(e/n)}}},{key:"_getAspectRatio",value:function(e){var t=/(\d+)\D*(\d+)/g.exec(e);if(!t)return 16/9;var n=parseInt(t[1],10),r=parseInt(t[2],10);return r?n/r:16/9}},{key:"_onModalRequested",value:function(e,t){this.props.clearExtensionNotification(),t.action!==i.FunctionAction.IdShareRequest?(t.action===i.FunctionAction.UseBitsPromptRequired&&t.options.payload&&this.props.setBitsBalance(t.options.payload.bitsBalance),this.props.onModalRequested(e,t)):this.props.onIdShareRequested(e)}},{key:"_onModalNotification",value:function(e,t){var n=this;e!==v.EXTENSION_NOTIFICATION_TYPES.BITS_BALANCE||this._isBitsNotificationOpen()?this.props.onModalNotification(e,t):this.props.fetchBitsBalance().then(function(){n.props.onModalNotification(e,t)})}},{key:"_isBitsNotificationOpen",value:function(){return this.props.extensionNotification&&this.props.extensionNotification.type===v.EXTENSION_NOTIFICATION_TYPES.BITS_BALANCE}}]),t}();b.propTypes=g;t.ExtensionsContainer=(0,s.connect)(function(e){return{arePlayerControlsVisible:e.ui.showUI,installations:e.extensions.activeInstallations,extensionNotification:e.extensions.notification,modalRequest:e.extensions.menuState.modalOptions,game:e.streamMetadata.game||"",width:e.playerDimensions.width,height:e.playerDimensions.height,videoResolution:e.stats.videoStats.videoResolution,shouldEnableExtensions:(0,E.shouldEnableExtensions)(e),shouldShowExtensions:(0,E.shouldShowExtensions)(e),isLoggedIn:e.user.loggedInStatus===c.LOGGED_IN,login:e.user.name,loginId:e.user.id,channel:e.streamMetadata.channel.name,channelId:e.streamMetadata.channel.id,deviceId:e.env.deviceId,platform:e.env.platform,language:e.lang.shortCode,locale:e.lang.langCode,playerType:e.env.playerType,windowObj:e.window}},T)(b)},r3kr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userCanClipSelector=t.DEFAULT_CLIPS_STATE=t.NO_CLIPS_CHANNELS=t.NO_CLIPS_PLAYER_TYPES=void 0,t.clips=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments[1];switch(t.type){case i.ACTION_CLIP_GENERATOR_LOADED:return(0,r.default)({},e,{generator:t.generator});default:return e}},t.isValidChannelState=v,t.isValidPlaybackState=y,t.isValidStreamState=g,t.isValidAdsState=T;var r=p(n("3OWR")),i=n("IacF"),a=n("7SVc"),o=n("wsSb"),s=n("VIow"),l=n("/71H"),u=n("uAxA"),c=n("QBeZ"),d=n("uC+K"),f=p(n("ijCd"));function p(e){return e&&e.__esModule?e:{default:e}}var _=t.NO_CLIPS_PLAYER_TYPES=Object.freeze([d.PLAYER_IMDB,d.PLAYER_AMAZON_VSE,d.PLAYER_HIGHLIGHTER,d.PLAYER_AMAZON_LIVE,d.PLAYER_CLIPS_VIEWING,d.PLAYER_CLIPS_EMBED,d.PLAYER_ONBOARDING,d.PLAYER_RECAP,d.PLAYER_CHANNEL_TRAILER]),h=t.NO_CLIPS_CHANNELS=Object.freeze(["misterrogers","contv","failarmy","asot"]),m=Object.freeze({recordClip:function(){console.error("Clip Generator not available yet")}}),E=t.DEFAULT_CLIPS_STATE=Object.freeze({generator:m});function v(e){var t=e.streamMetadata,n=Boolean(t.broadcastID),r=!(0,f.default)(h,t.channel.name),i=t.isEncrypted;return n&&r&!i}function y(e){var t=e.playback,n=e.stream,r=t.hasPlayed,i=n.contentType===o.CONTENT_MODE_LIVE&&t.paused;return r&&!i}function g(e){var t=e.stream,n=e.onlineStatus,r=e.env,i=e.backendInfo,l=e.ads,c=t.contentType===o.CONTENT_MODE_LIVE&&n!==u.ONLINE_STATUS,d=!(0,f.default)([o.CONTENT_MODE_LIVE,s.CONTENT_MODE_VOD],t.contentType),p=(0,f.default)(_,r.playerType),h=i.playerBackendType===a.BACKEND_HLS,m=l.currentAdProperties.requiredAge>0;return!(c||d||h||p||m)}function T(e){return!(e.ads.currentMetadata.contentType!==c.AdContentTypes.NONE)}t.userCanClipSelector=function(e){return e.user.loggedInStatus===l.LOGGED_IN&&v(e)&&y(e)&&g(e)&&T(e)}},rDCd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchPixelInfo=t.ACTION_SET_PIXELS=void 0;var r=n("56nq"),i=t.ACTION_SET_PIXELS="set pixels";t.fetchPixelInfo=function(e,t){return function(n,a){return(0,r.getChannelPixelUrls)(e,t).then(function(e){e.channel&&e.channel.adProperties&&n({type:i,pixels:e.channel.adProperties.trackingPixels||[],channelId:e.channel.id})})}}},rHrb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n("q1tI")),o=s(n("+QRC"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(t.CopyToClipboard=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.onClick=function(e){var t=r.props,n=t.text,i=t.onCopy,s=t.children,l=t.options,u=a.default.Children.only(s),c=(0,o.default)(n,l);i&&i(n,c),u&&u.props&&"function"==typeof u.props.onClick&&u.props.onClick(e)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),i(t,[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["text","onCopy","options","children"]),i=a.default.Children.only(t);return a.default.cloneElement(i,r({},n,{onClick:this.onClick}))}}]),t}()).defaultProps={onCopy:void 0,options:void 0}},rRi7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLLECTION_SESSION_TIME_THRESHOLD=t.COLLECTION_SESSION_TIMESTAMP_KEY=t.COLLECTION_SESSION_COLLECTION_ID_KEY=t.COLLECTION_SESSION_ID_KEY=t.COLLECTION_SESSION_KEY=t.ACTION_CLOSE_COLLECTION_SIDEBAR=t.ACTION_OPEN_COLLECTION_SIDEBAR=t.ACTION_ENABLE_COLLECTIONS_UI=t.ACTION_LOADED_COLLECTION_ITEM=t.ACTION_LOADED_LAST_COLLECTION_ITEM=t.ACTION_FETCHED_FEATURED_COLLECTION=t.ACTION_CLEAR_COLLECTION=t.ACTION_SET_COLLECTION=t.ACTION_REQUEST_COLLECTION=void 0,t.featuredCollectionFetched=function(e){return{type:f,featuredCollection:(t=e,{id:t._id,owner:{id:t.owner._id,displayName:t.owner.display_name,name:t.owner.name},thumbnails:t.thumbnails,title:t.title,itemsCount:t.items_count})};var t},t.setCollection=function(e){return function(t){var n;t(O(e._id)),t({type:c,collection:(n=e,{id:n._id,owner:{id:n.owner._id,displayName:n.owner.display_name,name:n.owner.name},thumbnails:n.thumbnails,title:n.title,totalDuration:n.total_duration,views:n.views,items:n.items.map(function(e){return{itemId:(t=e).item_id,title:t.title,owner:{displayName:t.owner.display_name},thumbnails:{small:t.thumbnails?t.thumbnails.small:S}};var t})})}),t(A())}},t.clearCollection=function(){return function(e){e(P()),e({type:d})}},t.applyVodTopShelfTreatment=A,t.enableCollectionsUi=C,t.setCollectionSessionData=O,t.clearCollectionSessionData=P,t.loadedLastCollectionItem=function(){return{type:p}},t.loadedCollectionItem=function(){return{type:_}},t.requestCollection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{type:u,request:{collectionId:e,videoId:t,timestamp:n,preferVideo:r}}},t.updateCollectionSessionTimestamp=function(){return function(){var e=r.sessionStore.get(v,{});e[T]=Date.now(),r.sessionStore.set(v,e)}},t.openCollectionSidebar=function(){return{type:m}},t.closeCollectionSidebar=function(){return{type:E}};var r=n("EoNM"),i=n("uXPQ"),a=n("cLw2"),o=n("Rnd+"),s=n("uC+K");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=t.ACTION_REQUEST_COLLECTION="request collection",c=t.ACTION_SET_COLLECTION="set collection",d=t.ACTION_CLEAR_COLLECTION="clear collection",f=t.ACTION_FETCHED_FEATURED_COLLECTION="fetched featured collection",p=t.ACTION_LOADED_LAST_COLLECTION_ITEM="loaded last collection item",_=t.ACTION_LOADED_COLLECTION_ITEM="loaded collection item",h=t.ACTION_ENABLE_COLLECTIONS_UI="enable collections ui",m=t.ACTION_OPEN_COLLECTION_SIDEBAR="open collection sidebar",E=t.ACTION_CLOSE_COLLECTION_SIDEBAR="close collection sidebar",v=t.COLLECTION_SESSION_KEY="collection-session",y=t.COLLECTION_SESSION_ID_KEY="session-id",g=t.COLLECTION_SESSION_COLLECTION_ID_KEY="collection-id",T=t.COLLECTION_SESSION_TIMESTAMP_KEY="timestamp",b=t.COLLECTION_SESSION_TIME_THRESHOLD=a.ONE_HOUR_IN_MS,S="https://static-cdn.jtvnw.net/ttv-playlists-thumbnails-prod/no-thumbnail-sm.png";function A(){return function(e,t){var n=t(),r=n.collection,i=n.env,a=n.experiments;if(!r.collectionsUiEnabled){if(i.playerType===s.PLAYER_SITE)return a.get(o.ExperimentIds.TwilightVodTopShelf).then(function(t){"on"!==t&&e(C())}).catch(function(){e(C())});e(C())}}}function C(){return{type:h}}function O(e){return function(){var t,n=r.sessionStore.get(v,{}),a=n[y],o=n[g],s=n[T],u=Date.now(),c=void 0;c=s&&o&&o===e&&u-s<b?a:(0,i.generate)(),r.sessionStore.set(v,(l(t={},y,c),l(t,g,e),l(t,T,u),t))}}function P(){return function(){r.sessionStore.remove(v)}}},rSwD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUSTOM=t.ACTION_UPDATE_CAPTIONS_FONT_SIZE=t.ACTION_SHOW_CC_MODAL=t.ACTION_TOGGLE_CAPTIONS=t.ACTION_SET_CAPTIONS_PRESET=t.ACTION_SET_CAPTIONS_DATA=t.ACTION_INITIALIZE_CAPTIONS_SETTINGS=t.KEY_CAPTIONS_STYLE=t.KEY_CAPTIONS_PRESET=t.KEY_CAPTIONS_ENABLED=void 0,t.showCCModal=function(e){return{type:m,showCCModal:e}},t.initializeCaptionsSettings=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]||s.localStore.get(u,a.DEFAULT_CAPTION.enabled);return{type:f,captions:{enabled:e,preset:s.localStore.get(c,a.DEFAULT_CAPTION.preset),style:s.localStore.get(d,a.DEFAULT_CAPTION.style)}}},t.setCaptionsData=function(e){return{type:p,captions:{data:e}}},t.setCaptionsEnabled=function(e){return s.localStore.set(u,e),function(t,n){var i=e?"block":"none",a=n().captions.style,o=E((0,r.default)({},a,{display:i}));return t({type:h,captions:{enabled:e,style:o}})}},t.setCaptionsPreset=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.localStore.set(c,e),function(n,i){var a=i().captions.style,o=E((0,r.default)({},a,t));return s.localStore.set(d,o),n({type:_,captions:{preset:e,style:o}})}};var r=l(n("zdiy")),i=l(n("9nhX")),a=n("LjNF"),o=n("8+VK"),s=n("EoNM");function l(e){return e&&e.__esModule?e:{default:e}}var u=t.KEY_CAPTIONS_ENABLED="captionsEnabled",c=t.KEY_CAPTIONS_PRESET="captionsPreset",d=t.KEY_CAPTIONS_STYLE="captionsStyle",f=t.ACTION_INITIALIZE_CAPTIONS_SETTINGS="captions settings initialized",p=t.ACTION_SET_CAPTIONS_DATA="captions data received",_=t.ACTION_SET_CAPTIONS_PRESET="captions preset selected",h=t.ACTION_TOGGLE_CAPTIONS="captions toggled",m=t.ACTION_SHOW_CC_MODAL="captions show modal";t.ACTION_UPDATE_CAPTIONS_FONT_SIZE="update caption font size",t.CUSTOM="custom";function E(e){var t=(0,i.default)(e.fontSize,o.fontSizeMap.min,o.fontSizeMap.max);return(0,r.default)({},e,{fontSize:t})}},rjzH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpacityDropdown=void 0,t.OpacityDropdownComponent=f;var r=s(n("q1tI")),i=s(n("17x9")),a=n("+oT0"),o=n("9kay");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentOpacity:i.default.string.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired},u=Object.freeze({text:"Solid",value:"solid"}),c=Object.freeze({text:"Translucent",value:"translucent"}),d=Object.freeze([u,c]);function f(e){var t=e.onSelect,n=e.currentOpacity,i=e.t;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"bgOpacity"},i("Opacity")),r.default.createElement(a.SelectDropdown,{currentValue:n,id:"bgOpacity",onSelect:t,options:d}))}f.propTypes=l;t.OpacityDropdown=(0,o.translate)()(f)},"rrx+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubscribeButton=t.mapStateToProps=void 0,t.SubscribeButtonComponent=p;var r=c(n("q1tI")),i=c(n("17x9")),a=n("N58E"),o=n("1fV9"),s=c(n("TSYQ")),l=n("9kay"),u=n("3Dr0");function c(e){return e&&e.__esModule?e:{default:e}}var d={channelName:i.default.string.isRequired,isOwnChannel:i.default.bool.isRequired,isSubscribed:i.default.bool.isRequired,isSubscribable:i.default.bool.isRequired,onSubscribe:i.default.func.isRequired,canGiftSub:i.default.bool,hideChannelName:i.default.bool,t:i.default.func.isRequired},f=t.mapStateToProps=function(e){return{channelName:e.streamMetadata.channel.name,isOwnChannel:e.streamMetadata.channel.id===e.user.id,isSubscribed:e.subscriptions.isSubscribed,isSubscribable:e.subscriptions.isSubscribable}};function p(e){if(!e.isSubscribable||e.isOwnChannel)return null;var t=(0,s.default)("pl-button","pl-button--follow","pl-button--icon","pl-button--success"),n=(0,s.default)("pl-button","pl-button--follow","pl-button--icon"),i=e.t("Subscribe to {{channelName}}",{channelName:e.channelName});e.hideChannelName&&(i=e.t("Subscribe"));var a=r.default.createElement(o.Button,{className:n,onClick:e.onSubscribe},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.StarSVG,{id:"icon_star",disabled:!1})),r.default.createElement("span",{className:"pl-button__text"},i)),l=r.default.createElement(o.Button,{className:n},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.StarSVG,{id:"icon_star",disabled:!1})),r.default.createElement("span",{className:"pl-button__text"},e.t("Subscribed"))),c=r.default.createElement(o.Button,{className:t,onClick:e.onSubscribe},r.default.createElement("figure",{className:"pl-icon"},r.default.createElement(u.StarSVG,{id:"icon_star",disabled:!1})),r.default.createElement("span",{className:"pl-button__text"},e.t("Gift a Sub")));return e.isSubscribed?e.canGiftSub?c:l:a}p.propTypes=d,p.defaultProps={canGiftSub:!1,hideChannelName:!1};var _=(0,a.connect)(f);t.SubscribeButton=(0,l.translate)()(_(p))},ruD0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsConfirmation=t.ProductPayloadPropTypes=void 0,t.ExtensionsConfirmationComponent=c;var r=s(n("q1tI")),i=n("9kay"),a=s(n("17x9")),o=n("B/WF");function s(e){return e&&e.__esModule?e:{default:e}}var l=t.ProductPayloadPropTypes=a.default.shape({description:a.default.string.isRequired,developerName:a.default.string.isRequired,displayPrice:a.default.string.isRequired,extensionName:a.default.string.isRequired,shortDescription:a.default.string.isRequired,sku:a.default.string.isRequired,title:a.default.string.isRequired}),u={cancel:a.default.func.isRequired,confirm:a.default.func.isRequired,productPayload:l,isLinked:a.default.bool.isRequired,isLoggedIn:a.default.bool.isRequired,t:a.default.func.isRequired};function c(e){var t=e.cancel,n=e.confirm,a=e.isLinked,s=e.isLoggedIn,l=e.productPayload,u=e.t;if(!s)return r.default.createElement("div",{className:"extension-confirmation__wrapper"},r.default.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},r.default.createElement(o.ClosePopupButton,{close:t})),r.default.createElement("div",{"data-test-extensions-confirmation-logged-out":!0,className:"extension-confirmation__section"},r.default.createElement("h4",null,u("You must be logged in to use this extension feature."))),r.default.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},r.default.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},u("Close"))));var c=null;if(!a){c=r.default.createElement("div",{className:"extension-confirmation__section extension-confirmation__section--no-bottom"},r.default.createElement("p",{"data-test-extensions-confirmation-link-notice":!0,className:"extension-confirmation__link-notice"},r.default.createElement(i.Interpolate,{i18nKey:'By clicking "Buy", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under',extensionName:l.extensionName})," ",r.default.createElement("a",{href:"https://twitch.tv/settings/connections"},u("Settings")),"."))}var d="extension-confirmation__section "+(a?"":"extension-confirmation__section--no-bottom");return r.default.createElement("div",{className:"extension-confirmation__wrapper"},r.default.createElement("div",{className:" extension-confirmation__section extension-confirmation__section--first extension-confirmation__section--no-bottom "},r.default.createElement(o.ClosePopupButton,{close:t}),r.default.createElement("h4",{className:"extension-confirmation__popup-title"},u("In-Extension Purchase"))),r.default.createElement("div",{className:"extension-confirmation__section"},r.default.createElement("div",null,r.default.createElement("h5",{className:"extension-confirmation__product-title"},r.default.createElement("span",{className:"extension-confirmation__display-price"},l.displayPrice),l.title),r.default.createElement("p",{className:"extension-confirmation__extension-name"},r.default.createElement(i.Interpolate,{i18nKey:"{{extensionName}} Extension",extensionName:l.extensionName}))),r.default.createElement("p",{className:"extension-confirmation__description"},l.description)),r.default.createElement("div",{className:d},r.default.createElement("button",{onClick:n,className:"extension-confirmation__purchase","data-test-extension-confirmation-purchase":!0},u("Buy")),r.default.createElement("button",{onClick:t,className:"extension-confirmation__cancel","data-test-extension-confirmation-cancel":!0},u("Cancel"))),c)}c.propTypes=u;t.ExtensionsConfirmation=(0,i.translate)()(c)},s4z8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoSourceContentStream=t.CONTENT_MODE_VIDEO_SOURCE=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("2jd5");var a=t.CONTENT_MODE_VIDEO_SOURCE="video-source";t.VideoSourceContentStream=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return n._url=e,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.AbstractStream),r(t,[{key:"contentType",get:function(){return a}},{key:"streamUrl",get:function(){return Promise.resolve(this._url)}},{key:"castStreamUrl",get:function(){return Promise.resolve(this._url)}},{key:"accessToken",get:function(){return Promise.resolve({})}}]),t}()},s91p:function(e,t,n){var r=n("vU/9"),i=n("Rpcs"),a=n("q/Rs");t.DEFAULT_SPADE_URL="//trowel.twitch.tv/",t.SPADE_URL_PROJECT_UUID="4badc757-13a7-468c-99b6-e42aef7fc286",t.sendEvent=function(e,n,o){var s=r.stringify(i.parse(JSON.stringify(n))),l=e||t.DEFAULT_SPADE_URL;a.fetch(l,{method:"post",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"data="+encodeURIComponent(s)},o)}},"sE+n":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PausePlayButton=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),a=p(i),o=p(n("17x9")),s=n("1fV9"),l=n("qHst"),u=n("yU/b"),c=n("dndI"),d=n("Qpe6"),f=p(n("TSYQ"));function p(e){return e&&e.__esModule?e:{default:e}}var _={paused:o.default.bool.isRequired,showReplay:o.default.bool.isRequired,onPlay:o.default.func.isRequired,onPause:o.default.func.isRequired},h=(0,f.default)({"player-button":!0,"qa-pause-play-button":!0});(t.PausePlayButton=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.paused,n=e.onPlay,r=e.onPause,i=t?n:r;return a.default.createElement(s.Button,{className:h,onClick:i,tabIndex:"-1"},this.getIcon())}},{key:"getIcon",value:function(){var e=this.props,t=e.paused;return e.showReplay?a.default.createElement("span",{className:"player-tip--aleft"},a.default.createElement(u.ReplaySVG,null)):t?a.default.createElement(l.Icon,{label:"Play",labelClass:"player-tip--aleft"},a.default.createElement(c.PlaySVG,{id:"icon_play"})):a.default.createElement(l.Icon,{label:"Pause",labelClass:"player-tip--aleft"},a.default.createElement(d.PauseSVG,{id:"icon_pause"}))}}]),t}()).propTypes=_},sJWP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stats=t.StatsContainer=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N58E"),s=n("dHJI"),l=n("0D68"),u=n("j4+h"),c=n("wsSb"),d=n("wSP4");function f(e){return e&&e.__esModule?e:{default:e}}var p={stats:a.default.shape({backendVersion:a.default.string,bufferSize:a.default.number,codecs:a.default.string,displayResolution:a.default.string,fps:a.default.number,hlsLatencyBroadcaster:a.default.number,latencyMode:a.default.string,memoryUsage:a.default.string,playbackRate:a.default.number,skippedFrames:a.default.number,videoResolution:a.default.string}).isRequired,isLive:a.default.bool.isRequired,show:a.default.bool.isRequired,closeStats:a.default.func.isRequired,servingId:a.default.string.isRequired},_=t.mapStateToProps=function(e){var t=e.manifestInfo,n=e.stats,r=e.stream;return{isLive:r.contentType===c.CONTENT_MODE_LIVE||r.contentType===d.CONTENT_MODE_PROVIDED,show:n.displayState===u.DISPLAY_VIDEO_STATS,stats:n.videoStats,servingId:t.serving_id}},h=t.mapDispatchToProps=function(e){return{closeStats:function(){e((0,l.displayStats)(u.DISPLAY_NONE))}}},m=t.StatsContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClose=e.onClose.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"onClose",value:function(){this.props.closeStats()}},{key:"render",value:function(){var e=this.props,t=e.isLive,n=e.servingId,r=e.show,a=e.stats;return r?i.default.createElement(s.Stats,{isLive:t,onClose:this.onClose,servingId:n,stats:a}):null}}]),t}();m.propTypes=p;t.Stats=(0,o.connect)(_,h)(m)},sKgW:function(e,t){var n=9007199254740991,r=Math.floor;e.exports=function(e,t){var i="";if(!e||t<1||t>n)return i;do{t%2&&(i+=e),(t=r(t/2))&&(e+=e)}while(t);return i}},"sO++":function(e,t){},sTFd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShareSVG=void 0;var r,i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r};t.ShareSVG=function(){return a.default.createElement("svg",{viewBox:"0 0 30 30"},a.default.createElement("path",{d:"M12 11v2h-2v8h10v-8h-2v-2h4v12H8V11h4zm2-1h-2l3-3 3 3h-2v6h-2v-6z",fillRule:"evenodd"}))}},snxH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURSE_DESKTOP=t.TRACKER_PROP_TYPE=void 0,t.AnalyticsTracker=function(e,t){var n=this,a=[],b=void 0;function S(e){var t=e.split(".");return t.slice(-2).join(".")}function N(t){var n=e.getState(),r=n.env,i=r.platform,a=r.playerType;return a===m.PLAYER_CURSE?A:t&&t.platform&&O.includes(t.platform)?t.platform:i}function I(){var t=h.getFlashPlayerVersion(),n=t.major+","+t.minor+","+t.release,r=function(){try{return document.domain=u.domain,window.parent.document.referrer}catch(e){return window.document.referrer}}(),i=(0,d.parseUri)(r),a=p.get(!1),o=p.get(!0),s=(0,T.getPlayerType)()===m.PLAYER_EMBED?null:C,l=(0,y.getBrowserInfo)(),c=l.browser_family,f=l.browser_version,_=l.os_name,E=l.os_version;return{app_version:g.APP_VERSION,flash_version:n,referrer_url:r,referrer_host:i.host,referrer_domain:S(i.host),browser:e.getState().window.navigator.appVersion||"",browser_family:c,browser_version:f,os_name:_,os_version:E,user_agent:e.getState().window.navigator.userAgent||"",device_id:a,distinct_id:a,session_device_id:o,client_app:s}}n.trackEvents=function(n){var i=e.getState(),o=i.window,s=i.playback,l=i.ui,c=i.tracking,p=i.manifestInfo,_=i.analytics,h=i.env,E=i.settings,v=i.streamMetadata,y=o.Date.now()/1e3;Promise.all(a).then(function(e){var i=r.default.apply(null,e),a=function(){var e=void 0;try{document.domain=u.domain,(e=window.parent.location).host||(e=window.location)}catch(t){e=window.location}return e}(),o=h.playerType,g=n.map(function(e){var t=(0,r.default)({},b,i,e.properties,c,function(e){var t=e.referrer,n=e.referrer_url,r="",i={};"string"==typeof t&&0!==t.length?r=t:"string"==typeof n&&0!==n.length&&(r=n);if(""!==r){var a=(0,d.parseUri)(r);i.referrer_host=a.host,i.referrer_domain=S(a.host)}return i}(c),{platform:N(c),play_session_id:_.playSessionId,url:(0,f.sanitizeQuery)(a.href),host:a.host,domain:S(a.host),latency_mode_toggle:E.lowLatencyModeEnabled,low_latency:p.future,muted:s.muted,volume:s.volume,hidden:l.hidden,player:l.isMini?m.PLAYER_SITE_MINI:o,encrypted:v.isEncrypted});return t.time||(t.time=y),{event:e.event,properties:t}});t.debug&&g.forEach(function(e){var t=e.event,n=e.properties;console.log("track event:",t,n)});var T=_.trackingClients;T.forEach(function(e){e.trackEvents(g)})})},n.trackEvent=function(e,t){n.trackEvents([{event:e,properties:t}])},n.clipsTrackEvent=function(t,r){var i=e.getState();n.trackEvent(t,(0,v.default)({},(0,E.clipsBaseProperties)(i),(0,E.clipsClipProperties)(i),r))},n.setProperty=function(e,t){var r={};r[e]=t,n.setProperties(r)},n.setProperties=function(e){var t=Promise.resolve(e).then(null,function(e){return console.warn("failed to resolve properties promise",e),{}});a.push(t)},function(){var r=[];r.push(new o.SpadeClient({url:c.trustedSpadeURI}));var a=e.getState().env.playerType;(0,i.default)(P,a)&&r.push(new s.FirstPartyClient(e));e.dispatch((0,l.setTrackingClients)(r)),b=I(),n.setProperties(t.tracking),n.setProperties({channel:t.channel,vod:t.video,vod_id:t.video}),n.setProperty("benchmark_session_id",t.benchmarkId||_.generate()),n.setProperty("mse_support","undefined"!=typeof MediaSource)}()};var r=S(n("zdiy")),i=S(n("ijCd")),a=S(n("17x9")),o=n("aVK+"),s=n("irPz"),l=n("CM3j"),u=b(n("J0qE")),c=n("RfeP"),d=n("uCED"),f=n("/2o6"),p=b(n("IMEk")),_=b(n("uXPQ")),h=b(n("TiYG")),m=b(n("uC+K")),E=n("d4Wk"),v=S(n("3OWR")),y=n("ZCCF"),g=n("NBx9"),T=n("Qn3q");function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}t.TRACKER_PROP_TYPE=a.default.shape({trackEvent:a.default.func.isRequired});var A=t.CURSE_DESKTOP="desktop",C="ember",O=["web","desktop"],P=[m.PLAYER_AMAZON_VSE,m.PLAYER_AMAZON_LIVE,m.PLAYER_SITE,m.PLAYER_FRONTPAGE]},sqLg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_PROVIDED_OPTIONS=void 0,t.setPlayerOptions=function(e){var t=(0,a.default)(e,["branding","collection","channel","channelId","force_preroll","force_midroll","force_preroll_id","force_midroll_id","gdprConsent","nSecondPlayPeriods","showInfo","showMature","showtheatre","tt_content","tt_medium","video","persistUserPreferences"]);return{type:o,playerOptions:t}};var r,i=n("JZM8"),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ACTION_SET_PROVIDED_OPTIONS="set provided options"},"sr/1":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionTaskbar=t.ExtensionTaskbarComponent=t.TASKBAR_COLLAPSE_WIDTH=t.EXT_TASKBAR_CARD_CONTAINER_CLASS=t.EXT_TASKBAR_OPEN=t.EXT_TASKBAR_SMALL=t.EXT_TASKBAR_CLASS=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("q1tI")),a=d(n("TSYQ")),o=d(n("17x9")),s=n("N58E"),l=n("d/wO"),u=n("hm9X"),c=n("vpBF");function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=t.EXT_TASKBAR_CLASS="extension-taskbar",_=t.EXT_TASKBAR_SMALL="extension-taskbar__collapsed",h=t.EXT_TASKBAR_OPEN="extension-taskbar__collapsed-open",m=t.EXT_TASKBAR_CARD_CONTAINER_CLASS="extension-taskbar-card-container",E=t.TASKBAR_COLLAPSE_WIDTH=420,v={installations:o.default.arrayOf(u.EXTENSION_INSTALLATION_PROP_TYPE.isRequired).isRequired,isMenuOpen:o.default.bool.isRequired,hoveredExtension:u.EXTENSION_INSTALLATION_PROP_TYPE,playerWidth:o.default.number.isRequired,shouldShowTaskbar:o.default.bool.isRequired},y=t.ExtensionTaskbarComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundRenderExtensionCard=e._renderExtensionCard.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e,t=this.props.installations.slice(0),n=this.props.playerWidth<E&&t.length>1,r=(0,a.default)((f(e={},p,!0),f(e,_,n),f(e,h,n&&this.props.isMenuOpen),e));if(!this.props.shouldShowTaskbar||t.length<1)return null;t.sort(function(e,t){if(e.activationConfig.anchor!==t.activationConfig.anchor)return e.activationConfig.anchor===c.EXTENSION_OVERLAY_ANCHOR?-1:1;var n=(0,c.getExtensionSlotNumber)(e),r=(0,c.getExtensionSlotNumber)(t);return n<r?-1:n>r?1:0});var o=t.map(this._boundRenderExtensionCard);return i.createElement("div",{className:r},i.createElement("div",{className:m},o))}},{key:"_renderExtensionCard",value:function(e){return i.createElement(l.ExtensionTaskbarCard,{key:e.id,installation:e})}}]),t}();y.propTypes=v;t.ExtensionTaskbar=(0,s.connect)(function(e){return{installations:e.extensions.activeInstallations,isMenuOpen:null!==e.extensions.menuState.extensionSlot,hoveredExtension:e.extensions.hoveredExtension,playerWidth:e.playerDimensions.width,shouldShowTaskbar:(0,c.shouldEnableExtensions)(e)&&(0,c.shouldShowExtensions)(e)}})(y)},"t+zC":function(e,t){},t2Dn:function(e,t,n){var r=n("hypo"),i=n("ljhN");e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},tJSl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllAccessPassOverlay=void 0,t.AllAccessPassOverlayComponent=l;var r=o(n("q1tI")),i=o(n("17x9")),a=n("9kay");function o(e){return e&&e.__esModule?e:{default:e}}var s={t:i.default.func.isRequired};function l(e){var t=e.t;return r.default.createElement("div",{className:"pl-overlay pl-overlay--wall"},r.default.createElement("div",{className:"player-center-content"},r.default.createElement("p",null,t("Command Center view: Watch with All-Access Pass"))))}l.propTypes=s;t.AllAccessPassOverlay=(0,a.translate)()(l)},tK0c:function(e,t){},tplA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PositionDropdown=void 0,t.PositionDropdownComponent=f;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=n("+oT0");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentPosition:i.default.string.isRequired,onSelect:i.default.func.isRequired,t:i.default.func.isRequired},u=Object.freeze({value:"bottom",text:"Bottom"}),c=Object.freeze({value:"top",text:"Top"}),d=Object.freeze([u,c]);function f(e){var t=e.currentPosition,n=e.onSelect,i=e.t;return r.default.createElement("div",{className:"cc-customize-field"},r.default.createElement("label",{htmlFor:"verticalPosition"},i("Position")),r.default.createElement(o.SelectDropdown,{currentValue:t,id:"verticalPosition",onSelect:n,options:d}))}f.propTypes=l;t.PositionDropdown=(0,a.translate)()(f)},tpxX:function(e,t,n){var r=n("jl5L")("round");e.exports=r},tsW4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.makeFollowPanel=function(e){var t=function(t){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.enableNotifications=e.enableNotifications.bind(e),e.disableNotifications=e.disableNotifications.bind(e),e.promptUserLogin=e.promptUserLogin.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.showFollowNotification&&!this.props.showFollowNotification&&this._logInteraction(s.NOTIFICATIONS_BUTTON_VIEW)}},{key:"_invokeIfLoggedIn",value:function(e){var t=this.props,n=t.user,r=t.channel;n.loggedIn?e(n.id,r.id):this.promptUserLogin()}},{key:"_logInteraction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.analytics,i=n.relationship,a=n.playerType;r.trackEvent(e,(0,u.default)(t,{follow_state:i.following,notif_state:i.notificationsEnabled,src:a}))}},{key:"enableNotifications",value:function(){var e=this,t=this.props,n=t.enableNotifications,r=t.emitEnableNotifications,i=t.relationship,a=i.following?s.NOTIFICATIONS_ON:s.FOLLOW_AND_NOTIFICATIONS_ON;this.checkToUseTwilightForApi().then(function(t){t?r():e._invokeIfLoggedIn(n)}),this._logInteraction(s.NOTIFICATIONS_BUTTON_CLICK,{action:a})}},{key:"disableNotifications",value:function(){var e=this,t=this.props,n=t.disableNotifications,r=t.emitDisableNotifications;this.checkToUseTwilightForApi().then(function(t){t?r():e._invokeIfLoggedIn(n)}),this._logInteraction(s.NOTIFICATIONS_BUTTON_CLICK,{action:s.NOTIFICATIONS_OFF})}},{key:"checkToUseTwilightForApi",value:function(){var e=this.props,t=e.playerType,n=e.experiments;return t===d.PLAYER_SITE?n.get(_.ExperimentIds.PlayerWatchFollowTwilight).then(function(e){return e===g}):Promise.resolve(!1)}},{key:"promptUserLogin",value:function(){var e=this.props,t=e.win,n=e.playerType,r=e.promptLoginModal,i=e.channel;n===d.PLAYER_SITE?r(i.name):t.open(c.TWITCH_SIGNUP_URL,"_blank")}},{key:"render",value:function(){var t=this.props,n=t.channel,r=t.showFollowNotification,i=t.relationship,o=t.withInfo;return r?a.default.createElement(e,{channelName:n.name,disable:this.disableNotifications,enable:this.enableNotifications,notificationsEnabled:i.notificationsEnabled,withInfo:o}):null}}]),n}(a.default.Component);return t.propTypes=E,t.defaultProps=v,t.displayName="WrappedFollowPanel("+(n=e,n.displayName||n.name||"Component")+")",(0,i.connect)(y,T)(t);var n};var i=n("N58E"),a=m(n("q1tI")),o=m(n("17x9")),s=n("/24N"),l=n("/71H"),u=m(n("3OWR")),c=n("J0qE"),d=n("uC+K"),f=n("XbkD"),p=n("uNCh"),_=n("Rnd+"),h=n("2GWp");function m(e){return e&&e.__esModule?e:{default:e}}var E={analytics:o.default.object,channel:o.default.shape({id:o.default.number,name:o.default.string}).isRequired,disableNotifications:o.default.func,enableNotifications:o.default.func,emitDisableNotifications:o.default.func,emitEnableNotifications:o.default.func,experiments:o.default.object.isRequired,playerType:o.default.string.isRequired,promptLoginModal:o.default.func,showFollowNotification:o.default.bool.isRequired,relationship:o.default.shape({following:o.default.bool,notificationsEnabled:o.default.bool}).isRequired,user:o.default.shape({id:o.default.number,loggedIn:o.default.bool}).isRequired,win:o.default.object.isRequired,withInfo:o.default.bool.isRequired},v={analytics:{trackEvent:function(){}},enableNotifications:function(){},disableNotifications:function(){},emitDisableNotifications:function(){},emitEnableNotifications:function(){},promptLoginModal:function(){}},y=t.mapStateToProps=function(e){var t=e.analyticsTracker,n=e.env,r=e.experiments,i=e.follow,a=e.playback,o=e.playerOptions,s=e.streamMetadata,u=e.user,c=e.screen,d=e.window,_=e.ui;return{analytics:t,channel:{id:s.channel.id,avatarUrl:s.channel.logo,name:s.channel.displayName},experiments:r,playerType:n.playerType,showFollowNotification:i.showFollowNotification&&!_.isMini&&(a.ended||s.streamType===f.TYPE_DEAD_LTV)&&(c[0]===p.OFFLINE_RECOMMENDATIONS_SCREEN||c[0]===p.CONTENT_SCREEN),relationship:{notificationsEnabled:i.notificationsEnabled,following:i.following},win:d,withInfo:o.showInfo,user:{id:u.id,loggedIn:u.loggedInStatus===l.LOGGED_IN}}},g="on",T=t.mapDispatchToProps=function(e){return{enableNotifications:function(t,n){e((0,s.enableNotifications)(t,n))},disableNotifications:function(t,n){e((0,s.disableNotifications)(t,n))},promptLoginModal:function(t){e((0,s.promptLoginModal)(t))},emitEnableNotifications:function(){e((0,h.emitEnableNotifications)())},emitDisableNotifications:function(){e((0,h.emitDisableNotifications)())}}}},u0WJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PERFORMANCE_STATE=void 0,t.performance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=void 0,r=void 0;switch(t.type){case o.ACTION_PERFORMANCE_TIMED_MILESTONE_REACHED:return(n=e.timedMilestones.slice()).push(t.milestone),(0,a.default)({},e,{timedMilestones:n});case o.ACTION_UPDATE_TIME_SPENT_HIDDEN:return(0,a.default)({},e,{timeHidden:e.timeHidden+t.timeSpentHidden});case o.ACTION_PERFORMANCE_METRIC_RECORDED:return(r=e.otherMetrics.slice()).push(t.metric),(0,a.default)({},e,{otherMetrics:r});case o.ACTION_SET_BASE_MILESTONE:return(0,a.default)({},e,{timedMilestones:[t.milestone],initTime:t.milestone.time});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("Yd1q");var s=t.DEFAULT_PERFORMANCE_STATE=Object.freeze({timedMilestones:[],otherMetrics:[],initTime:0,timeHidden:0})},"u3o+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimatedSliderThumb=t.SliderThumb=void 0;var r=s(n("q1tI")),i=s(n("17x9")),a=n("Yat3"),o=n("03Qf");function s(e){return e&&e.__esModule?e:{default:e}}var l={className:i.default.string,max:i.default.number.isRequired,min:i.default.number.isRequired,value:i.default.number.isRequired},u=t.SliderThumb=function(e){var t=e.className,n=e.max,i=e.min,o=e.value-i,s=n-i,l=(0,a.getPercentage)(o,s)+"%";return r.default.createElement("div",{style:{left:l},className:t})};u.propTypes=l,u.defaultProps={className:""};t.AnimatedSliderThumb=(0,o.makeAnimatedComponent)(u,{showDuration:100,hideDuration:100,showClass:"slider__thumb-transition-in",hideClass:"slider__thumb-transition-out"})},uAOA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UIStateSubscriber=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("qT8i");var a="unsub_"+Date.now();t.UIStateSubscriber=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this[a]=[]}return r(e,[{key:"subscribe",value:function(e,t,n){this[a].push((0,i.subscribe)(e,t,n))}},{key:"destroy",value:function(){this[a].forEach(function(e){return e()})}}]),e}()},uAxA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_STATUS=t.OFFLINE_STATUS=t.ONLINE_STATUS=void 0,t.onlineStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case i.ACTION_SET_ONLINE:return t.online?o:s;case r.ACTION_SET_STREAM:return l;case a.ACTION_SET_STREAMMETADATA:return"live"===t.streamMetadata.type?o:e;default:return e}};var r=n("D3OJ"),i=n("XyCF"),a=n("AUgO"),o=t.ONLINE_STATUS="online",s=t.OFFLINE_STATUS="offline",l=t.UNKNOWN_STATUS="unknown"},"uC+K":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.PLAYER_AMAZON_LIVE="amazon_live",i=t.PLAYER_AMAZON_PRODUCT_PAGE="amazon_product_page",a=t.PLAYER_AMAZON_VSE="amazon_vse_test",o=t.PLAYER_ANIMATED_THUMBNAILS="animated_thumbnails",s=t.PLAYER_CHANNEL_TRAILER="channel_trailer",l=t.PLAYER_CLIPS_EDITING="clips-editing",u=t.PLAYER_CLIPS_EMBED="clips-embed",c=t.PLAYER_CLIPS_VIEWING="clips-viewing",d=t.PLAYER_CLIPS_WATCH="clips-watch",f=t.PLAYER_CREATIVE="creative",p=t.PLAYER_CURSE="curse",_=t.PLAYER_DASHBOARD="dashboard",h=t.PLAYER_EMBED="embed",m=t.PLAYER_FACEBOOK="facebook",E=t.PLAYER_FEED="feed",v=t.PLAYER_FRONTPAGE="frontpage",y=t.PLAYER_MISCHIEF="mischief",g=t.PLAYER_HIGHLIGHTER="highlighter",T=t.PLAYER_IMDB="imdb",b=t.PLAYER_MULTIVIEW_PRIMARY="multiview-primary",S=t.PLAYER_MULTIVIEW_SECONDARY="multiview-secondary",A=t.PLAYER_ONBOARDING="onboarding",C=t.PLAYER_POPOUT="popout",O=t.PLAYER_PULSE="pulse",P=t.PLAYER_RECAP="recap",N=t.PLAYER_SITE="site",I=t.PLAYER_SITE_MINI="site_mini",R=t.PLAYER_SQUAD_PRIMARY="squad_primary",w=t.PLAYER_SQUAD_SECONDARY="squad_secondary",k=t.PLAYER_TWITCH_EVERYWHERE="twitch_everywhere",M=t.CLIPS_PLAYER_TYPES=[c,u,l,d],L=(t.ALL_PLAYER_TYPES=[r,i,a,o,s,l,u,c,d,f,p,_,h,m,E,v,g,T,b,S,A,C,O,P,N,I,R,w,k,y],t.AMAZON_EMBED_PLAYER_TYPES=[r,i,a],t.FOCUSABLE_PLAYER_TYPES=[S,R,w],t.MULTIVIEW_PLAYER_TYPES=[b,S]),D=t.SQUAD_STREAM_PLAYER_TYPES=[R,w];t.NON_EMBEDDED_PLAYER_TYPES=[].concat(M,L,D,[s,_,v,A,O,N,I]),t.PREVIEW_PLAYER_TYPES=[o,y]},uCED:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUri=function(e){var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;for(;i--;)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}},uNCh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushScreen=function(e){return{type:r,screen:e}},t.popScreen=function(){return{type:i}};var r=t.ACTION_PUSH_SCREEN="push screen",i=t.ACTION_POP_SCREEN="pop screen";t.CONTENT_SCREEN="content",t.ADVERTISEMENT_SCREEN="advertisement",t.STITCHED_ADVERTISEMENT_SCREEN="advertisement-bb",t.STORM_WARNING_SCREEN="stormwarning",t.POST_VOD_RECOMMENDATIONS_SCREEN="vodrecommendations",t.OFFLINE_RECOMMENDATIONS_SCREEN="offlinerecommendations",t.VOD_RESTRICTED_SCREEN="vodrestrictedscreen",t.COLLECTION_EMPTY_SCREEN="collectionemptyscreen",t.CLIP_SHARING_SCREEN="clip-sharing-screen",t.CLIP_SHORTCUT_SCREEN="clip-shortcut-screen",t.ERROR_SCREEN="error",t.UNMUTE_SCREEN="unmute",t.QUALITY_RESTRICTED_SCREEN="qualityrestrictedscreen",t.PREMIUM_CONTENT_RESTRICTED_SCREEN="premiumcontentrestrictedscreen"},uXPQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generate=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n="",r=0;r<e;r++){var i=Math.floor(Math.random()*t.length);n+=t.charAt(i)}return n}},uaEd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showReportClip=t.showDeleteClip=t.showDeleteAllClips=void 0;var r=n("/71H"),i=function(e){return e.user.isAdmin||e.user.isStaff},a=function(e){var t=e.streamMetadata.channel.name;return!!t&&e.user.name===t},o=function(e){var t=e.streamMetadata.curator;return!!t&&e.user.name===t.name};t.showDeleteAllClips=function(e){return i(e)||a(e)},t.showDeleteClip=function(e){return i(e)||a(e)||o(e)},t.showReportClip=function(e){return i(e)||function(e){return e.user.loggedInStatus===r.LOGGED_IN}(e)&&!(a(e)||o(e))}},ufMz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimelineMetadataManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("qT8i"),a=n("VIow"),o=n("Z0MU"),s=n("/UAI"),l=n("hBsN");t.TimelineMetadataManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._subscribeStream(this._store.getState()),this.unsub=(0,i.subscribe)(this._store,["stream"],this._subscribeStream.bind(this))}return r(e,[{key:"_subscribeStream",value:function(e){var t=this,n=e.stream;n.contentType===a.CONTENT_MODE_VOD&&((0,s.getMutedSegments)(n.videoId).then(function(e){t._store.dispatch((0,o.setMutedSegments)(e))}),(0,l.getPreviews)(n.videoId).then(function(e){t._store.dispatch((0,o.setPreviews)(e))}).catch(function(e){console.warn("Error fetching VOD previews: ",e)}))}},{key:"destroy",value:function(){this.unsub()}}]),e}()},"ut+t":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stopCast=function(){return{type:o}},t.startCast=function(){return{type:a}},t.setDeviceName=function(e){return{type:r,deviceName:e}},t.setCastingState=function(e){return{type:i,castingState:e}};var r=t.ACTION_SET_DEVICE_NAME="set device name",i=t.ACTION_SET_CASTING_STATE="set casting state",a=t.ACTION_START_CASTING="start casting",o=t.ACTION_STOP_CASTING="stop casting"},utFH:function(e,t,n){},v0SF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionReportMenu=t.ExtensionReportMenuComponent=t.EXT_SUBMIT_LABEL=t.EXT_SUBMIT_BUTTON=t.MENU_BACK_LABEL=t.MENU_BACK_BUTTON=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("17x9")),a=f(n("q1tI")),o=f(n("TSYQ")),s=n("9kay"),l=n("1fV9"),u=n("vpBF"),c=n("56nq"),d=n("hm9X");function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={t:i.default.func.isRequired,channel:i.default.number,onMenuTransition:i.default.func,installation:d.EXTENSION_INSTALLATION_PROP_TYPE.isRequired},h=t.MENU_BACK_BUTTON="qa-menu-back-btn",m=t.MENU_BACK_LABEL="qa-menu-back-label",E=t.EXT_SUBMIT_BUTTON="qa-ext-report-submit-btn",v=t.EXT_SUBMIT_LABEL="qa-ext-report-submit-label",y=(0,o.default)("pl-form__input","extension-report__desc"),g=(0,o.default)({"extension-menu-footer":!0}),T=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--block":!0,"pl-menu__item--with-caret-left":!0}),b=(0,o.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),S=(0,o.default)({"pl-mg-b-1":!0,"pl-menu__item":!0,"pl-menu__item--label":!0}),A=(0,o.default)({"pl-menu__item":!0,"pl-menu__item--label":!0}),C=t.ExtensionReportMenuComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={reason:"",description:"",sent:!1},e.canSubmit=e.canSubmit.bind(e),e.handleSubmit=e.handleSubmit.bind(e),e.handleInputChange=e.handleInputChange.bind(e),e.handleBackButtonClick=e.handleBackButtonClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"canSubmit",value:function(){var e=this.state,t=e.sent,n=e.description,r=e.reason;return!t&&(n&&r)}},{key:"handleBackButtonClick",value:function(){this.props.onMenuTransition(u.EXTENSION_MENU_DETAILS)}},{key:"handleInputChange",value:function(e){this.setState(p({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.installation,r=t.channel,i={content:"extension_report",content_id:n.extension.id+"-"+n.extension.version,description:this.state.description,reason:this.state.reason,target_user_id:r};return(0,c.postExtensionReport)(i).then(function(){e.setState({sent:!0})})}},{key:"render",value:function(){var e,t=a.default.createElement("a",{href:"https://www.twitch.tv/p/terms-of-service",target:"_blank",rel:"noopener noreferrer"},this.props.t("terms of service")),n=this.canSubmit(),r=(0,o.default)((p(e={},E,!0),p(e,"pl-button",!0),p(e,"pl-button--hollow",!n),e)),i=a.default.createElement("form",null,a.default.createElement("select",{className:y,name:"reason",value:this.state.reason,onBlur:this.handleInputChange,onChange:this.handleInputChange},a.default.createElement("option",{value:""},"Select Reason"),a.default.createElement("option",{value:"selfharm"},"Self-Harm"),a.default.createElement("option",{value:"harm"},"Attempts or Threats to Harm"),a.default.createElement("option",{value:"harassment"},"Harassment"),a.default.createElement("option",{value:"hate_speech"},"Hate Speech"),a.default.createElement("option",{value:"impersonation"},"Impersonation"),a.default.createElement("option",{value:"spam"},"Spam, Scams, or Other Malicious Content"),a.default.createElement("option",{value:"porn"},"Porn or Other Sexually Explicit Content"),a.default.createElement("option",{value:"nudity"},"Nudity or Sexual Behavior/Attire"),a.default.createElement("option",{value:"gore"},"Extreme Violence, Gore, or Other Obscene Content"),a.default.createElement("option",{value:"cheating"},"Cheating in Online Game"),a.default.createElement("option",{value:"bits_violation"},"Bits Acceptable Use Policy Violation"),a.default.createElement("option",{value:"other"},"Other Terms of Service Violation")),a.default.createElement("br",null),a.default.createElement("textarea",{className:y,name:"description",value:this.state.description,rows:2,onChange:this.handleInputChange,placeholder:this.props.t("Description (required)")}),a.default.createElement("div",{className:g},a.default.createElement(l.Button,{disabled:!n,className:r,onClick:this.handleSubmit},a.default.createElement("span",{className:v},this.props.t(this.state.sent?"Sent!":"Submit")))));return a.default.createElement("div",{className:"pl-menu__inner"},a.default.createElement("div",{className:T},a.default.createElement(l.Button,{onClick:this.handleBackButtonClick,className:h},a.default.createElement("span",{className:m},this.props.t("Report Extension")))),a.default.createElement("div",{className:b},a.default.createElement("div",{className:S},a.default.createElement(s.Interpolate,{i18nKey:"Tell us why there has been a violation of the {{tosLink}}. (Abuse of this feature is violation of the terms of service.)",tosLink:t})),a.default.createElement("div",{className:A},i)))}}]),t}();C.propTypes=_,C.defaultProps={onMenuTransition:function(){}};t.ExtensionReportMenu=(0,s.translate)()(C)},v7iZ:function(e,t,n){},vIfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosedCaptionsSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={enabled:a.default.bool.isRequired,fill:a.default.string,viewBox:a.default.string};(t.ClosedCaptionsSVG=function(e){return e.enabled?i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M18.613 16.5c.645 0 .869-.276.981-.484a.691.691 0 0 1 .97-.282.772.772 0 0 1 .268 1.023c-.305.567-.939 1.243-2.219 1.243C17.172 18 16 16.654 16 15s1.172-3 2.613-3c1.024 0 1.891.573 2.319 1.533.166.375.015.821-.341.997a.698.698 0 0 1-.948-.359 1.072 1.072 0 0 0-1.03-.671c-.655 0-1.189.673-1.189 1.5s.534 1.5 1.189 1.5m-7 0c.645 0 .869-.276.981-.484a.691.691 0 0 1 .97-.282.772.772 0 0 1 .268 1.023c-.305.567-.939 1.243-2.219 1.243C10.172 18 9 16.654 9 15s1.172-3 2.613-3c1.024 0 1.891.573 2.319 1.533.166.375.015.821-.341.997a.698.698 0 0 1-.948-.359 1.072 1.072 0 0 0-1.03-.671c-.656 0-1.189.673-1.189 1.5s.533 1.5 1.189 1.5M23 7H7c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.102 0 2-.897 2-2V9c0-1.103-.898-2-2-2",fill:e.fill})):i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 30 30"},e),i.default.createElement("path",{d:"M7 21h16V9H7v12zM23 7c1.103 0 2 .897 2 2v12c0 1.103-.897 2-2 2H7c-1.103 0-2-.897-2-2V9c0-1.103.897-2 2-2h16zm-4.387 11c1.28 0 1.914-.676 2.218-1.243a.772.772 0 0 0-.266-1.023.692.692 0 0 0-.97.282c-.112.208-.337.484-.982.484-.655 0-1.189-.673-1.189-1.5 0-.828.534-1.5 1.19-1.5.471 0 .836.237 1.03.67.168.375.591.536.947.36.355-.176.508-.623.341-.998-.428-.96-1.295-1.532-2.319-1.532C17.171 12 16 13.345 16 15c0 1.654 1.171 3 2.613 3zm-7 0c1.28 0 1.914-.676 2.22-1.243a.772.772 0 0 0-.268-1.023.692.692 0 0 0-.97.282c-.113.208-.337.484-.982.484-.656 0-1.189-.673-1.189-1.5 0-.828.533-1.5 1.19-1.5.471 0 .837.237 1.03.67.168.375.591.536.947.36.355-.176.508-.623.341-.998-.428-.96-1.295-1.532-2.319-1.532C10.173 12 9 13.345 9 15c0 1.654 1.172 3 2.613 3z",fill:e.fill,fillRule:"evenodd"}))}).propTypes=l},vJTo:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_WATCHPARTY=void 0,t.watchParty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_WATCHPARTY_VOD:return(0,a.default)({},e,t.pubsubVodInfo);default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("0Qzx");var s=t.DEFAULT_WATCHPARTY=Object.freeze({watchPartyId:"",vodId:"",title:"",viewable:"",broadcastType:"",incrementViewCountURL:""})},vM4K:function(e,t,n){e.exports={parse:n("hh3C"),stringify:n("XYOB")}},vOQQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoMomentsFetched=function(e){return{type:r,videoMomentEdges:e}};var r=t.ACTION_VIDEO_MOMENTS_FETCHED="video moments fetched"},"vS/w":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_SET_LANGUAGE=void 0,t.setLanguage=o,t.loadLanguage=s,t.loadDefaultLang=function(e,t){return s(function(){var e=r.cookie.get("language",null);if(!e)return null;try{Number(1).toLocaleString(e)}catch(e){return null}return e}()||Array.isArray(e.languages)&&e.languages[0]||e.language||e.userLanguage||t)};var r=n("4gWZ"),i=n("KmPj"),a=t.ACTION_SET_LANGUAGE="set language";function o(e){return{type:a,lang:e}}function s(e){return function(t,n){return n().lang.shortCode===e?Promise.resolve():(0,i.getI18N)(e).then(o).then(t)}}},"vU/9":function(e,t,n){var r,i,a;e.exports=(r=n("K2sX"),a=(i=r).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=n.charAt(64);if(r){var i=e.indexOf(r);-1!=i&&(t=i)}for(var o=[],s=0,l=0;l<t;l++)if(l%4){var u=n.indexOf(e.charAt(l-1))<<l%4*2|n.indexOf(e.charAt(l))>>>6-l%4*2;o[s>>>2]|=u<<24-s%4*8,s++}return a.create(o,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},r.enc.Base64)},vkrI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EffectsPanel=u;var r=s(n("q1tI")),i=s(n("17x9")),a=n("BlMj"),o=n("m/O8");function s(e){return e&&e.__esModule?e:{default:e}}var l={boldText:i.default.bool.isRequired,italicText:i.default.bool.isRequired,underlineText:i.default.bool.isRequired,currentTextEffect:i.default.string.isRequired,selectTextEffect:i.default.func.isRequired,selectTextStyle:i.default.func.isRequired};function u(e){var t=e.boldText,n=e.italicText,i=e.underlineText,s=e.selectTextEffect,l=e.selectTextStyle,u=e.currentTextEffect;return r.default.createElement("div",{className:"cc-panel-menu-frame"},r.default.createElement(a.TextStylePalette,{boldText:t,italicText:n,underlineText:i,selectTextStyle:l}),r.default.createElement(o.TextEffectsPalette,{currentTextEffect:u,selectTextEffect:s}))}u.propTypes=l},vlbB:function(e,t){var n=Math.floor,r=Math.random;e.exports=function(e,t){return e+n(r()*(t-e+1))}},vpBF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSION_ACTION_MAP=t.EXTENSION_PLAYER_TYPES=t.DOCK_LOCALSTORAGE_FLAG=t.EXTENSION_COMPONENT_ANCHOR=t.EXTENSION_OVERLAY_ANCHOR=t.EXTENSION_HIDDEN_ANCHOR=t.EXTENSION_MODAL_ACCEPT_UNRELEASED=t.EXTENSION_MODAL_USE_BITS=t.EXTENSION_MENU_NEEDS_AUTH=t.EXTENSION_MENU_FOLLOW=t.EXTENSION_MENU_REPORT=t.EXTENSION_MENU_MANAGE_ACCESS=t.EXTENSION_MENU_DETAILS=t.EXTENSION_MENU_MAIN=t.EXTENSION_ROLE_BROADCASTER=t.EXTENSION_ROLE_VIEWER=t.EXTENSION_PERMISSION_STATE_GRANTED=t.EXTENSION_PERMISSION_STATE_NONE=void 0,t.parseExtensionToken=T,t.normalizeToInstallationProp=function(e){var t=T(e.extension.token),n=t.permissionsState===_;return(0,r.default)({},e,{playerState:{isUserIdentityLinked:n,token:t,isHidden:!1,isHighlighted:!1,unreleasedPromptResponded:!1,unreleasedAccepted:!1}})},t.getExtensionSlotNumber=function(e){return parseInt(e.activationConfig.slot.match(/\d+/)[0],10)},t.shouldEnableExtensions=function(e){return e.env.platform!==o.PLATFORM_MOBILE_WEB&&(0,a.default)(g,e.env.playerType)&&e.stream.contentType===s.CONTENT_MODE_LIVE&&e.streamMetadata.streamType===s.CONTENT_MODE_LIVE&&e.playback.contentShowing&&e.onlineStatus===u.ONLINE_STATUS},t.shouldShowExtensions=function(e){return!e.ui.isMini&&e.ads.currentMetadata.contentType===c.AdContentTypes.NONE&&!e.playback.paused},t.hideExtensions=function(e){return e.ui.isMini||e.ads.currentMetadata.contentType!==c.AdContentTypes.NONE||e.playback.paused},t.isPlayerInstallation=function(e){var t=e.activationConfig;return t.anchor===d.ExtensionAnchor.Component||t.anchor===d.ExtensionAnchor.Hidden||t.anchor===d.ExtensionAnchor.Overlay},t.canReportExtension=function(e){var t=e.user.loggedInStatus===l.LOGGED_IN,n=e.env.playerType;return t||g.includes(n)&&n!==i.PLAYER_POPOUT},t.isDeclined=function(e){return Boolean(e.playerState.unreleasedPromptResponded&&!e.playerState.unreleasedAccepted)},t.isUnreleasedAndUnaccepted=function(e){return Boolean("Released"!==e.extension.state&&!0!==e.playerState.unreleasedPromptResponded)};var r=f(n("3OWR")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("uC+K")),a=f(n("ijCd")),o=n("KR5+"),s=n("wsSb"),l=n("/71H"),u=n("uAxA"),c=n("QBeZ"),d=n("1hWM");function f(e){return e&&e.__esModule?e:{default:e}}var p=t.EXTENSION_PERMISSION_STATE_NONE="none",_=t.EXTENSION_PERMISSION_STATE_GRANTED="granted",h=t.EXTENSION_ROLE_VIEWER="viewer",m=(t.EXTENSION_ROLE_BROADCASTER="broadcaster",t.EXTENSION_MENU_MAIN="main menu",t.EXTENSION_MENU_DETAILS="extension details",t.EXTENSION_MENU_MANAGE_ACCESS="extension manage access",t.EXTENSION_MENU_REPORT="extension report",t.EXTENSION_MENU_FOLLOW="follow modal"),E=t.EXTENSION_MENU_NEEDS_AUTH="needs auth modal",v=t.EXTENSION_MODAL_USE_BITS="use bits modal",y=(t.EXTENSION_MODAL_ACCEPT_UNRELEASED="use accept unreleased modal",t.EXTENSION_HIDDEN_ANCHOR="hidden",t.EXTENSION_OVERLAY_ANCHOR="video_overlay",t.EXTENSION_COMPONENT_ANCHOR="component",t.DOCK_LOCALSTORAGE_FLAG="useNewExtensionComponentDesign",{permissionsState:p,role:h}),g=t.EXTENSION_PLAYER_TYPES=[i.PLAYER_CREATIVE,i.PLAYER_DASHBOARD,i.PLAYER_MULTIVIEW_PRIMARY,i.PLAYER_POPOUT,i.PLAYER_SITE_MINI,i.PLAYER_SITE];t.EXTENSION_ACTION_MAP={"twitch-ext-follow-action":m,"twitch-ext-login-request":E,"twitch-ext-use-bits-prompt-required":v,"twitch-ext-use-bits":v};function T(e){if(!e)return y;try{var t=JSON.parse(atob(e.split(".")[1])),n=!(!t||!t.user_id),i=t.role,a=n?_:p;return(0,r.default)({},y,{token:e,permissionsState:a,role:i})}catch(e){console.error("Error parsing extension token",e)}return(0,r.default)({},y,{token:e})}},vsSe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExitTheatreModeButton=void 0;var r=u(n("q1tI")),i=u(n("17x9")),a=n("1fV9"),o=n("qHst"),s=u(n("TSYQ")),l=n("cpUT");function u(e){return e&&e.__esModule?e:{default:e}}var c={onClick:i.default.func.isRequired},d=(0,s.default)({"player-button":!0,"qa-theatre-mode-button":!0});(t.ExitTheatreModeButton=function(e){var t=e.onClick;return r.default.createElement(a.Button,{className:d,onClick:t,tabIndex:"-1"},r.default.createElement(o.Icon,{label:"Exit Theatre Mode",labelClass:"player-tip--theater-mode"},r.default.createElement(l.TheatreSVG,{id:"icon_theatre_deactivate",enabled:!1})))}).propTypes=c},vw5o:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedImage=void 0;var r=a(n("q1tI")),i=a(n("17x9"));function a(e){return e&&e.__esModule?e:{default:e}}var o={alt:i.default.string,classNames:i.default.shape({a:i.default.string,img:i.default.string}),href:i.default.string,imgSrc:i.default.string,onClick:i.default.func,target:i.default.string};(t.LinkedImage=function(e){var t=e.alt,n=e.classNames,i=e.href,a=e.imgSrc,o=e.onClick,s=e.target;return r.default.createElement("a",{className:n.a,href:i,target:s,onClick:o},r.default.createElement("img",{alt:t,className:n.img,src:a}))}).propTypes=o},w4Cc:function(e,t){},wGJd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_INIT_UPDATE_OFFSET_LIVESTREAM=t.INIT_UPDATE_OFFSET_VOD=t.UPDATE_INTERVAL_LIVESTREAM=t.UPDATE_INTERVAL_VOD=void 0,t.resumeWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments[1];switch(t.type){case s.ACTION_VOD_INIT_RESUME:return(0,r.default)({},e,(0,o.default)(t,Object.keys(v)));case s.ACTION_VOD_SET_USER:return(0,r.default)({},e,{userId:t.userId});case d.ACTION_USER_LOGGED_IN:return(0,r.default)({},e,{userId:t.userInfo.id});case s.ACTION_SET_RESUME_TIMES:return(0,r.default)({},e,t.resumeTimes.reduce(function(e,t){var n=t.video_id,r=t.position,i=t.type;return i===u.CONTENT_MODE_VOD&&(e.times[n]=r,e.watch[n]=!0),i===c.CONTENT_MODE_LIVE&&(e.streamTimes[n]=r),e},{times:{},watch:{},streamTimes:{}}));case s.ACTION_VOD_SET_RESUME_TIME:return(0,a.default)({},e,{times:p({},t.videoID,t.time),watch:p({},t.videoID,!0)});case s.ACTION_VOD_CANCEL_RESUME:return(0,r.default)({},e,{times:(0,i.default)(e.times,t.videoID),watch:(0,i.default)(e.watch,t.videoID)});case s.ACTION_LIVESTREAM_SET_RESUME_TIME:return(0,a.default)({},e,{streamTimes:p({},t.broadcastID,t.time)});case s.ACTION_LIVESTREAM_CANCEL_RESUME:return(0,r.default)({},e,{streamTimes:(0,i.default)(e.streamTimes,t.broadcastID)});case s.ACTION_VOD_POST_BACKEND_TIME:return(0,r.default)({},e,{lastTimeStamp:t.lastTimeStamp});case s.ACTION_VOD_SET_IS_SEEKED:return(0,r.default)({},e,{isSeeked:t.isSeeked});case l.ACTION_SET_STREAM:return(0,r.default)({},e,function(e){var t={updateInterval:v.updateInterval,initUpdateOffset:v.initUpdateOffset};e instanceof u.VODTwitchContentStream?(t.updateInterval=_,t.initUpdateOffset=m):e instanceof c.LiveTwitchContentStream&&(t.updateInterval=h,t.initUpdateOffset=Math.ceil(Math.random()*E));return t}(t.stream),{isSeeked:!1,lastTimeStamp:0});default:return e}};var r=f(n("3OWR")),i=f(n("Puqe")),a=f(n("QkVN")),o=f(n("JZM8")),s=n("Irul"),l=n("D3OJ"),u=n("VIow"),c=n("wsSb"),d=n("B9JN");function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=t.UPDATE_INTERVAL_VOD=20,h=t.UPDATE_INTERVAL_LIVESTREAM=600,m=t.INIT_UPDATE_OFFSET_VOD=2e4,E=t.MAX_INIT_UPDATE_OFFSET_LIVESTREAM=48e4,v={times:{},watch:{},streamTimes:{},lastTimeStamp:0,userId:null,initUpdateOffset:0,updateInterval:0,isSeeked:!1}},wKtC:function(e,t,n){},wOLs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracking=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case a.ACTION_SET_TRACKING_PROPERTIES:return(0,r.default)({},e,(0,i.default)(t.properties,s));default:return e}};var r=o(n("3OWR")),i=o(n("JZM8")),a=n("69Hk");function o(e){return e&&e.__esModule?e:{default:e}}var s=["app_session_id","benchmark_session_id","chat_visibility_status","client_app","client_build_id","collapse_left","collapse_right","content","feed_impression_id","host_channel","item_tracking_id","item_position","medium","page_session_id","platform","referrer","referrer_url","row_name","row_position","search_query_id","search_session_id","squad_stream_id","squad_stream_session_id","squad_stream_presentation_id","tab_session_id","tag_filter_set","tag_set","tag_streamer_set","is_pbyp","pbyp_play_session_id"]},"wR1/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionUseBitsModal=t.ExtensionUseBitsModalComponent=t.MODAL_BUY_URL=t.MODAL_BUTTON_CANCEL=t.MODAL_BUTTON_BUY=t.MODAL_BUTTON_CONFIRM=t.MODAL_TITLE_HEADER=void 0;var r,i,a,o,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=h(n("q1tI")),u=h(n("17x9")),c=h(n("TSYQ")),d=n("9kay"),f=n("1fV9"),p=n("4AzW"),_=n("ic+G");function h(e){return e&&e.__esModule?e:{default:e}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=t.MODAL_TITLE_HEADER="qa-use-bits-modal-title-header",v=t.MODAL_BUTTON_CONFIRM="qa-use-bits-modal-button-confirm",y=t.MODAL_BUTTON_BUY="qa-use-bits-modal-button-buy",g=t.MODAL_BUTTON_CANCEL="qa-use-bits-modal-button-cancel",T=t.MODAL_BUY_URL="https://www.twitch.tv/bits",b=(0,c.default)({"pl-menu__inner":!0,"extension-modal__inner":!0}),S=(0,c.default)({"pl-menu__section":!0,"extension-modal__header":!0,"extension-modal__use-bits":!0}),A=(0,c.default)((m(r={},E,!0),m(r,"pl-menu__item",!0),m(r,"extension-modal__title",!0),r)),C=(0,c.default)({"pl-menu__section":!0,"pl-menu__section--with-sep":!0}),O=(0,c.default)((m(i={},v,!0),m(i,"pl-button",!0),m(i,"extension-modal__button",!0),i)),P=(0,c.default)((m(a={},y,!0),m(a,"pl-button",!0),m(a,"pl-button--hollow",!0),m(a,"extension-modal__button",!0),a)),N=(0,c.default)((m(o={},g,!0),m(o,"pl-button",!0),m(o,"pl-button--hollow",!0),m(o,"extension-modal__button",!0),o)),I=(0,c.default)({"pl-menu__item--label":!0,"extension-modal__info-text":!0}),R={t:u.default.func.isRequired,onClose:u.default.func.isRequired,options:u.default.shape({bitsRequired:u.default.number.isRequired,extensionItemLabel:u.default.string.isRequired,extensionName:u.default.string.isRequired}),bitsBalance:u.default.number.isRequired,windowObj:u.default.object.isRequired},w=t.ExtensionUseBitsModalComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.confirmUseBits=e._confirmUseBits.bind(e),e.buyBits=e._buyBits.bind(e),e.cancelUseBits=e._cancelUseBits.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),s(t,[{key:"render",value:function(){return l.default.createElement("div",{className:b},this._renderHeader(),l.default.createElement("div",{className:C},this._renderButtons()),l.default.createElement("div",{className:C},this._renderFooter()))}},{key:"_renderHeader",value:function(){var e=this.props.bitsBalance-this.props.options.bitsRequired,t=l.default.createElement(p.BitsCount,{bitsConfig:_.FALLBACK_BITS_CONFIG,count:e,withText:!1,withNumber:!0,withImage:!0,animated:!1}),n=l.default.createElement("div",null,l.default.createElement("div",{className:"extension-modal__title-use-bits"},l.default.createElement("span",{className:"extension-modal__item-label"},this.props.options.extensionItemLabel),l.default.createElement(p.BitsCount,{bitsConfig:_.FALLBACK_BITS_CONFIG,count:this.props.options.bitsRequired,withText:!1,withNumber:!0,withImage:!0,animated:!1})),l.default.createElement("div",null,this.props.options.extensionName),l.default.createElement("div",{className:"extension-modal__use-bits-desc"},l.default.createElement(d.Interpolate,{i18nKey:"After confirming, your Bits balance will be {{bitsBalance}}",bitsBalance:t})));return l.default.createElement("div",{className:S},l.default.createElement("div",{className:"extension-modal__header-row"},l.default.createElement("div",{className:A},n)))}},{key:"_renderButtons",value:function(){return l.default.createElement("div",null,l.default.createElement(f.Button,{className:O,onClick:this.confirmUseBits},this.props.t("Confirm")),l.default.createElement(f.Button,{className:P,onClick:this.buyBits},this.props.t("Buy Bits")),l.default.createElement(f.Button,{className:N,onClick:this.cancelUseBits},this.props.t("Cancel")))}},{key:"_renderFooter",value:function(){var e=l.default.createElement("a",{href:"https://www.twitch.tv/settings/connections",target:"_blank",rel:"noreferrer noopener"},this.props.t("Settings"));return l.default.createElement("div",{className:I},l.default.createElement(d.Interpolate,{i18nKey:'By clicking "Confirm", you agree to share your Twitch ID with {{extensionName}}. You can manage account connections under {{settingsLinkComponent}}.',extensionName:this.props.options.extensionName,settingsLinkComponent:e}))}},{key:"_cancelUseBits",value:function(){this.props.onClose({didConfirm:!1})}},{key:"_confirmUseBits",value:function(){this.props.onClose({didConfirm:!0})}},{key:"_buyBits",value:function(){this.props.windowObj.open(T)}}]),t}();w.propTypes=R;t.ExtensionUseBitsModal=(0,d.translate)()(w)},wSP4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProvidedContentStream=t.CONTENT_MODE_PROVIDED=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("ji7g"),a=n("2jd5"),o=n("J0qE"),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("IMEk"));var l=t.CONTENT_MODE_PROVIDED="provided";t.ProvidedContentStream=function(e){function t(e){var n=e.customerId,r=e.contentId,i=e.usherHostOverride;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return a._customerId=n,a._contentId=r,a._usherHostOverride=i,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.AbstractStream),r(t,[{key:"resetNAuthToken",value:function(){}},{key:"_buildUsherParams",value:function(){return{allow_source:!0,device_id:s.get(!1)}}},{key:"_fetchNAuthToken",value:function(){return Promise.reject("Error: Attempted NAuth fetch for ProvidedContentStream")}},{key:"_fetchAccessToken",value:function(){return Promise.reject("Error: Attempted Access Token fetch for ProvidedContentStream")}},{key:"contentType",get:function(){return l}},{key:"channel",get:function(){}},{key:"videoId",get:function(){}},{key:"contentId",get:function(){return this._contentId}},{key:"customerId",get:function(){return this._customerId}},{key:"_baseStreamUrl",get:function(){return(this._usherHostOverride&&""!==this._usherHostOverride?this._usherHostOverride:o.usherHost)+"/api/lvs/hls/lvs."+this._customerId+"."+this._contentId+".m3u8"}},{key:"accessToken",get:function(){return Promise.resolve()}},{key:"streamUrl",get:function(){var e=this._buildUsherParams();return Promise.resolve(this._baseStreamUrl+"?"+(0,i.stringify)(e))}},{key:"castStreamUrl",get:function(){var e=this._buildUsherParams();return e.allow_source=void 0,Promise.resolve(this._baseStreamUrl+"?"+(0,i.stringify)(e))}}]),t}()},wTxB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BGandWindowPanel=c;var r=s(n("q1tI")),i=s(n("17x9")),a=n("5Bbo"),o=n("rjzH");function s(e){return e&&e.__esModule?e:{default:e}}var l={currentColor:i.default.string.isRequired,currentOpacity:i.default.string.isRequired,selectColor:i.default.func.isRequired,selectOpacity:i.default.func.isRequired},u=Object.freeze(["transparent","white","lightgray","gray","darkgray","black","green","blue","cyan","magenta","yellow","red"]);function c(e){var t=e.currentColor,n=e.selectColor,i=e.selectOpacity,s=e.currentOpacity;return r.default.createElement("div",{className:"cc-panel-menu-frame"},r.default.createElement(o.OpacityDropdown,{currentOpacity:s,onSelect:i}),r.default.createElement(a.ColorPalette,{currentColor:t,onSelect:n,colors:u}))}c.propTypes=l},wafH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CenteredFollowPanel=void 0,t.CenteredFollowPanelComponent=f;var r=l(n("q1tI")),i=l(n("17x9")),a=n("9kay"),o=n("IpWL"),s=l(n("TSYQ"));function l(e){return e&&e.__esModule?e:{default:e}}var u={channelName:i.default.string.isRequired,enable:i.default.func.isRequired,disable:i.default.func.isRequired,notificationsEnabled:i.default.bool.isRequired,t:i.default.func},c=(0,s.default)("pl-pinned-panel","pl-pinned-panel--embed"),d=(0,s.default)("pl-button--hollow","pl-mg-t-2");function f(e){var t=e.channelName,n=e.enable,i=e.disable,a=e.notificationsEnabled,s=e.t;return r.default.createElement("div",{className:c},r.default.createElement("h2",{className:"pl-pinned-panel__title"},s("Live Broadcast has ended")),r.default.createElement("p",{className:"pl-pinned-panel__subtext"},s("Get notified when {{channelName}} goes live next",{channelName:t})),r.default.createElement(o.NotificationsButton,{className:d,enable:n,disable:i,notificationsEnabled:a}))}f.propTypes=u,f.defaultProps={t:function(){}};t.CenteredFollowPanel=(0,a.translate)()(f)},wjyp:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.initializeAdSpadeEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={ad_session_id:e.adSessionId,commercial_id:e.commercialId,roll_type:e.adType,time_break:e.duration,twitch_correlator:e.twitchCorrelator};e.adWhitelist&&(n.ads_opt_in=e.adWhitelist);n=function(e,t){var n=e;return t.amzniid&&(n.amzniid=t.amzniid),t.amznbid&&(n.amznbid=t.amznbid),t.qsParams&&(n.qsParams=t.qsParams),n}(n,e),null!==t&&(n.ad_system=t.adSystem,n.ad_id=t.adId,n.creative_id=t.creativeId,n.title=t.title,n.duration=t.duration,t.adPodInfo&&(n=u(n,t.adPodInfo)),"object"===r(t.adWrapperIds)&&t.adWrapperIds.length>0&&(n.wrapper_ad_id=t.adWrapperIds[0]),"object"===r(t.adWrapperSystems)&&t.adWrapperSystems.length>0&&(n.wrapper_ad_system=t.adWrapperSystems[0]),"object"===r(t.adWrapperCreativeIds)&&t.adWrapperCreativeIds.length>0&&(n.wrapper_creative_id=t.adWrapperCreativeIds[0]));return n},t.setAdPodInfo=u,t.sendAdSpadeEvent=function(e){var t=e.store,n=e.provider,r=void 0===n?"":n,i=e.eventName,a=void 0===i?"":i,u=e.data,c=void 0===u?{}:u,d=e.adServer,f=void 0===d?"":d,p=t.getState(),_=p.analyticsTracker,h=p.stream,m=p.streamMetadata,E=p.user,v=c;r&&(0,o.default)(v,{provider:r});f&&(0,o.default)(v,{ad_server:f});(0,o.default)(v,{logged_in:E.loggedInStatus===l.LOGGED_IN}),h instanceof s.VODTwitchContentStream&&(0,o.default)(v,{vod_id:h.videoId,vod_type:m.type});_.trackEvent(a,v)};var i,a=n("3OWR"),o=(i=a)&&i.__esModule?i:{default:i},s=n("VIow"),l=n("/71H");function u(e,t){var n=e;return n.ad_position=t.adPosition,n.max_duration=t.maxDuration,n.pod_index=t.podIndex,n.total_ads=t.totalAds,n}},wqK4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackSpeedMenu=t.PlaybackSpeedMenuContainer=t.mapDispatchToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n("q1tI")),a=c(n("17x9")),o=n("N58E"),s=n("mWCY"),l=n("4b1H"),u=n("Z4ex");function c(e){return e&&e.__esModule?e:{default:e}}var d={currentSpeed:a.default.number.isRequired,onMenuTransition:a.default.func,selectNewPlaybackRate:a.default.func,tracker:a.default.object},f=t.mapDispatchToProps=function(e){return{selectNewPlaybackRate:function(t){e((0,l.changePlaybackRate)(t)),e((0,u.showMenu)(u.MENU_STATE_NONE))}}},p=t.PlaybackSpeedMenuContainer=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleSelectPlaybackRate=e.handleSelectPlaybackRate.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"handleSelectPlaybackRate",value:function(e){var t=this.props,n=t.selectNewPlaybackRate;t.tracker.trackEvent("player_click_playback",{speed:e}),n(e)}},{key:"render",value:function(){var e=this.props,t=e.currentSpeed,n=e.onMenuTransition;return i.default.createElement(s.PlaybackSpeedMenu,{currentSpeed:t,onMenuTransition:n,onSelectPlaybackSpeed:this.handleSelectPlaybackRate})}}]),t}();p.propTypes=d,p.defaultProps={onMenuTransition:function(){},selectNewPlaybackRate:function(){},tracker:{trackEvent:function(){}}};t.PlaybackSpeedMenu=(0,o.connect)(function(e){var t=e.analyticsTracker;return{currentSpeed:e.playback.playbackRate,tracker:t}},f)(p)},wsSb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LiveTwitchContentStream=t.CONTENT_MODE_LIVE=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n("3OWR")),o=p(n("zdiy")),s=n("gGr8"),l=n("56nq"),u=n("ji7g"),c=n("J0qE"),d=n("CPEd"),f=n("2jd5");function p(e){return e&&e.__esModule?e:{default:e}}var _=t.CONTENT_MODE_LIVE="live";t.LiveTwitchContentStream=function(e){function t(e,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return o._channelName=e,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.AbstractStream),i(t,[{key:"_fetchAccessToken",value:function(e,t,n){return(0,d.fetchChannelAccessToken)(e,t,n)}},{key:"_buildUsherParams",value:function(e){return(0,o.default)({token:e.token,sig:e.sig,allow_source:!0,fast_bread:!0,playlist_include_framerate:!0},this._usherParams)}},{key:"contentType",get:function(){return _}},{key:"channel",get:function(){return this._channelName}},{key:"_baseStreamUrl",get:function(){return c.usherHost+"/api/channel/hls/"+this._channelName.toLowerCase()+".m3u8"}},{key:"streamUrl",get:function(){var e=this;return Promise.all([this.accessToken,this._commonExperimentParams(),(0,l.viewerInfo)()]).then(function(t){var n=r(t,3),i=n[0],o=n[1],l=n[2],d=e._buildUsherParams(i),f={baking_bread:!1,baking_brownies:!1,baking_brownies_timeout:s.PREROLL_TIMEOUT};return s.AD_STITCHING_GEOS[l.requestInfo.countryCode]&&(f.baking_bread=!0,f.baking_brownies=!0),(0,a.default)(d,o,f),c.usherHost+"/api/channel/hls/"+e._channelName.toLowerCase()+".m3u8?"+(0,u.stringify)(d)})}}]),t}()},wy0h:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENSIONS_RELOADING=t.EXTENSIONS_LOADING=t.EXTENSIONS_LOADED=t.EXTENSIONS_NOT_LOADED=t.EXTENSION_NOTIFICATION_TIMEOUT=t.EMS_REQUEST_PER_SECOND_LIMIT=t.ACTION_SET_EXTENSION_COLLAPSE_LOCATION=t.ACTION_ACCEPT_UNRELEASED_EXTENSION=t.ACTION_DECLINE_UNRELEASED_EXTENSION=t.ACTION_SET_EXTENSION_VISIBILITY=t.ACTION_SET_EXTENSION_NOTIFICATION=t.ACTION_EXTENSION_HOVER=t.ACTION_PURCHASE_INTENT_RECEIVED=t.ACTION_SET_EXTENSION_MENU=t.ACTION_INIT_EXTENSIONS_API=t.ACTION_SET_EXTENSION_IDENTITY=t.ACTION_REQUEST_TOGGLE_EXTENSION_IDENTITY=t.ACTION_EXTENSION_ACTIVATED=t.ACTION_FETCHING_EXTENSION_INSTALLATIONS=t.ACTION_UPDATE_EXTENSION_INSTALLATION=t.ACTION_CLEAR_EXTENSION_INSTALLATIONS=t.ACTION_SET_EXTENSIONS_TO_TRACK=t.ACTION_SET_EXTENSION_INSTALLATIONS=void 0,t.setExtensionInstallations=I,t.setExtensionsToTrack=R,t.clearExtensionInstallations=function(){return{type:p}},t.updateExtensionInstallation=w,t.setExtensionMenu=function(e,t){return{type:y,menuState:{extensionSlot:e,menuName:t,modalOptions:null}}},t.setExtensionModal=function(e,t){return{type:y,menuState:{extensionSlot:e,menuName:l.EXTENSION_ACTION_MAP[t.action],modalOptions:t}}},t.closeExtensionMenu=function(){return{type:y,menuState:{extensionSlot:null,menuName:null,modalOptions:null}}},t.setExtensionNotification=function(e,t){return function(n,r){var i=r().extensions.notification,a=null;i&&i.timer&&clearTimeout(i.timer),a=setTimeout(function(){n(k())},P),n({type:b,notification:{type:e,options:t,timer:a}})}},t.clearExtensionNotification=k,t.requestExtensionIdentityToggle=function(e){return{type:E,installationId:e}},t.updateExtensionIdentityLinking=function(e,t){return{type:v,installationId:e,isLinked:t}},t.fetchExtensionInstallations=M,t.subscribeToExtensionControl=function(e){return function(t,n){var r=n(),i=r.stream;return(0,s.channelInfo)(e).then(function(r){if(n().stream===i){var a=String(r._id);o.extensionService.subscribeToExtensionControl(a,{onShouldFetchExtensions:function(){t(function(e){return{type:m,channel:e}}(e)),t(M(e))},onDestroyExtension:function(r){var i=n().extensions.activeInstallations,a=i.filter(function(e){return e.id!==r});t(I(e,a))},onActivationChanged:function(r,i){var a=n().extensions.activeInstallations,o=a.find(function(e){return e.extension.id===r});t(o?w(r,i):M(e))}})}}).catch(function(){return Promise.resolve()})}},t.purchaseIntentReceived=function(e){return{type:g,purchaseIntent:e}},t.onExtensionHover=function(e,t){return{type:T,extension:e,highlightFrame:t}},t.setExtensionVisibility=L,t.toggleExtensionVisibility=function(e,t){return function(n,r){var i=r().extensions.activeInstallations.find(function(t){return t.id===e});i&&n(L(e,i.playerState.isHidden,t))}},t.declineUnreleased=function(e){return{type:A,installationId:e}},t.acceptUnreleased=function(e){return{type:C,installationId:e}},t.setExtensionCollapseLocation=function(e,t){return{type:O,installationId:e,collapseLocation:t}};var r,i=n("ijCd"),a=(r=i)&&r.__esModule?r:{default:r},o=n("1hWM"),s=n("56nq"),l=n("vpBF"),u=n("uC+K"),c=n("Rnd+");var d=t.ACTION_SET_EXTENSION_INSTALLATIONS="set extensions",f=t.ACTION_SET_EXTENSIONS_TO_TRACK="set extensions to track",p=t.ACTION_CLEAR_EXTENSION_INSTALLATIONS="clear extensions",_=t.ACTION_UPDATE_EXTENSION_INSTALLATION="update extension installation",h=t.ACTION_FETCHING_EXTENSION_INSTALLATIONS="fetching extensions",m=t.ACTION_EXTENSION_ACTIVATED="extension activated",E=t.ACTION_REQUEST_TOGGLE_EXTENSION_IDENTITY="request toggle extension identity linking",v=t.ACTION_SET_EXTENSION_IDENTITY="set extension identity linking",y=(t.ACTION_INIT_EXTENSIONS_API="initialize extension api",t.ACTION_SET_EXTENSION_MENU="set extension menu"),g=t.ACTION_PURCHASE_INTENT_RECEIVED="purchaseIntent received",T=t.ACTION_EXTENSION_HOVER="extension hovered",b=t.ACTION_SET_EXTENSION_NOTIFICATION="set extension notification",S=t.ACTION_SET_EXTENSION_VISIBILITY="set extension visibility",A=t.ACTION_DECLINE_UNRELEASED_EXTENSION="decline using unreleased extension",C=t.ACTION_ACCEPT_UNRELEASED_EXTENSION="accept using unreleased extension",O=t.ACTION_SET_EXTENSION_COLLAPSE_LOCATION="set extension collapse location",P=(t.EMS_REQUEST_PER_SECOND_LIMIT=3e3,t.EXTENSION_NOTIFICATION_TIMEOUT=3e3),N=(t.EXTENSIONS_NOT_LOADED="not loaded",t.EXTENSIONS_LOADED="loaded",t.EXTENSIONS_LOADING="loading");t.EXTENSIONS_RELOADING="reloading";function I(e,t){return{type:d,channel:e,installations:t}}function R(e,t){return{type:f,channel:e,extensionsToTrack:t}}function w(e,t){return{type:_,extensionId:e,activationConfig:t}}function k(){return{type:b,notification:null}}function M(e){return function(t,n){var r=n(),i=r.extensions,d=r.env.playerType,f=(0,a.default)(l.EXTENSION_PLAYER_TYPES,d),p=i.channel===e&&i.loadingState===N;return!e||p?Promise.resolve():f?(t(function(e){return{type:h,channel:e}}(e)),(0,s.getAllActiveExtensionsForChannel)(e).then(function(r){var i=n(),a=i.experiments,s=i.stream,l=i.user;s.channel!==e&&d!==u.PLAYER_MULTIVIEW_PRIMARY||a.get(c.ExperimentIds.ExtensionsTurnOffForViewers).then(function(n){var i="test"===n,a=l&&l.name===e,s=function(e){return e.reduce(function(e,t){var n=t.activationConfig;return n.anchor===o.ExtensionAnchor.Component||n.anchor===o.ExtensionAnchor.Hidden||n.anchor===o.ExtensionAnchor.Overlay?e.concat(t):e},[])}(r),u=function(e){return e.map(function(e){var t=e.activationConfig;return{extensionId:e.id,extensionAnchor:t.anchor,extensionSlot:t.slot}})}(r);i&&!a&&(s=[],u=[]),t(I(e,s)),t(R(e,u))})})):(t(I(e,[])),t(R(e,[])),Promise.resolve())}}function L(e,t,n){return{type:S,installationId:e,visible:t,collapseLocation:n}}},wy8a:function(e,t,n){var r=n("KxBF");e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},x8gO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoDateLength=void 0;var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=s(n("q1tI")),a=s(n("17x9")),o=n("FxCM");function s(e){return e&&e.__esModule?e:{default:e}}var l={date:a.default.object.isRequired,length:a.default.number.isRequired,languageCode:a.default.string.isRequired},u={year:"numeric",month:"short",day:"numeric"};(t.InfoDateLength=function(e){var t=e.length,n=e.date,a=e.languageCode,s=n.toLocaleDateString(a,u),l=(0,o.toArray)(t,!1),c=r(l,3),d=c[0]+":"+c[1]+":"+c[2];return i.default.createElement("div",null,i.default.createElement("span",null,s),"Â Â·Â ",i.default.createElement("span",null,d))}).propTypes=l},xKxn:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoMomentsManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("VIow"),a=n("4opd"),o=n("qT8i");t.VideoMomentsManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._unsubscribe=(0,o.subscribe)(this._store,["stream"],this.onStream.bind(this)),this.onStream()}return r(e,[{key:"onStream",value:function(){this._store.getState().stream.contentType===i.CONTENT_MODE_VOD&&(0,a.fetchMoments)(this._store)}},{key:"destroy",value:function(){this._unsubscribe()}}]),e}()},xOyo:function(e,t,n){var r=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,i=n("QEeW");e.exports=function(e){var t,n=0,a=!0,o={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(r,function(r){if("="===r)return a=!0,void n++;a?0===n?((i[r]||"/"===e.charAt(e.length-2))&&(o.voidElement=!0),o.name=r):(o.attrs[t]=r.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(o.attrs[t]=t),t=r),n++,a=!1}),o}},xVnJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVideoApiMiddleware=function(){return function(e){return function(e){var t=void 0,n=new Promise(function(e){t=e});return function(a){switch(a.type){case r.ACTION_LOAD_VIDEO_API:t(a.video);break;case r.ACTION_VIDEO_API_PLAY:n.then(function(e){return e.play()});break;case r.ACTION_VIDEO_API_PAUSE:n.then(function(e){return e.pause()});break;case r.ACTION_AUTOMATED_PAUSE:n.then(function(e){return e.automatedPause()});break;case r.ACTION_VIDEO_API_MUTE_PLAYER:n.then(function(e){return e.setMuted(a.muted,a.automated)});break;case r.ACTION_VIDEO_API_CHANGE_VOLUME:n.then(function(e){return e.setVolume(a.volume)});break;case r.ACTION_VIDEO_API_REPORT_VIDEO_ISSUE:n.then(function(e){return e.submitVideoIssueReport(a.issueType)});break;case r.ACTION_VIDEO_API_CHANGE_BACKEND:n.then(function(e){return e.setBackend(a.backendType)});break;case r.ACTION_VIDEO_API_CHANGE_PLAYBACK_RATE:n.then(function(e){return e.setPlaybackRate(a.playbackRate)});break;case r.ACTION_VIDEO_API_SEEK:n.then(function(e){return e.setCurrentTime(a.seekTime)});break;case r.ACTION_VIDEO_API_SET_LIVE_LOW_LATENCY_ENABLED:n.then(function(e){return e.setLiveLowLatencyEnabled(a.enable)});break;case r.ACTION_VIDEO_API_SET_LIVE_MAX_LATENCY:n.then(function(e){return e.setLiveMaxLatency(a.time)});break;case r.ACTION_VIDEO_API_SET_AUTO_MAX_VIDEO_SIZE:n.then(function(e){return e.setAutoMaxVideoSize(a.width,a.height)});break;case i.ACTION_START_CASTING:n.then(function(e){return e.startCast()});break;case i.ACTION_STOP_CASTING:n.then(function(e){return e.stopCast()})}e(a)}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("4b1H")),i=n("ut+t")},xa5l:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrownSVG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n("q1tI")),a=s(n("17x9")),o=n("kKdq");function s(e){return e&&e.__esModule?e:{default:e}}var l={viewBox:a.default.string,fill:a.default.string};(t.CrownSVG=function(e){return i.default.createElement(o.SVGWrapper,r({viewBox:"0 0 20 20"},e),i.default.createElement("path",{d:"M15 10l-5-5-5 5-4-3.711V15a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V6.289L15 10z",fill:e.fill,fillRule:"evenodd"}))}).propTypes=l},xaJk:function(e,t,n){var r=n("asDA"),i=n("SKAX"),a=n("ut/Y"),o=n("WPeF"),s=n("Z0cm");e.exports=function(e,t,n){var l=s(e)?r:o,u=arguments.length<3;return l(e,a(t,4),n,u,i)}},xeH1:function(e,t){},xfJC:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("q1tI"),i=n("+80q"),a=n("X2PJ"),o=n("2Ob2"),s=function(e){return r.createElement(i.a,{type:i.e.P,fontSize:a.d.Size7,color:e.overlay?a.c.OverlayAlt:a.c.Alt2},e.hint)};s.displayName="FormHintComponent",s.displayName="FormHintComponent";var l=Object(o.c)(s)},xkGU:function(e,t,n){e.exports=n("bNQv")},xkJG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlayButtonOverlay=u;var r=s(n("q1tI")),i=s(n("17x9")),a=n("1fV9"),o=n("dndI");function s(e){return e&&e.__esModule?e:{default:e}}var l={onClick:i.default.func.isRequired,collectionsSidebarOpen:i.default.bool};function u(e){var t=e.onClick,n=e.collectionsSidebarOpen?null:r.default.createElement(a.Button,{className:"player-button player-button-play js-control-play-button",onClick:t},r.default.createElement(o.PlaySVG,{className:"player-icon-play",id:"icon_play"}));return r.default.createElement("div",{className:"player-overlay player-play-overlay js-paused-overlay"},n)}u.propTypes=l,u.defaultProps={collectionsSidebarOpen:!1}},"xrA/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiview=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SET_MULTIVIEW_ENABLED:return(0,a.default)({},e,{enabled:Boolean(t.value)});case o.ACTION_SET_MULTIVIEW_PARENT_CHANNEL_LOGIN:return(0,a.default)({},e,{parentChannelLogin:t.value});case o.ACTION_SET_MULTIVIEW_TITLE_OVERRIDE:return(0,a.default)({},e,{titleOverride:t.value});case o.ACTION_SET_MULTIVIEW_LOGO_OVERRIDE:return(0,a.default)({},e,{logoOverride:t.value});case o.ACTION_SET_MULTIVIEW_FTUE:return(0,a.default)({},e,{isFTUE:t.value});case o.ACTION_SET_MULTIVIEW_BUTTON_TEXT:return(0,a.default)({},e,{buttonText:t.value});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("zCE8"));var s={enabled:!1,parentChannelLogin:null,titleOverride:null,logoOverride:null,isFTUE:!1,buttonText:null}},xsDr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quality=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case o.ACTION_SELECT_QUALITY:return(0,a.default)({},e,{selected:t.quality,bitrate:t.bitrate});case o.ACTION_SET_CURRENT_QUALITY:return(0,a.default)({},e,{current:t.quality});case o.ACTION_SET_QUALITIES:return(0,a.default)({},e,{available:t.qualities});case o.ACTION_SET_ABS_AVAILABILITY:return(0,a.default)({},e,{absAvailable:t.absAvailable});default:return e}};var r,i=n("3OWR"),a=(r=i)&&r.__esModule?r:{default:r},o=n("OyQT");var s={absAvailable:!1,current:"",selected:o.DEFAULT_STREAM_FORMAT,bitrate:o.DEFAULT_STREAM_BITRATE_IN_BPS,available:[]}},xxV0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionSidebarHeader=t.CollectionSidebarHeaderComponent=void 0;var r=c(n("17x9")),i=c(n("q1tI")),a=n("1fV9"),o=c(n("TSYQ")),s=n("cLw2"),l=n("9kay"),u=n("GX/C");function c(e){return e&&e.__esModule?e:{default:e}}var d={title:r.default.string.isRequired,ownerURL:r.default.string.isRequired,ownerName:r.default.string.isRequired,itemsLength:r.default.number.isRequired,totalDuration:r.default.number.isRequired,onClose:r.default.func.isRequired,t:r.default.func.isRequired},f=(0,o.default)("collection-sidebar-header__title","ellipsis","qa-collection-header-title"),p=t.CollectionSidebarHeaderComponent=function(e){var t=e.title,n=e.ownerURL,r=e.ownerName,o=e.itemsLength,c=e.totalDuration,d=e.onClose,p=e.t,_=i.default.createElement(a.Button,{className:"player-button",onClick:d},i.default.createElement(u.CrossSVG,{id:"icon_close_md"})),h=i.default.createElement("a",{className:"qa-collection-sidebar-author",href:n},r),m=null,E=(0,s.toHumanReadable)(1e3*c),v=E.minutes,y=E.hours,g=p("{{count}} minute",{count:v}),T=p("{{count}} hour",{count:y});return m=0===y?g:0===v?T:p("{{hoursText}} and {{minutesText}}",{hoursText:T,minutesText:g}),i.default.createElement("div",{className:"collection-sidebar-header"},i.default.createElement("div",{className:"collection-sidebar-header__layout"},i.default.createElement("div",{className:f},t),i.default.createElement("div",{className:"collection-sidebar-header-meta"},i.default.createElement("span",null,i.default.createElement(l.Interpolate,{i18nKey:"By {{author}}",author:h})),i.default.createElement("span",{className:"middot-divider"}),i.default.createElement("span",null,p("{{count}} video",{count:o})),i.default.createElement("span",{className:"middot-divider"}),i.default.createElement("span",null,m))),_)};p.propTypes=d;t.CollectionSidebarHeader=(0,l.translate)()(p)},"y+GA":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=s(n("noZS")),a=s(n("J2m7")),o=s(n("K4vF"));function s(e){return e&&e.__esModule?e:{default:e}}var l=Object.freeze((0,i.default)(o.default,function(e){return e.code})),u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,null,[{key:"getError",value:function(e){var t=(0,a.default)(o.default,{code:e});if(t)return t;throw new Error("Invalid error code "+e)}},{key:"getMessage",value:function(t){return e.getError(t).message}},{key:"CODES",get:function(){return l}}]),e}();t.default=u},"y/jJ":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementPosition=function(e){var t=e,n=0,r=0;for(;!i(t)&&t.offsetParent;){var o=a(t);n+=t.offsetLeft+o.left,r+=t.offsetTop+o.top,t=t.offsetParent}return{left:n,top:r}};var r="player-ui";function i(e){for(var t=!1,n=0;n<e.children.length;++n){e.children.item(n).className===r&&(t=!0)}return t}function a(e){var t=window.getComputedStyle(e).transform;if(!t||"none"===t)return{left:0,top:0};var n=t.split("(")[1].split(")")[0].split(",");return{left:parseInt(n[4],10),top:parseInt(n[5],10)}}},y0tB:function(e,t,n){"use strict";n.d(t,"a",function(){return m});var r=n("pVnL"),i=n.n(r),a=n("8OQS"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),u=n("vCsY"),c=n("1H2c"),d=n("hnjF"),f=n("Ws8v"),p=n("2Ob2"),_=n("2nDl"),h=(n("eJuE"),function(e){var t,n="tw-"+Object(c.a)(),r={"tw-radio":!0,"tw-radio--error":e.error,"tw-radio--overlay":e.overlay};e.tabIndex&&(t=e.tabIndex);var a=_.c.Default;e.size&&(a=e.size);e.label,e.size,e.overlay,e.error;var p=o()(e,["label","size","overlay","error"]);return s.createElement(f.a,i()({className:Object(l.a)(r),fontSize:_.b[a]},Object(u.a)(e)),s.createElement("input",i()({},Object(u.b)(p),{type:"radio",className:"tw-radio__input","data-a-target":"tw-radio",tabIndex:t,id:e.id?e.id:n})),s.createElement(d.g,{display:d.d.Block},s.createElement("label",{className:"tw-radio__label",htmlFor:e.id?e.id:n},e.label)))});h.displayName="RadioComponent",h.displayName="RadioComponent";var m=Object(p.c)(h)},y6uH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imaLoaded=void 0,t.loadIMA=function(e){e.google&&i();o||(o=!0,(0,r.fetchIMAScript)().then(i,a))};var r=n("VaBZ"),i=null,a=null,o=(t.imaLoaded=new Promise(function(e,t){i=e,a=t}),!1)},y7cp:function(e,t){},yIzk:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n("VbXa"),i=n.n(r),a=n("q1tI"),o=n("X2PJ"),s=n("Ws8v"),l=n("2Ob2"),u=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.render=function(){var e={};return this.props.overlay?e.color=o.c.Overlay:e.color=o.c.Base,a.createElement(l.b,{value:!!this.props.overlay},a.createElement(s.a,e,this.props.children))},t}(a.Component);u.displayName="OverlayContext",u.defaultProps={overlay:!0}},yKzH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(e){return i.call(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},t.extend=function(e){return i.call(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e};var r=[],i=r.forEach,a=r.slice},ySAb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VodMidrollManager=t.BroadcastType=t.VOD_MIDROLL_SETTING_INSERTED=t.VOD_MIDROLL_SETTING_BROADCASTER=t.TIMER_AD=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("qT8i"),a=n("QBeZ"),o=n("7Eji"),s=n("M8Au");var l=t.TIMER_AD="TIMER_AD",u=(t.VOD_MIDROLL_SETTING_BROADCASTER="broadcaster",t.VOD_MIDROLL_SETTING_INSERTED="inserted"),c=t.BroadcastType={Archive:"archive",PastPremiere:"past_premiere"};t.VodMidrollManager=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._store=t,this._unsubs=[],this._timer=null,this._initSubscribes()}return r(e,[{key:"_initSubscribes",value:function(){this._unsubs.push((0,i.subscribe)(this._store,["ads.currentMetadata.contentType"],this.onContentTypeChange.bind(this))),this._unsubs.push((0,i.subscribe)(this._store,["ads.currentAdProperties","streamMetadata"],this.onMidrollSettingsChange.bind(this))),this._unsubs.push((0,i.subscribe)(this._store,["playback.paused","playback.playing"],this.onPlaybackStateChange.bind(this))),this.onMidrollSettingsChange(this._store.getState())}},{key:"onContentTypeChange",value:function(e){if(e.ads.currentMetadata.contentType===a.AdContentTypes.NONE){var t=this._store.getState().streamMetadata;this._timer&&this._showMidrollForType(t.type)&&this._store.getState().ads.vodMidrollArchiveSetting===u&&this._timer.start()}else this._timer&&this._timer.pause()}},{key:"onPlaybackStateChange",value:function(e){var t=e.playback;if(t.playing){var n=this._store.getState().streamMetadata,r=this._store.getState().ads;this._timer&&this._showMidrollForType(n.type)&&r.currentMetadata.contentType===a.AdContentTypes.NONE&&r.vodMidrollArchiveSetting===u&&this._timer.start()}t.paused&&this._timer&&this._timer.pause()}},{key:"onMidrollSettingsChange",value:function(e){var t=e.ads,n=e.streamMetadata.type;this._showMidrollForType(n)?(this.createTimer(t),this.onPlaybackStateChange(this._store.getState())):this._timer&&(this._timer.destroy(),this._timer=null)}},{key:"createTimer",value:function(e){var t=this,n=e.currentAdProperties,r=n.hasVodAdsEnabled,i=n.vodArchiveMidrolls,c=n.vodArchiveMidrollsFrequency,d=n.vodArchiveMidrollsBreakLength;r&&(this._store.dispatch((0,a.setVodMidrollArchiveSetting)(i)),i===u&&(this._timer&&this._timer.destroy(),this._timer=new s.IntervalTimer(function(){t._store.dispatch((0,a.requestAds)(o.MIDROLL,parseInt(d,10),!1,0,l))},6e4*parseInt(c,10),window)))}},{key:"destroy",value:function(){this._unsubs.forEach(function(e){return e()}),this._timer&&this._timer.destroy()}},{key:"_showMidrollForType",value:function(e){return e===c.Archive||e===c.PastPremiere}}]),e}()},"yU/b":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySVG=void 0;var r,i=n("q1tI"),a=(r=i)&&r.__esModule?r:{default:r};t.ReplaySVG=function(){return a.default.createElement("svg",{viewBox:"0 0 30 30",id:"icon_replay"},a.default.createElement("path",{d:"M10.308 15.688c0-2.792 2.329-5.063 5.192-5.063V14l5.77-4.5L15.5 5v3.375c-4.135 0-7.5 3.28-7.5 7.313C8 19.718 11.365 23 15.5 23s7.5-3.28 7.5-7.313h-2.308c0 2.792-2.329 5.063-5.192 5.063s-5.192-2.27-5.192-5.063z",fillRule:"evenodd"}))}},yUy9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionTopBar=void 0,t.CollectionTopBarComponent=v;var r=c(n("q1tI")),i=c(n("17x9")),a=n("9kay"),o=c(n("UfWW")),s=c(n("TSYQ")),l=n("1fV9"),u=n("KQRg");function c(e){return e&&e.__esModule?e:{default:e}}var d={collectionItems:i.default.array.isRequired,showDivider:i.default.bool.isRequired,onMouseEnter:i.default.func,onMouseLeave:i.default.func,showSidebar:i.default.func,streamId:i.default.string.isRequired,t:i.default.func,title:i.default.string.isRequired},f=(0,s.default)("pl-flex","pl-flex--verticalCenter","pl-flex--nowrap"),p=(0,s.default)("collection-button","pl-flex__item"),_=(0,s.default)("collection-collapsed-info","pl-flex","pl-flex--verticalCenter","pl-flex__item"),h=(0,s.default)("collection-collapsed-info__title","qa-collection-collapsed-title","pl-flex__item"),m=(0,s.default)("middot-divider","pl-flex__item"),E=(0,s.default)("collection-collapsed-info__number","qa-collection-collapsed-progress","pl-flex__item");function v(e){var t=e.collectionItems,n=e.showDivider,i=e.onMouseEnter,a=e.onMouseLeave,s=e.showSidebar,c=e.streamId,d=e.t,v=e.title,y=n?r.default.createElement("div",{className:"collection-divider"}):null,g=d("{{currentPosition}}/{{totalVideos}} video",{currentPosition:(0,o.default)(t,{itemId:c})+1,totalVideos:t.length,count:t.length});return r.default.createElement("div",{className:"collection-nav"},r.default.createElement("div",{className:"collection-collapsed__layout",onMouseEnter:i,onMouseLeave:a,onClick:s,onKeyUp:s,tabIndex:0,role:"button"},r.default.createElement("div",{className:f},r.default.createElement(l.Button,{className:p,onClick:s},r.default.createElement(u.OpenCollectionSVG,{id:"icon_open_collection"})),r.default.createElement("div",{className:_},r.default.createElement("div",{className:h},v),r.default.createElement("span",{className:m}),r.default.createElement("span",{className:E},g)))),y)}v.propTypes=d,v.defaultProps={showSidebar:function(){},t:function(){},onMouseEnter:function(){},onMouseLeave:function(){}};t.CollectionTopBar=(0,a.translate)()(v)},yVH7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEmbedHostMiddleware=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return function(t){return function(t){var n=e;return function(e){switch(e.type){case r.ACTION_USE_EMBED_EVENT_EMITTER:n=e.embedHost;break;case r.ACTION_AD_COMPANION_EVENT:n._sendAdCompanionEvent(e.event,e.data);break;case r.ACTION_EMBED_WHEEL_EVENT:n._emitWheelEvent(e.data);break;case r.ACTION_FIRST_PARTY_ANALYTIC_EMBED_EVENT:n._sendFirstPartyAnalyticEvent(e.event,e.data);break;case r.ACTION_PLAYBACK_BLOCKED_EVENT:n._sendPlaybackBlockedEvent();break;case i.ACTION_TRANSITION_TO_COLLECTION:n._sendTransitionToCollectionEvent({vodId:e.vodId,collectionId:e.collectionId});break;case i.ACTION_TRANSITION_TO_REC_VOD:n._sendTransitionToRecommendedVodEvent({vodId:e.vodId});break;case o.ACTION_UPDATE_STATS:n._sendStatsUpdateEvent();break;case i.ACTION_EMIT_PLAYER_READY:n._sendReadyEvent();break;case s.ACTION_PLAYER_SEEKED:n._sendSeekedEvent(e.currentTime);break;case s.ACTION_PLAYING:case s.ACTION_PLAY:n._sendPlaybackEvent(e.type);break;case l.ACTION_SET_CAPTIONS_DATA:n._sendCaptionsEvent(e.captions.data.text)}t(e)}}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("QcJP")),i=n("2GWp"),a=n("0zsI"),o=n("0D68"),s=n("VPTj"),l=n("rSwD");var u=new a.NullEmbedHost},ycre:function(e,t,n){var r=n("711d")("length");e.exports=r},ygYM:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return _}),n.d(t,"a",function(){return E});var r,i,a=n("pVnL"),o=n.n(a),s=n("q1tI"),l=n("fNzW"),u=n("vCsY"),c=n("hnjF"),d=n("X2PJ"),f=n("Ws8v"),p=n("2Ob2");n("CtjF");!function(e){e.Auto="tw-balloon--auto",e.ExtraSmall="tw-balloon--xs",e.Small="tw-balloon--sm",e.Medium="tw-balloon--md",e.Large="tw-balloon--lg",e.ExtraLarge="tw-balloon--xl"}(i||(i={}));var _,h=((r={})[i.Auto]=2,r[i.ExtraSmall]=2,r[i.Small]=2,r[i.Medium]=3,r[i.Large]=4,r[i.ExtraLarge]=5,r);!function(e){e.Top="tw-balloon--up",e.Bottom="tw-balloon--down",e.Left="tw-balloon--left",e.Right="tw-balloon--right",e.TopLeft="tw-balloon--up tw-balloon--left",e.TopRight="tw-balloon--up tw-balloon--right",e.BottomRight="tw-balloon--down tw-balloon--right",e.BottomLeft="tw-balloon--down",e.TopCenter="tw-balloon--up tw-balloon--center",e.BottomCenter="tw-balloon--down tw-balloon--center",e.LeftCenter="tw-balloon--left tw-balloon--center",e.RightCenter="tw-balloon--right tw-balloon--center"}(_||(_={}));var m=function(e){var t,n,r,i,a={"tw-balloon":!0};e.size&&(a[e.size]=!0),e.direction?a[e.direction]=!0:a[_.Bottom]=!0,e.offsetX&&(e.direction===_.Left||e.direction===_.TopLeft||e.direction===_.BottomLeft||e.direction===_.LeftCenter||e.direction===_.BottomRight||e.direction===_.TopRight?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction===_.Top||e.direction===_.TopLeft||e.direction===_.TopRight||e.direction===_.TopCenter?i=e.offsetY:r=e.offsetY);var p,m,E,v={marginLeft:t,marginRight:n,marginTop:r,marginBottom:i};e.tailOffset&&(e.direction===_.Left||e.direction===_.Right||e.direction===_.LeftCenter||e.direction===_.RightCenter?p=e.tailOffset+"px":e.direction===_.TopRight||e.direction===_.BottomRight?(m=e.tailOffset+"px",E="auto"):(m="auto",E=e.tailOffset+"px"));var y,g,T={top:p,left:E,right:m},b=e.overlay?d.a.Overlay:e.background,S=e.overlay?d.c.Overlay:d.c.Inherit;return e.tail&&!e.overlay&&(y=s.createElement(c.g,{className:"tw-balloon__tail",position:c.j.Absolute,overflow:c.i.Hidden},s.createElement("div",{style:T},s.createElement(f.a,{className:"tw-balloon__tail-symbol",position:c.j.Absolute,background:e.tailBackground||b})))),g=void 0!==e.elevation?e.elevation:void 0===e.size?2:h[e.size],s.createElement(c.g,{display:e.show?c.d.Block:c.d.Hide,position:c.j.Absolute},s.createElement("div",o()({style:v,className:Object(l.a)(a)},Object(u.a)(e)),y,s.createElement(f.a,{borderRadius:d.b.Large,background:b,elevation:g,color:S,className:e.overlay?"tw-balloon--overlay-border":void 0},e.children)))};m.displayName="BalloonComponent",m.defaultProps={background:d.a.Base},m.displayName="BalloonComponent";var E=Object(p.c)(m)},yrU0:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toggle=t.ToggleComponent=void 0;var r=s(n("q1tI")),i=s(n("17x9")),a=n("9kay"),o=s(n("TSYQ"));function s(e){return e&&e.__esModule?e:{default:e}}var l={label:i.default.string.isRequired,onToggle:i.default.func,t:i.default.func.isRequired,toggledOn:i.default.bool,className:i.default.string};var u=t.ToggleComponent=function(e){var t,n,i,a,s=e.label,l=e.onToggle,u=e.t,c=e.toggledOn,d=e.className,f="toggle_button_"+Math.random().toString(36).substr(2,10),p=(0,o.default)((i=!!d,(n=d)in(t={"pl-player-menu__toggle-item":!0})?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t));return r.default.createElement("div",{className:p},r.default.createElement("div",{className:"pl-toggle__label-wrapper"},r.default.createElement("label",{className:"pl-form__label qa-toggle-label",htmlFor:"toggle_button",role:"button",onClick:l,onKeyUp:(a=l,function(e){"Enter"===e.key&&a()}),tabIndex:0},u(s))),r.default.createElement("div",{className:"pl-toggle"},r.default.createElement("input",{className:"qa-input-checkbox",type:"checkbox",id:f,checked:c,onChange:l}),r.default.createElement("label",{className:"pl-toggle__button",htmlFor:f})))};u.propTypes=l,u.defaultProps={onToggle:function(){},toggledOn:!1};t.Toggle=(0,a.translate)()(u)},z21g:function(e,t,n){e.exports=n("Qntv").default},z3C2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionEmptyOverlay=void 0,t.CollectionEmptyOverlayComponent=c;var r=s(n("17x9")),i=s(n("q1tI")),a=n("9kay"),o=s(n("TSYQ"));function s(e){return e&&e.__esModule?e:{default:e}}var l={t:r.default.func.isRequired},u=(0,o.default)("player-overlay","player-overlay--wall","player-overlay--empty-collection");function c(e){var t=e.t;return i.default.createElement("div",{className:u},i.default.createElement("div",{className:"player-center-content"},i.default.createElement("p",null,t("This collection is empty."))))}c.propTypes=l;t.CollectionEmptyOverlay=(0,a.translate)()(c)},z3zQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AmazonManager=t.SPADE_VAES_SERVER=t.AMAZON_PROVIDER=t.SPADE_AMAZON_PROVIDER=void 0;var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("mwIZ"),o=(r=a)&&r.__esModule?r:{default:r},s=n("nOTn"),l=n("7Eji"),u=n("TRt3"),c=n("qT8i");var d=t.SPADE_AMAZON_PROVIDER="amazon",f=(t.AMAZON_PROVIDER="amazon",t.SPADE_VAES_SERVER="vaes");t.AmazonManager=function(){function e(t,n,r,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._videoContainer=t,this._backend=n,this._store=r,this._currentAdsManager=null,this._hooks=i,this._unsubscribes=[],this._bitratePromise=new Promise(function(e){a._bitratePromiseResolve=e}),this._bitrateUnsubscribe=(0,c.subscribe)(this._store,["stats.videoStats.playbackRate"],this._receivedBitrate.bind(this)),this._unsubscribes.push(this._bitrateUnsubscribe),this.avapLoaded=s.avapLoaded.then(function(){var e=a._store.getState().window,t=e.AmazonVideoAds;return t?(a._avapAdContainer=e.document.createElement("div"),a._avapAdContainer.classList.add("avap-ads-container"),a._videoContainer.appendChild(a._avapAdContainer),a._amazonVideoAds=new t(a._avapAdContainer),a._bitratePromise):Promise.reject("Amazon Video Ads load failed")}).catch(function(e){return r.getState().analyticsTracker.trackEvent(u.AD_REQUEST_ERROR,{reason:"Amazon Video Ads load failed"}),Promise.reject(e)})}return i(e,[{key:"_receivedBitrate",value:function(e){e.stats.videoStats.playbackRate>0&&(this._bitratePromiseResolve(),this._bitrateUnsubscribe())}},{key:"destroy",value:function(){this._unsubscribes.forEach(function(e){return e()})}},{key:"loadSDK",value:function(){var e=this._store.getState().window;(0,s.loadAVAP)(e)}},{key:"requestAds",value:function(e){var t=this;return this.avapLoaded.then(function(){if(!t._currentAdsManager){if(!t._amazonVideoAds)return Promise.reject(new Error("VAES not loaded"));var n=t._amazonVideoAds.newRequestBuilder(),r=t._amazonVideoAds.newSlotBuilder(),i=(0,l.buildVAESAdTag)(e,n,r);return t._hooks.trackAdRequested({context:e,provider:d,adServer:f}),t._amazonVideoAds.fetchAds(i)}}).then(function(n){return t._initializeAdsManager(n,e)}).catch(function(n){t._hooks.trackAdRequestError({context:e,adServer:f,provider:d,reason:n.message})})}},{key:"_initializeAdsManager",value:function(e,t){var n=this,r=this._store.getState(),i=r.playback,a=r.stats;this._currentAdsManager=e,this._hooks.trackAdRequestResponse({context:t,adServer:f,provider:d}),e.init({fullscreen:!1,muted:i.muted,volume:i.volume}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,function(){return n._onContentPauseRequested(t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,function(){return n._onContentResumeRequested(t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.IMPRESSION,function(e){return n._onAdImpression(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.RESUMED,function(){return n._hooks.onAdResumed()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.PAUSED,function(){return n._hooks.onAdPaused()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.LOADED,function(e){return n._onAdLoaded(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.ERRORED,function(e){return n._onError(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.STARTED,function(){return n._hooks.onAdStarted()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.COMPLETED,function(e){return n._onAdCompleted(e,t)}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.VOLUME_CHANGE,function(){return n._hooks.trackAdVolumeChange()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.FIRST_QUARTILE,function(){return n._hooks.trackAdFirstQuartile()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.MIDPOINT,function(){return n._hooks.trackAdMidPoint()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.THIRD_QUARTILE,function(){return n._hooks.trackAdThirdQuartile()}),e.addListener(this._amazonVideoAds.eventNames.AdVideoPlayerEvents.PROGRESS,function(){return n._hooks.trackAdPlaying()}),e.startAds(this._determineBitrate(a))}},{key:"_determineBitrate",value:function(e){var t=.8*e.videoStats.playbackRate;return t>5e3?5e3:t<1e3?1e3:t}},{key:"pause",value:function(){this._currentAdsManager.pause()}},{key:"play",value:function(){this._currentAdsManager.play()}},{key:"stop",value:function(){this._currentAdsManager&&(this._currentAdsManager.destroy(),this._currentAdsManager=null)}},{key:"setVolume",value:function(e){this._currentAdsManager.setVolume(e)}},{key:"setMuted",value:function(e){this._currentAdsManager.mute(e)}},{key:"_onContentPauseRequested",value:function(e){this._hooks.onContentPauseRequested(e)}},{key:"_onContentResumeRequested",value:function(e){this._hooks.onContentResumeRequested(e)}},{key:"_onAdImpression",value:function(e,t){var n=this._normalizeAmazonAdData(e);this._hooks.onAdImpression({adRequestContext:t,ad:n,provider:d,adServer:f})}},{key:"_onError",value:function(e,t){var n=e.errorCode;this._hooks.onAdError({adRequestContext:t}),this._hooks.trackAdError({context:t,provider:d,adServer:f,errorCode:n}),this._currentAdsManager.destroy(),this._currentAdsManager=null}},{key:"_onAdLoaded",value:function(e,t){this._hooks.trackAdLoaded({context:t,provider:d,adServer:f,ad:this._normalizeAmazonAdData(e),adContainer:this._avapAdContainer,adsManager:this._currentAdsManager})}},{key:"_onAdCompleted",value:function(e,t){this._hooks.onAdEnded({adRequestContext:t,provider:d,adServer:f,ad:this._normalizeAmazonAdData(e)})}},{key:"_normalizeAmazonAdData",value:function(e){var t=(0,o.default)(e,"adMetadata"),n=(0,o.default)(t,"ad"),r=(0,o.default)(t,"creative"),i=(0,o.default)(t,"mediaFile");return{adId:(0,o.default)(n,"id"),adPodInfo:(0,o.default)(n,"podInfo"),creativeId:(0,o.default)(r,"id"),title:(0,o.default)(n,"title"),adSystem:(0,o.default)(n,"system"),contentType:(0,o.default)(i,"mimeType"),duration:(0,o.default)(r,"duration"),vastMediaHeight:(0,o.default)(i,"height"),vastMediaWidth:(0,o.default)(i,"width"),vastMediaBitrate:(0,o.default)(i,"bitrate"),mediaUrl:(0,o.default)(i,"url"),viewability:(0,o.default)(t,"viewability")}}}]),e}()},zCE8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiviewEnabled=function(e){return{type:r,value:e}},t.multiviewParentChannelLogin=function(e){return{type:i,value:e}},t.multiviewTitleOverride=function(e){return{type:a,value:e}},t.multiviewLogoOverride=function(e){return{type:o,value:e}},t.multiviewFTUE=function(e){return{type:s,value:e}},t.multiviewButtonText=function(e){return{type:l,value:e}};var r=t.ACTION_SET_MULTIVIEW_ENABLED="set multiview enabled",i=t.ACTION_SET_MULTIVIEW_PARENT_CHANNEL_LOGIN="set multiview parent channel login",a=t.ACTION_SET_MULTIVIEW_TITLE_OVERRIDE="set multiview parent title override",o=t.ACTION_SET_MULTIVIEW_LOGO_OVERRIDE="set multiview parent logo override",s=t.ACTION_SET_MULTIVIEW_FTUE="set multiview ftue",l=t.ACTION_SET_MULTIVIEW_BUTTON_TEXT="set multiview button text"},zIqP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MutedSegmentsAlert=t.MutedSegmentsAlertComponent=t.ALERT_MESSAGE=t.mapDispatchToProps=t.mapStateToProps=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=f(n("q1tI")),a=f(n("17x9")),o=n("N58E"),s=f(n("TSYQ")),l=n("Z4ex"),u=n("uNCh"),c=n("9kay"),d=n("8HDH");function f(e){return e&&e.__esModule?e:{default:e}}var p={t:a.default.func,onHoverElement:a.default.func,showUIWithAutoHide:a.default.func,mutedSegmentsAvailable:a.default.bool,uiShowing:a.default.bool,isMini:a.default.bool,isPaused:a.default.bool,isShowingContentScreen:a.default.bool},_=t.mapStateToProps=function(e){var t=e.timelineMetadata,n=e.ui,r=e.screen,i=e.playback;return{mutedSegmentsAvailable:t.mutedSegments.length>0,uiShowing:n.showUI,isMini:n.isMini,isShowingContentScreen:r[0]===u.CONTENT_SCREEN,isPaused:i.paused}},h=t.mapDispatchToProps=function(e){return{onHoverElement:function(){e((0,l.hoveringOnUIElement)())},showUIWithAutoHide:function(){e((0,l.showUIWithAutoHide)())}}},m=t.ALERT_MESSAGE="Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.",E=t.MutedSegmentsAlertComponent=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasDismissedAlert:!1},e.handleCloseAlertClick=e.handleCloseAlertClick.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.t,n=e.isShowingContentScreen,r=e.isMini,a=e.onHoverElement,o=e.showUIWithAutoHide,l=e.mutedSegmentsAvailable,u=e.uiShowing,c=e.isPaused,f=this.state.hasDismissedAlert,p=(0,s.default)({"player-alert":!0,"muted-alert-on-ui":u});return!l||!n||f||r||c?null:i.default.createElement("div",{onMouseEnter:a,onMouseLeave:o,className:p},i.default.createElement("p",null,t(m)),i.default.createElement("button",{type:"button",className:"player-button player-button--noscale player-button--close",onClick:this.handleCloseAlertClick},i.default.createElement(d.CloseSVG,{id:"icon_close"})))}},{key:"handleCloseAlertClick",value:function(){this.setState({hasDismissedAlert:!0})}}]),t}();E.propTypes=p;t.MutedSegmentsAlert=(0,c.translate)()((0,o.connect)(_,h)(E))},zK2r:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("Tymm");t.Player=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.player=new i.Player(t,n)}return r(e,[{key:"addEventListener",value:function(e,t){return this.player.addEventListener(e,t)}},{key:"getChannel",value:function(){return this.player.getChannel()}},{key:"getCurrentTime",value:function(){return this.player.getCurrentTime()}},{key:"getDuration",value:function(){return this.player.getDuration()}},{key:"getEnded",value:function(){return this.player.getEnded()}},{key:"getFullscreen",value:function(){return this.player.getFullscreen()}},{key:"getMuted",value:function(){return this.player.getMuted()}},{key:"getNetworkProfile",value:function(){return this.player.getNetworkProfile()}},{key:"getPaused",value:function(){return this.player.getPaused()}},{key:"getPlaybackStats",value:function(){return this.player.getPlaybackStats()}},{key:"getQualities",value:function(){return this.player.getQualities()}},{key:"getQuality",value:function(){return this.player.getQuality()}},{key:"getSessionInfo",value:function(){return this.player.getSessionInfo()}},{key:"getTheatre",value:function(){return this.player.getTheatre()}},{key:"getVideo",value:function(){return this.player.getVideo()}},{key:"getVolume",value:function(){return this.player.getVolume()}},{key:"isPaused",value:function(){return this.player.isPaused()}},{key:"isPlaying",value:function(){return this.player.isPlaying()}},{key:"isFollowing",value:function(){return this.player.isFollowing()}},{key:"pause",value:function(){return this.player.pause()}},{key:"play",value:function(){return this.player.play()}},{key:"recordClip",value:function(){return this.player.recordClip()}},{key:"removeEventListener",value:function(e,t){return this.player.removeEventListener(e,t)}},{key:"setAutoMaxVideoSize",value:function(e,t){return this.player.setAutoMaxVideoSize(e,t)}},{key:"setChannel",value:function(e){return this.player.setChannel(e)}},{key:"setCollection",value:function(e,t,n){return this.player.setCollection(e,t,n)}},{key:"setCurrentTime",value:function(e){return this.player.setCurrentTime(e)}},{key:"setFullscreen",value:function(e){return this.player.setFullscreen(e)}},{key:"setLanguage",value:function(e){return this.player.setLanguage(e)}},{key:"setMiniPlayerMode",value:function(e){return this.player.setMiniPlayerMode(e)}},{key:"setMultiview",value:function(e){return this.player.setMultiview(e)}},{key:"setMuted",value:function(e){return this.player.setMuted(e)}},{key:"setPlaybackRate",value:function(e){return this.player.setPlaybackRate(e)}},{key:"setPlayerType",value:function(e){return this.player.setPlayerType(e)}},{key:"setQuality",value:function(e){return this.player.setQuality(e)}},{key:"setTheatre",value:function(e){return this.player.setTheatre(e)}},{key:"setTrackingProperties",value:function(e){return this.player.setTrackingProperties(e)}},{key:"setEditClipStream",value:function(e){return this.player.setEditClipStream(e)}},{key:"setGDPRConsent",value:function(e){return this.player.setGDPRConsent(e)}},{key:"setAmazonGDPRConsent",value:function(e){return this.player.setAmazonGDPRConsent(e)}},{key:"setHasUserSavedAmazonGDPRConsent",value:function(e){return this.player.setHasUserSavedAmazonGDPRConsent(e)}},{key:"setNielsenGDPRConsent",value:function(e){return this.player.setNielsenGDPRConsent(e)}},{key:"setHasUserSavedNielsenGDPRConsent",value:function(e){return this.player.setHasUserSavedNielsenGDPRConsent(e)}},{key:"setClip",value:function(e){return this.player.setClip(e)}},{key:"setComscoreGDPRConsent",value:function(e){return this.player.setComscoreGDPRConsent(e)}},{key:"setHasUserSavedComscoreGDPRConsent",value:function(e){return this.player.setHasUserSavedComscoreGDPRConsent(e)}},{key:"setGoogleGDPRConsent",value:function(e){return this.player.setGoogleGDPRConsent(e)}},{key:"setHasUserSavedGoogleGDPRConsent",value:function(e){return this.player.setHasUserSavedGoogleGDPRConsent(e)}},{key:"setVideo",value:function(e,t){return this.player.setVideo(e,t)}},{key:"setVolume",value:function(e){return this.player.setVolume(e)}},{key:"setFollowing",value:function(e){return this.player.setFollowing(e)}},{key:"setNotificationsDisabled",value:function(e){return this.player.setNotificationsDisabled(e)}},{key:"setSubscribed",value:function(e){return this.player.setSubscribed(e)}},{key:"setSubscribable",value:function(e){return this.player.setSubscribable(e)}},{key:"setPrimeSubscribeState",value:function(e){return this.player.setPrimeSubscribeState(e)}},{key:"showPlayerControls",value:function(e){return this.player.showPlayerControls(e)}},{key:"trackMiniPlayerAction",value:function(e,t){return this.player.trackMiniPlayerAction(e,t)}},{key:"updateClipsEditing",value:function(e){return this.player.updateClipsEditing(e)}},{key:"updateEditingOffsets",value:function(e){return this.player.updateEditingOffsets(e)}},{key:"destroy",value:function(){return this.player.destroy()}},{key:"fullscreen",get:function(){return this.player.fullscreen}},{key:"autoplay",get:function(){return this.player.getAutoplay()}}]),e}()},zRjs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBackend=function(e){return{type:r,backend:e}};var r=t.ACTION_SET_BACKEND="set backend"},zdiy:function(e,t,n){e.exports=n("qbnB")},zeNb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtensionsMenuManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=E(n("q1tI")),a=E(n("17x9")),o=n("bDXi"),s=n("hm9X"),l=n("QxQ9"),u=n("Tkqp"),c=n("v0SF"),d=n("1MZt"),f=n("B11N"),p=n("Kvvj"),_=n("IS2M"),h=n("bffu"),m=n("vpBF");function E(e){return e&&e.__esModule?e:{default:e}}var v={closeExtensionMenu:a.default.func,handleMenuTransition:a.default.func.isRequired,installation:s.EXTENSION_INSTALLATION_PROP_TYPE.isRequired,isLoggedIn:a.default.bool.isRequired,modalOptions:a.default.object,onIdentityToggle:a.default.func.isRequired,onVisibilityToggle:a.default.func,playerHeight:a.default.number.isRequired,promptLogin:a.default.func,showExtensionReportMenu:a.default.bool.isRequired,submenu:a.default.string,channelID:a.default.number,trackEvent:a.default.func.isRequired,windowObj:a.default.object.isRequired};(t.ExtensionsMenuManager=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._boundHandleExtensionClick=e._handleExtensionClick.bind(e),e._boundOnActionComplete=e._onActionComplete.bind(e),e._boundOnCancelAction=e._onCancelAction.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.installation&&!this.props.submenu&&this._boundHandleExtensionClick(this.props.installation)}},{key:"render",value:function(){var e=this.props.playerHeight,t=this._renderCurrentMenu(),n={maxHeight:e-o.SETTINGS_INNER_PADDING+"px"};return i.default.createElement("div",{className:"pl-menu extension-modal__main",style:n},t)}},{key:"_renderCurrentMenu",value:function(){switch(this.props.submenu){case m.EXTENSION_MENU_DETAILS:return i.default.createElement(l.ExtensionDetailsMenu,{onMenuTransition:this.props.handleMenuTransition,onVisibilityToggle:this.props.onVisibilityToggle,showBackButton:!1,installation:this.props.installation,isLoggedIn:this.props.isLoggedIn,promptLogin:this.props.promptLogin,showExtensionReportMenu:this.props.showExtensionReportMenu,trackEvent:this.props.trackEvent,windowObj:this.props.windowObj});case m.EXTENSION_MENU_MANAGE_ACCESS:return i.default.createElement(u.ExtensionAccessMenu,{onMenuTransition:this.props.handleMenuTransition,onIdentityToggle:this.props.onIdentityToggle,trackEvent:this.props.trackEvent,installation:this.props.installation});case m.EXTENSION_MENU_REPORT:return i.default.createElement(c.ExtensionReportMenu,{onMenuTransition:this.props.handleMenuTransition,channel:this.props.channelID,installation:this.props.installation});case m.EXTENSION_MENU_FOLLOW:return i.default.createElement(f.ExtensionFollowModal,{extension:this.props.installation.extension,options:this.props.modalOptions&&this.props.modalOptions.options,onClose:this._boundOnActionComplete});case m.EXTENSION_MENU_NEEDS_AUTH:return i.default.createElement(p.ExtensionFeatureNeedsAuthModal,{onClose:this._boundOnCancelAction});case m.EXTENSION_MENU_MAIN:return i.default.createElement(d.ExtensionListMenu,{installations:[this.props.installation],onExtensionClick:this._boundHandleExtensionClick});case m.EXTENSION_MODAL_USE_BITS:return i.default.createElement(_.ExtensionUseBitsModalContainer,{options:this.props.modalOptions&&this.props.modalOptions.options,onClose:this._boundOnActionComplete,windowObj:this.props.windowObj});case m.EXTENSION_MODAL_ACCEPT_UNRELEASED:return i.default.createElement(h.ExtensionsAcceptUnreleased,{installation:this.props.installation});default:return null}}},{key:"_handleExtensionClick",value:function(e){this.props.handleMenuTransition(m.EXTENSION_MENU_DETAILS),this.props.trackEvent("extension_setting_click",e)}},{key:"_onActionComplete",value:function(e){var t=this.props.modalOptions.resultCallback;t&&t(e),this.props.closeExtensionMenu&&this.props.closeExtensionMenu()}},{key:"_onCancelAction",value:function(){this.props.modalOptions&&this._boundOnActionComplete(this.props.modalOptions.options.defaultResult)}}]),t}()).propTypes=v},zyzd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.follow=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case a.ACTION_SHOW_FOLLOW_NOTIFICATION:return(0,r.default)({},e,{showFollowNotification:t.show});case a.ACTION_FOLLOW_INFO_FETCHED:return(0,r.default)({},e,{fetched:!0},(0,i.default)(t.followInfo,Object.keys(l)));case a.ACTION_CHANNEL_FOLLOW_UPDATED:return(0,r.default)({},e,{following:t.isFollowing});case a.ACTION_CHANNEL_FOLLOW_NOTIFICATION_UPDATED:return(0,r.default)({},e,{notificationsEnabled:t.isFollowingNotifications});case o.ACTION_SET_STREAM:return l;default:return e}};var r=s(n("3OWR")),i=s(n("JZM8")),a=n("/24N"),o=n("D3OJ");function s(e){return e&&e.__esModule?e:{default:e}}var l={fetched:!1,following:!1,notificationsEnabled:!1,showFollowNotification:!1}}}]);