function _excludeFromNavigation(element, isRoot = false) {
  if (isRoot) {
    element.setAttribute('aria-hidden', true);
  }
  // web components' `tabindex` is -1 by default, but their contents are still focusable;
  // setting `tabindex` to -1 explicitly will exclude them from navigation
  if (element.tabIndex >= 0 || element.shadowRoot) {
    element.tabIndex = -1;
  }
  Array.prototype.forEach.call(element.children, _excludeFromNavigation);
}

/**
 * Sets the `aria-hidden` attribute on the specified element
 * and a negative tab index on all its focusable descendants
 * (including the element itself if it's focusable)
 * @param {Element} element - element to exclude from navigation
 */
export function excludeFromNavigation(element) {
  _excludeFromNavigation(element, true);
}


/**
 * @overview
 * Accessibility utilities
 */
const a11y = {
  excludeFromNavigation,
};


export default a11y;
