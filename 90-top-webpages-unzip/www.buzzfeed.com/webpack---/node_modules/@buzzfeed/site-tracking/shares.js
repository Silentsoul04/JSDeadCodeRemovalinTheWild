/**
 * Helper for adding utm parameters to a shared URL.
 * @param {Object} params
 * @param {String} params.shareUrl - initial share url.
 * @param {String} params.platform - social network the url is shared to.
 */
export const withUtmTracking = ({ shareUrl = '', platform }) => {
  if (!platform) {
    return shareUrl;
  }

  const [url, query = ''] = shareUrl.split('?');

  return url + '?' + [
    'utm_source=dynamic',
    `utm_campaign=bfshare${platform}`,
    ...query.split('&'),
  ].filter(x => !!x).join('&');
};
