import XDomainCookieManager from '../XDomainCookieManager';


export const getSessionId = ({ env }) => {
  const cookieManager = new XDomainCookieManager({
    namespace: 'bf-xdomain-tracking',
    cookieName: 'bf-xdomain-session-uuid',
    env,
  });

  return cookieManager.get().then((sessionUuid) => {
    // default to empty string if cookie does not exist
    sessionUuid = sessionUuid || '';
    return sessionUuid;
  }).catch((error) => {
    console.log(`Error getting session UUID: ${error}`);
  });
};

export default {
  getSessionId
};
