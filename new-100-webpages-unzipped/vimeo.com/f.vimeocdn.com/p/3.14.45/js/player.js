/* VimeoPlayer - v3.14.45 - 2019-10-09 - https://player.vimeo.com/NOTICE.txt */
var VimeoPlayer = function() {
    "use strict";
    var t = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};

    function n(t, n) {
        return t(n = {
            exports: {}
        }, n.exports), n.exports
    }
    var i = n(function(n, i) {
            n.exports = function() {
                function n(t) {
                    return "function" == typeof t
                }
                var i = Array.isArray ? Array.isArray : function(t) {
                        return "[object Array]" === Object.prototype.toString.call(t)
                    },
                    e = 0,
                    r = void 0,
                    o = void 0,
                    u = function(t, n) {
                        d[e] = t, d[e + 1] = n, 2 === (e += 2) && (o ? o(v) : p())
                    },
                    a = "undefined" != typeof window ? window : void 0,
                    s = a || {},
                    c = s.MutationObserver || s.WebKitMutationObserver,
                    f = "undefined" == typeof self && "undefined" != typeof process && "[object process]" === {}.toString.call(process),
                    l = "undefined" != typeof Uint8ClampedArray && "undefined" != typeof importScripts && "undefined" != typeof MessageChannel;

                function h() {
                    var t = setTimeout;
                    return function() {
                        return t(v, 1)
                    }
                }
                var d = new Array(1e3);

                function v() {
                    for (var t = 0; t < e; t += 2) {
                        var n = d[t],
                            i = d[t + 1];
                        n(i), d[t] = void 0, d[t + 1] = void 0
                    }
                    e = 0
                }
                var p = void 0;

                function m(t, n) {
                    var i = this,
                        e = new this.constructor(y);
                    void 0 === e[w] && D(e);
                    var r = i.k;
                    if (r) {
                        var o = arguments[r - 1];
                        u(function() {
                            return I(r, e, o, i._)
                        })
                    } else R(i, e, t, n);
                    return e
                }

                function b(t) {
                    if (t && "object" == typeof t && t.constructor === this) return t;
                    var n = new this(y);
                    return A(n, t), n
                }
                p = f ? function() {
                    return process.nextTick(v)
                } : c ? function() {
                    var t = 0,
                        n = new c(v),
                        i = document.createTextNode("");
                    return n.observe(i, {
                            characterData: !0
                        }),
                        function() {
                            i.data = t = ++t % 2
                        }
                }() : l ? function() {
                    var t = new MessageChannel;
                    return t.port1.onmessage = v,
                        function() {
                            return t.port2.postMessage(0)
                        }
                }() : void 0 === a ? function() {
                    try {
                        var t = Function("return this")().require("vertx");
                        return void 0 !== (r = t.runOnLoop || t.runOnContext) ? function() {
                            r(v)
                        } : h()
                    } catch (t) {
                        return h()
                    }
                }() : h();
                var w = Math.random().toString(36).substring(2);

                function y() {}
                var g = void 0,
                    E = 1,
                    k = 2,
                    _ = {
                        error: null
                    };

                function T(t) {
                    try {
                        return t.then
                    } catch (t) {
                        return _.error = t, _
                    }
                }

                function S(t, i, e) {
                    i.constructor === t.constructor && e === m && i.constructor.resolve === b ? function(t, n) {
                        n.k === E ? M(t, n._) : n.k === k ? O(t, n._) : R(n, void 0, function(n) {
                            return A(t, n)
                        }, function(n) {
                            return O(t, n)
                        })
                    }(t, i) : e === _ ? (O(t, _.error), _.error = null) : void 0 === e ? M(t, i) : n(e) ? function(t, n, i) {
                        u(function(t) {
                            var e = !1,
                                r = function(t, n, i, e) {
                                    try {
                                        t.call(n, i, e)
                                    } catch (t) {
                                        return t
                                    }
                                }(i, n, function(i) {
                                    e || (e = !0, n !== i ? A(t, i) : M(t, i))
                                }, function(n) {
                                    e || (e = !0, O(t, n))
                                }, t.T);
                            !e && r && (e = !0, O(t, r))
                        }, t)
                    }(t, i, e) : M(t, i)
                }

                function A(t, n) {
                    t === n ? O(t, new TypeError("You cannot resolve a promise with itself")) : function(t) {
                        var n = typeof t;
                        return null !== t && ("object" === n || "function" === n)
                    }(n) ? S(t, n, T(n)) : M(t, n)
                }

                function x(t) {
                    t.A && t.A(t._), C(t)
                }

                function M(t, n) {
                    t.k === g && (t._ = n, t.k = E, 0 !== t.M.length && u(C, t))
                }

                function O(t, n) {
                    t.k === g && (t.k = k, t._ = n, u(x, t))
                }

                function R(t, n, i, e) {
                    var r = t.M,
                        o = r.length;
                    t.A = null, r[o] = n, r[o + E] = i, r[o + k] = e, 0 === o && t.k && u(C, t)
                }

                function C(t) {
                    var n = t.M,
                        i = t.k;
                    if (0 !== n.length) {
                        for (var e = void 0, r = void 0, o = t._, u = 0; u < n.length; u += 3) e = n[u], r = n[u + i], e ? I(i, e, r, o) : r(o);
                        t.M.length = 0
                    }
                }

                function I(t, i, e, r) {
                    var o = n(e),
                        u = void 0,
                        a = void 0,
                        s = void 0,
                        c = void 0;
                    if (o) {
                        if ((u = function(t, n) {
                                try {
                                    return t(n)
                                } catch (t) {
                                    return _.error = t, _
                                }
                            }(e, r)) === _ ? (c = !0, a = u.error, u.error = null) : s = !0, i === u) return void O(i, new TypeError("A promises callback cannot return that same promise."))
                    } else u = r, s = !0;
                    i.k !== g || (o && s ? A(i, u) : c ? O(i, a) : t === E ? M(i, u) : t === k && O(i, u))
                }
                var L = 0;

                function D(t) {
                    t[w] = L++, t.k = void 0, t._ = void 0, t.M = []
                }
                var j = function() {
                        function t(t, n) {
                            this.O = t, this.promise = new t(y), this.promise[w] || D(this.promise), i(n) ? (this.length = n.length, this.C = n.length, this._ = new Array(this.length), 0 === this.length ? M(this.promise, this._) : (this.length = this.length || 0, this.I(n), 0 === this.C && M(this.promise, this._))) : O(this.promise, new Error("Array Methods must be provided an Array"))
                        }
                        return t.prototype.I = function(t) {
                            for (var n = 0; this.k === g && n < t.length; n++) this.L(t[n], n)
                        }, t.prototype.L = function(t, n) {
                            var i = this.O,
                                e = i.resolve;
                            if (e === b) {
                                var r = T(t);
                                if (r === m && t.k !== g) this.D(t.k, n, t._);
                                else if ("function" != typeof r) this.C--, this._[n] = t;
                                else if (i === P) {
                                    var o = new i(y);
                                    S(o, t, r), this.N(o, n)
                                } else this.N(new i(function(n) {
                                    return n(t)
                                }), n)
                            } else this.N(e(t), n)
                        }, t.prototype.D = function(t, n, i) {
                            var e = this.promise;
                            e.k === g && (this.C--, t === k ? O(e, i) : this._[n] = i), 0 === this.C && M(e, this._)
                        }, t.prototype.N = function(t, n) {
                            var i = this;
                            R(t, void 0, function(t) {
                                return i.D(E, n, t)
                            }, function(t) {
                                return i.D(k, n, t)
                            })
                        }, t
                    }(),
                    P = function() {
                        function t(n) {
                            this[w] = L++, this._ = this.k = void 0, this.M = [], y !== n && ("function" != typeof n && function() {
                                throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")
                            }(), this instanceof t ? function(t, n) {
                                try {
                                    n(function(n) {
                                        A(t, n)
                                    }, function(n) {
                                        O(t, n)
                                    })
                                } catch (n) {
                                    O(t, n)
                                }
                            }(this, n) : function() {
                                throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")
                            }())
                        }
                        return t.prototype.catch = function(t) {
                            return this.then(null, t)
                        }, t.prototype.finally = function(t) {
                            var i = this.constructor;
                            return n(t) ? this.then(function(n) {
                                return i.resolve(t()).then(function() {
                                    return n
                                })
                            }, function(n) {
                                return i.resolve(t()).then(function() {
                                    throw n
                                })
                            }) : this.then(t, t)
                        }, t
                    }();
                return P.prototype.then = m, P.all = function(t) {
                    return new j(this, t).promise
                }, P.race = function(t) {
                    var n = this;
                    return i(t) ? new n(function(i, e) {
                        for (var r = t.length, o = 0; o < r; o++) n.resolve(t[o]).then(i, e)
                    }) : new n(function(t, n) {
                        return n(new TypeError("You must pass an array to race."))
                    })
                }, P.resolve = b, P.reject = function(t) {
                    var n = new this(y);
                    return O(n, t), n
                }, P.V = function(t) {
                    o = t
                }, P.H = function(t) {
                    u = t
                }, P.Y = u, P.polyfill = function() {
                    var n = void 0;
                    if (void 0 !== t) n = t;
                    else if ("undefined" != typeof self) n = self;
                    else try {
                        n = Function("return this")()
                    } catch (t) {
                        throw new Error("polyfill failed because global object is unavailable in this environment")
                    }
                    var i = n.Promise;
                    if (i) {
                        var e = null;
                        try {
                            e = Object.prototype.toString.call(i.resolve())
                        } catch (t) {}
                        if ("[object Promise]" === e && !i.cast) return
                    }
                    n.Promise = P
                }, P.Promise = P, P
            }()
        }),
        e = window.Promise || i;
    if ((function() {
            for (var t = ["webkit", "moz"], n = 0; n < t.length && !window.requestAnimationFrame; ++n) {
                var i = t[n];
                window.requestAnimationFrame = window[i + "RequestAnimationFrame"], window.cancelAnimationFrame = window[i + "CancelAnimationFrame"] || window[i + "CancelRequestAnimationFrame"]
            }!/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) && window.requestAnimationFrame && window.cancelAnimationFrame || (window.requestAnimationFrame = function(t) {
                return setTimeout(t, 0)
            }, window.cancelAnimationFrame = clearTimeout)
        }(), Number.isInteger || (Number.isInteger = function(t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t
        }), "undefined" != typeof DOMTokenList) && ! function() {
            var t = document.createElement("div");
            return t.classList.toggle("test-class", !1), !t.classList.contains("test-class")
        }()) {
        var r = DOMTokenList.prototype.toggle;
        DOMTokenList.prototype.toggle = function(t, n) {
            !0 !== n ? !1 !== n ? r.call(this, t) : this.remove(t) : this.add(t)
        }
    }
    "function" != typeof Object.assign && (Object.assign = function(t) {
        if (null == t) throw new TypeError("Cannot convert undefined or null to object");
        for (var n = Object(t), i = 1; i < arguments.length; i++) {
            var e = arguments[i];
            if (null != e)
                for (var r in e) e.hasOwnProperty(r) && (n[r] = e[r])
        }
        return n
    }), Array.prototype.find || Object.defineProperty(Array.prototype, "find", {
        value: function(t) {
            for (var n = Object(this), i = n.length >>> 0, e = arguments[1], r = 0; r < i;) {
                var o = n[r];
                if (t.call(e, o, r, n)) return o;
                r++
            }
        }
    }), Array.prototype.findIndex || Object.defineProperty(Array.prototype, "findIndex", {
        value: function(t) {
            for (var n = Object(this), i = n.length >>> 0, e = arguments[1], r = 0; r < i;) {
                var o = n[r];
                if (t.call(e, o, r, n)) return r;
                r++
            }
            return -1
        }
    }), Array.prototype.includes || Object.defineProperty(Array.prototype, "includes", {
        value: function(t, n) {
            if (null == this) throw new TypeError('"this" is null or not defined');
            var i = Object(this),
                e = i.length >>> 0;
            if (0 === e) return !1;
            var r = 0 | n,
                o = Math.max(r >= 0 ? r : e - Math.abs(r), 0);

            function u(t, n) {
                return t === n || "number" == typeof t && "number" == typeof n && isNaN(t) && isNaN(n)
            }
            for (; o < e;) {
                if (u(i[o], t)) return !0;
                o++
            }
            return !1
        }
    }), String.prototype.includes || (String.prototype.includes = function(t, n) {
        return "number" != typeof n && (n = 0), !(n + t.length > this.length) && -1 !== this.indexOf(t, n)
    });
    var o, u, a, s, c = {
            object: !0,
            symbol: !0
        },
        f = function(t) {
            return null != t
        },
        l = Object.keys,
        h = function() {
            try {
                return !0
            } catch (t) {
                return !1
            }
        }() ? Object.keys : function(t) {
            return l(f(t) ? Object(t) : t)
        },
        d = Math.max,
        v = function() {
            var t, n = Object.assign;
            return "function" == typeof n && (n(t = {
                foo: "raz"
            }, {
                bar: "dwa"
            }, {
                trzy: "trzy"
            }), t.foo + t.bar + t.trzy === "razdwatrzy")
        }() ? Object.assign : function(t, n) {
            var i, e, r, o = d(arguments.length, 2);
            for (t = Object(function(t) {
                    if (!f(t)) throw new TypeError("Cannot use null or undefined");
                    return t
                }(t)), r = function(e) {
                    try {
                        t[e] = n[e]
                    } catch (t) {
                        i || (i = t)
                    }
                }, e = 1; e < o; ++e) n = arguments[e], h(n).forEach(r);
            if (void 0 !== i) throw i;
            return t
        },
        p = Array.prototype.forEach,
        m = Object.create,
        b = function(t) {
            var n = m(null);
            return p.call(arguments, function(t) {
                f(t) && function(t, n) {
                    var i;
                    for (i in t) n[i] = t[i]
                }(Object(t), n)
            }), n
        },
        w = function(t) {
            return "function" == typeof t
        },
        y = "razdwatrzy",
        g = String.prototype.indexOf,
        E = "function" == typeof y.contains && !0 === y.contains("dwa") && !1 === y.contains("foo") ? String.prototype.contains : function(t) {
            return g.call(this, t, arguments[1]) > -1
        },
        k = n(function(t) {
            (t.exports = function(t, n) {
                var i, e, r, o, u;
                return arguments.length < 2 || "string" != typeof t ? (o = n, n = t, t = null) : o = arguments[2], null == t ? (i = r = !0, e = !1) : (i = E.call(t, "c"), e = E.call(t, "e"), r = E.call(t, "w")), u = {
                    value: n,
                    configurable: i,
                    enumerable: e,
                    writable: r
                }, o ? v(b(o), u) : u
            }).gs = function(t, n, i) {
                var e, r, o, u;
                return "string" != typeof t ? (o = i, i = n, n = t, t = null) : o = arguments[3], null == n ? n = void 0 : w(n) ? null == i ? i = void 0 : w(i) || (o = i, i = void 0) : (o = n, n = i = void 0), null == t ? (e = !0, r = !1) : (e = E.call(t, "c"), r = E.call(t, "e")), u = {
                    get: n,
                    set: i,
                    configurable: e,
                    enumerable: r
                }, o ? v(b(o), u) : u
            }
        }),
        _ = function(t) {
            if (! function(t) {
                    return !!t && ("symbol" == typeof t || !!t.constructor && "Symbol" === t.constructor.name && "Symbol" === t[t.constructor.toStringTag])
                }(t)) throw new TypeError(t + " is not a symbol");
            return t
        },
        T = Object.create,
        S = Object.defineProperties,
        A = Object.defineProperty,
        x = Object.prototype,
        M = T(null);
    if ("function" == typeof Symbol) {
        o = Symbol;
        try {
            String(o()), s = !0
        } catch (t) {}
    }
    var O = function() {
        var t = T(null);
        return function(n) {
            for (var i, e, r = 0; t[n + (r || "")];) ++r;
            return t[n += r || ""] = !0, A(x, i = "@@" + n, k.gs(null, function(t) {
                e || (e = !0, A(this, i, k(t)), e = !1)
            })), i
        }
    }();
    a = function(t) {
        if (this instanceof a) throw new TypeError("TypeError: Symbol is not a constructor");
        return u(t)
    };
    var R = u = function t(n) {
        var i;
        if (this instanceof t) throw new TypeError("TypeError: Symbol is not a constructor");
        return s ? o(n) : (i = T(a.prototype), n = void 0 === n ? "" : String(n), S(i, {
            K: k("", n),
            $: k("", O(n))
        }))
    };
    S(u, {
        for: k(function(t) {
            return M[t] ? M[t] : M[t] = u(String(t))
        }),
        keyFor: k(function(t) {
            var n;
            for (n in _(t), M)
                if (M[n] === t) return n
        }),
        hasInstance: k("", o && o.hasInstance || u("hasInstance")),
        isConcatSpreadable: k("", o && o.isConcatSpreadable || u("isConcatSpreadable")),
        iterator: k("", o && o.iterator || u("iterator")),
        match: k("", o && o.match || u("match")),
        replace: k("", o && o.replace || u("replace")),
        search: k("", o && o.search || u("search")),
        species: k("", o && o.species || u("species")),
        split: k("", o && o.split || u("split")),
        toPrimitive: k("", o && o.toPrimitive || u("toPrimitive")),
        toStringTag: k("", o && o.toStringTag || u("toStringTag")),
        unscopables: k("", o && o.unscopables || u("unscopables"))
    }), S(a.prototype, {
        constructor: k(u),
        toString: k("", function() {
            return this.$
        })
    }), S(u.prototype, {
        toString: k(function() {
            return "Symbol (" + _(this).K + ")"
        }),
        valueOf: k(function() {
            return _(this)
        })
    }), A(u.prototype, u.toPrimitive, k("", function() {
        var t = _(this);
        return "symbol" == typeof t ? t : t.toString()
    })), A(u.prototype, u.toStringTag, k("c", "Symbol")), A(a.prototype, u.toStringTag, k("c", u.prototype[u.toStringTag])), A(a.prototype, u.toPrimitive, k("c", u.prototype[u.toPrimitive]));
    var C = "function" == typeof Symbol && c[typeof Symbol.iterator] && c[typeof Symbol.toPrimitive] && c[typeof Symbol.toStringTag] ? Symbol : R,
        I = window.Map || function() {
            var t, n, i, e = function() {
                    n = [], i = []
                },
                r = function(i) {
                    return -1 < (t = n.indexOf(i))
                };
            return e(), {
                get size() {
                    return n.length
                },
                has: r,
                clear: e,
                get: function(t) {
                    return i[n.indexOf(t)]
                },
                keys: function() {
                    return n.slice()
                },
                values: function() {
                    return i.slice()
                },
                entries: function() {
                    return n.map(function(t, n) {
                        return [t, i[n]]
                    })
                },
                delete: function(e) {
                    return r(e) && n.splice(t, 1) && !!i.splice(t, 1)
                },
                forEach: function(t, e) {
                    var r = this;
                    i.forEach(function(i, o) {
                        return t.call(e, i, n[o], r)
                    })
                },
                set: function(e, o) {
                    return r(e) ? i[t] = o : i[n.push(e) - 1] = o, this
                }
            }
        },
        L = window.Array.from,
        D = [1];
    "function" == typeof L && L(D) === D && (L = !1);
    var j = L || function(t) {
            return [].slice.call(t, 0)
        },
        P = window.WeakMap || function() {
            var t = Object.defineProperty,
                n = Date.now() % 1e9,
                i = function() {
                    this.name = "__st" + (1e9 * Math.random() >>> 0) + n++ + "__"
                };
            return i.prototype.set = function(n, i) {
                if ("object" !== N(n) && "function" != typeof n) throw new TypeError("Invalid value used as weak map key");
                var e = n[this.name];
                return e && e[0] === n ? e[1] = i : t(n, this.name, {
                    value: [n, i],
                    writable: !0
                }), this
            }, i.prototype.get = function(t) {
                var n;
                return (n = t[this.name]) && n[0] === t ? n[1] : void 0
            }, i.prototype.delete = function(t) {
                var n = t[this.name];
                return !(!n || n[0] !== t) && (n[0] = n[1] = void 0, !0)
            }, i.prototype.has = function(t) {
                var n = t[this.name];
                return !!n && n[0] === t
            }, i
        }();

    function N(t) {
        return (N = "function" == typeof C && "symbol" == typeof C.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof C && t.constructor === C && t !== C.prototype ? "symbol" : typeof t
        })(t)
    }

    function U(t, n) {
        for (var i = 0; i < n.length; i++) {
            var e = n[i];
            e.enumerable = e.enumerable || !1, e.configurable = !0, "value" in e && (e.writable = !0), Object.defineProperty(t, e.key, e)
        }
    }

    function F(t, n, i) {
        return n && U(t.prototype, n), i && U(t, i), t
    }

    function V(t, n, i) {
        return n in t ? Object.defineProperty(t, n, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : t[n] = i, t
    }

    function B(t) {
        for (var n = 1; n < arguments.length; n++) {
            var i = null != arguments[n] ? arguments[n] : {},
                e = Object.keys(i);
            "function" == typeof Object.getOwnPropertySymbols && (e = e.concat(Object.getOwnPropertySymbols(i).filter(function(t) {
                return Object.getOwnPropertyDescriptor(i, t).enumerable
            }))), e.forEach(function(n) {
                V(t, n, i[n])
            })
        }
        return t
    }

    function H(t, n) {
        t.prototype = Object.create(n.prototype), t.prototype.constructor = t, t.__proto__ = n
    }

    function W(t) {
        return (W = Object.setPrototypeOf ? Object.getPrototypeOf : function(t) {
            return t.__proto__ || Object.getPrototypeOf(t)
        })(t)
    }

    function q(t, n) {
        return (q = Object.setPrototypeOf || function(t, n) {
            return t.__proto__ = n, t
        })(t, n)
    }

    function z(t, n, i) {
        return (z = function() {
            if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
            if (Reflect.construct.sham) return !1;
            if ("function" == typeof Proxy) return !0;
            try {
                return Date.prototype.toString.call(Reflect.construct(Date, [], function() {})), !0
            } catch (t) {
                return !1
            }
        }() ? Reflect.construct : function(t, n, i) {
            var e = [null];
            e.push.apply(e, n);
            var r = new(Function.bind.apply(t, e));
            return i && q(r, i.prototype), r
        }).apply(null, arguments)
    }

    function G(t) {
        var n = "function" == typeof I ? new I : void 0;
        return (G = function(t) {
            if (null === t || ! function(t) {
                    return -1 !== Function.toString.call(t).indexOf("[native code]")
                }(t)) return t;
            if ("function" != typeof t) throw new TypeError("Super expression must either be null or a function");
            if (void 0 !== n) {
                if (n.has(t)) return n.get(t);
                n.set(t, i)
            }

            function i() {
                return z(t, arguments, W(this).constructor)
            }
            return i.prototype = Object.create(t.prototype, {
                constructor: {
                    value: i,
                    enumerable: !1,
                    writable: !0,
                    configurable: !0
                }
            }), q(i, t)
        })(t)
    }

    function Y(t, n) {
        return function(t) {
            if (Array.isArray(t)) return t
        }(t) || function(t, n) {
            var i = [],
                e = !0,
                r = !1,
                o = void 0;
            try {
                for (var u, a = t[C.iterator](); !(e = (u = a.next()).done) && (i.push(u.value), !n || i.length !== n); e = !0);
            } catch (t) {
                r = !0, o = t
            } finally {
                try {
                    e || null == a.return || a.return()
                } finally {
                    if (r) throw o
                }
            }
            return i
        }(t, n) || function() {
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }()
    }

    function K(t) {
        return function(t) {
            if (Array.isArray(t)) {
                for (var n = 0, i = new Array(t.length); n < t.length; n++) i[n] = t[n];
                return i
            }
        }(t) || function(t) {
            if (C.iterator in Object(t) || "[object Arguments]" === Object.prototype.toString.call(t)) return j(t)
        }(t) || function() {
            throw new TypeError("Invalid attempt to spread non-iterable instance")
        }()
    }

    function $(t) {
        var n = {};
        return (t = t || {}).prependOn = function(n, i) {
            return t.on(n, i, !0)
        }, t.eventNames = function() {
            return Object.keys(n)
        }, t.on = function(i, e, r) {
            for (var o = 0, u = (i = [].concat(i)).length; o < u; o++) {
                var a = i[o];
                if (!a) throw new Error("Tried to listen for an undefined event.");
                n[a] || (n[a] = []), r ? n[a].unshift(e) : n[a].push(e)
            }
            return t
        }, t.once = function(n, i, e) {
            function r() {
                i.apply(t.off(n, r), arguments)
            }
            return r.handler = i, t.on(n, r, e)
        }, t.off = function(i, e) {
            if (!i) return n = {}, t;
            for (var r = 0, o = (i = [].concat(i)).length; r < o; r++) {
                var u = i[r];
                if (!u) throw new Error("Tried to remove an undefined event.");
                if (u in n)
                    if (e) {
                        var a = n[u].indexOf(e);
                        if (-1 === a)
                            for (var s = 0, c = n[u].length; s < c; s++)
                                if (n[u][s].handler === e) {
                                    a = r;
                                    break
                                }
                        if (-1 === a) return t;
                        n[u].splice(a, 1)
                    } else delete n[u]
            }
            return t
        }, t.fire = function(i) {
            if (!i) throw new Error("Tried to fire an undefined event.");
            if (i in n)
                for (var e = n[i].slice(0), r = 0, o = e.length; r < o; r++)
                    if (e[r].apply(t, e.slice.call(arguments, 1)), t.X) {
                        delete t.X;
                        break
                    }
            return t
        }, t.halt = function() {
            return t.X = !0, t
        }, t
    }
    var X = function() {
            function t(t) {
                this.J = !1, this.Z = !1, this.tt = t, $(this)
            }
            F(t, null, [{
                key: "displayName",
                get: function() {
                    return "ExternalDisplay"
                }
            }, {
                key: "supported",
                get: function() {
                    return !1
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    return []
                }
            }]);
            var n = t.prototype;
            return n.showPicker = function() {}, n.getFile = function() {
                var t = this.constructor.displayName.replace("ExternalDisplay", "");
                if (this.tt.externalDisplayFiles[t]) return this.tt.externalDisplayFiles[t];
                var n = this.constructor.supportedVideoTypes,
                    i = this.tt.files.filter(function(t) {
                        return -1 !== n.indexOf(t.mime)
                    }).sort(function(t, i) {
                        return t.mime === i.mime ? t.priority - i.priority : n.indexOf(t.mime) - n.indexOf(i.mime)
                    });
                if (!i.length) throw new Error("No files available for ".concat(this.constructor.displayName, " external display."));
                return i[0]
            }, F(t, [{
                key: "active",
                get: function() {
                    return this.Z
                }
            }, {
                key: "available",
                get: function() {
                    return this.J
                }
            }, {
                key: "element",
                get: function() {
                    return document.createElement("div")
                }
            }]), t
        }(),
        J = {
            ABORT: "abort",
            CAN_PLAY: "canplay",
            CAN_PLAY_THROUGH: "canplaythrough",
            DURATION_CHANGE: "durationchange",
            EMPTIED: "emptied",
            ENDED: "ended",
            ERROR: "error",
            LOADED_DATA: "loadeddata",
            LOADED_METADATA: "loadedmetadata",
            LOAD_START: "loadstart",
            PAUSE: "pause",
            PLAY: "play",
            PLAYING: "playing",
            PROGRESS: "progress",
            RATE_CHANGE: "ratechange",
            SEEKED: "seeked",
            SEEKING: "seeking",
            STALLED: "stalled",
            SUSPEND: "suspend",
            TIME_UPDATE: "timeupdate",
            VOLUME_CHANGE: "volumechange",
            WAITING: "waiting",
            WEBKIT_BEGIN_FULLSCREEN: "webkitbeginfullscreen",
            WEBKIT_END_FULLSCREEN: "webkitendfullscreen",
            WEBKIT_PRESENTATION_MODE_CHANGED: "webkitpresentationmodechanged"
        },
        Z = {
            AVAILABLE: "externaldisplayavailable",
            UNAVAILABLE: "externaldisplayunavailable",
            ACTIVATED: "externaldisplayactivated",
            DEACTIVATED: "externaldisplaydeactivated"
        },
        Q = {
            AIRPLAY_AVAILABLE: "available",
            AIRPLAY_UNAVAILABLE: "unavailable",
            AIRPLAY_ACTIVATED: "activated",
            AIRPLAY_DEACTIVATED: "deactivated"
        },
        tt = {
            SCANNER_CHANGE: "scannerchange",
            SCANNER_ERROR: "scannererror",
            FILE_ERROR: "fileerror",
            FILE_SRC_UPDATE: "filesrcupdate",
            DOWNLOAD_END: "downloadend",
            DOWNLOAD_ERROR: "downloaderror",
            DRM_AUTH_FAILURE: "drmauthfailure",
            DRM_AUTH_SUCCESS: "drmauthsuccess",
            DRM_FAILURE: "drmfailure",
            EME_UNSUPPORTED: "emeunsupported",
            CURRENT_FILE_CHANGE: "currentfilechange",
            MEDIA_URL_EXPIRED: "mediaurlexpired",
            STREAM_CHANGE: "streamchange",
            STREAM_BUFFER_START: "streambufferstart",
            STREAM_BUFFER_END: "streambufferend",
            DROPPED_FRAMES: "droppedframes",
            BANDWIDTH: "bandwidth",
            STREAM_TARGET_CHANGE: "streamtargetchange",
            PRESENTATION_MODE_CHANGE: "presentationmodechange",
            CUE_POINT: "cuepoint",
            BUFFER_OCCUPANCY: "bufferoccupancy",
            MANIFEST_TIMEOUT: "manifesttimeout",
            MANIFEST_LOADED: "manifestloaded",
            TEXT_SRC_UPDATE: "texttracksrcupdate",
            AV_DURATION_MISMATCH: "avdurationmismatch",
            BUFFER_STARTED: "bufferstarted",
            BUFFER_ENDED: "bufferended",
            QUOTA_EXCEEDED_ERROR: "quotaexceedederror"
        },
        nt = {
            EVENT_PENDING: "liveeventpending",
            EVENT_ACTIVE: "liveeventactive",
            EVENT_STARTING: "liveeventstarting",
            EVENT_STARTED: "liveeventstarted",
            EVENT_ENDED: "liveeventended",
            ARCHIVE_STARTED: "livearchivestarted",
            ARCHIVE_DONE: "livearchivedone",
            ARCHIVE_ERROR: "livearchiveerror",
            STREAM_ONLINE: "livestreamonline",
            STREAM_OFFLINE: "livestreamoffline",
            REPRESENTATIONS_AVAILABLE: "liverepresentationsavailable"
        },
        it = {
            CAMERA_UPDATE: "cameraupdate",
            MOTION_START: "motionstart",
            MOTION_END: "motionend",
            SPATIAL_UNSUPPORTED: "spatialunsupported",
            WEBVR_ENTER: "entervr",
            WEBVR_EXIT: "exitvr",
            WEBVR_HARDWARE_AVAILABLE: "webvrhardwareavailable"
        },
        et = {
            MEDIASESSION_PLAY: "mediasessionplay",
            MEDIASESSION_PAUSE: "mediasessionpause",
            MEDIASESSION_SEEK_FORWARD: "mediasessionseekforward",
            MEDIASESSION_SEEK_BACKWARD: "mediasessionseekbackward"
        },
        rt = Object.assign({}, J, Z, Q, tt, it, nt, et),
        AirPlayExternalDisplay = function(t) {
            function AirPlayExternalDisplay(n) {
                var i;
                return (i = t.call(this, n) || this).nt = document.createElement("video"), i.nt.setAttribute("data-airplay", ""), i.nt.setAttribute("x-webkit-airplay", "allow"), i.addVideoEventListeners(), i
            }
            H(AirPlayExternalDisplay, t), F(AirPlayExternalDisplay, null, [{
                key: "displayName",
                get: function() {
                    return "AirPlayExternalDisplay"
                }
            }, {
                key: "supported",
                get: function() {
                    return "WebKitPlaybackTargetAvailabilityEvent" in window
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    return ["application/vnd.apple.mpegurl", "video/mp4"]
                }
            }]);
            var n = AirPlayExternalDisplay.prototype;
            return n.addVideoEventListeners = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.nt;
                n.addEventListener(J.LOADED_METADATA, function(n) {
                    t.fire(J.LOADED_METADATA, n)
                }), n.addEventListener("webkitplaybacktargetavailabilitychanged", function(n) {
                    switch (n.availability) {
                        case "available":
                            t.J || (t.J = !0, t.fire(Q.AIRPLAY_AVAILABLE));
                            break;
                        case "not-available":
                            t.J && (t.J = !1, t.fire(Q.AIRPLAY_UNAVAILABLE))
                    }
                }), n.addEventListener("webkitcurrentplaybacktargetiswirelesschanged", function(n) {
                    if (n.target.webkitCurrentPlaybackTargetIsWireless) return t.Z = !0, void t.fire(Q.AIRPLAY_ACTIVATED);
                    t.Z = !1, t.fire(Q.AIRPLAY_DEACTIVATED)
                })
            }, n.showPicker = function() {
                var t = this;
                this.nt.webkitShowPlaybackTargetPicker(), this.loadMetadata().then(function() {
                    return t.nt.webkitShowPlaybackTargetPicker()
                }).catch(function() {})
            }, n.loadMetadata = function() {
                var t = this;
                return this.nt.readyState >= 1 ? e.resolve() : new e(function(n, i) {
                    t.nt.addEventListener(J.LOADED_METADATA, function() {
                        n()
                    }), t.nt.src = t.getFile().src
                })
            }, F(AirPlayExternalDisplay, [{
                key: "element",
                get: function() {
                    return this.nt
                },
                set: function(t) {
                    if (!(t instanceof HTMLVideoElement)) throw new TypeError("The element for AirPlay must be a <video>.");
                    t !== this.nt && (this.addVideoEventListeners(t), this.nt = t, this.nt.setAttribute("x-webkit-airplay", "allow"))
                }
            }]), AirPlayExternalDisplay
        }(X),
        ot = navigator.userAgent.toLowerCase();

    function ut(t) {
        t = t.toLowerCase();
        var n = new RegExp(t).test(ot);
        return "safari" === t ? n && new RegExp("version").test(ot) : n
    }

    function at(t) {
        var n = document.createElement("div"),
            i = t.charAt(0).toUpperCase() + t.slice(1),
            e = (t + " " + ["Webkit", "Moz", "O", "ms"].join(i + " ") + i).split(" ");
        for (var r in e) {
            var o = e[r];
            if (void 0 !== n.style[o]) return o
        }
        return t
    }
    var st = !!ut("android") && (parseFloat(ot.replace(/^.* android (\d+)\.(\d+).*$/, "$1.$2")) || !0),
        ct = window.devicePixelRatio || 1,
        ft = !(!ut("windows phone") && !ut("iemobile")) && (parseFloat(ot.replace(/^.* windows phone (os )?(\d+)\.(\d+).*$/, "$2.$3")) || !0),
        lt = !!ut("msie") && parseFloat(ot.replace(/^.*msie (\d+).*$/, "$1")),
        ht = !!ut("trident") && parseFloat(ot.replace(/^.*trident\/(\d+)\.(\d+).*$/, "$1.$2")) + 4,
        dt = !!(ut("ipad;") || ut("iphone;") || ut("ipod touch;")) && parseFloat(ot.replace(/^.* os (\d+)_(\d+).*$/, "$1.$2")),
        vt = ut("opera") || ut("opr");

    function pt() {
        if (!ut("safari")) return [];
        var t = ot.split(" ").find(function(t) {
            return /version\//.test(t)
        });
        return t ? t.replace("version/", "").split(".").map(function(t) {
            return parseInt(t, 10)
        }) : []
    }
    var mt = ut("safari") && ut("apple") && !ut("chrome") && !ut("android") && pt()[0] >= 11,
        bt = {
            airPlay: "WebKitPlaybackTargetAvailabilityEvent" in window,
            android: st,
            hasAutoplayPolicy: st || dt || mt || function() {
                if (!ut("chrome")) return [];
                var t = ot.split(" ").find(function(t) {
                    return dt ? /CriOS\//.test(t) : /chrome\//.test(t)
                });
                return t ? t.replace("chrome/", "").split(".").map(function(t) {
                    return parseInt(t, 10)
                }) : []
            }()[0] >= 66,
            iOS: dt,
            mobileAndroid: st && ut("mobile"),
            browser: {
                bb10: ut("bb10"),
                chrome: ut("chrome"),
                firefox: ut("firefox"),
                ie: lt || ht,
                edge: ut("edge"),
                opera: vt,
                safari: ut("safari") && ut("apple") && !ut("chrome") && !ut("android")
            },
            devicePixelRatio: ct,
            iPhone: ut("iphone;") || ut("ipod touch;") || ut("ipod;"),
            iPad: ut("ipad;"),
            iPadNonRetina: ut("ipad;") && ct < 2,
            mac: ut("mac os"),
            pointerEvents: window.navigator.pointerEnabled || window.navigator.msPointerEnabled || !1,
            svg: !!document.createElementNS && !!document.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect,
            touch: "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch || ut("windows phone") || window.navigator.maxTouchPoints > 1 || window.navigator.msMaxTouchPoints || !1,
            transformProperty: at("transform"),
            transitionProperty: at("transition"),
            webp: function() {
                var t = document.createElement("canvas");
                if (t.getContext && t.getContext("2d")) return 0 === t.toDataURL("image/webp").indexOf("data:image/webp");
                return !1
            }(),
            windowsPhone: ft
        };
    var wt = /mac os x 10_13/.test(ot),
        yt = bt.iOS && bt.iOS >= 11,
        gt = bt.iPhone && 812 === window.screen.availHeight && 375 === window.screen.availWidth,
        Et = bt.iPhone && 896 === window.screen.availHeight && 414 === window.screen.availWidth,
        kt = bt.iPad && 1112 === window.screen.availWidth && 834 === window.screen.availHeight,
        _t = bt.iPad && 834 === window.screen.availWidth && 1194 === window.screen.availHeight,
        Tt = bt.iPad && 1024 === window.screen.availWidth && 1366 === window.screen.availHeight,
        St = gt || Et || kt || _t || Tt;

    function At() {
        return !!(mt && wt || mt && yt) || "undefined" != typeof MediaSource && MediaSource.isTypeSupported('video/mp4; codecs="hvc1"')
    }

    function xt() {
        return !(bt.iOS || bt.iPad || bt.browser.ie) && (!ut("safari") || (pt()[0] > 11 || 11 === pt()[0] && (pt()[2] > 1 || pt()[1] > 0)))
    }
    bt.hevc = At(), bt.hdr = mt && yt && St, bt.vp9hdr = (window.matchMedia("(color-gamut: p3)").matches || window.matchMedia("(color-gamut: rec2020)").matches) && screen.colorDepth >= 48 && (MediaSource.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.00"') || MediaSource.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.16.09.01"') || MediaSource.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.00"') || MediaSource.isTypeSupported('video/webm; codecs="vp09.02.10.10.01.09.18.09.01"')), bt.av1 = "undefined" != typeof MediaSource && MediaSource.isTypeSupported('video/mp4; codecs="av01.0.31M.08.0.110.01.01.01.0"'), bt.webvr = !!(window.navigator && "getVRDisplays" in window.navigator), bt.webxr = !!(window.navigator && "xr" in window.navigator && "supportsSession" in window.navigator.xr), bt.spatialPlayback = xt(), bt.spatialHEVC = !bt.browser.safari && xt() && At(), bt.stereoscopic = bt.spatialPlayback && bt.mobileAndroid;
    var Mt = /Firefox/.test(navigator.userAgent),
        Ot = /i(Phone|Pad|Pod touch);/.test(navigator.userAgent),
        Rt = /Android/.test(navigator.userAgent),
        Ct = {
            firefox: Mt,
            iOS: Ot,
            android: Rt,
            androidMobile: Rt && /mobile/.test(navigator.userAgent.toLowerCase()),
            chrome: function() {
                var t = navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\./);
                return !!t && {
                    major: t[1],
                    minor: t[2]
                }
            }()
        };
    var It = function(t) {
        for (var n = 0, i = this.length; n < i; n++)
            if (this[n].id === "".concat(t)) return this[n];
        return null
    };

    function Lt() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
        return t.item = function(t) {
            return this[t]
        }, t.getTrackById = It, t
    }

    function Dt() {
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function(t) {
            return (t ^ (16 * Math.random() >> t) / 4).toString(16)
        })
    }

    function jt(t) {
        for (var n = window.atob(t), i = n.length, e = new Uint8Array(i), r = 0; r < i; r++) e[r] = n.charCodeAt(r);
        return e
    }

    function Pt(t, n, i, e) {
        var r = 0,
            o = 0,
            u = t,
            a = n,
            s = i / e;
        return u / a >= s ? (o = a, r = (s * a).toFixed(2)) : (r = u, o = (u / s).toFixed(2)), {
            width: r,
            height: o,
            left: Math.max((u - r) / 2, 0),
            top: Math.max((a - o) / 2, 0)
        }
    }

    function Nt(t) {
        var n = /^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/.exec(t),
            i = 31536e3 * parseFloat(n[2] || 0) + 2592e3 * parseFloat(n[4] || 0) + 86400 * parseFloat(n[6] || 0) + 3600 * parseFloat(n[8] || 0) + 60 * parseFloat(n[10] || 0) + parseFloat(n[12] || 0);
        return void 0 !== n[1] && (i = -i), i
    }

    function Ut(t) {
        var n = [document.fullscreenElement, document.webkitFullscreenElement, document.webkitCurrentFullScreenElement, document.mozFullScreenElement, document.msFullscreenElement].find(function(t) {
            return void 0 !== t
        });
        return void 0 !== n ? !!n : t.webkitDisplayingFullscreen
    }

    function Ft(t, n) {
        for (var i = n.split("."), e = 0; e < i.length; e++) {
            if (null == t[i[e]]) return;
            t = t[i[e]]
        }
        return t
    }

    function Vt() {
        var t, n, i = new e(function(i, e) {
            t = i, n = e
        });
        return i.resolve = t, i.reject = n, i
    }
    var Bt = function(t) {
            return new e(function(n) {
                return setTimeout(n, t)
            })
        },
        TelecineError = function(t, n) {
            this.name = t, this.message = n, Object.freeze(this)
        },
        Ht = new P,
        Wt = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    i = parseFloat(t);
                if (isNaN(i)) throw new TypeError("Time must be a number.");
                if (i < 0) throw new TypeError("Time must be a positive number.");
                this.time = t, this.data = n, this.id = Dt();
                try {
                    var e = "undefined" == typeof VTTCue ? TextTrackCue : VTTCue;
                    this.vttCue = new e(t, t + .25, JSON.stringify(n)), this.vttCue.id = this.id
                } catch (t) {
                    throw new TelecineError("CuePointsNotSupported", "Cue points are not supported in this browser.")
                }
                Ht.set(this.vttCue, this), Object.freeze(this)
            }
            return t.fromVTTCue = function(n) {
                if (Ht.has(n)) return Ht.get(n);
                var i = {};
                try {
                    i = JSON.parse(n.text)
                } catch (t) {}
                return new t(n.startTime, i)
            }, t
        }();

    function qt(t, n, i) {
        var e;
        try {
            document.removeChild({})
        } catch (r) {
            e = Object.create(Object.getPrototypeOf(r), {
                name: {
                    value: n,
                    configurable: !0,
                    writable: !0
                },
                code: {
                    value: t,
                    configurable: !0,
                    writable: !0
                },
                message: {
                    value: i,
                    configurable: !0,
                    writable: !0
                },
                toString: {
                    value: function() {
                        return "".concat(n, ": DOM Exception ").concat(t)
                    },
                    configurable: !0,
                    writable: !0
                }
            })
        }
        return Object.freeze(e)
    }
    var zt = function(t, n) {
        if (!t || void 0 === t[n]) throw qt(1, "INDEX_SIZE_ERR");
        return t[n]
    };

    function Gt() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
        return Object.freeze(V({
            get length() {
                return t.length
            },
            start: function(n) {
                return zt(t, n)
            },
            end: function(t) {
                return zt(n, t)
            }
        }, C.iterator, function() {
            return function(t, n) {
                var i, e = 0;
                return V(i = {}, C.iterator, function() {
                    return this
                }), V(i, "next", function() {
                    return e < t.length ? {
                        done: !1,
                        value: n ? [t[e], n[e++]] : t[e++]
                    } : {
                        done: !0
                    }
                }), i
            }(t, n)
        }))
    }
    Gt.from = function(t) {
        if (!(t instanceof TimeRanges)) throw new TypeError("Can only create a TelecineTimeRange from a TimeRanges object.");
        for (var n = [], i = [], e = 0, r = t.length; e < r; e++) n.push(t.start(e)), i.push(t.end(e));
        return Gt(n, i)
    };
    var Yt = document.createElement("video"),
        Kt = {
            "application/vnd.apple.mpegurl": "application/vnd.apple.mpegurl",
            "video/mp4": 'video/mp4; codecs="avc1.64001E"',
            "video/webm": 'video/webm; codecs="vp8, vorbis"',
            "video/x-flv": 'video/x-flv; codecs="vp6"'
        },
        $t = function() {
            var t = "undefined" == typeof TextTrack ? {} : TextTrack;
            return {
                disabled: "DISABLED" in t ? t.DISABLED : "disabled",
                hidden: "HIDDEN" in t ? t.HIDDEN : "hidden",
                showing: "SHOWING" in t ? t.SHOWING : "showing"
            }
        }(),
        Xt = function() {
            var t = document.createElement("track");
            return "track" in t && "oncuechange" in t.track
        }(),
        Jt = new P,
        Zt = function() {
            function t(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.it = t, this.et = i, this.rt = null, this.ot = null, this.ut = [], $(this), this.on("play", function() {
                    return n.at()
                });
                var e = t.querySelector("video");
                e || ((e = document.createElement("video")).preload = "none", this.it.appendChild(e)), e.setAttribute("tabindex", "-1"), this.tt = e, i.playRequest && (this.st = i.playRequest, this.st.video = e), i.htmlScanner && i.htmlScanner.controls && (this.tt.controls = !0), this.ct = this.handleVideoEvent.bind(this), this.addVideoEventListeners(), this.ft = "none", this.lt = !1, this.ht = !1, this.dt = -1
            }
            F(t, null, [{
                key: "displayName",
                get: function() {
                    return "HTMLScanner"
                }
            }, {
                key: "supported",
                get: function() {
                    return t.supportedVideoTypes.length > 0
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    var t = [];
                    if ("function" != typeof Yt.canPlayType) return t;
                    for (var n in Kt) {
                        var i = Kt[n];
                        bt.android && "application/vnd.apple.mpegurl" === n || (bt.android && !bt.mobileAndroid && "video/mp4" === n && bt.android instanceof String ? parseInt(bt.android.split(".")[0], 10) > 3 && t.push(n) : Yt.canPlayType(i).replace(/^no$/, "") && t.push(n))
                    }
                    return t
                }
            }, {
                key: "supportedAudioTypes",
                get: function() {
                    return []
                }
            }, {
                key: "supportedExternalDisplays",
                get: function() {
                    return [AirPlayExternalDisplay]
                }
            }, {
                key: "supportsSettingVolume",
                get: function() {
                    if (bt.android) return !1;
                    var t = Yt.volume;
                    return Yt.volume = .5 * t, Yt.volume !== t
                }
            }, {
                key: "supportsTextTracks",
                get: function() {
                    return void 0 !== Yt.textTracks && Yt.textTracks instanceof TextTrackList
                }
            }, {
                key: "supportsPlaybackRate",
                get: function() {
                    if (bt.android && Ct.chrome && Ct.chrome.major < 52) return !1;
                    var t = Yt.playbackRate;
                    Yt.playbackRate = .5 * t;
                    var n = t !== Yt.playbackRate;
                    return Yt.playbackRate = t, n
                }
            }]);
            var n = t.prototype;
            return n.deactivate = function() {
                this.rt && (this.rt.off("filesrcupdate"), this.rt.off("texttracksrcupdate")), this.removeVideoEventListeners(), this.removeSnapshot(), this.tt.style.display = "none"
            }, n.reactivate = function() {
                this.addVideoEventListeners(), this.tt.style.display = ""
            }, n.addVideoEventListeners = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.tt;
                Object.keys(J).forEach(function(i) {
                    var e = J[i];
                    n.addEventListener(e, t.ct)
                })
            }, n.removeVideoEventListeners = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.tt;
                Object.keys(J).forEach(function(i) {
                    var e = J[i];
                    n.removeEventListener(e, t.ct)
                })
            }, n.play = function(t) {
                var n = this;
                return this.st.start(t).catch(function(t) {
                    throw n.vt(t), t
                })
            }, n.vt = function(t) {
                this.fire(J.ERROR, new TelecineError(t.name, t.message))
            }, n.pause = function() {
                this.st.cancel(), this.tt.pause()
            }, n.onpause = function() {}, n.ontimeupdate = function() {
                this.dt = this.currentTime
            }, n.addTextTrack = function(t) {
                var n = this,
                    i = document.createElement("track");
                i.id = "telecine-track-".concat(t.id), i.src = t.src, i.kind = t.kind, i.srclang = t.language, i.label = t.label, i.addEventListener("cuechange", function() {
                    return t.dispatchEvent("cuechange")
                }), this.tt.addEventListener("timeupdate", function() {
                    Ut(n.tt) && (t.mode = i.track.mode)
                });
                var e = function() {
                        var e = Ct.iOS && Ut(n.tt);
                        !t.pt || e ? t.mode = i.track.mode : i.track.mode = $t[t.mode]
                    },
                    r = [];
                if (i.addEventListener("load", e), ["loadeddata", "seeking"].forEach(function(t) {
                        n.tt.addEventListener(t, e), r.push([t, e])
                    }), t.pt && (i.track.mode = $t[t.mode]), !Xt) {
                    var o = [],
                        u = function() {
                            var n = i.track;
                            if (n && "disabled" !== $t[n.mode]) {
                                if (o.length !== n.activeCues.length) return t.dispatchEvent("cuechange"), void(o = j(n.activeCues));
                                for (var e = 0, r = n.activeCues.length; e < r; e++)
                                    if (n.activeCues[e].startTime !== o[e].startTime) return t.dispatchEvent("cuechange"), void(o = j(n.activeCues))
                            }
                        };
                    this.tt.addEventListener("timeupdate", u), r.push(["timeupdate", u])
                }
                return function(t) {
                    setTimeout(t, 0)
                }(function() {
                    return n.tt.appendChild(i)
                }), Jt.set(t, r), this
            }, n.removeTextTrack = function(t) {
                var n = this,
                    i = this.tt.querySelector("#telecine-track-".concat(t.id));
                i && this.tt.removeChild(i);
                var e = Jt.get(t);
                return Array.isArray(e) && e.forEach(function(t) {
                    var i = Y(t, 2),
                        e = i[0],
                        r = i[1];
                    n.tt.removeEventListener(e, r)
                }), this
            }, n.getCuesForTrack = function(t) {
                var n = this.getTrackById("telecine-track-".concat(t.id));
                return n ? j(n.cues) : []
            }, n.getActiveCuesForTrack = function(t) {
                var n = this.getTrackById("telecine-track-".concat(t.id));
                return n ? j(n.activeCues) : []
            }, n.setModeForTrack = function(t, n) {
                var i = this.getTrackById("telecine-track-".concat(t.id));
                return i && i.mode !== $t[n] && (i.mode = $t[n], Xt || "disabled" === n || t.dispatchEvent("cuechange")), this
            }, n.setSrcForTrack = function(t, n) {
                var i = this.tt.querySelector("#telecine-track-".concat(t.id));
                return i && null === i.track.cues && (i.src = n), this
            }, n.addCuePoint = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (this.bt || (this.bt = this.tt.addTextTrack("metadata"), this.bt.mode = "hidden", this.bt.addEventListener("cuechange", function(t) {
                        j(t.target.activeCues).forEach(function(t) {
                            n.fire(tt.CUE_POINT, Wt.fromVTTCue(t))
                        })
                    }), this.tt.addEventListener("canplay", function(t) {
                        n.bt.mode = "hidden"
                    })), t = parseFloat(t), isNaN(t)) throw new TypeError("Time must be a number.");
                if (t < 0 || t >= this.duration) throw new TypeError("Time must be a positive number less than the duration of the video.");
                var e = new Wt(t, i);
                return this.bt.addCue(e.vttCue), e
            }, n.removeCuePoint = function(t) {
                if (!t) throw new TelecineError("InvalidCuePoint", "The specified cue point is not valid.");
                return this.bt.removeCue(t.vttCue), !0
            }, n.removeAllCuePoints = function() {
                var t = this;
                return this.bt && this.bt.length && j(this.bt.cues).forEach(function(n) {
                    t.bt.removeCue(n)
                }), !0
            }, n.onerror = function() {
                if (!this.tt.error) return !1;
                switch (this.tt.error.code) {
                    case this.tt.error.MEDIA_ERR_SRC_NOT_SUPPORTED:
                        return this.fire(J.ERROR, new TelecineError("MediaSrcNotSupportedError", "The media was not suitable.")), this.wt(), !1;
                    case this.tt.error.MEDIA_ERR_DECODE:
                        return -1 !== this.dt && bt.iOS ? (this.tt.load(), this.currentTime = this.dt, this.dt = -1, !1) : (this.fire(J.ERROR, new TelecineError("MediaDecodeError", "The media could not be decoded.")), this.wt(), !1);
                    case this.tt.error.MEDIA_ERR_NETWORK:
                        return this.fire(J.ERROR, new TelecineError("MediaNetworkError", "A network error ocurred while fetching the media.")), !1;
                    case this.tt.error.MEDIA_ERR_ABORTED:
                        return this.fire(J.ERROR, new TelecineError("MediaAbortedError", "The user agent aborted the fetching of the media.")), !1;
                    default:
                        return this.fire(J.ERROR, new TelecineError("MediaUnknownError", "An unknown error occurred.")), !1
                }
            }, n.onended = function() {
                if (this.tt.paused || this.tt.pause(), this.currentTime < this.tt.duration) return !1
            }, n.onwaiting = function() {
                return !1
            }, n.onwebkitbeginfullscreen = function() {
                this.ht = !0
            }, n.onwebkitendfullscreen = function() {
                this.ht = !1
            }, n.onwebkitpresentationmodechanged = function() {
                switch (this.tt.webkitPresentationMode) {
                    case "picture-in-picture":
                        this.tt.controls = !0;
                        break;
                    case "inline":
                        this.et.htmlScanner && this.et.htmlScanner.controls || (this.tt.controls = !1)
                }
                this.fire(tt.PRESENTATION_MODE_CHANGE, this.tt.webkitPresentationMode)
            }, n.shouldHandleVideoEvent = function(t) {
                return !0
            }, n.handleVideoEvent = function(t) {
                t.target === this.tt && !1 !== this.shouldHandleVideoEvent(t) && ("function" == typeof this["on".concat(t.type)] && !1 === this["on".concat(t.type)](t) || this.fire(t.type))
            }, n.swapVideo = function(t, n) {
                var i = t.paused;
                this.removeVideoEventListeners(t), t.parentElement.replaceChild(n, t), t.pause(), n.currentTime = t.currentTime, i || n.play(), this.addVideoEventListeners(n), this.tt = n
            }, n.onexternaldisplayactivated = function(t) {
                this.lt || (this.tt !== t.element && (this.yt = this.tt, this.swapVideo(this.tt, t.element)), this.lt = !0)
            }, n.onexternaldisplaydeactivated = function(t) {
                this.lt && (this.yt && (this.swapVideo(t.element, this.yt), this.yt = null), this.lt = !1)
            }, n.setVideoSrc = function(t) {
                this.tt.src = t
            }, n.canSeekTo = function(t) {
                var n = this.duration;
                if (n && t > n && (t = n), this.tt.seekable.length > 0)
                    for (var i = 0, e = this.tt.seekable.length; i < e; i++)
                        if (this.tt.seekable.start(i) <= t && this.tt.seekable.end(i) >= t) return !0;
                return !1
            }, n.seekToTime = function(t) {
                var n = this;
                return this.canSeekTo(t) ? (this.tt.currentTime = t, e.resolve(this.tt.currentTime)) : new e(function(i, e) {
                    var r = function e() {
                        n.canSeekTo(t) && (Object.keys(J).forEach(function(t) {
                            var i = J[t];
                            n.tt.removeEventListener(i, e)
                        }), n.tt.currentTime = t, i(n.tt.currentTime))
                    };
                    Object.keys(J).forEach(function(t) {
                        var i = J[t];
                        n.tt.addEventListener(i, r)
                    })
                })
            }, n.takeSnapshot = function() {
                var t = this.it.querySelector("[telecine-snapshot]");
                t || ((t = document.createElement("canvas")).setAttribute("telecine-snapshot", ""), this.it.appendChild(t)), t.setAttribute("width", "".concat(this.it.clientWidth, "px")), t.setAttribute("height", "".concat(this.it.clientHeight, "px")), t.style.display = "";
                var n = Pt(this.tt.clientWidth, this.tt.clientHeight, this.tt.videoWidth, this.tt.videoHeight),
                    i = n.width,
                    e = n.height,
                    r = n.left,
                    o = n.top;
                t.style.cssText = "position:absolute;width:".concat(i, "px;height:").concat(e, "px;left:").concat(r, "px;top:").concat(o, "px");
                var u = t.getContext("2d");
                t.width > 0 && t.height > 0 && u.drawImage(this.tt, 0, 0, t.width, t.height)
            }, n.removeSnapshot = function() {
                var t = this.it.querySelector("[telecine-snapshot]");
                t && (t.style.display = "none")
            }, n.getTrackById = function(t) {
                if ("function" == typeof this.tt.textTracks.getTrackById) return this.tt.textTracks.getTrackById(t);
                var n = document.getElementById(t);
                return n ? n.track : null
            }, n.initDrm = function() {
                var t = this.rt.drmHandler;
                t && t.init(this)
            }, n.showExternalDisplayPicker = function(t) {
                if (!this.ut.length) throw new TelecineError("ExternalDisplayUnvailable", "No external displays are available.");
                if (t) {
                    var n = this.ut.filter(function(n) {
                        return n.constructor.displayName.replace("ExternalDisplay", "") === t
                    })[0];
                    if (!n) throw new TelecineError("InvalidExternalDisplay", "The specified external display is not available.");
                    n.showPicker()
                } else this.ut[0].showPicker()
            }, n.gt = function() {
                return this.Et.length < 1 ? null : this.Et.slice(0).sort(function(t, n) {
                    return t.priority - n.priority
                })[0]
            }, n.kt = function() {
                var t = this.gt();
                t ? this.currentFile = t : this.fire(tt.SCANNER_ERROR, {
                    reason: "all files failed"
                })
            }, n.wt = function() {
                var t = this.Et.indexOf(this.ot);
                this.Et.splice(t, 1), this.kt()
            }, n.at = function() {
                var t = this;
                if ("mediaSession" in navigator) {
                    var n = {
                        title: this.rt.title,
                        artist: this.rt.subtitle,
                        artwork: []
                    };
                    this.rt.metadata.thumbnail && n.artwork.push({
                        src: this.rt.metadata.thumbnail
                    }), navigator.mediaSession.metadata = new MediaMetadata(n), "function" == typeof navigator.mediaSession.setActionHandler && (navigator.mediaSession.setActionHandler("play", function() {
                        t.play().then(function() {
                            return t.fire(et.MEDIASESSION_PLAY)
                        }).catch(t.vt.bind(t))
                    }), navigator.mediaSession.setActionHandler("pause", function() {
                        t.pause(), t.fire(et.MEDIASESSION_PAUSE)
                    }), navigator.mediaSession.setActionHandler("seekforward", function() {
                        t.currentTime = Math.min(t.duration, t.currentTime + 10), t.fire(et.MEDIASESSION_SEEK_FORWARD)
                    }), navigator.mediaSession.setActionHandler("seekbackward", function() {
                        t.currentTime = Math.max(0, t.currentTime - 10), t.fire(et.MEDIASESSION_SEEK_BACKWARD)
                    }))
                }
            }, F(t, [{
                key: "buffered",
                get: function() {
                    return Gt.from(this.tt.buffered)
                }
            }, {
                key: "cuePoints",
                get: function() {
                    return this.bt ? j(this.bt.cues).map(function(t) {
                        return Wt.fromVTTCue(t)
                    }) : []
                }
            }, {
                key: "currentFile",
                get: function() {
                    return this.ot
                },
                set: function(n) {
                    var i = this,
                        e = !this.tt.paused,
                        r = this.currentTime,
                        o = !this.ot || n.video.id !== this.ot.video.id;
                    if (o || this.takeSnapshot(), this.ot = n, o && (this.tt.preload = this.ft), this.constructor === t && this.tt.readyState > 0 && (this.tt.currentTime = 0), (Ct.iOS || bt.android) && this.ot.video.title) {
                        var u = this.ot.video.title;
                        this.ot.video.subtitle && (u = "".concat(u, " ").concat(this.ot.video.subtitle)), this.tt.setAttribute("title", u)
                    } else this.tt.removeAttribute("title");
                    this.setVideoSrc(this.ot.src, o), this.fire(tt.CURRENT_FILE_CHANGE, n), Ct.iOS && !o && this.play().catch(this.vt.bind(this)), this.constructor !== t || o ? e && this.play().catch(this.vt.bind(this)) : (this.seekToTime(r).then(function(t) {
                        return e && i.play().catch(i.vt.bind(i)), t
                    }).catch(function() {}), this.once("canplay", function() {
                        return i.removeSnapshot()
                    }), this.once("playing", function() {
                        return i.removeSnapshot()
                    }))
                }
            }, {
                key: "currentTime",
                get: function() {
                    return this.tt.currentTime
                },
                set: function(t) {
                    this.seekToTime(t)
                }
            }, {
                key: "duration",
                get: function() {
                    return this.tt.duration
                }
            }, {
                key: "ended",
                get: function() {
                    return this.tt.ended
                }
            }, {
                key: "externalDisplayAvailable",
                get: function() {
                    return this.ut.some(function(t) {
                        return t.available
                    })
                }
            }, {
                key: "externalDisplayActive",
                get: function() {
                    return this.ut.some(function(t) {
                        return t.active
                    })
                }
            }, {
                key: "loop",
                get: function() {
                    return this.tt.loop
                },
                set: function(t) {
                    this.tt.loop = t
                }
            }, {
                key: "isLowerProfileAvailable",
                get: function() {
                    return null
                }
            }, {
                key: "muted",
                get: function() {
                    return this.tt.muted
                },
                set: function(t) {
                    this.tt.muted = t
                }
            }, {
                key: "playsinline",
                get: function() {
                    return this.tt.playsinline
                },
                set: function(t) {
                    this.tt.playsinline = t, t ? this.tt.setAttribute("playsinline", "") : this.tt.removeAttribute("playsinline")
                }
            }, {
                key: "paused",
                get: function() {
                    return this.tt.paused
                }
            }, {
                key: "defaultPlaybackRate",
                get: function() {
                    return this.tt.defaultPlaybackRate
                },
                set: function(t) {
                    this.tt.defaultPlaybackRate = t
                }
            }, {
                key: "playbackRate",
                get: function() {
                    return this.tt.playbackRate
                },
                set: function(t) {
                    this.tt.playbackRate = t
                }
            }, {
                key: "played",
                get: function() {
                    return this.tt.played
                }
            }, {
                key: "seekable",
                get: function() {
                    return this.tt.seekable
                }
            }, {
                key: "seeking",
                get: function() {
                    return this.tt.seeking
                }
            }, {
                key: "preload",
                get: function() {
                    return this.ft
                },
                set: function(t) {
                    this.tt.preload = t, this.ft = t
                }
            }, {
                key: "presentationMode",
                get: function() {
                    return this.tt.webkitPresentationMode ? this.tt.webkitPresentationMode : "inline"
                },
                set: function(t) {
                    if (-1 === this.supportedPresentationModes.indexOf(t)) throw new TelecineError("InvalidPresentationMode", "The ".concat(t, " presentation mode is not supported."));
                    "function" == typeof this.tt.webkitSetPresentationMode && this.tt.webkitSetPresentationMode(t)
                }
            }, {
                key: "supportedPresentationModes",
                get: function() {
                    var t = ["inline"];
                    return "function" == typeof this.tt.webkitSupportsPresentationMode && this.tt.webkitSupportsPresentationMode("picture-in-picture") && t.push("picture-in-picture"), t
                }
            }, {
                key: "video",
                get: function() {
                    return this.rt
                },
                set: function(t) {
                    var n = this;
                    if (this.reactivate(), this.rt !== t) {
                        if (this.rt && (this.rt.off("filesrcupdate"), this.rt.off("texttracksrcupdate")), this.removeAllCuePoints(), this.rt = t, this.Et = t.files.filter(function(t) {
                                return -1 !== n.constructor.supportedVideoTypes.indexOf(t.mime)
                            }), this.rt.on("filesrcupdate", function(t) {
                                t === n.ot && n.kt()
                            }), this.rt.on("texttracksrcupdate", function(t) {
                                n.video.currentScanner && n.video.currentScanner.setSrcForTrack(t, t.src)
                            }), this.et.externalDisplays && this.et.externalDisplays.length) {
                            this.ut = [];
                            var i = this.constructor.supportedExternalDisplays;
                            Array.isArray(i) || (i = []);
                            var e = i.map(function(t) {
                                return t.displayName
                            });
                            this.et.externalDisplays.filter(function(t) {
                                return t.supported && -1 !== e.indexOf(t.displayName)
                            }).forEach(function(i) {
                                var e = new i(t),
                                    r = i.displayName.replace("ExternalDisplay", "");
                                e.on(J.LOADED_METADATA, function(t) {
                                    return n.fire(J.LOADED_METADATA, t)
                                }), e.on("available", function() {
                                    return n.fire(Z.AVAILABLE, {
                                        type: r
                                    })
                                }), e.on("unavailable", function() {
                                    return n.fire(Z.UNAVAILABLE, {
                                        type: r
                                    })
                                }), e.on("activated", function() {
                                    "function" == typeof n.onexternaldisplayactivated && n.onexternaldisplayactivated(e), n.fire(Z.ACTIVATED, {
                                        type: r
                                    })
                                }), e.on("deactivated", function() {
                                    "function" == typeof n.onexternaldisplaydeactivated && n.onexternaldisplaydeactivated(e), n.fire(Z.DEACTIVATED, {
                                        type: r
                                    })
                                }), n.ut.push(e)
                            })
                        }
                        this.kt(), Ct.iOS && this.ut.forEach(function(t) {
                            "AirPlay" === t.constructor.displayName && (t.element = n.tt)
                        }), this.initDrm()
                    }
                }
            }, {
                key: "videoElement",
                get: function() {
                    return this.tt
                }
            }, {
                key: "videoWidth",
                get: function() {
                    return this.tt.videoWidth
                }
            }, {
                key: "videoHeight",
                get: function() {
                    return this.tt.videoHeight
                }
            }, {
                key: "volume",
                get: function() {
                    return this.tt.volume
                },
                set: function(t) {
                    this.tt.volume = t
                }
            }, {
                key: "readyState",
                get: function() {
                    return this.tt.readyState
                }
            }]), t
        }(),
        Qt = {};
    try {
        Qt.Set = Set
    } catch (t) {
        ! function(t, n) {
            var i = n(e.prototype, {
                size: {
                    configurable: !0,
                    get: function() {
                        return this._t.length
                    }
                }
            });

            function e(t) {
                n(this, {
                    _t: {
                        value: []
                    }
                }), t && t.forEach(this.add, this)
            }

            function r(n, i) {
                return -1 < (t = n._t.indexOf(i))
            }

            function o(t) {
                return [t, t]
            }
            i.add = function(t) {
                return r(this, t) || this._t.push(t), this
            }, i.clear = function() {
                var t = this._t.length;
                this._t.splice(0, t)
            }, i.delete = function(n) {
                return r(this, n) && !!this._t.splice(t, 1)
            }, i.entries = function() {
                return this._t.map(o)
            }, i.forEach = function(t, n) {
                this._t.forEach(function(i, e) {
                    t.call(n, i, i, this)
                }, this)
            }, i.has = function(t) {
                return r(this, t)
            }, i.keys = i.values = function() {
                return this._t.slice(0)
            }, Qt.Set = e
        }(0, Object.defineProperties)
    }
    var tn = Qt.Set;

    function nn(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
        if (0 === t.length) return 0;
        for (var i = 0, e = 0, r = 0; r < t.length; r++) {
            var o = n[r] || 1;
            e += o, i += t[r] * o
        }
        return i / e
    }

    function en(t) {
        t.sort(function(t, n) {
            return t - n
        });
        var n = Math.floor(t.length / 2);
        return t.length % 2 ? t[n] : (t[n - 1] + t[n]) / 2
    }

    function rn(t) {
        return t ? t.split("\n").reduce(function(t, n) {
            var i = n.indexOf(":"),
                e = n.substring(0, i),
                r = n.substring(i + 1);
            return void 0 !== e && void 0 !== r && (t[e.trim().toLowerCase()] = r.trim()), t
        }, {}) : {}
    }
    var on = [],
        un = [],
        an = [],
        sn = [],
        cn = function() {
            function t() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.retryCount,
                    i = void 0 === n ? 3 : n,
                    e = t.parallel,
                    r = void 0 === e ? 1 : e,
                    o = t.includeWithSpeeds,
                    u = void 0 === o || o;
                this.Tt = [], this.St = new tn, this.At = new P, this.xt = i, this.Mt = !1, this.Ot = !1, this.Rt = r, this.Ct = u, this.It = null, this.Lt()
            }
            t.getPercentileSpeed = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : .8;
                return function(t, n) {
                    if (t.sort(), 0 === t.length) return 0;
                    if (n <= 0) return t[0];
                    if (n >= 1) return t[t.length - 1];
                    var i = t.length * n,
                        e = Math.floor(i),
                        r = e + 1,
                        o = i % 1;
                    return r >= t.length ? t[e] : t[e] * (1 - o) + t[r] * o
                }(on.slice(-t), n)
            }, t.getAverageSpeed = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                return nn(on.slice(-t), n)
            }, t.getHarmonicAverageSpeed = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5;
                return function(t) {
                    if (0 === t.length) return 0;
                    for (var n = 0, i = 0; i < t.length; i++) n += 1 / t[i];
                    return t.length / n
                }(on.slice(-t))
            }, t.getVolatilityScaler = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5,
                    n = on.slice(-t);
                if (n.length < 3) return null;
                var i = nn(n, []);
                return Math.min.apply(Math, K(n)) / i
            }, t.getMedianSpeed = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 5;
                return en(on.slice(-t))
            }, t.getResponseSpeeds = function() {
                return on
            }, t.getProgressSpeeds = function() {
                return sn
            }, t.getFailedSegments = function() {
                return un
            }, t.getSuccessfulSegments = function() {
                return an
            }, t.getTime = function() {
                return "undefined" != typeof performance ? performance.now() : (new Date).getTime()
            }, t.calculateExponentialBackoff = function(t) {
                return 500 * Math.pow(2, t) + Math.round(1e3 * Math.random())
            };
            var n = t.prototype;
            return n.add = function(t, n, i) {
                return this.Dt(t, n, i), this.Mt && !this.Ot && this.jt(), this
            }, n.start = function() {
                return this.Mt ? this : (this.Mt = !0, this.jt(), this)
            }, n.stop = function() {
                return this.Mt = !1, this
            }, n.abort = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null;
                this.Tt.filter(function(t) {
                    return !n || n === t[0].stream
                }).forEach(function(n) {
                    var i = Y(t.Pt(n), 4)[3];
                    t.fire("downloadabort", i)
                }), this.Tt = this.Tt.filter(function(t) {
                    return n && n !== t[0].stream
                }), this.St.forEach(function(t) {
                    n && n !== t.stream || t.abort()
                })
            }, n.Nt = function(t, n) {
                for (var i = 0; i < this.Tt.length; i++) {
                    if (this.Tt[i][0].priority > t.priority) break
                }
                this.Tt.splice(i, 0, [t, n])
            }, n.Ut = function() {
                return new e(function(t, n) {
                    window.muxjs ? t() : document.getElementById("muxjs").onload = function() {
                        t()
                    }
                })
            }, n.Lt = function() {
                var t = this;
                this.Ft = new P, $(this), window.addEventListener("online", function() {
                    t.start()
                }), window.addEventListener("offline", function() {
                    t.stop(), t.abort()
                })
            }, n.Dt = function(t, n, i) {
                t.hasOwnProperty("priority") ? this.Nt(t, n) : this.Tt[i ? "unshift" : "push"]([t, n])
            }, n.jt = function() {
                if (this.Mt) {
                    this.Ot = !0;
                    for (var t = this.Rt - this.St.size, n = 0; n < t; n++) this.Vt()
                }
            }, n.Bt = function(n, i, e) {
                var r = this,
                    o = i[0],
                    u = i[1];
                if (this.At.get(o) || this.At.set(o, 0), this.At.set(o, this.At.get(o) + 1), this.At.get(o) > this.xt) this.Ht(e, n.status, n.data.url, n.data.duration);
                else {
                    var a = t.calculateExponentialBackoff(this.At.get(o));
                    setTimeout(function() {
                        r.add(o, u, !0)
                    }, a)
                }
            }, n.Wt = function(t, n, i, e) {
                var r = this;
                if (0 !== t.status)
                    if (t.status >= 500 && t.status < 600) this.Bt(t, n, i);
                    else if (t.status >= 200 && t.status < 300) {
                    if (this.fire("downloadend", i, {
                            headers: rn(t.getAllResponseHeaders()),
                            xhr: t
                        }), an.push({
                            url: t.data.url,
                            status: t.status,
                            duration: t.data.duration
                        }), t.data.url && t.data.url.match(".ts$")) {
                        var o = new Uint8Array(t.response);
                        return void(this.It ? this.qt.bind(this)(t, o, e) : this.Ut().then(function() {
                            r.It = new window.muxjs.Transmuxer({}), r.qt.bind(r)(t, o, e)
                        }).catch(console.error))
                    }
                    var u = t.data.isInitSegmentRequest ? "initSegment" : "buffer";
                    e.call(this, V({}, u, new Uint8Array(t.response)))
                } else this.Ht(i, t.status, t.data.url, t.data.duration)
            }, n.qt = function(t, n, i) {
                var e = this;
                this.It.on("data", function(t) {
                    e.It.off("data"), i.call(e, {
                        initSegment: new Uint8Array(t.initSegment),
                        buffer: new Uint8Array(t.data.buffer)
                    })
                }), this.It.push(n), this.It.flush()
            }, n.Ht = function(t, n, i, e) {
                un.push({
                    url: i,
                    status: n,
                    duration: e
                }), this.fire("downloaderror", t, n)
            }, n.Pt = function(t) {
                var n = t[1],
                    i = t[0],
                    e = i;
                return i.id && (e = i.id), [i.url, i.byteRange, i.isInitSegmentRequest, e, n]
            }, n.zt = function() {
                0 !== this.St.size || 0 !== this.Tt.length ? this.St.size < this.Rt && this.jt() : this.Ot = !1
            }, n.Vt = function() {
                var n = this;
                if (0 !== this.Tt.length) {
                    var i = null,
                        e = this.Tt.shift(),
                        r = Y(this.Pt(e), 5),
                        o = r[0],
                        u = r[1],
                        a = r[2],
                        s = r[3],
                        c = r[4],
                        f = e[0].includeWithBandwidthChecks,
                        l = t.getTime(),
                        h = new XMLHttpRequest;
                    h.stream = e[0].stream, h.data = {}, h.data.url = o, h.data.isInitSegmentRequest = a;
                    var d = 0,
                        v = t.getTime(),
                        p = 0;
                    h.addEventListener("progress", function(i) {
                        if (i.lengthComputable) {
                            var e = 8 * (i.loaded - d),
                                r = t.getTime(),
                                o = r - v,
                                u = {
                                    startTime: v,
                                    length: o,
                                    bitrate: e / (o / 1e3),
                                    index: p
                                };
                            p > 0 && (sn.length >= 100 && sn.shift(), sn.push(u)), v = r, d = i.loaded, p += 1, n.Ft.set(h, {
                                bytesTotal: i.total,
                                bytesLoaded: i.loaded,
                                percent: i.loaded / i.total,
                                identifier: s
                            }), n.fire("progress", s)
                        }
                    }), h.open("GET", o, !0), h.responseType = "arraybuffer", u && h.setRequestHeader("Range", "bytes=".concat(u)), h.onload = function(r) {
                        var o = Date.now() - i;
                        h.data.duration = o, n.St.delete(h), n.Ft.delete(h);
                        var u = (t.getTime() - l) / 1e3,
                            a = r.target.response.byteLength;
                        if (a > 16e3) {
                            var d = 8 * a / u;
                            on.length > 100 && on.shift(), n.Ct && f && on.push(d)
                        }
                        n.Wt(h, e, s, c), n.zt()
                    }, h.onerror = function() {
                        var t = Date.now() - i;
                        h.data.duration = t, n.St.delete(h), n.Ft.delete(h), n.Bt(h, e, s), n.zt()
                    }, h.onabort = function() {
                        var t = Date.now() - i;
                        h.data.duration = t, un.push({
                            url: o,
                            status: "abort",
                            duration: t
                        }), n.Ft.delete(h), n.St.delete(h), n.fire("downloadabort", s), 0 === n.St.size && 0 === n.Tt.length && (n.Ot = !1), n.zt()
                    }, this.fire("downloadstart", s), this.St.add(h), i = Date.now(), h.data.requestSendTime = i, h.send()
                } else this.Ot = !1
            }, F(t, [{
                key: "parallel",
                get: function() {
                    return this.Rt
                },
                set: function(t) {
                    this.Rt = t
                }
            }, {
                key: "pendingFetches",
                get: function() {
                    var t = this,
                        n = [];
                    return this.St.forEach(function(i) {
                        if (t.Ft.get(i)) {
                            var e = t.Ft.get(i);
                            e.elapsedTime = Date.now() - i.data.requestSendTime, n.push(e)
                        }
                    }), n
                }
            }]), t
        }(),
        fn = function() {
            function t(t) {
                $(this), this.Gt = t, this.Yt = null, this.Kt = null, this.$t = !1, this.Xt = !0, this.Jt = null, this.Zt = [], this.Qt = [], this.tn = !1, this.nn = null, this.in = !1, this.en = void 0, this.rn = !1, this.un = !0, this.an = {}, this.sn = this.cn.bind(this), this.Gt.on("durationset", this.ln.bind(this))
            }
            var n = t.prototype;
            return n.addStream = function(t) {
                var n = this;
                t.on("segmentadd", function() {
                    return n.hn()
                });
                var i = this.Qt.push(t) - 1;
                t.index = i, null === this.Kt && (this.dn(i), this.$t = !0)
            }, n.streamIndexAtTime = function(t) {
                return this.an[void 0] ? {
                    stream: this.activeStreamIndex
                } : this.an[Math.floor(t / 6)]
            }, n.switchTo = function(t) {
                var n = this,
                    i = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    r = t;
                "object" === N(t) && (r = t.index);
                var o = this.Kt !== r,
                    u = o;
                if (!o && this.$t && (o = !0), o) {
                    this.$t = !1;
                    var a = this.Kt,
                        s = this.Qt[a];
                    s && u && i && s.abort(), this.vn = r, this.dn(r)
                }
                return this.hn(), new e(function(t) {
                    o ? n.pn = function() {
                        n.vn === r && (n.pn = null, t(), n.fire("streamchange", r))
                    } : t()
                })
            }, n.isTimeInBuffer = function(t) {
                for (var n = 0; n < this.Yt.buffered.length; n++) {
                    var i = this.Yt.buffered.start(n),
                        e = this.Yt.buffered.end(n);
                    if (i <= t && e >= t) return !0
                }
                return !1
            }, n.hasAppendedFinalSegment = function() {
                return void 0 !== this.en && this.isTimeInBuffer(this.en)
            }, n.clear = function() {
                this.Qt.forEach(function(t) {
                    return t.clear()
                })
            }, n.remove = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.Gt.mn.duration;
                return new e(function(e, r) {
                    n.Zt.push([t, i, e]), n.hn()
                })
            }, n.removeEventListeners = function() {
                this.Yt && this.Yt.removeEventListener("updateend", this.sn)
            }, n.ln = function() {
                var t = this.Gt.mn.duration,
                    n = Math.floor(t / 6);
                n += 6 % t > 1 ? 1 : 0;
                for (var i = 0; i < n; i++) this.an[i] = {
                    stream: null,
                    segment: i,
                    type: "video"
                }
            }, n.bn = function() {
                this.Yt.addEventListener("updateend", this.sn)
            }, n.dn = function(t) {
                this.Xt = !0, this.Kt = t, this.Gt.wn.streamIndex = t
            }, n.cn = function() {
                this.yn(), this.gn(), this.hn()
            }, n.yn = function() {
                if (this.in) return this.in = !1, this.en = this.endTime, void this.Gt.checkEndOfStream();
                !this.activeStream.hasNextSegment() && this.en > 0 && "open" === this.Gt.mn.readyState && this.Gt.checkEndOfStream()
            }, n.gn = function() {
                this.Jt && (this.fire("appendbufferend", this.Jt), this.Jt = null, this.pn && this.pn())
            }, n.hn = function() {
                if (this.Yt) {
                    if (this.activeStream && "closed" !== this.Gt.mn.readyState && !this.Yt.updating)
                        if (this.Zt.length) this.En();
                        else if (!this.tn && !this.rn) return this.Xt ? (this.Xt = !1, void this.kn()) : void this._n()
                } else this.on("sourcebufferattach", this.hn)
            }, n.En = function() {
                var t = this,
                    n = Y(this.Zt.shift(), 3),
                    i = n[0],
                    e = n[1],
                    r = n[2];
                this.Yt.addEventListener("updateend", function n(i) {
                    t.Yt.removeEventListener("updateend", n), r(), clearTimeout(t.nn), t.nn = setTimeout(function() {
                        t.tn = !1, t.hn()
                    }, 5e3)
                }), this.Yt.remove(i, e)
            }, n.kn = function() {
                var t = this;
                this.rn = !0, this.activeStream.getInitSegment().then(function(n) {
                    return t.Jt = null, t.Yt.appendBuffer(n), t.rn = !1, n
                }).catch(function(n) {
                    t.rn = !1
                })
            }, n._n = function() {
                var t = this.activeStream.getNextSegment();
                if (null !== t) {
                    var n = t.buffer,
                        i = this.activeStream.getIdForSegment(n);
                    this.activeStream.isFinal(n) && (this.in = !0), this.Jt = i, this.fire("appendbufferstart", i);
                    try {
                        this.Yt.appendBuffer(n), this.an[i.segment] = i, this.un && (this.un = !1, this.fire("initialbufferstart"))
                    } catch (n) {
                        if ("QuotaExceededError" === n.name) {
                            this.tn = !0, this.fire("quotaexceedederror", this.Yt.buffered);
                            if (this.Gt.tt.currentTime > 6) {
                                var e = this.Gt.tt.currentTime - 6;
                                this.Gt.removeBuffer(0, e)
                            }
                            this.activeStream.Tn.unshift(t)
                        }
                    }
                }
            }, F(t, [{
                key: "streams",
                get: function() {
                    return this.Qt
                }
            }, {
                key: "activeStreamIndex",
                get: function() {
                    return this.Kt
                }
            }, {
                key: "activeStream",
                get: function() {
                    return this.Qt[this.Kt]
                }
            }, {
                key: "sourceBuffer",
                get: function() {
                    return this.Yt
                },
                set: function(t) {
                    this.Yt = t, this.bn(), this.fire("sourcebufferattach")
                }
            }, {
                key: "endTime",
                get: function() {
                    return this.Yt.buffered.end(this.Yt.buffered.length - 1)
                }
            }]), t
        }(),
        ln = function() {
            function t(n) {
                var i = this,
                    r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new cn;
                $(this), this.Tn = [], this.Sn = null, this.An = NaN, this.xn = r, this.Mn = o, this.Mn.start(), this.On = new P, this.Rn = {}, this.Cn = new e(n ? function(e, r) {
                    t.isValidSegmentUrl(n) ? i.Mn.add({
                        url: n.url || n,
                        byteRange: n.byteRange,
                        id: null,
                        stream: i,
                        isInitSegmentRequest: !0
                    }, function(t) {
                        i.Sn = t.initSegment, e(i.Sn)
                    }) : (i.Sn = n, e(n))
                } : function(t, n) {
                    i.In = t
                })
            }
            t.isValidSegmentUrl = function(t) {
                return "string" == typeof t || "string" == typeof t.url && "string" == typeof t.byteRange
            };
            var n = t.prototype;
            return n.getIdForSegment = function(n) {
                return t.isValidSegmentUrl(n) ? this.Rn[n] : this.On.get(n).id
            }, n.isFinal = function(t) {
                return this.On.get(t).final
            }, n.addSegment = function(n) {
                var i = this,
                    r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    o = r.identifier,
                    u = void 0 === o ? null : o,
                    a = r.isFinalSegment,
                    s = void 0 !== a && a,
                    c = r.loadOnly,
                    f = void 0 !== c && c,
                    l = r.priority,
                    h = void 0 === l ? 0 : l,
                    d = r.includeWithBandwidthChecks,
                    v = void 0 === d || d;
                return new e(function(e, r) {
                    if (t.isValidSegmentUrl(n)) return i.Rn[n] = u || n, i.fire("queued", i.getIdForSegment(n)), void i.Mn.add({
                        url: n.url || n,
                        byteRange: n.byteRange,
                        id: i.getIdForSegment(n),
                        stream: i,
                        includeWithBandwidthChecks: v,
                        isInitSegmentRequest: !1,
                        priority: h
                    }, function(t) {
                        i.Sn || (i.Sn = t.initSegment, i.In(i.Sn)), i.On.set(t.buffer, {
                            id: u || n,
                            final: s
                        }), i.Tn.push(t), i.fire("bufferqueueadd", i.getIdForSegment(n)), f || i.fire("segmentadd"), e()
                    });
                    i.On.set(n, {
                        id: u,
                        final: s
                    }), i.Tn.push(n), i.fire("bufferqueueadd", u), e()
                })
            }, n.clear = function() {
                this.Tn = []
            }, n.abort = function() {
                var t = this;
                this.Cn.then(function() {
                    t.Mn.abort(t)
                }).catch(function(t) {})
            }, n.hasNextSegment = function() {
                return this.Tn.length > 0
            }, n.getNextSegment = function() {
                return 0 === this.Tn.length ? null : this.Tn.shift()
            }, n.getInitSegment = function() {
                return this.Cn
            }, F(t, [{
                key: "codec",
                get: function() {
                    return this.xn
                },
                set: function(t) {
                    this.xn = t
                }
            }, {
                key: "index",
                get: function() {
                    return this.An
                },
                set: function(t) {
                    this.An = t
                }
            }, {
                key: "pendingFetches",
                get: function() {
                    return this.Mn.pendingFetches
                }
            }]), t
        }(),
        hn = function() {
            function t(t) {
                this.tt = t, this.Mt = !1, this.Ln = null, this.Dn = {}, this.jn = {}, this.Pn = 0, this.Nn = 0, this.Un = "default", this.bound = {
                    startCheckingDroppedFrames: this.Fn.bind(this),
                    stopCheckingDroppedFrames: this.Vn.bind(this)
                }
            }
            var n = t.prototype;
            return n.start = function() {
                return this.Fn(), this
            }, n.stop = function() {
                return this.Vn(), this
            }, n.destroy = function() {
                this.Vn(), this.Bn()
            }, n.getDroppedFrameRate = function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "average",
                    e = this.Dn[n];
                if (!e) return 0;
                if (e.length < t) return 0;
                var r = e.slice(-t);
                return "median" === i ? en(r) : nn(r)
            }, n.getDroppedFrameTotal = function() {
                return {
                    dropped: this.Hn(),
                    total: this.Wn()
                }
            }, n.bn = function() {
                this.tt.addEventListener("playing", this.bound.startCheckingDroppedFrames), this.tt.addEventListener("pause", this.bound.stopCheckingDroppedFrames), this.tt.addEventListener("ended", this.bound.stopCheckingDroppedFrames)
            }, n.Bn = function() {
                this.tt.removeEventListener("playing", this.bound.startCheckingDroppedFrames), this.tt.removeEventListener("pause", this.bound.stopCheckingDroppedFrames), this.tt.removeEventListener("ended", this.bound.stopCheckingDroppedFrames)
            }, n.Fn = function() {
                this.Mt = !0, this.qn()
            }, n.Vn = function() {
                this.Mt = !1
            }, n.qn = function() {
                var t = this;
                if (this.Mt && null !== this.Un) {
                    clearTimeout(this.Ln);
                    var n = this.Hn(),
                        i = n - this.Pn;
                    this.Pn = n;
                    var e = this.zn(),
                        r = e - this.Nn;
                    this.Nn = e, this.Dn[this.Un] || (this.Dn[this.Un] = []), this.jn[this.Un] || (this.jn[this.Un] = []), this.Dn[this.Un].length > 100 && this.Dn[this.Un].shift(), this.jn[this.Un].length > 100 && this.jn[this.Un].shift(), this.Dn[this.Un].push(i), this.jn[this.Un].push(r), this.Ln = setTimeout(function() {
                        t.qn()
                    }, 1e3)
                }
            }, n.Hn = function() {
                return "function" == typeof this.tt.getVideoPlaybackQuality ? this.tt.getVideoPlaybackQuality().droppedVideoFrames : this.tt.webkitDroppedFrameCount || 0
            }, n.Wn = function() {
                return "function" == typeof this.tt.getVideoPlaybackQuality ? this.tt.getVideoPlaybackQuality().totalVideoFrames : this.tt.webkitDecodedFrameCount || 0
            }, n.zn = function() {
                if ("function" == typeof this.tt.getVideoPlaybackQuality) {
                    var t = this.tt.getVideoPlaybackQuality();
                    return t.totalVideoFrames - t.droppedVideoFrames - t.corruptedVideoFrames
                }
                return this.tt.webkitDecodedFrameCount || 0
            }, F(t, [{
                key: "streamIndex",
                get: function() {
                    return this.Un
                },
                set: function(t) {
                    this.Un = t
                }
            }]), t
        }(),
        dn = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.tt = t, this.et = n, $(this), this.wn = new hn(t), this.mn = new MediaSource, this.Mn = new cn({
                    parallel: 1
                }), this.Gn = {}, this.Yn = [], this.Kn = null, this.$n = this.Xn.bind(this), this.bn()
            }
            var n = t.prototype;
            return n.switchTo = function(t) {
                return 1 === this.Yn.length && this.video.switchTo(t)
            }, n.getCurrentSpeed = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.type,
                    i = void 0 === n ? "average" : n,
                    e = t.howMany,
                    r = void 0 === e ? 10 : e,
                    o = t.weights,
                    u = void 0 === o ? [] : o,
                    a = t.percentile,
                    s = void 0 === a ? null : a;
                return "harmonicAverage" === i ? cn.getHarmonicAverageSpeed(r) : "average" === i ? cn.getAverageSpeed(r, u) : "median" === i ? cn.getMedianSpeed(r) : cn.getPercentileSpeed(r, s)
            }, n.getVolatilityScaler = function(t) {
                return cn.getVolatilityScaler(t)
            }, n.getResponseSpeeds = function() {
                return cn.getResponseSpeeds()
            }, n.getFailedSegments = function() {
                return cn.getFailedSegments()
            }, n.getSuccessfulSegments = function() {
                return cn.getSuccessfulSegments()
            }, n.getDroppedFrameRate = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.activeStreamIndex,
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "average";
                return this.wn.getDroppedFrameRate(t, n, i)
            }, n.getDroppedFrameTotal = function() {
                return this.wn.getDroppedFrameTotal()
            }, n.clear = function() {
                this.Yn.forEach(function(t) {
                    return t.clear()
                })
            }, n.streamIndexAtTime = function(t, n) {
                return this.Gn[n].streamIndexAtTime(t) ? this.Gn[n].streamIndexAtTime(t).stream : null
            }, n.removeBuffer = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : this.tt.duration;
                if (t >= (n = n || 0)) return e.resolve();
                var i = this.Yn.map(function(i) {
                    return i.remove(t, n)
                });
                return e.all(i)
            }, n.addStream = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    e = this.Jn(t);
                if (!this.Gn[e]) {
                    var r = new fn(this, e);
                    this.Gn[e] = r, this.Yn.push(r), this.readyPromise.then(function() {
                        var i;
                        try {
                            i = n.mn.addSourceBuffer(t)
                        } catch (t) {
                            if (22 !== t.code) return void n.fire("srcnotsupported", t);
                            i = n.Gn[e]
                        }
                        if (n.et.duration) {
                            i.appendWindowEnd = n.et.duration + .1
                        }
                        r.sourceBuffer = i
                    }).catch(function(t) {}), ["appendbufferstart", "appendbufferend", "streamchange", "initialbufferstart", "quotaexceedederror"].forEach(function(t) {
                        r.on(t, function(i) {
                            n.fire(t, i)
                        })
                    })
                }
                var o = new ln(i, t, this.Mn);
                return ["queued", "bufferqueueadd"].forEach(function(t) {
                    o.on(t, function(i) {
                        n.fire(t, i)
                    })
                }), this.Gn[e].addStream(o), o
            }, n.checkEndOfStream = function() {
                var t = this;
                if (this.Yn.every(function(t) {
                        return t.hasAppendedFinalSegment()
                    })) {
                    this.tt.addEventListener("timeupdate", function n() {
                        t.tt.removeEventListener("timeupdate", n), t.Yn.every(function(n) {
                            return n.isTimeInBuffer(t.tt.currentTime)
                        }) && t.endOfStream()
                    })
                }
            }, n.abortFetches = function() {
                this.Mn.abort()
            }, n.endOfStream = function() {
                "open" === this.mn.readyState && (this.Zn() || (this.mn.endOfStream(), this.fire("endofstream")))
            }, n.destroy = function() {
                this.clear(), this.Qn(), this.wn.destroy(), this.Mn.abort(), this.tt.src && (this.tt.removeAttribute("src"), this.tt.load())
            }, n.bn = function() {
                var t = this;
                this.readyPromise = new e(function(n, i) {
                    t.Kn = n, t.mn.addEventListener("sourceopen", t.$n)
                }), ["downloadstart", "downloadend", "downloadabort", "downloaderror", "progress"].forEach(function(n) {
                    t.Mn.on(n, function() {
                        for (var i = arguments.length, e = new Array(i), r = 0; r < i; r++) e[r] = arguments[r];
                        t.fire.apply(t, [n].concat(e))
                    })
                })
            }, n.Zn = function() {
                for (var t = 0; t < this.mn.sourceBuffers.length; t++)
                    if (this.mn.sourceBuffers[t].updating) return !0;
                return !1
            }, n.Xn = function() {
                URL.revokeObjectURL(this.tt.src), this.mn.removeEventListener("sourceopen", this.$n), this.et.duration && (this.mn.duration = this.et.duration, this.fire("durationset")), this.Kn()
            }, n.Qn = function() {
                this.Yn.forEach(function(t) {
                    return t.removeEventListeners()
                })
            }, n.Jn = function(t) {
                return 0 === t.indexOf("audio") ? "audio" : "video"
            }, F(t, [{
                key: "mediaSource",
                get: function() {
                    return this.mn
                }
            }, {
                key: "pendingFetches",
                get: function() {
                    return this.Mn.pendingFetches
                }
            }, {
                key: "streams",
                get: function() {
                    return 1 === this.Yn.length && this.video.streams
                }
            }, {
                key: "activeStreamIndex",
                get: function() {
                    return 1 === this.Yn.length && this.video.activeStreamIndex
                }
            }, {
                key: "video",
                get: function() {
                    return !!this.Gn.video && this.Gn.video
                }
            }, {
                key: "audio",
                get: function() {
                    return !!this.Gn.audio && this.Gn.audio
                }
            }]), t
        }(),
        vn = function(t) {
            function n() {
                var n;
                return (n = t.call(this, "The operation was aborted.") || this).name = "AbortError", n
            }
            return H(n, t), n
        }(G(Error)),
        pn = function(t) {
            function n(n) {
                var i;
                return (i = t.call(this, n.statusText) || this).name = "HTTPError", i.response = n, i
            }
            return H(n, t), n
        }(G(Error)),
        mn = function(t) {
            function n() {
                var n;
                return (n = t.call(this, "A network error occurred.") || this).name = "NetworkError", n
            }
            return H(n, t), n
        }(G(Error)),
        bn = function(t) {
            function n() {
                var n;
                return (n = t.call(this, "Request timed out.") || this).name = "TimeoutError", n
            }
            return H(n, t), n
        }(G(Error)),
        wn = {
            XMLHttpRequest: window.XMLHttpRequest,
            method: "GET",
            async: !0,
            retry: 0,
            throwHttpErrors: !0,
            validateStatus: function(t) {
                return t >= 200 && t < 300
            },
            retryStatus: function(t) {
                return [408, 413, 429].includes(t) || t >= 500 && t < 600
            }
        };

    function yn(t) {
        var n, i = t.url,
            r = t.method,
            o = t.body,
            u = t.onDownloadProgress;
        return function t(n, i) {
            var e = {
                then: n.then.bind(n),
                catch: n.catch.bind(n)
            };
            return Object.assign(n, {
                abort: i,
                then: function() {
                    return t(e.then.apply(e, arguments), i)
                },
                catch: function() {
                    return t(e.catch.apply(e, arguments), i)
                }
            })
        }(new e(function(a, s) {
            n = new t.XMLHttpRequest;
            var c = [],
                f = [],
                l = {};
            for (var h in n.open(r.toUpperCase(), i, t.async), t.timeout && (n.timeout = t.timeout), n.onload = function() {
                    (0 !== n.status || n.responseURL && 0 === n.responseURL.indexOf("file:")) && (n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm, function(t, n, i) {
                        c.push(n = n.toLowerCase()), f.push([n, i]), l[n] = l[n] ? "".concat(l[n], ",").concat(i) : i
                    }), a(function t() {
                        return {
                            ok: 2 == (n.status / 100 | 0),
                            statusText: n.statusText,
                            status: n.status,
                            url: n.responseURL,
                            text: function() {
                                return e.resolve(n.responseText)
                            },
                            json: function() {
                                return e.resolve(JSON.parse(n.responseText))
                            },
                            blob: function() {
                                return e.resolve(new Blob([n.response]))
                            },
                            clone: t,
                            headers: {
                                keys: function() {
                                    return c
                                },
                                entries: function() {
                                    return f
                                },
                                get: function(t) {
                                    return l[t.toLowerCase()]
                                },
                                has: function(t) {
                                    return t.toLowerCase() in l
                                }
                            }
                        }
                    }()))
                }, n.onabort = function() {
                    s(new vn)
                }, n.onerror = function() {
                    s(new mn)
                }, n.ontimeout = function() {
                    s(new bn)
                }, "function" == typeof u && n.addEventListener("progress", u), t.headers) n.setRequestHeader(h, t.headers[h]);
            t.withCredentials && (n.withCredentials = !0), n.send(o || null)
        }), function() {
            return n.abort() && e.resolve()
        })
    }
    var gn = function(t) {
            return new e(function(n, i) {
                return setTimeout(n, t)
            })
        },
        En = .3;

    function kn(t) {
        var n = 0;
        return function i(e) {
            return e().catch(function(r) {
                n++;
                var o = function(i) {
                    if (n < t.retry && !(i instanceof bn)) {
                        if (i instanceof pn) {
                            if (!t.retryStatus(i.response.status)) return 0;
                            var e = i.response.headers.get("Retry-After");
                            if (e && t.retryStatus(i.response.status)) {
                                var r = Number(e);
                                return isNaN(r) ? r = Date.parse(e) - Date.now() : r *= 1e3, r
                            }
                            if (413 === i.response.status) return 0
                        }
                        return En * Math.pow(2, n - 1) * 1e3
                    }
                    return 0
                }(r);
                if (0 !== o && n > 0) return gn(o).then(function() {
                    return i(e)
                });
                if (t.throwHttpErrors) throw r
            })
        }
    }
    var _n = {
            json: "application/json",
            text: "text/*",
            formData: "multipart/form-data",
            arrayBuffer: "*/*",
            blob: "*/*"
        },
        Tn = ["get"];

    function Sn(t, n) {
        var i = n = function(t, n, i) {
                return t = "string" == typeof t ? {
                    url: t
                } : t, (n = Object.assign({}, i, t, n)).headers = Object.assign({}, n.headers), n
            }(t, n, wn),
            e = i.method,
            r = i.json,
            o = i.jwt,
            u = i.searchParams;

        function a() {
            return yn(n).then(function(t) {
                var n = t.validateStatus,
                    i = t.throwHttpErrors;
                return function(t) {
                    if (!n || n(t.status)) return t;
                    if (i) throw new pn(t);
                    return t
                }
            }(n))
        }
        r && (n.headers["Content-Type"] = _n.json, n.body = JSON.stringify(r)), o && (n.headers.Authorization = "jwt ".concat(o)), u && (n.url += function(t) {
            if ("object" !== N(t)) return "";
            var n = [];
            for (var i in t) t.hasOwnProperty(i) && n.push(encodeURIComponent(i) + "=" + encodeURIComponent(t[i]));
            return n.length ? "?".concat(n.join("&")) : ""
        }(u));
        var s = -1 !== Tn.indexOf(e.toLowerCase()) ? kn(n)(a) : a(),
            c = function(t) {
                s[t] = function() {
                    return n.headers["Content-Type"] = _n[t], s.then(function(n) {
                        return n.clone()[t]()
                    })
                }
            };
        for (var f in _n) c(f);
        return s
    }["get", "post", "put", "patch", "head", "delete"].forEach(function(t) {
        return Sn[t] = function(n, i) {
            return Sn(n, B({
                method: t
            }, i))
        }, Sn[t]
    });
    var An = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n) || this).et = e, i.blacklisted = [], i.whitelisted = [], i.MAX_LOADABLE_SEGMENTS_AUTO = 3, i.MAX_LOADABLE_SEGMENTS_LOCKED = 15, i.BANDWIDTH_UPSWITCH_THRESHOLD = .85, i.BANDWIDTH_DOWNSWITCH_THRESHOLD = .9, i.SEGMENT_DURATION = 6, i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "Skyfire"
                }
            }]);
            var i = n.prototype;
            return i.shouldPowerUp = function(t, n, i) {
                i && this.et.startingBandwidthThreshold && (this.BANDWIDTH_UPSWITCH_THRESHOLD = this.et.startingBandwidthThreshold);
                var e = t.indexOf(n);
                if (-1 === e && (e = 0), !this.canPowerUp(t, e)) return !1;
                var r = this.getCurrentSpeed();
                if (!r) return !1;
                var o = this.ti(r, this.BANDWIDTH_UPSWITCH_THRESHOLD, t);
                return o !== e && o
            }, i.shouldPowerDown = function(t, n) {
                var i = t.indexOf(n);
                if (-1 === i) {
                    var e = this.isTimeInBuffer(this.scanner.tt.duration);
                    return !(!this.whitelisted.length && !this.blacklisted.length && e) && t.length - 1
                }
                if (!this.canPowerDown(t, i)) return !1;
                var r = this.getCurrentSpeed();
                if (!r) return !1;
                if (this.hasTooManyDroppedFrames(i, n, this.et.droppedFrameSwitchPercent)) return i - 1;
                var o = this.ti(r, this.BANDWIDTH_DOWNSWITCH_THRESHOLD, t);
                return o !== i && o
            }, i.hasTooManyDroppedFrames = function(t, n, i) {
                return this.scanner.sorcerer.getDroppedFrameRate(10, t, "median") / n.framerate * 100 >= i && (this.blacklist(t), !0)
            }, i.isTimeInBuffer = function(t) {
                var n = this.scanner.tt;
                return this.ni(t, t, n.buffered, 1)
            }, i.getCurrentSpeed = function() {
                var t = "average",
                    n = 3,
                    i = [1, 2, 5];
                return this.et.tests && this.et.tests.harmonic_average && this.et.tests.harmonic_average.group && (t = "harmonicAverage", n = this.ii(), i = []), this.scanner.sorcerer.getCurrentSpeed({
                    type: t,
                    howMany: n,
                    weights: i
                })
            }, i.getDistanceFromBuffer = function(t) {
                for (var n = t, i = this.scanner.tt, e = 0; e < i.buffered.length; e++)
                    if (i.buffered.start(e) <= t && i.buffered.end(e) >= t) {
                        n = i.buffered.end(e);
                        break
                    }
                return n - t
            }, i.getTimeEstimateToLoad = function(t, n) {
                if (null === n) return 3;
                var i = n.segments[t],
                    e = i.end - i.start,
                    r = this.getCurrentSpeed();
                return 1.3 * (e * (n.bitrate + n.audioBitrate) / r)
            }, i.canPlayFromTimeInStream = function(t, n) {
                if (!this.isTimeInBuffer(t)) return !1;
                if (!n) return !1;
                var i = this.getSegmentsToLoad(!1, "video", n);
                if (0 === i.length) return !0;
                var e = this.getDistanceFromBuffer(t);
                return this.getTimeEstimateToLoad(i[0], n) < e
            }, i.getSegmentsToLoad = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "video",
                    i = arguments.length > 2 ? arguments[2] : void 0,
                    e = this.scanner.tt,
                    r = this.scanner.currentTime,
                    o = [],
                    u = r + this.ei(r, e.duration, i),
                    a = this.scanner.sorcerer[n].activeStreamIndex,
                    s = this.scanner.Qt[n][a],
                    c = this.scanner.sorcerer[n].sourceBuffer,
                    f = null;
                c && (f = c.buffered);
                for (var l = 0; l < s.segments.length; l++) {
                    var h = s.segments[l];
                    if (!(h.end < r || h.start > u)) {
                        var d = r >= h.start && r < h.end,
                            v = this.ri(h, f);
                        !t && v || t && v && d || (d ? o.push(l) : u >= h.start && o.push(l))
                    }
                }
                return o
            }, i.blacklist = function(t) {
                this.blacklisted[t] = 1
            }, i.lock = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                this.whitelisted = t
            }, i.filterStreams = function(t) {
                for (var n, i = this.scanner.tt.clientWidth, e = this.scanner.tt.clientHeight, r = [], o = !1, u = 0; u < t.length; u++)
                    if (n && n[0] === t[u].width && n[1] === t[u].height) r.push(t[u]);
                    else {
                        if (o) break;
                        if (!this.blacklisted[u] || -1 !== this.whitelisted.indexOf(u))
                            if (!this.whitelisted.length || -1 !== this.whitelisted.indexOf(u))
                                if (this.whitelisted.length) r.push(t[u]);
                                else this.oi(i, e, t[u].width, t[u].height) >= (e < 1e3 / (window.devicePixelRatio || 1) ? 1.75 : 1) && (o = !0), r.push(t[u]), n = [t[u].width, t[u].height]
                    }
                return r
            }, i.ti = function(t, n, i) {
                for (var e = 0, r = e; r < i.length; r++) t * n > i[r].bitrate + i[r].audioBitrate && (e = r);
                return e
            }, i.ai = function(t, n, i, e) {
                var r = i / e,
                    o = t - n * r,
                    u = n - t / r,
                    a = t - o,
                    s = n - u;
                return o > 0 && (s = n), u > 0 && (a = t), [a, s]
            }, i.oi = function(t, n, i, e) {
                var r = this.ai(t, n, i, e),
                    o = i * e;
                this.scanner.video && this.scanner.video.metadata.percentShown && (o *= this.scanner.video.metadata.percentShown);
                var u = window.devicePixelRatio || 1;
                return o / (r[0] * r[1] * u * u)
            }, i.ii = function() {
                return this.et.tests && this.et.tests.lookahead_count && this.et.tests.lookahead_count.group ? this.et.tests.lookahead_count.data.segment_lookahead_count : this.MAX_LOADABLE_SEGMENTS_AUTO
            }, i.ei = function(t, n, i) {
                var e = i && i.bitrate > 12e3;
                return 1 === this.whitelisted.length ? e ? 30 : this.MAX_LOADABLE_SEGMENTS_LOCKED * this.SEGMENT_DURATION : this.ii() * this.SEGMENT_DURATION
            }, i.si = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
                if (t = parseFloat(t), isNaN(t)) return 0;
                var i = Math.pow(10, n);
                return Math.round(t * i) / i
            }, i.ni = function(t, n, i) {
                var e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                if (!i) return !1;
                n = Math.min(n, this.scanner.tt.duration);
                for (var r = 0; r < i.length; r++) {
                    var o = this.si(i.start(r)) - e,
                        u = this.si(i.end(r)) + e;
                    if (o <= t && u >= n) return !0
                }
                return !1
            }, i.ci = function() {
                return this.scanner.Qt.video.length > 0 && this.scanner.Qt.audio.length > 0
            }, i.ri = function(t, n) {
                var i = 1;
                return this.ci() && (i = .05), this.ni(t.start, t.end, n, i)
            }, n
        }(function() {
            function t(t) {
                this.scanner = t
            }
            F(t, null, [{
                key: "displayName",
                get: function() {
                    return "Brain"
                }
            }]);
            var n = t.prototype;
            return n.shouldPowerUp = function(t, n) {
                return !1
            }, n.shouldPowerDown = function(t, n) {
                return !1
            }, n.canPowerUp = function(t, n) {
                return 1 !== t.length && n < t.length - 1
            }, n.canPowerDown = function(t, n) {
                return 1 !== t.length && n > 0
            }, n.filterStreams = function(t) {
                return t
            }, t
        }()),
        xn = ["width", "height", "bandwidth", "duration", "timescale", "presentationTimeOffset"];

    function Mn(t) {
        for (var n = {}, i = 0; i < t.length; i++) {
            var e = t[i].nodeName,
                r = t[i].nodeValue; - 1 !== xn.indexOf(e) && (r = parseInt(r, 10)), n[e] = r
        }
        return n
    }

    function On(t, n, i) {
        return Array.prototype.filter.call(t.childNodes, function(t) {
            return t instanceof Element && t.localName === i && t.namespaceURI === n
        })
    }

    function Rn(t, n) {
        return t.hasAttribute(n) ? t.getAttribute(n) : null
    }

    function Cn(t, n, i) {
        return t.hasAttributeNS(n, i) ? t.getAttributeNS(n, i) : null
    }

    function In() {
        var t, n, i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
        return n = (t = i.match(/^(\d+)\/(\d+)$/)) ? Number(t[1] / t[2]) : Number(i), isNaN(n) ? null : n
    }

    function Ln(t) {
        return Array.prototype.every.call(t.childNodes, function(t) {
            return t.nodeType === Node.TEXT_NODE || t.nodeType === Node.CDATA_SECTION_NODE
        }) ? t.textContent.trim() : null
    }
    var Dn = {
            "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
            "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
            "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
            "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime"
        },
        jn = function() {
            function t(t, n) {
                var i = new DOMParser;
                this.manifest = i.parseFromString(t, "application/xml"), this.url = n, this.mpd = this.manifest.getElementsByTagName("MPD")[0]
            }
            t.skyfire = function(n, i) {
                var e = new t(n, i);
                return B({}, e.contentProtection, {
                    base_url: e.baseURL,
                    audio: t.fi(e, e.audioAdaptationSet, e.audio),
                    video: t.fi(e, e.videoAdaptationSet, e.video)
                })
            }, t.fi = function(t, n, i) {
                return i.map(function(i) {
                    var e = i.segmentList;
                    return {
                        id: i.id,
                        base_url: "",
                        bitrate: i.bandwidth,
                        codecs: i.codecs,
                        duration: t.mediaPresentationDuration,
                        framerate: In(i.frameRate),
                        height: i.height,
                        init_segment: e.initSegment,
                        max_segment_duration: t.maxSegmentDuration,
                        mime_type: n.mimeType,
                        segments: e.segments,
                        width: i.width
                    }
                })
            };
            var n = t.prototype;
            return n.li = function(t) {
                for (var n = this, i = [], e = function(e) {
                        var r = Mn(t[e].attributes),
                            o = t[e].getElementsByTagName("Representation");
                        r.representations = n.hi(o), r.frameRate && r.representations.forEach(function(t) {
                            t.framerate = parseInt(r.frameRate, 10)
                        }), 1 === r.representations.length && (r.width && (r.representations[0].width = r.width), r.height && (r.representations[0].height = r.height)), i.push(r)
                    }, r = 0; r < t.length; r++) e(r);
                return i
            }, n.hi = function(t) {
                for (var n = [], i = 0; i < t.length; i++) {
                    var e = Mn(t[i].attributes),
                        r = t[i].getElementsByTagName("SegmentList")[0];
                    r && (e.segmentList = this.di(r));
                    var o = t[i].getElementsByTagName("SegmentTemplate")[0];
                    o && (e.segmentList = this.vi(o, e)), n.push(e)
                }
                return n
            }, n.di = function(t) {
                var n = t.getElementsByTagName("Initialization")[0],
                    i = t.getElementsByTagName("SegmentURL"),
                    e = Mn(t.attributes);
                e.startNumber = parseInt(e.startNumber, 10), e.initSegment = this.baseURL + Rn(n, "sourceURL"), e.segments = [];
                for (var r = 0; r < i.length; r++) {
                    var o = Rn(i[r], "media"),
                        u = o.match(/cn(\d*)/);
                    if (null === u) throw new Error("Error parsing segment index from segment URL");
                    e.segments.push({
                        index: parseInt(u[1], 10),
                        url: this.baseURL + o
                    })
                }
                return e
            }, n.vi = function(t, n) {
                var i = t.getElementsByTagName("S")[0],
                    e = t.getElementsByTagName("S"),
                    r = Mn(t.attributes);
                r.startNumber = parseInt(r.startNumber, 10), r.timescale = parseInt(r.timescale, 10) || 1, r.initSegment = r.initialization.replace("$RepresentationID$", n.id), r.segments = [];
                for (var o = Rn(i, "t") / r.timescale, u = r.startNumber, a = 0; a < e.length; a++)
                    for (var s = e[a], c = Rn(s, "d") / r.timescale, f = parseInt(Rn(s, "r") || 0, 10) + 1, l = 0; l < f; l++) {
                        var h = o + c,
                            d = r.media.replace("$RepresentationID$", n.id).replace("$Time$", o).replace("$Number$", u);
                        r.segments.push({
                            url: d,
                            start: o,
                            end: h,
                            index: u
                        }), o += c, u += 1
                    }
                return r
            }, F(t, [{
                key: "profiles",
                get: function() {
                    return Rn(this.mpd, "profiles")
                }
            }, {
                key: "type",
                get: function() {
                    return Rn(this.mpd, "type")
                }
            }, {
                key: "minimumUpdatePeriod",
                get: function() {
                    return Nt(Rn(this.mpd, "minimumUpdatePeriod"))
                }
            }, {
                key: "mediaPresentationDuration",
                get: function() {
                    return Nt(Rn(this.mpd, "mediaPresentationDuration"))
                }
            }, {
                key: "maxSegmentDuration",
                get: function() {
                    return Nt(Rn(this.mpd, "maxSegmentDuration"))
                }
            }, {
                key: "publishTime",
                get: function() {
                    return Rn(this.mpd, "publishTime")
                }
            }, {
                key: "availabilityStartTime",
                get: function() {
                    return Rn(this.mpd, "availabilityStartTime")
                }
            }, {
                key: "timeShiftBufferDepth",
                get: function() {
                    return Nt(Rn(this.mpd, "timeShiftBufferDepth"))
                }
            }, {
                key: "suggestedPresentationDelay",
                get: function() {
                    return Nt(Rn(this.mpd, "suggestedPresentationDelay"))
                }
            }, {
                key: "minBufferTime",
                get: function() {
                    return Nt(Rn(this.mpd, "minBufferTime"))
                }
            }, {
                key: "baseURL",
                get: function() {
                    var t = this.mpd.getElementsByTagName("BaseURL")[0];
                    return t && Ln(t) || this.url.substr(0, this.url.lastIndexOf("/") + 1)
                }
            }, {
                key: "periods",
                get: function() {
                    for (var t = [], n = this.mpd.getElementsByTagName("Period"), i = 0; i < n.length; i++) {
                        var e = Mn(n[i].attributes),
                            r = n[i].getElementsByTagName("AdaptationSet");
                        e.adaptationSets = this.li(r), t.push(e)
                    }
                    return t
                }
            }, {
                key: "audioAdaptationSet",
                get: function() {
                    return this.periods[0].adaptationSets.find(function(t) {
                        return 0 === t.mimeType.search(/audio/)
                    })
                }
            }, {
                key: "videoAdaptationSet",
                get: function() {
                    return this.periods[0].adaptationSets.find(function(t) {
                        return 0 === t.mimeType.search(/video/)
                    })
                }
            }, {
                key: "representations",
                get: function() {
                    return this.periods[0].adaptationSets[0].representations
                }
            }, {
                key: "audio",
                get: function() {
                    return this.audioAdaptationSet ? this.audioAdaptationSet.representations : null
                }
            }, {
                key: "video",
                get: function() {
                    return this.videoAdaptationSet.representations
                }
            }, {
                key: "contentProtection",
                get: function() {
                    var t, n = "urn:mpeg:cenc:2013",
                        i = this.mpd.getElementsByTagName("ContentProtection"),
                        e = [],
                        r = {};
                    for (var o in i) {
                        var u = i[o];
                        if (u instanceof Element) {
                            var a = Rn(u, "schemeIdUri");
                            a && Dn[a] && e.push(Dn[a]), t || (t = Cn(u, n, "default_KID"));
                            var s = On(u, n, "pssh").map(Ln),
                                c = [];
                            try {
                                c = s.map(function(t) {
                                    return {
                                        initDataType: "cenc",
                                        initData: jt(t)
                                    }
                                })
                            } catch (t) {
                                throw new Error("Bad pshh encoding")
                            }
                            c.length > 0 && (r[Dn[a]] = r[Dn[a]] || {}, r[Dn[a]].cenc = c[0]);
                            var f = On(u, "usn:microsoft:playready", "pro").map(Ln);
                            c = [];
                            try {
                                c = f.map(function(t) {
                                    return {
                                        initDataType: "mspr",
                                        initData: jt(t)
                                    }
                                })
                            } catch (t) {
                                throw new Error("Bad pro encoding")
                            }
                            c.length > 0 && (r[Dn[a]] = r[Dn[a]] || {}, r[Dn[a]].mspr = c[0])
                        }
                    }
                    return t ? {
                        is_drm: !0,
                        key_info: {
                            cdms: K(new tn(e)),
                            key_id: t,
                            inits: r
                        }
                    } : {}
                }
            }]), t
        }(),
        Pn = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).reset(), i.manifestLoadDurations = [], e.mediaSourceScanner && (i.pi = e.mediaSourceScanner.maxPreloadStreamIndex), i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "MediaSourceScanner"
                }
            }, {
                key: "supported",
                get: function() {
                    return "undefined" != typeof MediaSource && MediaSource.isTypeSupported
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    return ["application/vnd.vimeo.dash+json", "video/vnd.mpeg.dash.mpd"]
                }
            }]);
            var i = n.prototype;
            return i.deactivate = function() {
                t.prototype.deactivate.call(this), this.sorcerer && this.sorcerer.destroy(), this.reset()
            }, i.reset = function() {
                this.mi = new tn, this.bi = {};
                var t = this.et.mediaSourceScanner || {};
                t.tests = this.et.tests, this.wi = new An(this, t), this.yi = !1, this.gi = !1, this.Ei = null, this.Qt = {}, this.Qt.audio = [], this.Qt.video = [], this.ki = [], this._i = null, this.Ti = null, this.Si = null, this.Ai = null, this.xi = null, this.Mi = null, this.Oi = !1, this.Ri = null, this.Ci = !1, this.Ii = !1, this.Li = null, this.Di = null, this.ji = !1, this.Pi = [], this.Ni = {}, this.Ui = 0
            }, i.preloadStream = function() {
                var t = this;
                return this.Li ? this.Li : (this.Li = new e(function(n, i) {
                    var e = 1;
                    t.Qt.audio.length && (e = 2);
                    var r = 0,
                        o = !1,
                        u = t.sorcerer.video.activeStreamIndex;
                    t.Pi.length && (u = t.Pi[0]);
                    var a = 0,
                        s = function() {
                            var n = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                            for (var i in n && (u = t.sorcerer.video.activeStreamIndex), t.Qt)
                                if (0 !== t.Qt[i].length) {
                                    var e = t.wi.getSegmentsToLoad(!1, i, t.Fi());
                                    e.length > 0 && (a = e[0]);
                                    var s = u;
                                    "audio" === i && (s = t.Vi(u));
                                    var c = t.Bi(s, a, i),
                                        f = t.Hi(s, a, i),
                                        l = t.sorcerer[i].streams[s],
                                        h = {
                                            stream: s,
                                            segment: a,
                                            type: i
                                        },
                                        d = c;
                                    if (t.Wi()) d = {
                                        url: d,
                                        byteRange: t.qi(s, a, i)
                                    };
                                    "audio" !== i || s !== o ? ("audio" === i && !1 === o && (o = s), l.addSegment(d, {
                                        identifier: h,
                                        isFinalSegment: f,
                                        loadOnly: !0,
                                        priority: 0
                                    })) : (r += 1, t.zi(h))
                                }
                        };
                    t.sorcerer.on("bufferqueueadd", function i(o) {
                        if (!((r += 1) < e) && o.segment === a) {
                            if (0 === t.Pi.length) {
                                var c = t.Gi(!0);
                                if (!1 !== c && c > o.stream) return t.sorcerer.video.switchTo(c, !1), t.Qt.audio.length && t.sorcerer.audio.switchTo(t.Vi(c), !1), r = 0, void s(!0)
                            }
                            var f = t.Fi(u).segments[0].end,
                                l = t.Yi(!0);
                            t.currentTime >= l && (t.currentTime = l), t.currentTime > f && (t.sorcerer.clear(), t.mi = new tn), t.sorcerer.video.switchTo(u, !1), t.Qt.audio.length && t.sorcerer.audio.switchTo(t.Vi(u), !1), t.sorcerer.off("bufferqueueadd", i), t.yi = !0, n()
                        }
                    }), s()
                }), this.Li)
            }, i.loadManifest = function(t) {
                var n = this,
                    i = Date.now();
                return Sn({
                    url: t,
                    timeout: 1e4
                }).then(function(e) {
                    return e.url && e.url !== t && -1 !== e.url.indexOf("live-archive") && (n.Ti = e.url.split("/").slice(0, -2).join("/")), n.manifestLoadDurations.push({
                        url: t,
                        status: e.status,
                        duration: Date.now() - i
                    }), n.fire(tt.MANIFEST_LOADED), e.text()
                }).then(function(n) {
                    return -1 !== t.indexOf(".mpd") ? jn.skyfire(n, t) : JSON.parse(n)
                }).catch(function(r) {
                    if (n.manifestLoadDurations.push({
                            url: t,
                            status: r.response && r.response.status,
                            duration: Date.now() - i
                        }), n.reset(), r instanceof pn && 410 === r.response.status) return n.fire(tt.MEDIA_URL_EXPIRED), new e(function() {});
                    throw r instanceof bn && n.fire(tt.MANIFEST_TIMEOUT), r
                })
            }, i.setVideoSrc = function(t, n) {
                var i = this;
                if ((!(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]) && !n && this._i) {
                    if (("metadata" === this.ft || "none" === this.ft && !this.paused) && !this.yi) return void this._i.then(function() {
                        var n = i.paused;
                        i.setVideoSrc(t, n, !1)
                    }).catch(console.error);
                    if ("auto" === this.ft) return void this._i.then(function() {
                        i.setVideoSrc(t, !1, !1)
                    }).catch(console.error)
                }
                n && this.reset(), n || !this.paused || this.sorcerer || (n = !0);
                var e = this.Ki;
                n && (e = this.Lt);
                var r = t.split("/");
                r.pop();
                var o = "".concat(r.join("/"), "/");
                this.Oi = !n, this._i = this.$i(t, this.ft).then(this.loadManifest.bind(this)).then(function(t) {
                    return "string" == typeof i.Ti && -1 !== i.Ti.indexOf("live-archive") ? t : (i.Ti = o, t)
                }).then(e.bind(this)), n && "auto" === this.ft && (this._i = this.Xi(this._i, this.preloadStream.bind(this), !1)), this._i = this.Ji(this._i)
            }, i.getBitrateAtTime = function(t, n) {
                if (!this.sorcerer) return 0;
                var i = this.sorcerer.streamIndexAtTime(t, n);
                return this.Qt[n][i] ? this.Qt[n][i].bitrate : 0
            }, i.lockStreamIndexes = function() {
                var t = this,
                    n = this.Pi.map(function(n) {
                        return t.Qt.video.indexOf(t.Qt.video[n])
                    }),
                    i = !this.paused;
                if (i && (this.Zi = !0, this.tt.pause()), this.Ni.video = !1, this.wi.lock(n), this.gi || "auto" === this.ft) {
                    var e = Math.max(this.currentTime - 7, 0),
                        r = Math.min(this.currentTime + 7, this.tt.duration);
                    this.sorcerer.removeBuffer(e, r).then(function() {
                        !t.gi && "auto" === t.ft || t.ended ? t.Qi() : (t.seekToTime(t.currentTime), i && t.paused && (t.te = !0, t.tt.play()))
                    }).catch(console.error)
                }
            }, i.seekToTime = function(t) {
                var n = this;
                if (t === this.currentTime) return e.resolve();
                var i = null === this.Ai;
                if (i || (this.ne && (this.ne(), this.ne = null), this.ee = null, this.Ai = null, this.xi = null), this.Ai = t, this.yi)
                    for (var r in this.Qt)
                        if (this.Qt[r].length > 0) {
                            var o = this.sorcerer[r].activeStreamIndex;
                            this.sorcerer[r].streams[o].abort()
                        }
                return this.ee = this.re(t), e.all([this._i, this.Di]).then(function() {
                    n.Qi()
                }).catch(console.error), this.oe && 0 === t && this.fire(J.SEEKING), i || this.play().catch(this.vt.bind(this)), this._i.then(function() {
                    return n.ee
                }).catch(function(t) {})
            }, i.takeSnapshot = function() {}, i.initDrm = function() {}, i.onstalled = function() {
                return !1
            }, i.onseeked = function(t) {
                this.gi && this.Qi()
            }, i.onended = function(n) {
                return t.prototype.onended.call(this, n), !0
            }, i.onseeking = function(t) {
                var n = this;
                this.gi && (clearTimeout(this.ue), this.ue = setTimeout(function() {
                    n.Qi()
                }, 100))
            }, i.ontimeupdate = function(n) {
                if (!this.sorcerer) return !1;
                if (t.prototype.ontimeupdate.call(this), 0 === this.currentTime) return this.gi;
                if (this.Ai) return !1;
                if (this.gi || (this.gi = !0), this.Ii && this.currentTime >= this.Ii) {
                    this.sorcerer.removeBuffer(0, this.Ii - 2), this.Ii = !1
                }
                this.Qi();
                var i = this.sorcerer.getDroppedFrameTotal();
                this.fire(tt.DROPPED_FRAMES, i);
                var e = this.sorcerer.getResponseSpeeds(),
                    r = this.Qt.video[this.sorcerer.video.activeStreamIndex],
                    o = this.et.tests && this.et.tests.download_bitrate;
                if ((!o || !o.group) && r) {
                    var u = {
                        speed: this.wi.getCurrentSpeed(),
                        bitrate: r.bitrate,
                        speeds: e
                    };
                    this.fire(tt.BANDWIDTH, u)
                }
                var a = this.tt.buffered.length;
                if (!a) return !0;
                var s = this.tt.buffered.end(a - 1);
                if (Math.ceil(s) === Math.ceil(this.tt.duration)) return !0;
                return Math.abs(this.currentTime - s) < .2 ? !this.ji && (this.fire(tt.STREAM_BUFFER_START, {
                    hasLowerStreamIndex: this.sorcerer.video.activeStreamIndex > 0
                }), this.ji = !0, !1) : void 0
            }, i.onprogress = function() {
                this.wi.canPlayFromTimeInStream(this.currentTime, this.Fi()) && this.ji && (this.fire(tt.STREAM_BUFFER_END), this.ji = !1)
            }, i.onwaiting = function() {
                if (this.tt.currentTime >= this.tt.duration) {
                    return this.tt.currentTime = this.tt.duration - .1, !1
                }
                return !0
            }, i.onerror = function() {
                return !!this.tt.error && (this.tt.error.code === this.tt.error.MEDIA_ERR_DECODE ? (this.fire(tt.SCANNER_ERROR, {
                    reason: "encountered media decode error"
                }), !1) : t.prototype.onerror.call(this))
            }, i.pause = function() {
                t.prototype.pause.call(this)
            }, i.play = function() {
                var n = this;
                return t.prototype.play.call(this, function() {
                    return n.Mi && n.Mi(), n.Oi || n.yi || "auto" === n.ft || (n._i = n.Xi(n._i, n.preloadStream.bind(n))), n._i.then(function() {
                        return e.resolve(n.ee)
                    })
                })
            }, i.onpause = function() {
                return this.Zi ? (this.Zi = !1, !1) : (t.prototype.onpause.call(this), !0)
            }, i.onplay = function() {
                return !this.te || (this.te = !1, !1)
            }, i.Vi = function(t) {
                if (0 === this.Qt.audio.length) return !1;
                for (var n = 0; n < this.Qt.audio.length; n++) {
                    if (this.Qt.audio[n].bitrate < 8e4 && this.Qt.video[t].bitrate < 5e5) return n;
                    if (this.Qt.audio[n].bitrate > 144e3 && this.Qt.video[t].bitrate > 1e6) return n
                }
                return 0
            }, i.Xi = function(t, n) {
                var i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                    e = t.then(n);
                return i && (e = this.Ji(e)), e
            }, i.Ji = function(t) {
                var n = this;
                return t.catch(function(t) {
                    return n.fire(tt.FILE_ERROR, {
                        reason: t
                    }), new e(function(t, n) {})
                })
            }, i.ae = function() {
                if (this.yi) {
                    this.Qt.video[this.sorcerer.video.activeStreamIndex].bitrate / 1e3 > 12e3 && (this.Di = this.sorcerer.removeBuffer())
                }
            }, i.$i = function(t, n) {
                var i = this;
                return new e(function(e, r) {
                    "none" !== n || i.Oi && !i.paused ? e(t) : i.Mi = function() {
                        e(t), i.Mi = null
                    }
                })
            }, i.re = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.Ai;
                return new e(function(i, e) {
                    t.gi && 0 === n || t.wi.canPlayFromTimeInStream(n, t.Fi()) ? i(n) : (t.ae(), t.xi = i)
                }).then(function(n) {
                    t.Ai = null, t.ee = null;
                    var i = new e(function(n, i) {
                        t.ne = i;
                        t.tt.addEventListener("seeked", function i() {
                            n(t.tt.currentTime), t.tt.removeEventListener("seeked", i)
                        })
                    });
                    return t.tt.currentTime = n, i
                })
            }, i.se = function(t, n) {
                "auto" !== t && "auto" === n && (this._i = this.Xi(this._i, this.preloadStream.bind(this))), t !== n && "none" !== n && this.Mi && this.Mi()
            }, i.ce = function(t) {
                var n = t.audio.reduce(function(t, n) {
                        return t + n.duration
                    }, 0),
                    i = t.video.reduce(function(t, n) {
                        return t + n.duration
                    }, 0),
                    e = n / t.audio.length,
                    r = i / t.video.length;
                return e + 4 < r ? r - e : 0
            }, i.Ki = function(t) {
                var n = this;
                return new e(function(i, e) {
                    if (n.Ei = t, n.Qt.video = n.fe(t.video), t.audio) {
                        var r = n.ce(t);
                        if (r > 0) return n.fire(tt.AV_DURATION_MISMATCH, r), n.fire(tt.SCANNER_ERROR, {
                            reason: "Encountered A/V duration mismatch"
                        }), void e();
                        n.Qt.audio = n.fe(t.audio)
                    }
                    for (var o = 0; o < n.Qt.video.length; o++) {
                        var u = 0;
                        if (t.audio) {
                            var a = n.Qt.audio[n.Vi(o)];
                            a && (u = a.bitrate)
                        }
                        n.Qt.video[o].audioBitrate = u
                    }
                    n.le(n.Qt.video, n.Qt.audio, n.Ei.key_info), i()
                })
            }, i.he = function(t, n) {
                this.sorcerer && this.sorcerer.destroy(), this.sorcerer = new dn(t, n), this.tt.src = URL.createObjectURL(this.sorcerer.mediaSource), this.successfulSegments = this.sorcerer.getSuccessfulSegments(), this.failedSegments = this.sorcerer.getFailedSegments()
            }, i.Yi = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                    n = t ? 1 / 0 : 0;
                for (var i in this.Qt) this.Qt[i].length && (n = Math[t ? "min" : "max"](n, this.Qt[i][0].duration));
                return n
            }, i.Lt = function(t) {
                var n = this;
                return this.Ki(t).then(function() {
                    var i = n.wi.filterStreams(n.Qt.video).length - 1,
                        e = n.Qt.video[0];
                    (n.Pi.length && (e = n.Qt.video[n.Pi[0]]), void 0 !== n.pi) && (i <= n.Qt.video.indexOf(t.video[n.pi]) && (e = n.Qt.video[i]));
                    n.he(n.tt, {
                        duration: n.Yi()
                    }), n.sorcerer.on("srcnotsupported", function() {
                        n.fire(tt.SCANNER_ERROR, {
                            reason: "this codec is not supported for mediasource playback"
                        })
                    });
                    var r = n.Qt.video.indexOf(e),
                        o = function(t) {
                            n.Qt[t].forEach(function(i, e) {
                                var r = n.Bi(e, "init", t);
                                n.Wi() && n.Qt[t][e].init_segment_range && (r = {
                                    url: r,
                                    byteRange: n.qi(e, "init", t)
                                });
                                n.sorcerer.addStream("".concat(i.mime_type, '; codecs="').concat(n.Qt[t][e].codecs, '"'), r)
                            })
                        };
                    for (var u in n.Qt) o(u);
                    n.sorcerer.video.switchTo(r), n.sorcerer.on("queued", n.de.bind(n)), n.sorcerer.on("downloadabort", n.ve.bind(n)), n.sorcerer.on("appendbufferend", n.zi.bind(n)), n.sorcerer.on("downloadend", n.pe.bind(n)), n.sorcerer.on("downloaderror", n.Ht.bind(n)), n.sorcerer.on("quotaexceedederror", n.me.bind(n)), n.sorcerer.video.on("streamchange", n.be.bind(n)), n.sorcerer.mediaSource.addEventListener("sourceended", function() {
                        n.fire(J.PROGRESS)
                    })
                })
            }, i.fe = function(t) {
                var n = t.slice(0);
                return n.sort(function(t, n) {
                    var i = t.width * t.height * t.bitrate,
                        e = n.width * n.height * n.bitrate;
                    return t.width === n.width && t.height === n.height ? t.framerate - n.framerate : i - e
                }), n
            }, i.Wi = function() {
                return !!this.Ei.video[0].segments[0].range
            }, i.qi = function(t, n, i) {
                return "init" === n ? this.Qt[i][t].init_segment_range : this.Qt[i][t].segments[n].range
            }, i.we = function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "video";
                return "init" === n ? 0 : this.Qt[i][t].segments[n].start
            }, i.Bi = function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "video";
                if ("init" === n && !this.Qt[i][t].init_segment_range && -1 === this.Qt[i][t].init_segment.indexOf(".")) return function(t) {
                    return jt(t).buffer
                }(this.Qt[i][t].init_segment);
                var e = this.Ti,
                    r = this.Ei.base_url && -1 !== this.Ei.base_url.indexOf("//");
                return r && (e = this.Ei.base_url), this.Ei.base_url && !r && (e += this.Ei.base_url), this.Qt[i][t].base_url && (e += this.Qt[i][t].base_url), this.Wi() ? e : "init" === n ? e += this.Qt[i][t].init_segment : (this.Qt[i][t].segments[n].url && (e += this.Qt[i][t].segments[n].url), e)
            }, i.ye = function(t, n, i) {
                return "".concat(t, ":").concat(n, ":").concat(i)
            }, i.Hi = function(t, n, i) {
                return n === this.Qt[i][t].segments.length - 1
            }, i.ge = function(t, n) {
                var i = [],
                    e = this.bi[t];
                if (!e) return i;
                for (var r = 0; r < e.length; r++) this.mi.has(this.ye(e[r], t, n)) && i.push(e[r]);
                return i
            }, i.Fi = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "video";
                return void 0 !== this.sorcerer && (t = this.sorcerer[n].activeStreamIndex), this.Qt[n][t]
            }, i.Gi = function(t) {
                var n = this.Qt.video;
                if (0 === (n = this.wi.filterStreams(n)).length) return !1;
                if (this.Ni.video) return !1;
                var i = n[n.length - 1];
                if (i.id !== this.Si) {
                    this.Si = i.id;
                    var e = {
                        index: this.Qt.video.indexOf(i),
                        streams: this.Qt.video
                    };
                    this.fire(tt.STREAM_TARGET_CHANGE, e)
                }
                var r = this.Fi(),
                    o = this.wi.shouldPowerUp(n, r, t);
                return !1 === o && (o = this.wi.shouldPowerDown(n, r)), !1 === o ? o : this.Qt.video.indexOf(n[o])
            }, i.Ee = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "video",
                    i = this.Gi();
                "audio" === n && (!1 === i && (i = this.sorcerer.video.activeStreamIndex), i = this.Vi(i), this.sorcerer.audio.activeStreamIndex === i && (i = !1));
                var e = !1;
                !1 !== i && (e = i > this.sorcerer[n].activeStreamIndex, this.Ni[n] = !0, this.sorcerer[n].switchTo(i).then(function() {
                    t.Ni[n] = !1
                }).catch(console.error));
                for (var r = this.wi.getSegmentsToLoad(e, n, this.Fi()), o = this.sorcerer[n].activeStreamIndex, u = 0; u < r.length; u++) {
                    var a = this.Bi(o, r[u], n),
                        s = this.ge(r[u], n);
                    if (!(s.length > 1) && !(1 === s.length && o <= s[0])) {
                        var c = this.Hi(o, r[u], n),
                            f = {
                                stream: o,
                                segment: r[u],
                                type: n
                            },
                            l = this.sorcerer[n].streams[o],
                            h = a;
                        if (this.Wi()) h = {
                            url: h,
                            byteRange: this.qi(o, r[u], n)
                        };
                        var d = this.we(o, r[u], n),
                            v = "video" === n;
                        l.addSegment(h, {
                            identifier: f,
                            isFinalSegment: c,
                            priority: d,
                            includeWithBandwidthChecks: v
                        })
                    }
                }
            }, i.Qi = function() {
                var t = this;
                return this._i && this._i.then(function() {
                    for (var n in t.Qt) t.Qt[n].length > 0 && t.Ee(n)
                })
            }, i.de = function(t) {
                this.mi.add(this.ye(t.stream, t.segment, t.type)), this.bi[t.segment] || (this.bi[t.segment] = []), -1 === this.bi[t.segment].indexOf(t.stream) && this.bi[t.segment].push(t.stream)
            }, i.ke = function(t) {
                var n = this;
                (this.bi[t.segment] || []).forEach(function(i) {
                    n.mi.delete(n.ye(i, t.segment, t.type))
                })
            }, i.ve = function(t) {
                this.bi[t.segment] && this.ke(t)
            }, i.zi = function(t) {
                this.Ci && t.stream === this.Ri && (this.Ci = !1, this.Ii = this.Qt.video[t.stream].segments[t.segment].start), this.bi[t.segment] && this.ke(t), null !== this.Ai && this.xi && this.wi.canPlayFromTimeInStream(this.Ai, this.Fi()) && (this.xi(this.Ai), this.xi = null)
            }, i.pe = function(t, n) {
                this.fire(tt.DOWNLOAD_END, {
                    identifier: t,
                    data: n
                })
            }, i.Ht = function(t, n) {
                this.ke(t);
                var i = tt.DOWNLOAD_ERROR;
                410 === n && (i = tt.MEDIA_URL_EXPIRED), this.fire(i, {
                    identifier: t,
                    status: n
                })
            }, i.me = function(t) {
                this.fire(tt.QUOTA_EXCEEDED_ERROR, {
                    buffered: t
                })
            }, i.be = function(t) {
                t > this.Ri && this.currentTime > 0 && (this.Ci = !0), this.Ri = t;
                var n = {
                    index: this.Ei.video.indexOf(this.Qt.video[t]),
                    streams: this.Ei.video
                };
                this.fire(tt.STREAM_CHANGE, n)
            }, i.le = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                if (this.rt.drmHandler) {
                    var e = {
                        audio: n.map(function(t) {
                            return "".concat(t.mime_type, ';codecs="').concat(t.codecs, '"')
                        }),
                        video: t.map(function(t) {
                            return "".concat(t.mime_type, ';codecs="').concat(t.codecs, '"')
                        })
                    };
                    this.rt.drmHandler.init(this, e, i)
                }
            }, F(n, [{
                key: "preload",
                get: function() {
                    return this.ft
                },
                set: function(t) {
                    this.se(this.ft, t), this.ft = t
                }
            }, {
                key: "videoElement",
                get: function() {
                    return this.tt
                }
            }, {
                key: "videoWidth",
                get: function() {
                    var t = this.Fi();
                    return t ? t.width : this.tt.videoWidth
                }
            }, {
                key: "videoHeight",
                get: function() {
                    var t = this.Fi();
                    return t ? t.height : this.tt.videoHeight
                }
            }, {
                key: "restrictedStreamIndexes",
                get: function() {
                    return this.Pi
                },
                set: function() {
                    var t = this,
                        n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    this.Pi.join(",") !== n.join(",") && (this.Pi = n, this._i.then(function() {
                        return t.lockStreamIndexes()
                    }).catch(console.error))
                }
            }, {
                key: "currentTime",
                get: function() {
                    return null !== this.Ai ? this.Ai : this.tt.currentTime
                },
                set: function(t) {
                    (this.gi || 0 !== t) && this.seekToTime(t)
                }
            }, {
                key: "downloadSpeed",
                get: function() {
                    return this.Ui
                }
            }, {
                key: "isLowerProfileAvailable",
                get: function() {
                    return this.sorcerer ? this.sorcerer.video.activeStreamIndex > 0 : null
                }
            }]), n
        }(Zt),
        Nn = {
            audio: [/^vorbis$/, /^opus$/, /^flac$/, /^mp4a/, /^[ae]c-3$/],
            video: [/^avc/, /^hev/, /^hvc/, /^vp0?[89]/, /^av1$/]
        },
        Un = function() {
            function t(t, n) {
                var i = this;
                return window.m3u8Parser ? this.Lt(t, n) : new e(function(e, r) {
                    document.getElementById("m3u8-parser").onload = function() {
                        i.Lt(t, n).then(e).catch(r)
                    }
                })
            }
            var n = t.prototype;
            return n._e = function(t) {
                var n = new window.m3u8Parser.Parser;
                return n.addParser({
                    expression: /^#EXT-X-MAP:URI/,
                    customType: "initSegment",
                    dataParser: function(t) {
                        return t.match(/"(.+?)"/)[1]
                    }
                }), n.push(t), n.end(), n.manifest
            }, n.Lt = function(t, n) {
                var i = this;
                if (this.manifest = this._e(t), this.url = n, this.variantStreams = [], this.audioStreams = [], this.uriToStreamInfosMap = {}, !this.manifest.playlists || 0 === this.manifest.playlists.length) return e.resolve();
                var r = this.manifest.playlists.map(function(t) {
                    return i.Te(t)
                });
                return e.all(r).then(function(t) {
                    if (t.every(function(t) {
                            return "ERROR" === t
                        })) throw new Error("All M3U8 playlists failed to load.");
                    return i
                })
            }, n.Te = function(t) {
                var n = this;
                t.baseUrl = this.baseURL, this.variantStreams.push(t);
                var i = t.attributes.AUDIO;
                if (i) {
                    var r = this.manifest.mediaGroups.AUDIO[i],
                        o = Object.keys(r).map(function(i) {
                            var e = r[i];
                            return n.Se(e, t)
                        });
                    return e.all(o)
                }
                return e.resolve()
            }, n.Se = function(t, n) {
                var i = this,
                    e = this.baseURL + t.uri;
                if (t.attributes = Object.assign({}, t.attributes, n.attributes), this.uriToStreamInfosMap[t.uri]) return this.uriToStreamInfosMap[t.uri];
                var r = Sn(e).text().then(function(n) {
                    t.manifest = i._e(n), t.baseUrl = i.baseURL, i.audioStreams.push(t)
                }).catch(function(t) {
                    return "ERROR"
                });
                return this.uriToStreamInfosMap[t.uri] = r, r
            }, n.refreshPlaylist = function(t) {
                var n = this,
                    i = this.variantStreams.filter(function(n) {
                        return "".concat(n.baseUrl).concat(n.uri) === "".concat(t.baseUrl).concat(t.id)
                    });
                if (0 === i.length) return e.reject();
                var r = i[0],
                    o = "".concat(r.baseUrl).concat(r.uri);
                return function(t) {
                    return Sn(o).text().then(function(i) {
                        return t.manifest = n._e(i), t.baseUrl = n.baseURL, t
                    })
                }(r)
            }, n.li = function() {
                var t = this.Ae(),
                    n = this.xe();
                return [].concat(t, n)
            }, n.Ae = function() {
                return 0 === this.variantStreams.length ? [] : [{
                    mimeType: "video/mp4",
                    representations: this.hi(this.variantStreams, "video")
                }]
            }, n.xe = function() {
                return 0 === this.audioStreams.length ? [] : [{
                    mimeType: "audio/mp4",
                    representations: this.hi(this.audioStreams, "audio")
                }]
            }, n.hi = function(t, n) {
                var i = this;
                return t.map(function(t) {
                    return {
                        bandwidth: Ft(t, "attributes.BANDWIDTH"),
                        codecs: i.Me(Ft(t, "attributes.CODECS"), n),
                        height: Ft(t, "attributes.RESOLUTION.height"),
                        width: Ft(t, "attributes.RESOLUTION.width"),
                        baseUrl: t.baseUrl,
                        framerate: 30,
                        id: t.uri,
                        sar: "1:1",
                        segmentList: i.di(t)
                    }
                })
            }, n.Me = function(t, n) {
                return 0 === this.audioStreams.length ? t : this.Oe(t, n)
            }, n.Oe = function(t, n) {
                t = t.split(",");
                for (var i = Nn[n], e = 0; e < i.length; e++)
                    for (var r = 0; r < t.length; r++)
                        if (i[e].test(t[r].trim())) return t[r].trim();
                return null
            }, n.di = function(t) {
                if (!t || !t.manifest) return null;
                for (var n = t.manifest, i = n.segments, e = n.mediaSequence, r = 0; r < i.length; r++) {
                    var o = i[r],
                        u = parseInt(o.uri.match(/(\d+)\.\w+$/)[1], 10);
                    u >= e && (o.index = u), o.url = t.baseUrl + o.uri
                }
                return {
                    startNumber: e,
                    segments: i
                }
            }, F(t, [{
                key: "minimumUpdatePeriod",
                get: function() {
                    return Nt("PT3.0S")
                }
            }, {
                key: "baseURL",
                get: function() {
                    return this.url.substr(0, this.url.lastIndexOf("/") + 1)
                }
            }, {
                key: "periods",
                get: function() {
                    return [{
                        adaptationSets: this.li()
                    }]
                }
            }, {
                key: "audioAdaptationSet",
                get: function() {
                    return this.periods[0].adaptationSets.find(function(t) {
                        return 0 === t.mimeType.search(/audio/)
                    })
                }
            }, {
                key: "videoAdaptationSet",
                get: function() {
                    return this.periods[0].adaptationSets.find(function(t) {
                        return 0 === t.mimeType.search(/video/)
                    })
                }
            }, {
                key: "representations",
                get: function() {
                    return this.periods[0].adaptationSets[0].representations
                }
            }, {
                key: "audio",
                get: function() {
                    return this.audioAdaptationSet ? this.audioAdaptationSet.representations : null
                }
            }, {
                key: "video",
                get: function() {
                    return this.videoAdaptationSet.representations
                }
            }]), t
        }(),
        Fn = [1, 2, 5],
        Vn = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).UPSHIFT_BANDWIDTH_THRESHOLD = .4, i.DOWNSHIFT_BANDWIDTH_THRESHOLD = .6, i.Re = i.et.tests && i.et.tests.live_volatility && i.et.tests.live_volatility.group, i.consecutiveStreamIndex = {}, i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "Live"
                }
            }]);
            var i = n.prototype;
            return i.optimalStreamIndex = function(t, n) {
                if (1 === t.length) return t[0].index;
                t = this.filterStreams(t);
                var i = this.scanner.sorcerer.getCurrentSpeed({
                        type: "average",
                        howMany: 5,
                        weights: Fn
                    }),
                    e = this.scanner.sorcerer.getVolatilityScaler(5);
                e || (e = .3);
                var r = n,
                    o = n;
                if (this.Re)
                    for (var u = 0; u < t.length; u++) i * this.UPSHIFT_BANDWIDTH_THRESHOLD * e > t[u].bandwidth && (r = t[u].index), i * this.DOWNSHIFT_BANDWIDTH_THRESHOLD * e > t[u].bandwidth && (o = t[u].index);
                else
                    for (var a = 0; a < t.length; a++) i * this.UPSHIFT_BANDWIDTH_THRESHOLD > t[a].bandwidth && (r = t[a].index), i * this.DOWNSHIFT_BANDWIDTH_THRESHOLD > t[a].bandwidth && (o = t[a].index);
                var s = n < r ? r : o;
                this.Ce(s), this.consecutiveStreamIndex[s]++;
                var c = 1.5 * this.scanner.segmentLength,
                    f = this.scanner.videoElement,
                    l = f.buffered;
                return l && 0 !== l.length ? l.end(l.length - 1) - f.currentTime < c ? 0 !== n ? n - 1 : 0 : this.consecutiveStreamIndex[s] > 2 && s !== n ? s : n : 0
            }, i.Ce = function(t) {
                for (var n in this.consecutiveStreamIndex[t] || (this.consecutiveStreamIndex[t] = 0), this.consecutiveStreamIndex) this.consecutiveStreamIndex.hasOwnProperty(n) && parseInt(n, 10) !== t && (this.consecutiveStreamIndex[n] = 0)
            }, n
        }(An),
        Bn = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).Ie = null, i.Le = null, i.De = !1, i.je = !1, i.STREAM_SWITCH_CHECK_INTERVAL = 2e3, i.DOWN_SHIFT_CHECK_INTERVAL = 1e4, i.Pe = !1, i.Ne = 0, i.Ue = e.livePoller, i.Fe(), i.reset(), window.addEventListener("online", function() {
                    i.Ve(), i.play()
                }), i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "HLSLiveScanner"
                }
            }, {
                key: "supported",
                get: function() {
                    return "undefined" != typeof MediaSource && MediaSource.isTypeSupported
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    return ["application/x-mpegURL"]
                }
            }, {
                key: "supportsPlaybackRate",
                get: function() {
                    return !1
                }
            }]);
            var i = n.prototype;
            return i.deactivate = function() {
                t.prototype.deactivate.call(this), this.reset()
            }, i.reset = function() {
                this.Be && clearTimeout(this.Be), this.Gt && this.Gt.destroy(), this._i = null, this.Gt = null, this.Qt = {}, this.Qt.video = [], this.Qt.audio = [], this.Ri = 0, this.Ei = null, this.Be = null, this.He = {
                    audio: -1,
                    video: -1
                }, this.We = {
                    audio: -1,
                    video: -1
                }, this.qe = {
                    audio: 0,
                    video: 0
                }, this.ze = !1, this.Ge = !1, this.Ye = !1, this.Ke = !1, this.$e = null, this.Xe = 0, this.Je = !1, this.Ze = 0, this.Qe = 0, this.tr = [], this.nr = new Vn(this, this.et), this.Pi = [], this.Ui = 0
            }, i.Fe = function() {
                var n = this;
                this.Ue.on(nt.EVENT_ENDED, function(i) {
                    n.Ye = !1, n.Gt.abortFetches(), n.Ve(), n.Gt.endOfStream(), n.Ke = !0, t.prototype.deactivate.call(n), n.fire(J.ENDED)
                })
            }, i.updateLivePoller = function(t) {
                this.Ue = t, this.Fe()
            }, i.Ve = function() {
                this.Be && clearTimeout(this.Be), this.Be = null
            }, i.ir = function(t) {
                var n = this;
                return this.er(t).then(function() {
                    n.rr(n.tt), n.Qt.video = n.fe(n.Ei.video);
                    var i = n.Ei.videoAdaptationSet.mimeType || "video/mp4";
                    n.Qt.video.forEach(function(t) {
                        n.Gt.addStream(function(t, n) {
                            var i = t;
                            return n && (i += '; codecs="' + n + '"'), i
                        }(i, t.codecs))
                    }), n.fire(nt.REPRESENTATIONS_AVAILABLE, n.Qt), n.or(), n.ur(), n.ar();
                    var e = Math.max(1e3 * n.Ei.minimumUpdatePeriod, 3e3);
                    return n.sr.bind(n)(n.Ie), n.cr(n.Ie, e), t
                })
            }, i.er = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                return this.Le = t, /json=1/.test(t) ? Sn(this.Le).json().then(function(t) {
                    if (!("url" in t)) throw new Error("Error parsing 'url' key from Live API manifest endpoint: ".concat(n.Le, " ").concat(t));
                    return n.Ie = t.url, n.lr(n.Ie, i)
                }) : (this.Ie = t, this.lr(t, i))
            }, i.lr = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                return this.Ke ? e.reject() : Sn({
                    url: t
                }).then(function(t) {
                    return n.hr() && n.Ye && n.dr(0), t.text()
                }).then(function(n) {
                    return new Un(n, t)
                }).then(function(t) {
                    n.Ei = t, n.Ge || (n.Ge = !0), n.Ue.isForcePolling && n.Ue.unforcePolling();
                    var i = n.qe.audio > 3 || n.qe.video > 3;
                    n.Ye || i || (n.Ye = !0, n.fire(nt.STREAM_ONLINE)), n.Ye && i && n.hr() && n.fire(nt.STREAM_OFFLINE)
                }).catch(function(e) {
                    if (e instanceof pn) {
                        if (410 === e.response.status) {
                            if (i >= 3) throw new Error("Manifest load responded with a 410. Giving up refreshing after ".concat(i, " attempts"));
                            return ++i, n.pr(i).then(function() {
                                n.cr(n.Ie)
                            })
                        }
                        if (200 !== e.response.status) {
                            if (n.Ke) throw new Error("Live stream has ended");
                            return !n.Ge && i < 12 ? Bt(1500).then(function() {
                                return ++i, n.lr(t, i)
                            }) : (n.Ue.isForcePolling || n.Ue.forcePolling(), (n.hr() && n.Ye || !n.Ge) && n.fire(nt.STREAM_OFFLINE), Bt(n.mr).then(function() {
                                return ++i, n.lr(t, i)
                            }))
                        }
                    }
                    if (i >= 3) throw new Error("HLS manifest failed to load. Giving up refreshing after ".concat(i, " attempts."));
                    return ++i, n.pr(i).then(function() {
                        n.cr(n.Ie)
                    })
                })
            }, i.br = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    r = this.Gt.video.activeStreamIndex;
                return this.Ei.refreshPlaylist(this.Qt.video[r]).then(function() {
                    n.Ge || (n.Ge = !0), n.Ue.isForcePolling && n.Ue.unforcePolling();
                    var t = n.qe.audio > 3 || n.qe.video > 3;
                    n.Ye || t || (n.Ye = !0, n.fire(nt.STREAM_ONLINE)), n.Ye && t && n.hr() && n.fire(nt.STREAM_OFFLINE)
                }).catch(function(r) {
                    return ++i >= 3 ? (n.fire(nt.STREAM_OFFLINE), e.reject("Playlist failed to load. Giving up refreshing after ".concat(i, " attempts."))) : 404 === r.status ? (n.Ue.forcePolling(), n.cr(t, n.mr, i), e.reject()) : n.pr().then(function() {
                        var t = Math.max(1e3 * n.Ei.minimumUpdatePeriod, 3e3);
                        return n.sr.bind(n)(n.Ie, i), n.cr(n.Ie, t)
                    })
                })
            }, i.cr = function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                n = n || Math.max(1e3 * this.Ei.minimumUpdatePeriod, 3e3), this.Ve(), this.Be = setTimeout(this.sr.bind(this), n, t, i)
            }, i.sr = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                return this.br(t, i).then(function() {
                    n.Qt.video = n.fe(n.Ei.video), n.wr("video"), n.Ei.audio && (n.Qt.audio = n.fe(n.Ei.audio), n.wr("audio")), n.cr(t, Math.max(1e3 * n.Ei.minimumUpdatePeriod, 3e3))
                }).catch(function(r) {
                    return ++i >= 3 ? (n.fire(nt.STREAM_OFFLINE), e.reject("Manifest failed to load. Giving up refreshing after ".concat(i, " attempts."))) : (n.cr(t, Math.max(1e3 * n.Ei.minimumUpdatePeriod, 3e3), i), e.reject(r))
                })
            }, i.pr = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    i = this.Ue.liveEvent.playlistRefreshUrl;
                return Sn(i).json().then(function(e) {
                    if (t.Ue.refreshSessionUrl(), !("url" in e)) throw new Error("Error parsing 'url' key from player live API refresh endpoint: ".concat(i, " ").concat(e));
                    return t.er(e.url.hls, n)
                }).catch(function() {
                    if (n >= 3) throw new Error("Manifest failed to load after ".concat(n, " attempts."));
                    return ++n, t.pr(n)
                })
            }, i.rr = function(t) {
                this.Gt && this.Gt.destroy(), this.Gt = new dn(t)
            }, i.or = function() {
                this.Gt.video.on("streamchange", this.be.bind(this)), this.Gt.on("downloadend", this.pe.bind(this))
            }, i.ur = function() {
                var t = this;
                this.on(nt.STREAM_OFFLINE, function() {
                    t.Ye = !1, t.Ue.isForcePolling || t.Ue.forcePolling()
                })
            }, i.pe = function(t, n) {
                if ("string" == typeof t) {
                    var i = t.split("_");
                    this.We[i[0]] = Number(i[2]), this.fire(tt.DOWNLOAD_END, {
                        identifier: t,
                        data: n
                    })
                }
            }, i.be = function(t) {
                this.Je = !1;
                var n = this.Qt.video;
                n[t].bitrate = n[t].bandwidth, this.fire(tt.STREAM_CHANGE, {
                    index: t,
                    streams: n
                })
            }, i.dr = function(t) {
                var n = this;
                this.$e || (this.$e = setTimeout(function() {
                    if (n.Ye) {
                        var t = new XMLHttpRequest;
                        t.onload = function() {
                            410 !== t.status ? (200 !== t.status && n.fire(nt.STREAM_OFFLINE), t.response.match(/^#EXTM3U\n#EXT-X-VERSION:3\n$/) && n.fire(nt.STREAM_OFFLINE)) : n.pr()
                        }, t.onerror = function() {
                            n.fire(nt.STREAM_OFFLINE)
                        }, Sn(n.Le).json().then(function(i) {
                            "url" in i ? (t.open("GET", i.url), t.send()) : n.fire(nt.STREAM_OFFLINE)
                        }).catch(function() {
                            t.open("GET", n.Le), t.send()
                        })
                    }
                }, t))
            }, i.wr = function(t) {
                if (this.Gt && this.Gt[t]) {
                    if (!this.Pe) {
                        this.Pe = !0;
                        var n = this.Qt.video[0].segmentList.segments[0];
                        this.Ne = 3 * n.index
                    }
                    for (var i = this.Gt[t].activeStreamIndex, e = this.Gt[t].streams[i], r = this.Qt[t][i].segmentList || {
                            segments: []
                        }, o = r.segments.sort(function(t, n) {
                            return t.index < n.index ? -1 : t.index > n.index ? 1 : 0
                        }), u = 0, a = 0; a < o.length; a++) {
                        var s = o[a];
                        if (!(s.index < r.startNumber) && !(s.index <= this.He[t])) {
                            var c = "".concat(t, "_").concat(i, "_").concat(s.index);
                            if (e.addSegment(s.url, {
                                    identifier: c
                                }), this.He[t] = s.index, u++, this.tr.push(s.duration), this.tr.length > 20 && this.tr.shift(), u >= 4) break
                        }
                    }
                    0 === u ? this.qe[t]++ : this.qe[t] = 0
                }
            }, i.ar = function() {
                if (!this.Je) {
                    var t = this.nr.filterStreams(this.Qt.video),
                        n = this.nr.optimalStreamIndex(t, this.Ri);
                    if (n !== this.Ri) {
                        if (n - this.Ri > 0) {
                            if (this.yr(this.Qe) < this.DOWN_SHIFT_CHECK_INTERVAL) return
                        } else this.Qe = Date.now();
                        var i = t.find(function(t) {
                                return t.index === n
                            }),
                            e = this.Qt.video;
                        e[n].bitrate = e[n].bandwidth;
                        var r = {
                            index: n,
                            streams: e
                        };
                        this.fire(tt.STREAM_TARGET_CHANGE, r), this.Je = !0, this.He.video = this.We.video, this.Gt.video.switchTo(i, !0), this.Ri = n
                    }
                }
            }, i.gr = function() {
                this.tt.buffered.length && (this.Xe > this.buffered.length - 1 && (this.Xe = this.buffered.length - 1), this.tt.currentTime < this.tt.buffered.start(this.Xe) ? this.tt.currentTime = this.tt.buffered.start(this.Xe) + .1 : Math.floor(this.tt.currentTime) + 3 < Math.floor(this.tt.buffered.end(this.Xe)) || this.tt.buffered.length - 1 > this.Xe && (this.Xe++, this.tt.currentTime = this.tt.buffered.start(this.Xe) + .1))
            }, i.hr = function() {
                return !!(this.tt.buffered && this.tt.buffered.length && this.tt.currentTime + .1 > this.tt.buffered.end(this.tt.buffered.length - 1))
            }, i.setVideoSrc = function(t) {
                var n = this;
                this._i = this.ir(t).then(function() {
                    n.tt.src = URL.createObjectURL(n.Gt.mediaSource)
                })
            }, i.getBitrateAtTime = function(t, n) {
                if (!this.Gt) return 0;
                var i = this.Gt.streamIndexAtTime(t, n);
                return this.Qt[n][i] ? this.Qt[n][i].bandwidth : 0
            }, i.yr = function(t) {
                return Date.now() - t
            }, i.fe = function(t) {
                var n = t.slice(0);
                return n.sort(function(t, n) {
                    return t.width * t.height * t.bandwidth - n.width * n.height * n.bandwidth
                }), n.forEach(function(t, n) {
                    t.index = n
                }), n
            }, i.onprogress = function() {
                this.gr()
            }, i.ondurationchange = function() {
                this.gr()
            }, i.ontimeupdate = function() {
                if (this.Gt) {
                    t.prototype.ontimeupdate.call(this), this.fire(tt.DROPPED_FRAMES, this.Gt.getDroppedFrameTotal());
                    var n = this.Gt.video.activeStreamIndex;
                    if (n) {
                        var i = {
                            speed: this.Gt.getCurrentSpeed({
                                type: "average",
                                howMany: 3,
                                weights: [1, 2, 5]
                            }),
                            bitrate: this.Qt.video[n].bitrate,
                            speeds: this.Gt.getResponseSpeeds()
                        };
                        this.fire(tt.BANDWIDTH, i)
                    }!this.Ye && this.hr() && this.fire(nt.STREAM_OFFLINE), this.yr(this.Ze) > this.STREAM_SWITCH_CHECK_INTERVAL && (this.ar(), this.Ze = Date.now())
                }
            }, i.onstalled = function() {
                this.dr(1e4)
            }, i.seekToTime = function() {}, i.onpause = function() {
                this.Ve()
            }, i.pause = function() {
                t.prototype.pause.call(this), this.Ve(), this.Gt && (this.Gt.abortFetches(), this.Gt.removeBuffer(0, 1)), this.He = {
                    audio: -1,
                    video: -1
                }
            }, i.play = function() {
                var n = this;
                return t.prototype.play.call(this, function() {
                    return n.De && !n.Be && (n._i = n.sr(n.Ie)), n.Gt && n.De && (n.currentTime = 0, n.Gt.removeBuffer()), n._i.then(function() {
                        n.De = !0
                    })
                })
            }, F(n, [{
                key: "_manifestRetryTimeout",
                get: function() {
                    return this.tr && this.tr.length ? Math.min.apply(null, this.tr) / 2 : 3e3
                }
            }, {
                key: "restrictedStreamIndexes",
                get: function() {
                    return this.Pi
                },
                set: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    this.Pi.join(",") !== t.join(",") && (this.Pi = t, this.nr.lock(this.Pi))
                }
            }, {
                key: "videoElement",
                get: function() {
                    return this.tt
                }
            }, {
                key: "videoWidth",
                get: function() {
                    return this.Er ? this.Er.width : this.tt.videoWidth
                }
            }, {
                key: "videoHeight",
                get: function() {
                    return this.Er ? this.Er.height : this.tt.videoHeight
                }
            }, {
                key: "duration",
                get: function() {
                    return this.tt.duration
                }
            }, {
                key: "currentTime",
                get: function() {
                    return this.Ne + this.tt.currentTime
                },
                set: function(t) {
                    this.tt.currentTime = t
                }
            }, {
                key: "isLowerProfileAvailable",
                get: function() {
                    return this.Gt ? this.Gt.video.activeStreamIndex > 0 : null
                }
            }, {
                key: "sorcerer",
                get: function() {
                    return this.Gt
                }
            }, {
                key: "segmentLength",
                get: function() {
                    return 3
                }
            }]), n
        }(Zt),
        Hn = "pending",
        Wn = "started",
        qn = "ended",
        zn = "started",
        Gn = function() {
            function t(t) {
                $(this), this.liveEvent = t, this.kr = !1, this._r = !1, this.Tr()
            }
            var n = t.prototype;
            return n.disable = function() {
                this._r = !0
            }, n.forcePolling = function() {
                this.isForcePolling || (this.kr = !0, this.Tr())
            }, n.unforcePolling = function() {
                this.kr = !1
            }, n.liveStatus = function() {
                return this.refreshSessionUrl().then(function(t) {
                    return Sn(t).json()
                }).then(function(t) {
                    return t.status
                })
            }, n.Tr = function() {
                !1 !== this.liveEvent.polling && (this.Sr() ? this.Ar() : this.xr() && this.Mr())
            }, n.xr = function() {
                return (this.liveEvent.status !== qn || !this.liveEvent.archive || this.liveEvent.archive.status === zn) && (!!this.isForcePolling || this.liveEvent.status !== Wn)
            }, n.Sr = function() {
                return !this.liveEvent.sessionUrl || this.liveEvent.status === Hn && null === this.liveEvent.id
            }, n.refreshSessionUrl = function() {
                var t = this;
                return Sn(this.liveEvent.sessionRefreshUrl).json().then(function(n) {
                    return t.liveEvent.sessionUrl = n.url, n.url
                })
            }, n.Mr = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                return this._r ? e.reject() : n >= 3 ? e.reject(new Error("Hit max retries polling ".concat(this.liveEvent.sessionUrl))) : Sn(this.liveEvent.sessionUrl).json().then(function(n) {
                    if (n.status !== t.liveEvent.status) {
                        if ("ended" === n.status && "provision_expire" === n.terminate_reason) return n;
                        var i = "liveevent".concat(n.status);
                        try {
                            t.fire(i, n)
                        } catch (t) {
                            throw new Error("Error firing live event status change ".concat(t))
                        }
                    }
                    if (n.archive && (!t.liveEvent.archive || n.archive.status !== t.liveEvent.archive.status)) {
                        var e = "livearchive".concat(n.archive.status);
                        t.fire(e, n)
                    }
                    return t.liveEvent = Object.assign(t.liveEvent, n), t.xr() && setTimeout(t.Mr.bind(t), 5e3), n
                }).catch(function(i) {
                    if (i instanceof pn && 410 === i.response.status) return t.refreshSessionUrl().then(function() {
                        return Bt(300 * ++n).then(t.Mr.bind(t, n))
                    });
                    throw i
                })
            }, n.Ar = function() {
                var t = this;
                return this._r ? null : Sn(this.liveEvent.appPollUrl).json().then(function(n) {
                    return null !== n.ingest.session_id ? (t.liveEvent.id = n.ingest.session_id, t.refreshSessionUrl().then(t.Mr.bind(t))) : setTimeout(t.Ar.bind(t), 5e3)
                })
            }, F(t, [{
                key: "isForcePolling",
                get: function() {
                    return this.kr
                }
            }]), t
        }(),
        Yn = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).Le = null, i.Ue = e.livePoller, i.Fe(), i.reset(), window.addEventListener("online", function() {
                    i.play()
                }), i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "NativeHLSLiveScanner"
                }
            }, {
                key: "supported",
                get: function() {
                    return bt.iOS
                }
            }, {
                key: "supportedVideoTypes",
                get: function() {
                    return ["application/x-mpegURL"]
                }
            }, {
                key: "supportsPlaybackRate",
                get: function() {
                    return !1
                }
            }]);
            var i = n.prototype;
            return i.deactivate = function() {
                t.prototype.deactivate.call(this), this.reset()
            }, i.reset = function() {
                this.Be && clearTimeout(this.Be), this._i = null, this.Be = null, this.Ye = !1, this.Ke = !1, this.$e = null, this.Xe = 0, this.Be = null, this.nr = new Vn(this, this.et), this.Pi = []
            }, i.Fe = function() {
                var t = this;
                this.Ue.on(nt.EVENT_ENDED, function() {
                    t.Or()
                })
            }, i.Or = function() {
                this.Ye = !1, this.Ke = !0, clearTimeout(this.Be), t.prototype.deactivate.call(this), this.fire(J.ENDED)
            }, i.updateLivePoller = function(t) {
                this.Ue = t, this.Fe()
            }, i.Rr = function() {
                var t = this,
                    n = function(t) {
                        return "string" != typeof t ? {} : t.replace("?", "").split("&").reduce(function(t, n) {
                            if (n.length > 0) {
                                var i = Y(n.split("="), 2),
                                    e = i[0],
                                    r = i[1];
                                t[e] = decodeURIComponent(r)
                            }
                            return t
                        }, {})
                    }(this.Ue.liveEvent.playlistRefreshUrl.split("?")[1]);
                n.expires && (this.Be = setTimeout(function() {
                    t.pr()
                }, 1e3 * (n.expires - 10)))
            }, i.pr = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                    i = this.Ue.liveEvent.playlistRefreshUrl;
                return Sn(i).json().then(function(e) {
                    if (t.Ue.refreshSessionUrl(), !("url" in e)) throw new Error("Error parsing 'url' key from player live API refresh endpoint: ".concat(i, " ").concat(e));
                    return t.Cr(e.url.hls).then(function() {
                        return t.play(), t.dr(5e3), null
                    }).catch(function() {
                        return t.pr(++n)
                    })
                }).catch(function() {
                    if (n >= 3) throw new Error("Manifest failed to load after ".concat(n, " attempts."));
                    return ++n, t.pr(n)
                })
            }, i.ur = function() {
                var t = this;
                this.on(nt.STREAM_OFFLINE, function() {
                    t.Ye = !1, t.Ue.isForcePolling || t.Ue.forcePolling()
                })
            }, i.Ir = function(t) {
                return this.ur(), this.Ye = !0, this.fire(nt.STREAM_ONLINE), this.dr(5e3), e.resolve(t)
            }, i.Cr = function(t) {
                var n = this;
                return this.Le = t, Sn(t).json().then(function(t) {
                    if (!("url" in t)) throw new Error("Error parsing 'url' key from Live API manifest endpoint: ".concat(n.Le, " ").concat(t));
                    n.tt.src = t.url, n.Rr()
                }).catch(function(t) {
                    var i = n.Ue.liveEvent.playlistRefreshUrl;
                    return Sn(i).json().then(function(t) {
                        if (!("url" in t)) throw new Error("Error parsing 'url' key from player live API refresh endpoint: ".concat(i, " ").concat(t));
                        n.Le = t.url.ios, n.tt.src = t.url.ios, n.Rr()
                    })
                })
            }, i.dr = function(t) {
                var n = this;
                "number" == typeof bt.iOS && bt.iOS < 9 || this.$e || (this.$e = setTimeout(function() {
                    if (n.Ye) {
                        var t = new XMLHttpRequest;
                        t.onload = function() {
                            410 !== t.status ? (200 !== t.status && n.fire(nt.STREAM_OFFLINE), t.response.match(/^#EXTM3U\n#EXT-X-VERSION:3\n$/) && n.fire(nt.STREAM_OFFLINE)) : n.pr()
                        }, t.onerror = function() {
                            n.fire(nt.STREAM_OFFLINE)
                        }, /json=1/.test(n.Le) ? Sn(n.Le).json().then(function(i) {
                            "url" in i || n.fire(nt.STREAM_OFFLINE), t.open("GET", i.url), t.send()
                        }).catch(function() {
                            t.open("GET", n.Le), t.send()
                        }) : (t.open("GET", n.Le), t.send())
                    }
                }, t))
            }, i.setVideoSrc = function(t) {
                var n = this;
                this._i = this.Ir(t).then(function() {
                    return n.Le = t, n.Cr(t)
                })
            }, i.onprogress = function() {
                this.$e && (clearTimeout(this.$e), this.$e = null, this.Ue.unforcePolling())
            }, i.onstalled = function() {
                this.dr(1e4)
            }, i.onerror = function() {
                var n = this;
                return this.tt.error.code === this.tt.error.MEDIA_ERR_SRC_NOT_SUPPORTED ? (this.Ue.liveStatus().then(function(i) {
                    return i === qn ? (n.Or(), null) : t.prototype.onerror.call(n)
                }).catch(function(i) {
                    i instanceof mn ? n.fire(J.ERROR, new TelecineError("MediaNetworkError", "A network error ocurred while fetching the media.")) : t.prototype.onerror.call(n)
                }), !1) : t.prototype.onerror.call(this)
            }, i.onwaiting = function() {
                this.dr(1e4)
            }, i.seekToTime = function() {}, i.play = function() {
                var n = this;
                return t.prototype.play.call(this, function() {
                    return n._i
                })
            }, F(n, [{
                key: "currentTime",
                set: function(t) {
                    this.tt.currentTime = t
                }
            }]), n
        }(Zt),
        Kn = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                this.Lr = t, this.it = t.it, this.et = n
            }
            F(t, null, [{
                key: "displayName",
                get: function() {
                    return "Effect"
                }
            }, {
                key: "supported",
                get: function() {
                    return !1
                }
            }, {
                key: "supportedScanners",
                get: function() {
                    return []
                }
            }]);
            var n = t.prototype;
            return n.activate = function() {
                throw new TelecineError("NotImplemented", "The effect must implement the activate method.")
            }, n.deactivate = function() {
                throw new TelecineError("NotImplemented", "The effect must implement the deactivate method.")
            }, t
        }(),
        $n = new P,
        Xn = new P,
        TelecineFile = function() {
            function TelecineFile(t, n) {
                var i = t.src,
                    e = t.mime,
                    r = t.id,
                    o = void 0 === r ? Dt() : r,
                    u = t.priority,
                    a = void 0 === u ? 0 : u,
                    s = t.metadata,
                    c = void 0 === s ? {} : s;
                if (!i) throw new TypeError("Must provide a src for the file.");
                if (!e) throw new TypeError("Must provide a mime type for the file.");
                Object.defineProperties(this, {
                    mime: {
                        value: e,
                        enumerable: !0
                    },
                    id: {
                        value: "".concat(o),
                        enumerable: !0
                    },
                    metadata: {
                        value: c,
                        enumerable: !0
                    }
                }), this.video = n, this.priority = a, this.src = i
            }
            return F(TelecineFile, [{
                key: "priority",
                get: function() {
                    return $n.get(this)
                },
                set: function(t) {
                    if (!("number" == typeof(t = parseInt(t, 10)) && isFinite(t) && Math.floor(t) === t && t >= 0)) throw new TypeError("The file priority must be an integer greater than or equal to 0.");
                    $n.set(this, t)
                }
            }, {
                key: "src",
                get: function() {
                    return Xn.get(this)
                },
                set: function(t) {
                    Xn.set(this, t), this.video.fire(tt.FILE_SRC_UPDATE, this)
                }
            }, {
                key: "restrictedStreamIndexes",
                get: function() {
                    if (!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner), "restrictedStreamIndexes")) throw new ReferenceError("The current scanner does not support streams.");
                    return this.video.currentScanner.restrictedStreamIndexes
                },
                set: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                    if (!Array.isArray(t)) throw new TypeError("Indexes must be an array.");
                    if (!Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.video.currentScanner), "restrictedStreamIndexes")) throw new ReferenceError("The current scanner does not support streams.");
                    this.video.currentScanner.restrictedStreamIndexes = t
                }
            }]), TelecineFile
        }(),
        Jn = ["disabled", "hidden", "showing"],
        Zn = ["subtitles", "captions", "descriptions", "chapters", "metadata"],
        Qn = ["ar", "fa", "he", "iw", "ku", "ps", "sd", "ur", "yi"],
        ti = new P,
        ni = new P,
        TelecineTextTrack = function() {
            function TelecineTextTrack(t, n) {
                var i = t.kind,
                    e = t.src,
                    r = void 0 === e ? null : e,
                    o = t.label,
                    u = void 0 === o ? "" : o,
                    a = t.language,
                    s = void 0 === a ? "" : a,
                    c = t.id,
                    f = void 0 === c ? Dt() : c;
                if (-1 === Zn.indexOf(i)) throw qt(12, "SYNTAX_ERR", "Syntax Error");
                $(this), Object.defineProperties(this, {
                    kind: {
                        value: i,
                        enumerable: !0
                    },
                    label: {
                        value: u,
                        enumerable: !0
                    },
                    language: {
                        value: s,
                        enumerable: !0
                    },
                    id: {
                        value: "".concat(f),
                        enumerable: !0
                    },
                    rtl: {
                        value: -1 !== Qn.indexOf(s.substr(0, 2)),
                        enumerable: !0
                    }
                }), this.video = n, this.src = r, this.pt = !1, ti.set(this, "disabled")
            }
            return TelecineTextTrack.prototype.dispatchEvent = function(t) {
                this.fire(t, {
                    target: this
                })
            }, F(TelecineTextTrack, [{
                key: "mode",
                get: function() {
                    return ti.get(this)
                },
                set: function(t) {
                    if (Jn.indexOf(t) > -1) {
                        if (this.pt = !0, ti.get(this) === t) return;
                        ti.set(this, t), this.video.currentScanner && this.video.currentScanner.setModeForTrack(this, t), this.dispatchEvent("modechange")
                    }
                }
            }, {
                key: "src",
                get: function() {
                    return ni.get(this)
                },
                set: function(t) {
                    ni.set(this, t), this.video.fire(tt.TEXT_SRC_UPDATE, this)
                }
            }, {
                key: "cues",
                get: function() {
                    return this.video.currentScanner ? this.video.currentScanner.getCuesForTrack(this) : []
                }
            }, {
                key: "activeCues",
                get: function() {
                    return this.video.currentScanner ? this.video.currentScanner.getActiveCuesForTrack(this) : []
                }
            }]), TelecineTextTrack
        }();

    function ii() {
        return !!(window.MediaKeys && window.navigator && window.navigator.requestMediaKeySystemAccess && window.MediaKeySystemAccess && window.MediaKeySystemAccess.prototype.getConfiguration || window.WebKitMediaKeys)
    }

    function ei(t, n, i) {
        "string" == typeof n && (n = function(t) {
            for (var n = new ArrayBuffer(2 * t.length), i = new Uint16Array(n), e = 0, r = t.length; e < r; e++) i[e] = t.charCodeAt(e);
            return i
        }(n));
        var e = 0,
            r = new ArrayBuffer(t.byteLength + 4 + n.byteLength + 4 + i.byteLength),
            o = new DataView(r);
        new Uint8Array(r, e, t.byteLength).set(t), e += t.byteLength, o.setUint32(e, n.byteLength, !0), e += 4;
        var u = new Uint8Array(r, e, n.byteLength);
        return u.set(n), e += u.byteLength, o.setUint32(e, i.byteLength, !0), e += 4, new Uint8Array(r, e, i.byteLength).set(i), new Uint8Array(r, 0, r.byteLength)
    }

    function ri(t) {
        for (var n = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1] ? t.buffer : t, i = String.fromCharCode.apply(null, new Uint16Array(n)), e = (new DOMParser).parseFromString(i, "application/xml"), r = {}, o = e.getElementsByTagName("HttpHeader"), u = 0; u < o.length; ++u) {
            var a = o[u].querySelector("name"),
                s = o[u].querySelector("value");
            r[a.textContent] = s.textContent
        }
        return [r, t = jt(e.querySelector("Challenge").textContent)]
    }

    function oi(t, n, i, r) {
        var o = r.audio || [],
            u = r.video || [],
            a = [{
                video: "HW_SECURE_ALL",
                audio: "SW_SECURE_CRYPTO"
            }, {
                video: "HW_SECURE_DECODE",
                audio: "SW_SECURE_CRYPTO"
            }, {
                video: "HW_SECURE_CRYPTO",
                audio: "SW_SECURE_CRYPTO"
            }, {
                video: "SW_SECURE_DECODE",
                audio: "SW_SECURE_CRYPTO"
            }, {
                video: "SW_SECURE_CRYPTO",
                audio: "SW_SECURE_CRYPTO"
            }].map(function(t) {
                var n = {
                    persistentState: "optional",
                    sessionTypes: ["temporary"]
                };
                return u.length && (n.videoCapabilities = u.map(function(n) {
                    return {
                        contentType: n,
                        robustness: t.video
                    }
                })), o.length && (n.audioCapabilities = o.map(function(n) {
                    return {
                        contentType: n,
                        robustness: t.audio
                    }
                })), n
            }),
            s = Object.keys(t).map(function(r) {
                var o = t[r].id;
                if (n || i) {
                    var u = null,
                        s = n ? window.WebKitMediaKeys : window.MSMediaKeys;
                    try {
                        u = new s(o)
                    } catch (t) {}
                    return e.resolve({
                        name: o,
                        keySystem: u
                    })
                }
                return navigator.requestMediaKeySystemAccess(o, a).then(function(t) {
                    return t.createMediaKeys()
                }).catch(function(t) {}).then(function(t) {
                    return {
                        name: o,
                        keySystem: t
                    }
                })
            });
        return e.all(s)
    }

    function ui(t, n) {
        var i = null;
        return Object.keys(t).forEach(function(e) {
            n.name === t[e].id && (i = t[e])
        }), i
    }

    function ai(t) {
        var n = function(t) {
                var n = new Uint16Array(t.buffer);
                return String.fromCharCode.apply(null, n)
            }(t),
            i = document.createElement("a");
        return i.href = n, i.hostname
    }
    var si = function() {
            function t(t, n) {
                this.Dr = t.cdms, this.jr = t.lr_token, this.Pr = t.user, this.Nr = t.asset, this.Ur = n, this.Fr = null, this.Vr = null, this.Br = null, this.Hr = null, this.Wr = this.qr.bind(this)
            }
            var n = t.prototype;
            return n.init = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return this.tt = t.tt, this.zr = t, ii() ? (this.Gr = function(t, n) {
                    var i = {},
                        e = "".concat(window.screen.availWidth, "x").concat(window.screen.availHeight),
                        r = window.devicePixelRatio;
                    return i.merchant = "vimeo", i.sessionId = JSON.stringify({
                        ua: navigator.userAgent,
                        token: t,
                        resolution: e,
                        pixelRatio: r
                    }), i.userId = n, i
                }(this.jr, this.Pr), oi(this.Dr, this.Ur, !1, i).then(function(t) {
                    if (t.forEach(function(t) {
                            t.keySystem && (n.Br = t)
                        }), !n.Br) return n.zr.fire(tt.EME_UNSUPPORTED), !1;
                    var i = ui(n.Dr, n.Br);
                    return n.Hr = "encrypted", n.Fr = i.license_url, n.Ur && (n.Yr = i.certificate_url, n.Hr = "webkitneedkey"), n.tt.addEventListener(n.Hr, n.Wr), n.Ur ? (n.tt.webkitSetMediaKeys(n.Br.keySystem), !0) : n.tt.mediaKeys ? (n.Vr = n.tt.mediaKeys.createSession(), n.Vr.addEventListener("message", function(t) {
                        return n.Kr(t)
                    }), !0) : (n.Vr = n.Br.keySystem.createSession(), n.Vr.addEventListener("message", function(t) {
                        return n.Kr(t)
                    }), n.tt.setMediaKeys(n.Br.keySystem), !0)
                })) : (this.zr.fire(tt.EME_UNSUPPORTED), !1)
            }, n.destroy = function() {
                this.Vr && this.Vr.sessionId && this.Vr.close(), this.tt.removeEventListener(this.Hr, this.Wr)
            }, n.qr = function(t) {
                var n = this;
                return "com.apple.fps.1_0" === this.Br.name ? (this.$r().then(function(i) {
                    n.Xr = "assetId=".concat(n.Nr);
                    var e = ei(t.initData, n.Xr, i);
                    return n.Vr = n.Br.keySystem.createSession("video/mp4", e), n.Vr.addEventListener("webkitkeymessage", function(t) {
                        return n.Kr(t)
                    }), i
                }).catch(function(t) {
                    n.zr.fire(t.error, t.payload)
                }), !0) : !this.Vr.sessionId && !this.Jr && (this.Jr = this.Vr.generateRequest(t.initDataType, t.initData).catch(function() {
                    n.zr.fire(tt.DRM_FAILURE)
                }), !0)
            }, n.Kr = function(t) {
                var n = this;
                return new e(function(i, e) {
                    n.Jr = null;
                    var r = new XMLHttpRequest;
                    r.keySession = t.target, r.responseType = "arraybuffer", r.open("POST", n.Fr), r.setRequestHeader("dt-custom-data", window.btoa(JSON.stringify(n.Gr)));
                    var o = t.message;
                    if ("com.microsoft.playready" === n.Br.name) {
                        var u = ri(t.message, !1),
                            a = u[0];
                        Object.keys(a).forEach(function(t) {
                            r.setRequestHeader([t], a[t])
                        }), o = u[1]
                    }
                    if ("com.apple.fps.1_0" === n.Br.name) {
                        var s = btoa(String.fromCharCode.apply(null, o));
                        s = encodeURIComponent(s), o = "spc=".concat(s, "&").concat(n.Xr), r.setRequestHeader("Content-type", "application/x-www-form-urlencoded")
                    }
                    r.onload = function() {
                        if (403 !== r.status)
                            if (r.status >= 400) e({
                                error: tt.DRM_FAILURE
                            });
                            else try {
                                n.zr.fire(tt.DRM_AUTH_SUCCESS);
                                var t = new Uint8Array(r.response),
                                    o = t.buffer;
                                "com.apple.fps.1_0" === n.Br.name && (o = function(t) {
                                    var n = window.atob(t.trim());
                                    return "<ckc>" === n.substr(0, 5) && "</ckc>" === n.substr(-6) && (n = n.slice(5, -6)), new Uint8Array(atob(n).split("").map(function(t) {
                                        return t.charCodeAt(0)
                                    }))
                                }(btoa(String.fromCharCode.apply(null, t)))), r.keySession.update(o), i()
                            } catch (t) {
                                e("Error updating key session: ".concat(t))
                            } else {
                                var u = JSON.parse(r.getResponseHeader("x-dt-error-message"));
                                e({
                                    error: tt.DRM_AUTH_FAILURE,
                                    payload: {
                                        text: u.error,
                                        code: u.error_code
                                    }
                                })
                            }
                    }, r.onerror = e, r.send(o)
                }).catch(function(t) {
                    n.zr.fire(t.error, t.payload)
                })
            }, n.$r = function() {
                var t = this;
                return new e(function(n, i) {
                    var e = new XMLHttpRequest;
                    e.responseType = "arraybuffer", e.open("GET", t.Yr), e.setRequestHeader("dt-custom-data", window.btoa(JSON.stringify(t.Gr))), e.onload = function() {
                        if (403 !== e.status)
                            if (e.status >= 400) i({
                                error: tt.DRM_FAILURE
                            });
                            else try {
                                n(new Uint8Array(e.response))
                            } catch (t) {
                                i(t)
                            } else {
                                var t = JSON.parse(e.getResponseHeader("x-dt-error-message"));
                                i({
                                    error: tt.DRM_AUTH_FAILURE,
                                    payload: {
                                        text: t.error,
                                        code: t.error_code
                                    }
                                })
                            }
                    }, e.onerror = i, e.send()
                })
            }, t
        }(),
        ci = function() {
            function t(t, n) {
                this.Dr = t.cdms, this.Nr = t.asset, this.Ur = n, this.Zr = null, this.Fr = null, this.Vr = null, this.Br = null, this.Hr = null, this.Wr = this.qr.bind(this), this.Qr = this.to.bind(this)
            }
            var n = t.prototype;
            return n.init = function(t) {
                var n = this,
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                return this.tt = t.tt, this.zr = t, this.no = !!window.MSMediaKeys, ii() || this.no ? oi(this.Dr, this.Ur, this.no, i).then(function(t) {
                    n.Br = t.find(function(t) {
                        return t.keySystem
                    });
                    var i = n.Br && ui(n.Dr, n.Br);
                    if (!i) throw n.zr.fire(tt.EME_UNSUPPORTED), new Error("No valid key system was found.");
                    n.Zr = i.license_url;
                    var e = r && r.inits && r.inits[i.id];
                    return e || n.io(i), n.eo().then(function() {
                        return e && n.qr(e.cenc)
                    })
                }) : (this.zr.fire(tt.EME_UNSUPPORTED), e.reject())
            }, n.destroy = function() {
                this.Vr && this.Vr.sessionId && this.Vr.close(), this.tt.removeEventListener(this.Hr, this.Wr)
            }, n.io = function(t) {
                this.Hr = "encrypted", this.Fr = t.license_url, this.Ur ? (this.Yr = t.certificate_url, this.Hr = "webkitneedkey") : this.no && (this.Hr = "msneedkey"), this.tt.addEventListener(this.Hr, this.Wr)
            }, n.eo = function() {
                var t = this;
                return new e(function(n) {
                    if (t.no) {
                        var i = function i() {
                            t.tt.msSetMediaKeys(t.Br.keySystem), t.tt.removeEventListener("loadedmetadata", i), n()
                        };
                        t.tt.readyState >= 1 ? i() : t.tt.addEventListener("loadedmetadata", i)
                    } else {
                        if (t.Ur) t.tt.webkitSetMediaKeys(t.Br.keySystem);
                        else {
                            var e = t.tt.mediaKeys || t.Br.keySystem;
                            t.Vr = t.ro(e), t.Vr.addEventListener("message", function(n) {
                                return t.Kr(n)
                            }), t.tt.mediaKeys || t.tt.setMediaKeys(t.Br.keySystem)
                        }
                        n()
                    }
                })
            }, n.ro = function(t, n, i) {
                var e = t.createSession(n, i);
                if (!e) throw new Error("Could not create key session");
                return e
            }, n.qr = function(t) {
                var n = this,
                    i = new Error("A decryption key error was encountered");
                return "com.apple.fps.1_0" === this.Br.name ? (this.$r(this.Yr).then(function(e) {
                    n.Xr = ai(t.initData);
                    var r = ei(t.initData, n.Xr, e);
                    return n.Vr = n.ro(n.Br.keySystem, "video/mp4", r), n.Vr.contentId = n.Xr, n.Vr.addEventListener("webkitkeymessage", function(t) {
                        return n.Kr(t)
                    }), n.Vr.addEventListener("webkitkeyerror", function(t) {
                        throw i
                    }), e
                }).catch(function(t) {
                    n.zr.fire(t.error, t.payload)
                }), !0) : "com.microsoft.playready" === this.Br.name ? (this.Vr = this.ro(this.tt.msKeys, "video/mp4", t.initData), this.Vr.addEventListener("mskeymessage", function(t) {
                    return n.Kr(t)
                }), this.Vr.addEventListener("mskeyerror", function(t) {
                    throw i
                }), !0) : !this.Vr.sessionId && !this.Jr && (this.Vr.addEventListener("keystatuseschange", this.Qr), this.Jr = this.Vr.generateRequest(t.initDataType, t.initData).catch(function() {
                    n.zr.fire(tt.DRM_FAILURE)
                }), !0)
            }, n.to = function() {
                var t = !1,
                    n = j(this.Vr.keyStatuses.values());
                n.forEach(function(n, i) {
                    switch (n) {
                        case "expired":
                            t = !0
                    }
                }), n.every(function(t) {
                    return "output-restricted" === t
                }) && this.zr.fire(tt.DRM_FAILURE, "All key sytems are output restricted."), t && this.Vr.close()
            }, n.Kr = function(t) {
                var n = this;
                return this.oo(this.Zr).then(function(i) {
                    return new e(function(e, r) {
                        n.Fr = i, n.Jr = null;
                        var o = new XMLHttpRequest;
                        o.keySession = t.target, o.open("POST", n.Fr), o.responseType = "arraybuffer";
                        var u = t.message;
                        if ("com.microsoft.playready" === n.Br.name) {
                            var a = ri(t.message),
                                s = a[0];
                            Object.keys(s).forEach(function(t) {
                                o.setRequestHeader(t, s[t])
                            }), u = a[1]
                        }
                        "com.apple.fps.1_0" === n.Br.name && (u = new Uint8Array(u), o.setRequestHeader("Content-type", "application/octet-stream")), o.onload = function() {
                            if (403 !== o.status)
                                if (o.status >= 400) r(new TelecineError(tt.DRM_FAILURE));
                                else try {
                                    n.zr.fire(tt.DRM_AUTH_SUCCESS);
                                    var t = new Uint8Array(o.response);
                                    o.keySession.update(t), e()
                                } catch (t) {
                                    r(new TelecineError(tt.DRM_FAILURE, "Error updating key session: ".concat(t)))
                                } else r(new TelecineError(tt.DRM_AUTH_FAILURE))
                        }, o.onerror = r, o.send(u)
                    }).catch(function(t) {
                        n.zr.fire(t.name, {
                            text: t.message || "License request failed."
                        })
                    })
                })
            }, n.oo = function(t) {
                return new e(function(n, i) {
                    var e = new XMLHttpRequest;
                    e.open("GET", t), e.onload = function() {
                        if (e.status >= 400) i(new TelecineError(tt.DRM_FAILURE));
                        else try {
                            try {
                                var t = JSON.parse(e.response),
                                    r = t.licenseAcquisitionUrl,
                                    o = t.token;
                                if (!r && !o) throw new Error;
                                n("".concat(r, "?ExpressPlayToken=").concat(o))
                            } catch (t) {
                                n(e.response)
                            }
                        } catch (t) {
                            i(new TelecineError(tt.DRM_FAILURE, "Error retrieving License Acquisition URL (LA_URL): ".concat(t)))
                        }
                    }, e.onerror = i, e.send()
                })
            }, n.$r = function(t) {
                return new e(function(n, i) {
                    var e = new XMLHttpRequest;
                    e.open("GET", t), e.responseType = "arraybuffer", e.setRequestHeader("Pragma", "Cache-Control: no-cache"), e.setRequestHeader("Cache-Control", "max-age=0"), e.onload = function() {
                        if (403 !== e.status)
                            if (e.status >= 400) i({
                                error: tt.DRM_FAILURE
                            });
                            else try {
                                n(new Uint8Array(e.response))
                            } catch (t) {
                                i(t)
                            } else i({
                                error: tt.DRM_AUTH_FAILURE
                            })
                    }, e.onerror = i, e.send()
                })
            }, t
        }(),
        fi = new P,
        TelecineVideo = function() {
            function TelecineVideo(t) {
                var n = this,
                    i = t.files,
                    e = t.id,
                    r = void 0 === e ? Dt() : e,
                    o = t.title,
                    u = void 0 === o ? null : o,
                    a = t.subtitle,
                    s = void 0 === a ? null : a,
                    c = t.metadata,
                    f = void 0 === c ? {} : c,
                    l = t.textTracks,
                    h = void 0 === l ? Lt() : l,
                    d = t.externalDisplayFiles,
                    v = void 0 === d ? {} : d;
                if (!i || !Array.isArray(i)) throw new TypeError("Must provide files for the video.");
                $(this);
                var p = function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
                        return t.getFileById = It, t
                    }(i.map(function(t) {
                        return t instanceof TelecineFile ? (t.video = n, t) : new TelecineFile(t, n)
                    })),
                    m = Lt(h.map(function(t) {
                        return t instanceof TelecineTextTrack ? (t.video = n, t) : new TelecineTextTrack(t, n)
                    }));
                Object.keys(v).forEach(function(t) {
                    !v[t] || v[t] instanceof TelecineFile || (v[t] = new TelecineFile(v[t], n))
                }), Object.defineProperties(this, {
                    id: {
                        value: "".concat(r),
                        enumerable: !0
                    },
                    title: {
                        value: u,
                        enumerable: !0
                    },
                    subtitle: {
                        value: s,
                        enumerable: !0
                    },
                    metadata: {
                        value: f,
                        enumerable: !0
                    },
                    files: {
                        value: p,
                        enumerable: !0
                    },
                    textTracks: {
                        value: m,
                        enumerable: !0
                    },
                    externalDisplayFiles: {
                        value: v,
                        enumerable: !0
                    }
                }), f.drm && (f.drm.fastly ? this.uo = new ci(f.drm, f.useHls) : this.uo = new si(f.drm, f.useHls))
            }
            return TelecineVideo.prototype.deactivate = function() {
                var t = this;
                this.uo && this.uo.destroy(), this.textTracks.forEach(function(n) {
                    return t.currentScanner.removeTextTrack(n)
                })
            }, F(TelecineVideo, [{
                key: "drmHandler",
                get: function() {
                    return this.uo || null
                }
            }, {
                key: "currentFile",
                get: function() {
                    return this.currentScanner.currentFile
                },
                set: function(t) {
                    this.currentScanner.currentFile = t
                }
            }, {
                key: "currentScanner",
                get: function() {
                    return fi.get(this)
                },
                set: function(t) {
                    var n = this;
                    this.currentScanner && this.currentScanner.constructor.supportsTextTracks && this.textTracks.forEach(function(t) {
                        return n.currentScanner.removeTextTrack(t)
                    }), t.constructor.supportsTextTracks && this.textTracks.forEach(function(n) {
                        return t.addTextTrack(n)
                    }), fi.set(this, t)
                }
            }]), TelecineVideo
        }(),
        li = function() {
            function t(t, n) {
                this.Lr = t, this.et = n, this.ao = null, this.so = this.et.embedTime ? this.et.embedTime : 0, this.co = !1, this.fo = !1, this.lo = !1, this.playInitiated = !1, this.ho = !1, $(this), this.do = this.vo.bind(this), this.po = this.mo.bind(this), this.bo = this.wo.bind(this), this.yo = this.Eo.bind(this), this.ko = this._o.bind(this), this.To(this.Lr.on), this.So()
            }
            var n = t.prototype;
            return n.destroy = function() {
                clearInterval(this.ao), this.To(this.Lr.off), this.vo()
            }, n.To = function(t) {
                t(J.PLAYING, this.do), t(J.SEEKING, this.po), t(J.SEEKED, this.bo), t(nt.STREAM_ONLINE, this.yo), t([nt.STREAM_OFFLINE, nt.EVENT_ENDED], this.ko)
            }, n.vo = function() {
                this.co && (this.co = !1, this.fire(tt.BUFFER_ENDED))
            }, n.mo = function() {
                this.fo = !0
            }, n.wo = function() {
                this.fo = !1
            }, n.Eo = function() {
                this.ho = !0
            }, n._o = function() {
                this.ho = !1
            }, n.So = function() {
                var t = this;
                clearInterval(this.ao), this.ao = setInterval(function() {
                    if (t.Lr.video) {
                        var n = t.Lr.video.currentScanner;
                        if (n) {
                            var i = t.et.liveEvent ? n.videoElement.currentTime : n.currentTime;
                            if (t.playInitiated && (!t.fo || t.et.liveEvent) && (!t.Lr.paused || t.userPlayState) && !t.co && i < t.so + .125) {
                                if (t.et.liveEvent && !t.ho) return;
                                for (var e = t.Lr.buffered, r = 0; r < e.length; r++)
                                    if (i >= e.start(r) && i + .125 <= e.end(r)) return;
                                if (i + .125 >= t.Lr.duration) return;
                                t.co = !0, t.fire(tt.BUFFER_STARTED)
                            }(t.playInitiated && t.co && i > t.so + .125 || t.et.liveEvent && !t.ho && t.co) && (t.co = !1, t.fire(tt.BUFFER_ENDED)), t.so = i
                        }
                    }
                }, 250)
            }, F(t, [{
                key: "userPlayState",
                get: function() {
                    return this.lo
                },
                set: function(t) {
                    this.lo = t, t || this.vo()
                }
            }]), t
        }();

    function hi() {
        var t, n;

        function i() {
            if (!n) return e.reject();
            t.preload = "";
            var i = t.play();
            return void 0 === i && (i = new e(function(n) {
                t.addEventListener("playing", n)
            })), i
        }

        function r() {
            n && (n.resolve(), n = null)
        }

        function o(t) {
            n && (n.reject(t), n = null)
        }
        return {
            set video(n) {
                t = n
            },
            get active() {
                return !!n
            },
            start: function() {
                var u = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : e.resolve.bind(e);
                return n || (n = new Vt), t.src ? document.createElement("video").load() : t.load(), u().then(i).then(r).catch(o), n
            },
            cancel: function() {
                n && (n.reject(new TelecineError("PlayInterrupted", "The play() request was interrupted by a call to pause()")), n = null)
            }
        }
    }
    var di = function() {
            function t(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                this.it = t, this.Ao = n, this.et = i, this.tt = null, this.xo = Lt(), this.Mo = {}, this.Oo = new Zt(t), this.Ro = [], this.Co = [], this.et.liveEvent && this.initLiveEvent(this.et.liveEvent), this.et.playRequest = new hi, $(this)
            }
            var n = t.prototype;
            return n.supportsEffect = function(t) {
                var n = this;
                return !!t.supported && t.supportedScanners.some(function(t) {
                    return n.Io(n.Oo) === t.displayName
                })
            }, n.getEffectByName = function(t) {
                var n = this,
                    i = null;
                return this.Co.forEach(function(e) {
                    t === n.Lo(e) && (i = e)
                }), i
            }, n.activateEffect = function(t, n) {
                var i = new t(this, n);
                return i.activate(), this.Co.push(i), i
            }, n.deactivateEffect = function(t) {
                var n = this;
                return this.Co.some(function(i, e) {
                    return i.constructor === t && (i.deactivate(), n.Co.splice(e, 1), !0)
                })
            }, n.deactivateEffects = function() {
                var t = this;
                this.Co.forEach(function(n) {
                    return t.deactivateEffect(n.constructor)
                })
            }, n.play = function() {
                if (!this.tt || this.tt.files.length < 1) throw new TelecineError("NoFiles", "There are no files to play.");
                this.Do.playInitiated || (this.Do.playInitiated = !0), this.Do.userPlayState = !0;
                var t = this.Oo.play();
                return this.Mo.paused = !1, t
            }, n.pause = function() {
                if (!this.tt || this.tt.files.length < 1) throw new TelecineError("NoFiles", "There are no files to play.");
                return this.Do.userPlayState = !1, this.Oo.pause(), this.Mo.paused = !0, this
            }, n.getBitrateAtTime = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "video";
                return "MediaSourceScanner" !== this.Io(this.Oo) && "HLSLiveScanner" !== this.Io(this.Oo) ? 0 : "audio" === n && this.Oo.Qt[n].length <= 1 ? 0 : this.Oo.getBitrateAtTime(t, n)
            }, n.showExternalDisplayPicker = function(t) {
                this.Oo.showExternalDisplayPicker(t)
            }, n.supportsPresentationMode = function(t) {
                return -1 !== this.supportedPresentationModes.indexOf(t)
            }, n.addCuePoint = function(t, n) {
                return this.Oo.addCuePoint(t, n)
            }, n.removeCuePoint = function(t) {
                return this.Oo.removeCuePoint(t)
            }, n.removeAllCuePoints = function() {
                return this.Oo.removeAllCuePoints()
            }, n.addVideoEventListeners = function() {
                return this.Oo.addVideoEventListeners()
            }, n.removeVideoEventListeners = function() {
                return this.Oo.removeVideoEventListeners()
            }, n.jo = function() {
                var t = this,
                    n = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).textTrackSupport,
                    i = void 0 !== n && n,
                    e = this.tt.files.sort(function(t, n) {
                        return t.priority - n.priority
                    }),
                    r = this.Ao,
                    o = function(n) {
                        var o = e[n];
                        for (var u in r) {
                            var a = r[u];
                            if (a.supported && ((!i || a.supportsTextTracks) && -1 === t.Ro.indexOf(t.Io(a)) && a.supportedVideoTypes.some(function(t) {
                                    return o.mime === t
                                }))) return {
                                v: a
                            }
                        }
                    };
                for (var u in e) {
                    var a = o(u);
                    if ("object" === N(a)) return a.v
                }
                return i ? (this.fire(J.ERROR, new TelecineError("TextTracksNotSupported", "None of the scanners support text tracks in this browser.")), this.Ro = [], this.jo()) : null
            }, n.Po = function(t, n) {
                var i = this;
                if (this.Oo.constructor !== t || this.Oo.video !== n) {
                    this.Oo.deactivate();
                    var e = new t(this.it, this.et);
                    Object.keys(rt).forEach(function(t) {
                        var n = rt[t];
                        e.on(n, function(t) {
                            return i.No(n, t, e)
                        })
                    }), this.Oo = e, n.currentScanner = e, this.Oo.video = n;
                    for (var r = Object.keys(this.Mo), o = 0; o < r.length; o++) {
                        var u = r[o];
                        "paused" !== u ? "currentTime" !== u && (this.Oo[u] = this.Mo[u]) : !1 === this.Mo.paused && this.Oo.play()
                    }
                    this.fire(tt.SCANNER_CHANGE, this.Io(this.Oo))
                }
            }, n.Uo = function() {
                if (null !== this.tt) {
                    var t = this.jo({
                        textTrackSupport: this.tt.textTracks.length > 0
                    });
                    t ? this.Po(t, this.tt) : this.fire(J.ERROR, new TelecineError("FilesNotPlayable", "None of the files could be played in this browser."))
                }
            }, n.No = function(t, n, i) {
                if (i === this.Oo) {
                    switch (t) {
                        case J.ERROR:
                            return void(n instanceof TelecineError && this.fire(J.ERROR, n));
                        case tt.SCANNER_ERROR:
                            this.fire(J.ERROR, new TelecineError("ScannerError", "The current scanner can no longer be used because ".concat(n.reason))), this.Ro.push(this.Io(this.Oo)), this.Uo([]);
                            break;
                        case tt.FILE_ERROR:
                            this.fire(J.ERROR, new TelecineError("FileError", "The current file can no longer be used because ".concat(n.reason))), this.Oo.wt();
                            break;
                        case tt.DOWNLOAD_ERROR:
                            this.fire(J.ERROR, new TelecineError("DownloadError", n)), this.Oo.wt();
                            break;
                        case tt.EME_UNSUPPORTED:
                            this.fire(J.ERROR, new TelecineError("DRMFailure", {
                                text: null,
                                code: "emeunsupported"
                            }));
                            break;
                        case tt.DRM_FAILURE:
                        case tt.DRM_AUTH_FAILURE:
                            this.fire(J.ERROR, new TelecineError("DRMFailure", {
                                text: n.text,
                                code: n.code
                            }));
                            break;
                        case tt.DRM_AUTH_SUCCESS:
                            this.fire(tt.DRM_AUTH_SUCCESS);
                            break;
                        case J.TIME_UPDATE:
                            this.Mo.currentTime = this.Oo.currentTime;
                            break;
                        case tt.MEDIA_URL_EXPIRED:
                            this.fire(J.ERROR, new TelecineError("MediaUrlExpired", n));
                            break;
                        case it.SPATIAL_UNSUPPORTED:
                            this.getEffectByName("ThreeSixtyEffect").deactivate();
                            break;
                        case J.ENDED:
                            this.Mo.paused = !0;
                            break;
                        case J.WAITING:
                            this.fire(J.WAITING)
                    }
                    this.Co.forEach(function(n) {
                        "function" == typeof n["on".concat(t)] && n["on".concat(t)]()
                    }), this.fire(t, n)
                }
            }, n.Io = function(t) {
                return t instanceof Zt ? t.constructor.displayName : t.prototype.constructor.displayName
            }, n.So = function() {
                var t = this;
                this.Do && this.Do.destroy(), this.Do = new li(this, this.et), this.Do.on(tt.BUFFER_STARTED, function() {
                    t.fire(tt.BUFFER_STARTED)
                }), this.Do.on(tt.BUFFER_ENDED, function() {
                    t.fire(tt.BUFFER_ENDED)
                })
            }, n.Lo = function(t) {
                return t instanceof Kn ? t.constructor.displayName : t.prototype.constructor.displayName
            }, n.resetLiveEvent = function() {
                this.et.livePoller && (this.et.livePoller.disable(), this.et.livePoller = null)
            }, n.initLiveEvent = function(t) {
                var n = this,
                    i = new Gn(t);
                this.et.livePoller = i, Object.keys(nt).forEach(function(t) {
                    var e = nt[t];
                    i.on(e, function(t) {
                        n.fire(e, t)
                    })
                }), "HLSLiveScanner" !== this.currentScannerName && "NativeHLSLiveScanner" !== this.currentScannerName || this.Oo.updateLivePoller(i)
            }, F(t, [{
                key: "element",
                get: function() {
                    return this.it
                }
            }, {
                key: "videoElement",
                get: function() {
                    return this.Oo.videoElement
                }
            }, {
                key: "manifest",
                get: function() {
                    return this.Oo.Ei || {
                        video: []
                    }
                }
            }, {
                key: "supportsSettingVolume",
                get: function() {
                    return this.Ao.some(function(t) {
                        return t.supported && t.supportsSettingVolume
                    })
                }
            }, {
                key: "supportsPlaybackRate",
                get: function() {
                    return this.Oo.constructor.supportsPlaybackRate
                }
            }, {
                key: "livePoller",
                get: function() {
                    return this.et.livePoller
                }
            }, {
                key: "supportsTextTracks",
                get: function() {
                    return this.Ao.some(function(t) {
                        return t.supported && t.supportsTextTracks
                    })
                }
            }, {
                key: "activeEffects",
                get: function() {
                    return this.Co
                }
            }, {
                key: "isLowerProfileAvailable",
                get: function() {
                    return this.Oo.isLowerProfileAvailable
                }
            }, {
                key: "buffered",
                get: function() {
                    return this.Oo.buffered
                }
            }, {
                key: "manifestLoadDurations",
                get: function() {
                    return this.Oo.manifestLoadDurations ? this.Oo.manifestLoadDurations : []
                }
            }, {
                key: "successfulSegments",
                get: function() {
                    return this.Oo.successfulSegments ? this.Oo.successfulSegments : []
                }
            }, {
                key: "failedSegments",
                get: function() {
                    return this.Oo.failedSegments ? this.Oo.failedSegments : []
                }
            }, {
                key: "cuePoints",
                get: function() {
                    return this.Oo.cuePoints
                }
            }, {
                key: "currentFile",
                get: function() {
                    return this.Oo.currentFile
                },
                set: function(t) {
                    if ("string" == typeof t && (t = this.Et.filter(function(n) {
                            return n.id === t
                        })[0]), !t) throw new TelecineError("FileNotValid", "The file is not valid.");
                    this.Oo.currentFile = t
                }
            }, {
                key: "currentScannerName",
                get: function() {
                    return this.Io(this.Oo)
                }
            }, {
                key: "currentTime",
                get: function() {
                    return this.Oo.currentTime
                },
                set: function(t) {
                    this.Mo.currentTime = t, this.Oo.currentTime = t
                }
            }, {
                key: "duration",
                get: function() {
                    return this.Oo.duration
                }
            }, {
                key: "ended",
                get: function() {
                    return this.Oo.ended
                }
            }, {
                key: "externalDisplayAvailable",
                get: function() {
                    return this.Oo.externalDisplayAvailable
                }
            }, {
                key: "externalDisplayActive",
                get: function() {
                    return this.Oo.externalDisplayActive
                }
            }, {
                key: "loop",
                get: function() {
                    return this.Oo.loop
                },
                set: function(t) {
                    this.Mo.loop = t, this.Oo.loop = t
                }
            }, {
                key: "muted",
                get: function() {
                    return this.Oo.muted
                },
                set: function(t) {
                    this.Mo.muted = !!t, this.Oo.muted = !!t
                }
            }, {
                key: "playsinline",
                get: function() {
                    return this.Oo.playsinline
                },
                set: function(t) {
                    this.Mo.playsinline = !!t, this.Oo.playsinline = !!t
                }
            }, {
                key: "paused",
                get: function() {
                    return this.Oo.paused
                }
            }, {
                key: "played",
                get: function() {
                    return this.Oo.played
                }
            }, {
                key: "seekable",
                get: function() {
                    return this.Oo.seekable
                }
            }, {
                key: "seeking",
                get: function() {
                    return this.Oo.seeking
                }
            }, {
                key: "defaultPlaybackRate",
                get: function() {
                    return this.Oo.defaultPlaybackRate
                },
                set: function(t) {
                    this.Mo.defaultPlaybackRate = t, this.Oo.defaultPlaybackRate = t
                }
            }, {
                key: "playbackRate",
                get: function() {
                    return this.Oo.playbackRate
                },
                set: function(t) {
                    this.Mo.playbackRate = t, this.Oo.playbackRate = t
                }
            }, {
                key: "preload",
                get: function() {
                    return this.Oo.preload
                },
                set: function(t) {
                    this.Mo.preload = t, this.Oo.preload = t
                }
            }, {
                key: "presentationMode",
                get: function() {
                    return this.Oo.presentationMode
                },
                set: function(t) {
                    this.Oo.presentationMode = t
                }
            }, {
                key: "supportedPresentationModes",
                get: function() {
                    return this.Oo.supportedPresentationModes
                }
            }, {
                key: "video",
                get: function() {
                    return this.tt
                },
                set: function(t) {
                    this.tt && this.tt.deactivate(), this.Ro = [], this.So(), this.tt = new TelecineVideo(t), this.Uo()
                }
            }, {
                key: "videoWidth",
                get: function() {
                    return this.Oo.videoWidth
                }
            }, {
                key: "videoHeight",
                get: function() {
                    return this.Oo.videoHeight
                }
            }, {
                key: "volume",
                get: function() {
                    return this.Oo.volume
                },
                set: function(t) {
                    if (t < 0 || t > 1) throw new TelecineError("IndexSizeError", "Failed to set the 'volume' property: The volume provided (".concat(t, ") is outside of the range [0, 1]."));
                    this.Mo.volume = t, this.Oo.volume = t
                }
            }]), t
        }(),
        vi = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).Fo = !1, i.tt = i.Lr.Oo.tt, i
            }
            H(n, t), F(n, null, [{
                key: "displayName",
                get: function() {
                    return "CanvasEffect"
                }
            }, {
                key: "supported",
                get: function() {
                    return !0
                }
            }, {
                key: "supportedScanners",
                get: function() {
                    return [Zt, Pn]
                }
            }]);
            var i = n.prototype;
            return i.activate = function() {
                this.Fo = !0, this.Vo = document.createElement("canvas"), this.Vo.className = "vp-canvas-effect", this.Vo.style.cssText = "\n            position: absolute;\n            top:0;\n            left:0;\n            bottom:0;\n            right:0;\n        ", this.Bo = this.Vo.getContext("2d", {
                    alpha: !1
                }), this.it.appendChild(this.Vo), this.Ho()
            }, i.deactivate = function() {
                this.Vo && this.it.removeChild(this.Vo), this.Wo(), this.Fo = !1
            }, i.Ho = function() {
                this.qo()
            }, i.qo = function() {
                this.zo = window.requestAnimationFrame(this.Go.bind(this))
            }, i.Go = function() {
                var t = this.tt,
                    n = this.Vo;
                n.width = t.clientWidth, n.height = t.clientHeight;
                var i = Math.floor(this.Yo()),
                    e = Math.floor(this.Ko()),
                    r = Math.floor((t.clientWidth - i) / 2),
                    o = Math.floor((t.clientHeight - e) / 2);
                this.Bo.fillStyle = "#000", this.Bo.fillRect(0, 0, n.width, n.height), this.Bo.drawImage(t, r, o, i, e), this.qo()
            }, i.$o = function() {
                return this.tt.videoHeight / this.tt.videoWidth
            }, i.Yo = function() {
                return Math.min(this.tt.clientHeight / this.$o(), this.tt.clientWidth)
            }, i.Ko = function() {
                return Math.min(this.tt.clientWidth * this.$o(), this.tt.clientHeight)
            }, i.Wo = function() {
                this.zo && (window.cancelAnimationFrame(this.zo), this.zo = null)
            }, n
        }(Kn),
        pi = function() {
            function t() {}
            return F(t, null, [{
                key: "Equirect",
                get: function() {
                    return "equirectangular"
                }
            }]), t
        }(),
        mi = function() {
            function t() {}
            return F(t, null, [{
                key: "Mono",
                get: function() {
                    return "mono"
                }
            }, {
                key: "TopBottom",
                get: function() {
                    return "top-bottom"
                }
            }]), t
        }(),
        bi = function() {
            function t(t, n, i) {
                switch (this.isStereo = n !== mi.Mono, this.Xo = null, this.Jo = null, t) {
                    case pi.Equirect:
                        this.createEquirectProjection(i, n);
                        break;
                    default:
                        this.createEquirectProjection(i, mi.Mono)
                }
            }
            var n = t.prototype;
            return n.createEquirectProjection = function(t, n) {
                switch (n) {
                    case mi.Mono:
                        this.Xo = this.Zo(t);
                        break;
                    case mi.TopBottom:
                        this.Xo = this.Zo(t), this.Jo = this.Zo(t), this.Xo.layers.set(1), this.Jo.layers.set(2), this.Qo(this.Xo.geometry, .5, 0), this.Qo(this.Jo.geometry, .5, .5)
                }
            }, n.Zo = function(n, i, e, r) {
                var o = new THREE.SphereBufferGeometry(i || t.SPHERE_RADIUS, e || t.TESSELATION_WIDTH, r || t.TESSELATION_HEIGHT);
                o.scale(-1, 1, 1);
                var u = new THREE.MeshBasicMaterial({
                    map: n
                });
                return new THREE.Mesh(o, u)
            }, n.Qo = function(t, n, i) {
                for (var e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1, r = 0; r < t.attributes.uv.array.length; r += 2) t.attributes.uv.array[r + e] *= n, t.attributes.uv.array[r + e] += i
            }, F(t, [{
                key: "left",
                get: function() {
                    return this.Xo
                }
            }, {
                key: "right",
                get: function() {
                    return this.Jo
                }
            }], [{
                key: "TESSELATION_WIDTH",
                get: function() {
                    return 120
                }
            }, {
                key: "TESSELATION_HEIGHT",
                get: function() {
                    return 80
                }
            }, {
                key: "SPHERE_RADIUS",
                get: function() {
                    return 500
                }
            }]), t
        }(),
        wi = function() {
            function t(t) {
                this.tu = t
            }
            var n = t.prototype;
            return n.hasVRHeadset = function() {
                var t = this;
                return bt.webvr ? navigator.getVRDisplays().then(function(n) {
                    return n.length > 0 ? (t.tu.vr.setDevice(n[0]), n[0]) : null
                }) : null
            }, n.enter = function() {
                return this.tu.vr.getDevice() && this.tu.vr.getDevice().requestPresent([{
                    source: this.tu.domElement
                }])
            }, n.exit = function() {
                return this.tu.vr.getDevice() && this.tu.vr.getDevice().exitPresent()
            }, F(t, [{
                key: "supported",
                get: function() {
                    return bt.webvr
                }
            }, {
                key: "device",
                get: function() {
                    return this.tu && this.tu.vr.getDevice() ? this.tu.vr.getDevice() : null
                }
            }, {
                key: "isPresenting",
                get: function() {
                    return !(!this.tu || !this.tu.vr.getDevice()) && this.tu.vr.getDevice().isPresenting
                }
            }]), t
        }(),
        yi = 60,
        gi = function(t) {
            function n(n) {
                var i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                return (i = t.call(this, n, e) || this).Fo = !1, i.nu = null, i.iu = null, i.tu = null, i.isUserInteracting = !1, i.eu = 0, i.ru = 0, i._coordinates = {
                    lat: 0,
                    long: 0
                }, i.ou = {
                    lat: 0,
                    long: 0
                }, i.uu = {
                    lat: 0,
                    long: 0
                }, i.au = 0, i.su = 0, i.cu = 0, i.tt = i.Lr.Oo.tt, i.fu = null, i.lu = {
                    x: 0,
                    y: 0
                }, i.hu = {
                    lat: 0,
                    long: 0
                }, i.du = {
                    videoFps: i.et.fps,
                    motionRenderSpeed: yi
                }, i.vu = 1e3 / i.du.videoFps, i.pu = [], i.mu = !1, i.bu = !1, i.wu = !1, i.yu = {
                    up: !1,
                    down: !1,
                    left: !1,
                    right: !1
                }, i
            }
            H(n, t), F(n, [{
                key: "isUserInteracting",
                set: function(t) {
                    t !== this.gu && (this.gu = t, t ? this.et.isMobile || this.Lr.fire(it.MOTION_START) : this.et.isMobile || this.Lr.fire(it.MOTION_END))
                },
                get: function() {
                    return this.gu
                }
            }], [{
                key: "displayName",
                get: function() {
                    return "ThreeSixtyEffect"
                }
            }, {
                key: "supported",
                get: function() {
                    try {
                        var t = document.createElement("canvas");
                        return !!window.WebGLRenderingContext && (t.getContext("webgl") || t.getContext("experimental-webgl"))
                    } catch (t) {
                        return this.Lr.Oo.fire(it.SPATIAL_UNSUPPORTED), !1
                    }
                }
            }, {
                key: "supportedScanners",
                get: function() {
                    return [Zt, Pn]
                }
            }]), n.frustumSurfaceArea = function(t, n, i) {
                var e = 2 * bi.SPHERE_RADIUS * 2 * Math.sin(Math.PI / 180 * (t / 2));
                return e * (e * n / i) / (4 * Math.PI * Math.pow(bi.SPHERE_RADIUS, 2))
            };
            var i = n.prototype;
            return i.activate = function() {
                var t = this;
                return new e(function(n, i) {
                    if (window.THREE) n();
                    else {
                        var e = document.createElement("script");
                        e.src = t.et.threeUrl, document.body.appendChild(e), e.onload = function() {
                            n()
                        }
                    }
                }).then(function() {
                    return t.Lt()
                })
            }, i.Lt = function() {
                var t = this;
                this.Fo = !0, this.nu = new THREE.PerspectiveCamera(this.et.fieldOfView, this.tt.clientWidth / this.tt.clientHeight, 1, 2 * bi.SPHERE_RADIUS), this.nu.target = new THREE.Vector3(0, 0, 0), this.nu.layers.enable(1), this.Eu(this.et.directorTimeline), this.iu = new THREE.Scene, this.ku = new THREE.VideoTexture(this.tt), this.ku.generateMipmaps = !1, this.ku.minFilter = THREE.NearestFilter, this.ku.maxFilter = THREE.NearestFilter, this.ku.format = THREE.RGBFormat, this._u = new bi(this.et.projection, this.et.stereoMode, this.ku), this._u.isStereo && this.iu.add(this._u.right), this.iu.add(this._u.left), this.tu = new THREE.WebGLRenderer, this.tu.vr.enabled = !0, this.tu.setPixelRatio(window.devicePixelRatio), this.Tu = document.createElement("div"), this.Tu.appendChild(this.tu.domElement), this.it.appendChild(this.Tu), this.Su(), this.Lr.Oo.tt.setAttribute("crossorigin", "anonymous"), this.Ho(), this.Lr.Oo.paused || this.Au(), this.xu = new wi(this.tu), this.xu.supported && this.xu.hasVRHeadset().then(function(n) {
                    setTimeout(function() {
                        t.Lr.fire(it.WEBVR_HARDWARE_AVAILABLE, t.xu.device)
                    }, 100)
                }).catch(function(t) {})
            }, i.toggleVR = function() {
                var t = this;
                if (this.xu.isPresenting) this.xu.exit().then(function() {
                    t.adjustRenderSize()
                }).catch(function(t) {});
                else {
                    if (this.Lr.Oo.paused) return;
                    this.xu.enter().then(function() {
                        t.adjustRenderSize()
                    }).catch(function(t) {})
                }
            }, i.onplay = function() {
                this.Fo && (this.Au(), this.adjustRenderSize())
            }, i.deactivate = function() {
                this.Tu && this.it.removeChild(this.Tu), this.Wo(), this.Fo = !1
            }, i.snapToCenter = function() {
                var t = this;
                this.pu.forEach(function(t) {
                    return clearTimeout(t)
                });
                var n = ((this._coordinates.long >= 180 ? 360 : 0) - this._coordinates.long) / 11,
                    i = (0 - this._coordinates.lat) / 11;
                this.cu = 0;
                for (var e = function(e) {
                        t.pu.push(setTimeout(function() {
                            0 === e && (t.mu = !0, t.et.isMobile || (t.vu = 1e3 / t.du.motionRenderSpeed)), 49 === e && (t.mu = !1, t.et.isMobile || (t.vu = 1e3 / t.du.videoFps)), t.Mu(t._coordinates.lat + i / Math.pow(1.1, e), t._coordinates.long + n / Math.pow(1.1, e)), t.hu.lat = THREE.Math.radToDeg(t.lu.x) + t._coordinates.lat + i / Math.pow(1.1, e), t.hu.long = THREE.Math.radToDeg(t.lu.y) + t._coordinates.long + i / Math.pow(1.1, e)
                        }, e * t.vu))
                    }, r = 0; r < 50; r++) e(r)
            }, i.isStereo = function() {
                return !!this._u && this._u.isStereo
            }, i.Eu = function(t) {
                t && t[0] && void 0 !== t[0].p && "undefined" !== t[0].y && this.Mu(t[0].p, t[0].y)
            }, i.Mu = function(t, n) {
                this.ou.long = this._coordinates.long, this.ou.lat = this._coordinates.lat, t %= 360, this._coordinates.lat = Math.max(-85, Math.min(85, t)), n = (n %= 360) >= 0 ? n : 360 + n, this._coordinates.long = n
            }, i.makeContact = function(t) {
                this.isUserInteracting = !0, this.pu.forEach(function(t) {
                    return clearTimeout(t)
                }), this.mu = !1, this.Ou = {
                    x: t.x,
                    y: t.y
                }, this.uu.long = this._coordinates.long, this.uu.lat = this._coordinates.lat, this.Ru = {
                    long: this._coordinates.long,
                    lat: this._coordinates.lat
                }, this.et.isMobile || (this.vu = 1e3 / this.du.motionRenderSpeed)
            }, i.move = function(t) {
                this.hu.lat = THREE.Math.radToDeg(this.lu.x) + this.ou.lat, this.hu.long = THREE.Math.radToDeg(this.lu.y) + this.ou.long;
                var n = this.Ru.lat - .2 * (this.Ou.y - t.y),
                    i = .2 * (this.Ou.x - t.x) + this.Ru.long;
                this.Mu(n, i)
            }, i.moveWheel = function(t) {
                this.hu.lat = THREE.Math.radToDeg(this.lu.x) + this.ou.lat, this.hu.long = THREE.Math.radToDeg(this.lu.y) + this.ou.long;
                var n = this._coordinates.lat - .1 * t.y,
                    i = this._coordinates.long + .1 * t.x;
                this.Mu(n, i)
            }, i.moveDevice = function(t, n, i, e) {
                this.wu = !0;
                var r = new THREE.Quaternion,
                    o = window.orientation;
                null === o && (o = this.tt.clientWidth > this.tt.clientHeight ? 90 : 0), t = t ? THREE.Math.degToRad(t) : 0, n = n ? THREE.Math.degToRad(n) : 0, i = i ? THREE.Math.degToRad(i) : 0;
                var u = o ? THREE.Math.degToRad(o) : 0,
                    a = new THREE.Vector3(0, 0, 1),
                    s = new THREE.Euler,
                    c = new THREE.Quaternion,
                    f = new THREE.Quaternion(-Math.sqrt(.5), 0, 0, Math.sqrt(.5));
                s.set(n, t, -i, "YXZ"), r.setFromEuler(s), r.multiply(f), r.multiply(c.setFromAxisAngle(a, -u)), this.lu = (new THREE.Euler).setFromQuaternion(r, "YXZ"), this.cu = this.lu.z, this.isUserInteracting || this.mu || this.Mu(THREE.Math.radToDeg(this.lu.x) - this.hu.lat, -THREE.Math.radToDeg(this.lu.y) + this.hu.long), this.bu || (this.snapToCenter(), this.Lr.fire(it.MOTION_START), this.bu = !0)
            }, i.releaseContact = function(t) {
                if (this.hu.lat = THREE.Math.radToDeg(this.lu.x) - this._coordinates.lat, this.hu.long = THREE.Math.radToDeg(this.lu.y) + this._coordinates.long, this.isUserInteracting = !1, this.Ru && !t) {
                    var n = Math.hypot(this._coordinates.long - this.Ru.long, this._coordinates.lat - this.Ru.lat);
                    this.Cu(n)
                }
            }, i.abandonMotion = function() {
                this.isUserInteracting = !1, this.Ru = null
            }, i.keyPress = function(t) {
                this.Iu() || (this.isUserInteracting = !0, this.pu && this.pu.forEach(function(t) {
                    return clearTimeout(t)
                })), this.yu[t] || (this.yu[t] = !0)
            }, i.keyUp = function(t) {
                this.yu[t] = !1, this.Iu() || (this.isUserInteracting = !1, this.Cu(1 / 0))
            }, i.Lu = function() {
                var t = this;
                Object.keys(this.yu).forEach(function(n) {
                    if (t.yu[n]) switch (n) {
                        case "up":
                            t.Mu(t._coordinates.lat + 2, t._coordinates.long);
                            break;
                        case "down":
                            t.Mu(t._coordinates.lat - 2, t._coordinates.long);
                            break;
                        case "left":
                            t.Mu(t._coordinates.lat, t._coordinates.long - 2);
                            break;
                        case "right":
                            t.Mu(t._coordinates.lat, t._coordinates.long + 2)
                    }
                })
            }, i.Iu = function() {
                var t = this;
                return Object.keys(this.yu).map(function(n) {
                    return t.yu[n]
                }).some(function(t) {
                    return t
                })
            }, i.Cu = function(t) {
                var n = this;
                t >= 20 && function() {
                    var i = {
                        long: n._coordinates.long - n.ou.long,
                        lat: n._coordinates.lat - n.ou.lat
                    };
                    t === 1 / 0 && (i.long /= 2, i.lat /= 2);
                    for (var e = function(t) {
                            n.pu.push(setTimeout(function() {
                                1 === t && (n.mu = !0), 49 === t && (n.mu = !1, n.vu = 1e3 / n.du.videoFps);
                                var e = 2 / Math.pow(t, 1.5);
                                n.hu.lat = THREE.Math.radToDeg(n.lu.x) + n._coordinates.lat + i.lat, n.hu.long = THREE.Math.radToDeg(n.lu.y) + n._coordinates.long + i.long, n.Mu(n._coordinates.lat + i.lat * e, n._coordinates.long + i.long * e)
                            }, t * n.vu))
                        }, r = 1; r < 50; r++) e(r)
                }()
            }, i.onseeked = function() {
                this.Fo && this.Du()
            }, i.onresize = function() {
                this.adjustRenderSize(), this.isUserInteracting = !1
            }, i.Du = function() {
                this.isVRPresenting || (this.au = THREE.Math.degToRad(90 + this._coordinates.lat), this.su = THREE.Math.degToRad(this._coordinates.long), this.nu.position.set(Math.sin(this.au) * Math.cos(this.su), Math.cos(this.au), Math.sin(this.au) * Math.sin(this.su)), this.nu.lookAt(this.nu.target), this.nu.rotation.z += this.cu, this.Lr.fire(it.CAMERA_UPDATE, {
                    lon: this._coordinates.long,
                    lat: this._coordinates.lat
                })), this.tu.render(this.iu, this.nu)
            }, i.adjustRenderSize = function() {
                if (this.isVRPresenting) this.nu.aspect = this.tt.clientWidth / this.tt.clientHeight, this.nu.updateProjectionMatrix(), this.tu.setSize(this.tt.clientWidth, this.tt.clientHeight);
                else {
                    this.tt.clientWidth > this.tt.clientHeight ? this.nu.aspect = Math.max(1, Math.min(2, this.tt.clientWidth / this.tt.clientHeight)) : this.nu.aspect = Math.max(1 / 3, Math.min(3, this.tt.clientWidth / this.tt.clientHeight)), this.nu.updateProjectionMatrix();
                    var t = Pt(this.tt.clientWidth, this.tt.clientHeight, this.nu.aspect, 1);
                    this.tu.setSize(t.width, t.height), this.Tu.style.paddingTop = "".concat(t.top, "px")
                }
            }, i.Ho = function() {
                var t = this;
                this.tu.setAnimationLoop(function() {
                    t.Iu() && t.Lu(), t.Du()
                })
            }, i.Wo = function() {
                this.tu.setAnimationLoop(null)
            }, i.Au = function() {
                this.ju({
                    backgroundColor: "#000",
                    display: "block"
                })
            }, i.Su = function() {
                this.ju({
                    backgroundColor: "#000",
                    display: "none"
                })
            }, i.ju = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = t.backgroundColor,
                    i = t.display;
                this.Tu.style.cssText = "position:absolute;left:0;top:0;margin-left:auto;margin-right:auto;padding:0;background:".concat(n, ";width:100%;height:100%;text-align:center;display:").concat(i)
            }, F(n, [{
                key: "currentCoordinates",
                get: function() {
                    return this._coordinates
                },
                set: function(t) {
                    var n = Y(t, 2),
                        i = n[0],
                        e = n[1];
                    if (i > 90 || i < -90) throw new RangeError("Latitude should be a float between -90 and 90.");
                    if (e < 0 || e > 360) throw new RangeError("Longitude should be a float between 0 and 360.");
                    this.Mu(i, e), this.Du()
                }
            }, {
                key: "isVRPresenting",
                get: function() {
                    return this.xu && this.xu.isPresenting
                }
            }, {
                key: "fieldOfView",
                get: function() {
                    return this.nu.fov
                },
                set: function(t) {
                    this.nu.fov = t, this.nu.updateProjectionMatrix(), this.tu.render(this.iu, this.nu)
                }
            }, {
                key: "hasVRHeadset",
                get: function() {
                    return this.xu && !!this.xu.device
                }
            }]), n
        }(Kn);

    function Ei(t, n, i) {
        if (t > n) throw new Error("min must not be greater than max in clamp(min, max, value)");
        return i < t ? t : i > n ? n : i
    }

    function ki(t, n, i, e) {
        var r = function(r) {
            for (var o = n.length, u = 0; u < o;) {
                if (t === n[u]) return i[u];
                u += 1
            }
            for (var a in n[u + 1] = t, i[u + 1] = r, t) r[a] = e ? ki(t[a], n, i, !0) : t[a];
            return r
        };
        switch (function(t) {
            return null === t ? "Null" : void 0 === t ? "Undefined" : Object.prototype.toString.call(t).slice(8, -1)
        }(t)) {
            case "Object":
                return r({});
            case "Array":
                return r([]);
            case "Date":
                return new Date(t.valueOf());
            case "RegExp":
                return function(t) {
                    return new RegExp(t.source, (t.global ? "g" : "") + (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.sticky ? "y" : "") + (t.unicode ? "u" : ""))
                }(t);
            default:
                return t
        }
    }

    function _i(t) {
        return null != t && "function" == typeof t.clone ? t.clone() : ki(t, [], [], !0)
    }

    function Ti(t, n) {
        switch (t) {
            case 0:
                return function() {
                    return n.apply(this, arguments)
                };
            case 1:
                return function(t) {
                    return n.apply(this, arguments)
                };
            case 2:
                return function(t, i) {
                    return n.apply(this, arguments)
                };
            case 3:
                return function(t, i, e) {
                    return n.apply(this, arguments)
                };
            case 4:
                return function(t, i, e, r) {
                    return n.apply(this, arguments)
                };
            case 5:
                return function(t, i, e, r, o) {
                    return n.apply(this, arguments)
                };
            case 6:
                return function(t, i, e, r, o, u) {
                    return n.apply(this, arguments)
                };
            case 7:
                return function(t, i, e, r, o, u, a) {
                    return n.apply(this, arguments)
                };
            case 8:
                return function(t, i, e, r, o, u, a, s) {
                    return n.apply(this, arguments)
                };
            case 9:
                return function(t, i, e, r, o, u, a, s, c) {
                    return n.apply(this, arguments)
                };
            case 10:
                return function(t, i, e, r, o, u, a, s, c, f) {
                    return n.apply(this, arguments)
                };
            default:
                throw new Error("First argument to _arity must be a non-negative integer no greater than ten")
        }
    }

    function Si(t) {
        return null != t && "object" === N(t) && !0 === t["@@functional/placeholder"]
    }

    function Ai(t) {
        if ("object" !== N(t) || null === t) return !1;
        for (var n = t; null !== Object.getPrototypeOf(n);) n = Object.getPrototypeOf(n);
        return Object.getPrototypeOf(t) === n
    }

    function xi(t) {
        for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++) i[e - 1] = arguments[e];
        return i.reduce(Mi, t)
    }

    function Mi(t, n) {
        return t === n ? t : Array.isArray(n) ? function(t, n) {
            t || (t = []);
            if (Array.isArray(t))
                for (var i = 0; i < n.length; i++) t[i] = Mi(t[i], n[i]);
            return t
        }(t, n) : Ai(n) ? function(t, n) {
            t || (t = {});
            return Object.keys(n).forEach(function(i) {
                (! function(t, n) {
                    return t && void 0 === n
                }(t[i], n[i]) || Ai(n[i]) || Array.isArray(n[i])) && (t[i] = Mi(t[i], n[i]))
            }), t
        }(t, n) : void 0 === t ? function(t) {
            if (Ai(t)) return Mi(function(t) {
                return Array.isArray(t) ? [] : {}
            }(t), t);
            return t
        }(n) : t
    }
    if ("object" === ("undefined" == typeof process ? "undefined" : N(process)) && "function" == typeof process.nextTick) process.nextTick;
    else if ("function" == typeof e) {
        var Oi = e.resolve();
        Oi.then.bind(Oi)
    } else "function" == typeof setImmediate ? setImmediate : setTimeout;
    var Ri = Object.prototype.hasOwnProperty,
        Ci = Object.prototype.toString;

    function Ii(t) {
        if (null == t) return !0;
        if ("boolean" == typeof t) return !1;
        if ("number" == typeof t) return 0 === t;
        if ("string" == typeof t) return 0 === t.length;
        if ("function" == typeof t) return 0 === t.length;
        if (Array.isArray(t)) return 0 === t.length;
        if (t instanceof Error) return "" === t.message;
        if (t.toString == Ci) switch (t.toString()) {
            case "[object File]":
            case "[object Map]":
            case "[object Set]":
                return 0 === t.size;
            case "[object Object]":
                for (var n in t)
                    if (Ri.call(t, n)) return !1;
                return !0
        }
        return !1
    }
    var Li = function(t) {
        var n = Math[t];
        return function(t, i) {
            if (i = null == i ? 0 : Math.min(i, 292)) {
                var e = (t + "e").split("e");
                return +((e = (n(e[0] + "e" + (+e[1] + i)) + "e").split("e"))[0] + "e" + (+e[1] - i))
            }
            return n(t)
        }
    }("round");
    ! function(t, n) {
        Ti(t, function t(n, i, e) {
            return function() {
                for (var r = [], o = 0, u = n, a = 0; a < i.length || o < arguments.length;) {
                    var s;
                    a < i.length && (!Si(i[a]) || o >= arguments.length) ? s = i[a] : (s = arguments[o], o += 1), r[a] = s, Si(s) || (u -= 1), a += 1
                }
                return u <= 0 ? e.apply(this, r) : Ti(u, t(n, r, e))
            }
        }(t, [], n))
    }(2, function(t, n) {
        return t(n), n
    });

    function Di(t) {
        return !isNaN(t)
    }

    function ji(t) {
        return Li(t, 3)
    }
    var Pi = 0;

    function Ni() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "b",
            n = ++Pi;
        return "".concat(t).concat(n)
    }
    Ni(), Ni();
    var Ui = Ni(),
        Fi = Ni(),
        Vi = Ni(),
        Bi = Ni(),
        Hi = Ni(),
        Wi = Ni(),
        qi = Ni(),
        zi = Ni(),
        Gi = Ni(),
        Yi = Ni(),
        Ki = Ni(),
        $i = Ni(),
        Xi = Ni(),
        Ji = Ni(),
        Zi = Ni(),
        Qi = Ni(),
        te = Ni(),
        ne = Ni(),
        ie = Ni(),
        ee = Ni(),
        re = {
            h264: "video/mp4",
            hls: "application/vnd.apple.mpegurl",
            hlsLive: "application/x-mpegURL",
            dash: "application/vnd.vimeo.dash+json",
            dashMpd: "video/vnd.mpeg.dash.mpd",
            vp6: "video/x-flv",
            vp8: "video/webm",
            webm: "video/webm",
            hds: "application/f4m"
        },
        oe = {
            "application/vnd.apple.mpegurl": "hls",
            "application/vnd.vimeo.dash+json": "dash",
            "video/vnd.mpeg.dash.mpd": "dash",
            "video/mp4": "progressive",
            "video/webm": "progressive",
            "video/x-flv": "progressive",
            "application/x-mpegURL": "hlslive"
        },
        ue = "pending",
        ae = "active",
        se = "started",
        ce = "ended",
        fe = "done",
        le = {
            low: .5,
            high: 2
        },
        he = (B({}, J, tt, nt, it, Z, et, Object.freeze({
            CONFIG_CHANGED: zi,
            TELECINE_READY: Gi,
            TELECINE_VIDEO_INIT: Yi,
            PLAY_INITIATED: Ki,
            QUALITY_CHANGED: $i,
            FORCED_QUALITY: Xi,
            CUE_CHANGED: Ji,
            CAPTIONS_CHANGED: Zi,
            SPATIAL_PLAYBACK_TOGGLED: Qi,
            PICTURE_IN_PICTURE_AVAILABLE: te,
            PICTURE_IN_PICTURE_NOT_AVAILABLE: ne,
            PICTURE_IN_PICTURE_ACTIVATED: ie,
            PICTURE_IN_PICTURE_DEACTIVATED: ee
        })), function() {
            function t(t) {
                this.config = t
            }
            return F(t, [{
                key: "liveEvent",
                get: function() {
                    return this.config.video.live_event
                }
            }, {
                key: "exists",
                get: function() {
                    return this.liveEvent && null !== this.liveEvent
                }
            }, {
                key: "isPending",
                get: function() {
                    return this.exists && this.liveEvent.status === ue
                }
            }, {
                key: "isActive",
                get: function() {
                    return this.exists && this.liveEvent.status === ae
                }
            }, {
                key: "isStarted",
                get: function() {
                    return this.exists && this.liveEvent.status === se
                }
            }, {
                key: "isEnded",
                get: function() {
                    return this.exists && this.liveEvent.status === ce
                }
            }, {
                key: "inProgress",
                get: function() {
                    return this.exists && !this.isEnded
                }
            }, {
                key: "isArchived",
                get: function() {
                    return this.exists && this.liveEvent.archive && this.liveEvent.archive.status === fe
                }
            }, {
                key: "dashUrl",
                get: function() {
                    return this.exists && this.liveEvent.playback ? this.liveEvent.playback.dash_noredirect : null
                }
            }, {
                key: "hlsUrl",
                get: function() {
                    return this.exists && this.liveEvent.playback ? this.liveEvent.playback.hls_noredirect : null
                }
            }, {
                key: "scheduledStartTime",
                get: function() {
                    return this.exists && this.liveEvent.ingest ? this.liveEvent.ingest.scheduled_start_time : null
                }
            }]), t
        }());

    function de(t) {
        return function(n) {
            for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) e[r - 1] = arguments[r];
            return e.forEach(function(i) {
                for (var e in i) {
                    var r = Object.getOwnPropertyDescriptor(i, e);
                    Object.defineProperty(n, e, Object.assign(r, t))
                }
            }), n
        }
    }
    var ve = de({
            enumerable: !1,
            configurable: !0,
            writeable: !1
        }),
        pe = de({
            enumerable: !1,
            configurable: !1,
            writeable: !1
        }),
        me = de({
            enumerable: !0,
            configurable: !0,
            writeable: !1
        });

    function be(t) {
        var n = this,
            i = {},
            e = {
                get attributes() {
                    return Object.assign({}, n)
                },
                get previousAttributes() {
                    return i
                },
                clear: function() {
                    r();
                    var t = n.attributes;
                    for (var i in t) delete n[i]
                },
                set: function(t) {
                    for (var i in r(), t) n[i] = t[i]
                },
                clone: function() {
                    return new be(n.attributes)
                },
                toJSON: function() {
                    return _i(n.attributes)
                }
            };

        function r() {
            Ii(n.attributes) || (i = _i(n.attributes))
        }
        return e.set(t), ve(n, e)
    }

    function we(t, n) {
        var i = new be(xi(t, n)),
            e = i.set,
            r = new he(i),
            o = !1;

        function u(t) {
            return o = !0, e(t), xi(i, n), i
        }
        return pe(i, {
            reset: function(t) {
                return i.clear(), u(t), i
            },
            set: u,
            isNewVideo: function() {
                var t = i.previousAttributes;
                return !o || t.video.id !== i.video.id || t.video.version.current !== i.video.version.current
            },
            liveEvent: r
        })
    }

    function ye(t) {
        return t.quality || t.metadata.quality
    }

    function ge(t) {
        var n = t.request.files,
            i = Ee(n.progressive, t.request.file_codecs),
            e = Re(t),
            r = t.request.cookie.quality || e || function(t) {
                var n = Ee(t.request.files.progressive, t.request.file_codecs),
                    i = n.some(Me);
                bt.mobileAndroid && (i = !1);
                var e = "720p";
                if (i) {
                    var r = n.map(ye); - 1 !== r.indexOf("1080p") && -1 === r.indexOf("720p") && (e = "1080p")
                }
                return t.request.cookie.hd || t.video.default_to_hd ? e : "360p"
            }(t),
            o = function(t) {
                var n = t.files,
                    i = void 0 === n ? [] : n,
                    e = t.preference,
                    r = void 0 === e ? "360p" : e,
                    o = t.priorityOffset,
                    u = void 0 === o ? 0 : o;
                (i = j(i)).sort(Ie());
                var a = i.map(ye);
                if (r) {
                    -1 === a.indexOf(r) && (a.push(r), a.sort(function(t, n) {
                        return Oe(n) - Oe(t)
                    }));
                    var s = a.indexOf(r),
                        c = a.splice(0, s);
                    c.reverse(), a.push.apply(a, K(c))
                }
                return i.map(function(t) {
                    return {
                        id: t.id,
                        src: t.url,
                        mime: t.mime,
                        priority: a.indexOf(t.quality) + 1 + u,
                        metadata: {
                            profile: t.profile,
                            cdn: t.cdn,
                            origin: t.origin,
                            quality: t.quality,
                            fps: t.fps
                        }
                    }
                })
            }({
                files: i,
                preference: r,
                priorityOffset: 2
            }),
            u = t.request.drm && bt.browser.safari;
        return (n.hls && (bt.iPhone || bt.iPad) || u) && (o = o.concat(function(t) {
            var n = t.request.files,
                i = n.hls.default_cdn,
                e = xe(t.request.file_codecs, t.video.spatial, t.request.drm),
                r = n.hls.cdns[i].url,
                o = r.match(/\/([\da-f,]+)\/master\.m3u8/);
            e.length > 0 && null !== o && (r = r.replace(o[1], e.map(ke).join(",")));
            return {
                id: "hls-".concat(i, "-").concat(t.video.id),
                src: r,
                mime: re.hls,
                priority: 2,
                metadata: {
                    cdn: i,
                    origin: n.hls.cdns[i].origin,
                    quality: "sd"
                }
            }
        }(t))), n.dash && !u && (o = o.concat(function(t) {
            var n = t.request.files,
                i = xe(t.request.file_codecs, t.video.spatial);
            return Object.keys(n.dash.cdns).map(function(e) {
                var r = n.dash.cdns[e].url,
                    o = r.match(/\/([\da-f,]+)\/master\.(json|mpd)/);
                return i.length > 0 && null !== o && (r = r.replace(o[1], i.map(ke).join(","))), {
                    id: "dash-".concat(e, "-").concat(t.video.id),
                    src: r,
                    mime: t.request.drm ? re.dashMpd : re.dash,
                    priority: e === n.dash.default_cdn ? 1 : 2,
                    metadata: {
                        cdn: e,
                        origin: n.dash.cdns[e].origin,
                        quality: "sd"
                    }
                }
            })
        }(t))), o
    }

    function Ee() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
            n = xe(arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {});
        return t.filter(Te(n)).filter(Se(t))
    }

    function ke(t) {
        if ("number" == typeof t) return t;
        var n = t.split("-");
        return 5 === n.length ? n[0] : parseInt(n[0], 10)
    }

    function _e(t, n) {
        return n.find(function(n) {
            return ke(n.id) === String(t) || ke(n.id) === ke(t)
        })
    }

    function Te(t) {
        return function(n) {
            return !t.length || t.includes(String(n.id)) || t.includes(ke(n.id))
        }
    }

    function Se(t) {
        var n = t.filter(Ae).map(ye);
        return function(t) {
            return -1 === n.indexOf(ye(t)) || Ae(t)
        }
    }

    function Ae(t) {
        var n = t.fps;
        return "metadata" in t && (n = t.metadata.fps), n > 30
    }

    function xe(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
            i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2],
            e = t.avc,
            r = function(t, n) {
                return ! function(t, n) {
                    return t && !n || n && !t
                }(t, n)
            }(!!n, bt.spatialHEVC) && !i;
        return r && bt.hdr && "hevc" in t && t.hevc.hdr.length > 0 ? e = t.hevc.hdr : r && bt.hevc && "hevc" in t && t.hevc.sdr.length > 0 ? e = t.hevc.sdr : bt.av1 && "av1" in t && t.av1.length > 0 && (e = t.av1), e
    }

    function Me(t) {
        return Oe(t) >= 720
    }

    function Oe(t) {
        return "string" != typeof t && (t = ye(t)), parseInt(t, 10)
    }

    function Re(t) {
        var n = Ee(t.request.files.progressive, t.request.file_codecs).map(function(t) {
            return t.quality
        });
        return Ce(t, t.embed.quality, n)
    }

    function Ce(t, n) {
        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
        return t.embed.on_site || bt.android || bt.iOS || bt.windowsPhone || !n ? null : i.length && -1 === i.indexOf(n) ? null : n
    }

    function Ie() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "desc";
        return function(n, i) {
            var e = Oe(n),
                r = Le(n),
                o = Oe(i),
                u = Le(i);
            return "asc" === t ? e - o || r - u : o - e || u - r
        }
    }

    function Le(t) {
        return "object" !== N(t) ? 0 : "fps" in t ? t.fps : "metadata" in t && "fps" in t.metadata ? t.metadata.fps : 0
    }

    function De(t) {
        var n = [],
            i = je(t);
        i && n.push(i);
        var e = function(t) {
            var n = t.liveEvent,
                i = t.request.files;
            if (Ii(i.dash)) return null;
            var e = i.dash.default_cdn,
                r = i.dash.cdns[e].url || n.dashUrl,
                o = t.request.flags.live_dash ? 2 : 1;
            return {
                id: "dash-".concat(e, "-").concat(t.video.id),
                src: r,
                mime: re.dashMpd,
                priority: o,
                metadata: {
                    cdn: e,
                    origin: i.dash.cdns[e].origin,
                    quality: "sd"
                }
            }
        }(t);
        return e && n.push(e), n
    }

    function je(t) {
        var n = t.liveEvent,
            i = t.request.files;
        if (!Ii(i.hls)) {
            var e = i.hls.default_cdn,
                r = i.hls.cdns[e].json_url || n.hlsUrl,
                o = t.request.flags.live_dash ? 2 : 1;
            return {
                id: "hls-".concat(e, "-").concat(t.video.id),
                src: r,
                mime: re.hlsLive,
                priority: o,
                metadata: {
                    cdn: e,
                    origin: i.hls.cdns[e].origin,
                    quality: "sd"
                }
            }
        }
        return null
    }

    function Pe(t, n) {
        var i = [],
            e = [];
        if (n.video) {
            var r = n.video.currentFile.mime;
            if (r === re.hlsLive) return n.manifest.video.map(function(t) {
                return B({}, t, {
                    quality: "".concat(t.height, "p")
                })
            });
            [re.dash, re.dashMpd].includes(r) ? (i = t.request.files.dash.streams, e = xe(t.request.file_codecs, t.video.spatial)) : (i = n.video.files.filter(function(t) {
                return function(n) {
                    return oe[n.mime] === t
                }
            }("progressive")), e = xe(t.request.file_codecs))
        }
        return i.filter(Se(i)).filter(Te(e)).sort(Ie())
    }

    function Ne(t) {
        var n = t.video.live_event;
        if (n) {
            n.appPollUrl = "https://".concat(t.vimeo_url, "/live_event/status?clip_id=").concat(t.video.id);
            var i = t.request.files.hls.default_cdn,
                e = t.request,
                r = e.signature,
                o = e.timestamp,
                u = e.expires,
                a = "https://".concat(t.player_url, "/live/").concat(t.video.id),
                s = "?signature=".concat(r, "&time=").concat(o, "&expires=").concat(u, "&cdn=").concat(i);
            n.playlistRefreshUrl = "".concat(a, "/playlist/refresh").concat(s), n.sessionRefreshUrl = "".concat(a, "/session/refresh").concat(s)
        }
        return n
    }

    function Ue(t) {
        return bt.spatialPlayback && t.video.spatial ? 35 : 50
    }

    function Fe(t) {
        return t.request.text_tracks.map(function(t) {
            return {
                id: t.id,
                src: t.url,
                kind: t.kind,
                label: t.label,
                language: t.lang
            }
        })
    }
    var Ve = {
            captureException: function(t) {},
            captureMessage: function(t) {},
            captureBreadcrumb: function() {}
        },
        Be = Ve;
    var He = {
        set: function(t) {
            Be = Object.assign({}, Ve, t)
        },
        captureException: function(t, n) {
            return Be.captureException(t, n)
        },
        captureMessage: function(t, n) {
            return Be.captureMessage(t, n)
        },
        captureBreadcrumb: function(t, n) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "backbone",
                e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "info";
            return Be.captureBreadcrumb(t, n, i, e)
        }
    };

    function We(t, n, i) {
        var e = t.embed.playsinline && (bt.mobileAndroid || bt.iOS >= 10),
            r = !1,
            o = !1,
            u = !1,
            a = !0;

        function s() {
            i.playsinline = e, i.muted = t.embed.muted
        }

        function c() {
            a = !0, i.paused || i.pause(), o = !1, r = !1, setTimeout(function() {
                i.currentTime = 0
            }, 300)
        }

        function f() {
            a = !1, n.fire(J.PLAY, i.currentTime)
        }

        function l() {
            r = !1, n.fire(J.PAUSE, i.currentTime, i.ended)
        }

        function h(t) {
            var e = i.currentTime;
            if (!a) {
                var r = i.duration,
                    o = e / r,
                    u = i.playbackRate;
                n.fire(J.TIME_UPDATE, {
                    currentTime: e,
                    duration: r,
                    timeProgress: o,
                    playbackRate: u
                })
            }
        }

        function d(t) {
            i.loop ? i.play().catch(He.captureException) : (r = !1, n.fire(J.ENDED, t))
        }

        function v(n) {
            var e = i.duration;
            if (isFinite(e) && e > 0) {
                if (e < t.video.duration - 1 || e > t.video.duration + 1) return;
                t.video.duration = e
            }
            t.video.video_width = i.videoWidth, t.video.video_height = i.videoHeight
        }

        function p(n) {
            var e = i.duration;
            isFinite(e) && (t.video.duration > 0 && (e < t.video.duration - 1 || e > t.video.duration + 1) || (t.video.duration = e))
        }

        function m(t) {
            if (!a && i.buffered && i.buffered.length > 0) {
                t = t || i.currentTime;
                var e = function(t, n) {
                        var i = t.length - 1;
                        if (t.length > 1)
                            for (var e = 0, r = t.length; e < r; e++)
                                if (t.start(e) <= n && t.end(e) >= n) {
                                    i = e;
                                    break
                                }
                        return i
                    }(i.buffered, t),
                    o = i.buffered.end(e),
                    s = o / i.duration,
                    c = i.duration;
                if (n.fire(J.PROGRESS, {
                        loaded: o,
                        duration: c,
                        loadProgress: s
                    }), u && r && o === i.duration) return void(r && i.paused && i.play().catch(He.captureException))
            }
        }

        function b(t) {
            m()
        }

        function w(n, e) {
            e || (e = (i.duration || t.video.duration) * Ei(0, 1, n)), e = Ei(0, i.duration || t.video.duration, e), i.currentTime = e
        }

        function y() {
            var t = i.currentTime,
                e = i.duration,
                r = t / e;
            n.fire(J.SEEKING, {
                currentTime: t,
                duration: e,
                timeProgress: r
            })
        }

        function g() {
            m();
            var t = i.currentTime,
                e = i.duration,
                r = t / e;
            n.fire(J.SEEKED, {
                currentTime: t,
                duration: e,
                timeProgress: r
            })
        }

        function E(e) {
            var r = i.video.currentFile.mime;
            if ([re.dash, re.dashMpd, re.hlsLive].includes(r)) k(e);
            else {
                var o = Pe(t, i).filter(function(t) {
                    return t.metadata.quality === e
                });
                o.length > 0 && (a = !0, i.video.currentFile = o[0])
            }
            n.fire($i, e)
        }

        function k(n) {
            if ("auto" !== n) {
                var e = Pe(t, i).reverse().map(function(t) {
                    return t.quality
                }).indexOf(n); - 1 !== e && (He.captureBreadcrumb("Switched to ".concat(n), {}, "video"), i.video.currentFile.restrictedStreamIndexes = [e])
            } else i.video.currentFile.restrictedStreamIndexes = []
        }

        function _(e) {
            He.captureBreadcrumb("Current file changed", {
                id: e.id,
                mime: e.mime,
                src: e.src,
                metadata: e.metadata
            }, "video");
            var r = e.metadata.quality;
            [re.dash, re.dashMpd].includes(e.mime) ? function(e) {
                var r = Pe(t, i).map(function(t) {
                        return t.quality
                    }),
                    o = Ce(t, t.embed.quality, r);
                o && n.fire(Xi, o);
                k(o || "auto")
            }() : function(i) {
                var e = Re(t);
                e && n.fire(Xi, e)
            }(), n.fire($i, r)
        }
        return n.on(Yi, s), n.on(Fi, c), i.on(J.PLAY, f), i.on(J.PAUSE, l), i.on(J.PLAYING, b), i.on(J.TIME_UPDATE, h), i.on(J.ENDED, d), i.on(J.LOADED_METADATA, v), i.on(J.DURATION_CHANGE, p), i.on(J.PROGRESS, m), i.on(tt.BUFFER_STARTED, function() {
            u = !0
        }), i.on(tt.BUFFER_ENDED, function() {
            u = !1
        }), n.on(Ui, w), i.on(J.SEEKING, y), i.on(J.SEEKED, g), n.on(Vi, E), i.on(tt.CURRENT_FILE_CHANGE, _), {
            play: function() {
                return r = !0, o || (n.fire(Ki), o = !0), i.play()
            },
            pause: function() {
                r = !1, i.pause()
            }
        }
    }

    function qe(t, n, i) {
        var e = !1,
            r = i.presentationMode;

        function o() {
            e = !0
        }

        function u() {
            e ? s() : i.once(J.LOADED_METADATA, s)
        }

        function a(t) {
            "inline" === r && "picture-in-picture" === t && n.fire(ie), "picture-in-picture" === r && "inline" === t && n.fire(ee), r = t, i.video.textTracks.forEach(function(n) {
                "picture-in-picture" === t && "hidden" === n.mode && (n.mode = "showing"), "inline" === t && "showing" === n.mode && (n.mode = "hidden")
            })
        }

        function s() {
            !i.supportsPresentationMode("picture-in-picture") || bt.spatialPlayback && t.video.spatial ? n.fire(ne) : n.fire(te)
        }

        function c() {
            i.supportsPresentationMode("picture-in-picture") && (i.presentationMode = "picture-in-picture")
        }

        function f() {
            i.supportsPresentationMode("picture-in-picture") && (i.presentationMode = "inline")
        }
        i.on(J.LOADED_METADATA, o), i.on(J.PLAY, u), i.on(tt.PRESENTATION_MODE_CHANGE, a), n.on(Wi, c), n.on(qi, f)
    }

    function ze(t, n, i) {
        var e = null;

        function r() {
            e && (i.deactivateEffect(gi), e = null, n.fire(Qi, e));
            var r = t.video.spatial;
            r && (t.request.drm || i.supportsEffect(gi) && (e = i.activateEffect(gi, {
                threeUrl: t.request.urls.three_js,
                fps: t.video.fps,
                fieldOfView: r.fov,
                directorTimeline: r.director_timeline,
                projection: r.projection,
                stereoMode: r.stereo_mode,
                initialView: r.initial_view,
                isMobile: bt.android,
                dimensions: t.embed.on_site ? {
                    width: 1080,
                    height: 540
                } : {
                    width: 640,
                    height: 360
                }
            }), n.fire(Qi, e)))
        }

        function o() {
            e && (i.deactivateEffect(gi), e = null, n.fire(Qi, e))
        }
        bt.spatialPlayback && (n.on(Yi, r), i.on(it.SPATIAL_UNSUPPORTED, o))
    }

    function Ge(t, n, i) {
        var e = null;

        function r() {
            e && (i.deactivateEffect(vi), e = null), t.video.canvas && (t.request.drm || i.supportsEffect(vi) && (e = i.activateEffect(vi)))
        }
        n.on(Yi, r)
    }

    function Ye(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
        if (!t || "null" === t || 0 === n.length) return {
            track: null
        };
        var i = Y(t.split("."), 2),
            e = i[0],
            r = i[1],
            o = Y(e.split(/[-_]/), 1)[0],
            u = e !== o,
            a = n.filter(function(t) {
                return u && t.language === e || t.language === o
            }).sort(function(t, n) {
                var i = 2 * (t.language === o && t.kind === r) + 2 * (t.language === e) + 1 * (t.kind === r);
                return 2 * (n.language === o && n.kind === r) + 2 * (n.language === e) + 1 * (n.kind === r) - i
            });
        return a.length > 0 ? {
            track: a[0],
            exactMatch: a[0].language === e && a[0].kind === r
        } : {
            track: null
        }
    }

    function Ke(t, n, i, e) {
        var r;

        function o() {
            if (0 !== Fe(t).length) {
                if (i.video.textTracks.forEach(function(t) {
                        t.on("cuechange", s), t.on("modechange", c)
                    }), t.video.lang)
                    if (Y(t.request.lang.split(/[-_]/), 1)[0] !== Y(t.video.lang.split(/[-_]/), 1)[0]) {
                        var e = "".concat(t.request.lang, ".subtitles");
                        if (Ye(e, i.video.textTracks).track) return void n.fire(Bi, e)
                    }
                n.fire(Hi)
            } else n.fire(Hi)
        }

        function u(t) {
            if (!r || r.id !== t) {
                var e = i.video.textTracks.getTrackById(t),
                    o = !0;
                if (!e) {
                    var u = Ye(t, i.video.textTracks);
                    e = u.track, o = u.exactMatch
                }
                e !== r && setTimeout(function() {
                    i.video.textTracks.forEach(function(t) {
                        t.mode = t === e ? "hidden" : "disabled"
                    }), n.fire(Zi, e, !o), r = e
                }, 0)
            }
        }

        function a() {
            setTimeout(function() {
                i.video.textTracks.forEach(function(t) {
                    t.mode = "disabled"
                }), n.fire(Ji), r && (r = null, n.fire(Zi, null))
            }, 0)
        }

        function s(t) {
            for (var i, e = t.target, r = e.activeCues, o = [], u = 0, a = r.length; u < a; u++) "" !== r[u].text.replace(/^\s+|\s+$/gm, "") && ((i = document.createElement("span")).appendChild(r[u].getCueAsHTML()), o.push({
                html: i.innerHTML.replace("\n", "<br>"),
                text: r[u].text
            }));
            n.fire(Ji, e, o)
        }

        function c(t) {
            var i = t.target,
                r = e.querySelector("video");
            bt.iOS && function(t) {
                var n = [document.fullscreenElement, document.webkitFullscreenElement, document.webkitCurrentFullScreenElement, document.mozFullScreenElement, document.msFullscreenElement].find(function(t) {
                    return void 0 !== t
                });
                return void 0 !== n ? !!n : t.webkitDisplayingFullscreen
            }(r) && "showing" === i.mode && n.fire(Zi, i)
        }
        n.on(Yi, o), n.on(Bi, u), n.on(Hi, a)
    }

    function $e(t, n, i) {
        var e, r, o = t.liveEvent;

        function u(i) {
            var r = i.index,
                o = i.streams,
                u = o[r],
                a = _e(u.id, Pe(t, e));
            void 0 !== a ? (u.profile = a.profile, u.quality = a.quality, u.fps = a.fps) : (u.profile = null, u.quality = "".concat(u.height, "p"), u.fps = u.framerate), He.captureBreadcrumb("Stream changed", u, "video"), n.fire(tt.STREAM_CHANGE, u, r, o)
        }

        function a(i) {
            var r = i.index,
                o = i.streams,
                u = o[r],
                a = _e(u.id, Pe(t, e));
            void 0 !== a && (u.profile = a.profile, u.quality = a.quality, u.fps = a.fps), n.fire(tt.STREAM_TARGET_CHANGE, u, r, o)
        }

        function s() {
            if (!(o.isPending || o.isActive || o.isEnded && !o.isArchived) && (!o.isStarted || !e.video || t.isNewVideo())) {
                var r = o.isStarted ? De(t) : ge(t),
                    u = Fe(t);
                !e.video || t.isNewVideo() ? function(r, u) {
                    var a = i.getBoundingClientRect(),
                        s = o.isStarted ? je(t) : function(t) {
                            var n = t.request.files;
                            if (!Ii(n.hls)) {
                                var i = n.hls.default_cdn,
                                    e = n.hls.cdns[i];
                                return {
                                    src: e.captions || e.url,
                                    mime: re.hls,
                                    metadata: {
                                        cdn: i,
                                        origin: e.origin,
                                        quality: "sd"
                                    }
                                }
                            }
                            return null
                        }(t);
                    e.video = {
                        id: t.video.id,
                        title: t.video.title,
                        subtitle: "from ".concat(t.video.owner.name),
                        files: r,
                        textTracks: u,
                        externalDisplayFiles: {
                            AirPlay: s
                        },
                        metadata: {
                            thumbnail: t.video.thumbs[640],
                            useHls: t.request.drm && bt.browser.safari,
                            drm: t.request.drm,
                            percentShown: gi.frustumSurfaceArea(t.video.spatial.fov, a.width, a.height)
                        }
                    }, n.fire(Yi)
                }(r, u) : function(t, n) {
                    t.forEach(function(t) {
                        var n = e.video.files.getFileById(t.id);
                        n && n.src !== t.src && (n.src = t.src)
                    }), n.forEach(function(t) {
                        var n = e.video.textTracks.getTrackById(t.id);
                        n && n.src !== t.src && (n.src = t.src)
                    })
                }(r, u)
            }
        }

        function c() {
            e.resetLiveEvent(), o.exists && e.initLiveEvent(Ne(t)), s()
        }
        return e = new di(i, [Pn, Bn, Yn, Zt], {
                externalDisplays: [AirPlayExternalDisplay],
                mediaSourceScanner: {
                    droppedFrameSwitchPercent: Ue(t)
                },
                liveEvent: Ne(t),
                tests: t.request.ab_tests,
                fileCodecs: t.request.file_codecs
            }),
            function(t) {
                for (var n = Object.keys(t), i = n.length, e = [], r = 0; r < i;) e[r] = t[n[r]], r += 1;
                return e
            }(J).filter(function(t) {
                return ! function(t, n) {
                    return -1 !== n.indexOf(t)
                }(t, [J.TIME_UPDATE, J.PROGRESS, J.SUSPEND, J.ERROR])
            }).forEach(function(t) {
                e.on(t, function() {
                    var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                    He.captureBreadcrumb(t, n, "video event")
                })
            }), e.on(tt.STREAM_CHANGE, u), e.on(tt.STREAM_TARGET_CHANGE, a),
            function(t, n, i) {
                i.forEach(function(i) {
                    t(i, function() {
                        for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++) e[r] = arguments[r];
                        n.apply(void 0, [i].concat(e))
                    })
                })
            }(e.on, n.fire, [Z.ACTIVATED, Z.AVAILABLE, Z.DEACTIVATED, Z.UNAVAILABLE, nt.EVENT_ACTIVE, nt.EVENT_ENDED, nt.EVENT_STARTED, nt.REPRESENTATIONS_AVAILABLE, nt.STREAM_OFFLINE, nt.STREAM_ONLINE, et.MEDIASESSION_PAUSE, et.MEDIASESSION_PLAY, et.MEDIASESSION_SEEK_BACKWARD, et.MEDIASESSION_SEEK_FORWARD, tt.AV_DURATION_MISMATCH, tt.BANDWIDTH, tt.BUFFER_ENDED, tt.BUFFER_OCCUPANCY, tt.BUFFER_STARTED, tt.CUE_POINT, tt.CURRENT_FILE_CHANGE, tt.DOWNLOAD_END, tt.DRM_AUTH_SUCCESS, tt.DROPPED_FRAMES, tt.MANIFEST_LOADED, tt.MANIFEST_TIMEOUT, tt.QUOTA_EXCEEDED_ERROR, tt.SCANNER_CHANGE, tt.STREAM_BUFFER_END, tt.STREAM_BUFFER_START, it.CAMERA_UPDATE, it.MOTION_END, it.MOTION_START, it.SPATIAL_UNSUPPORTED, it.WEBVR_ENTER, it.WEBVR_EXIT, it.WEBVR_HARDWARE_AVAILABLE, J.DURATION_CHANGE, J.ERROR, J.LOAD_START, J.LOADED_DATA, J.LOADED_METADATA, J.PLAYING, J.RATE_CHANGE, J.STALLED, J.VOLUME_CHANGE, J.WAITING]), n.fire(Gi), new Ke(t, n, e, i), new qe(t, n, e), new ze(t, n, e), new Ge(t, n, e), r = new We(t, n, e), n.on(zi, c), {
                telecine: e,
                play: function() {
                    return r.play()
                },
                pause: function() {
                    return r.pause()
                }
            }
    }

    function Xe(t, n, i) {
        this.constructorName = "BackboneError", this.message = t, this.name = n, this.source = i
    }
    Xe.prototype = new Error;
    var Je = {
        embed: {},
        request: {
            cookie: {},
            files: {},
            flags: {},
            urls: {},
            text_tracks: [],
            file_codecs: {}
        },
        video: {
            owner: {},
            thumbs: {},
            version: {}
        },
        user: {}
    };

    function Ze(t, n) {
        var i, e, r, o = $(),
            u = null,
            a = new we(n, Je);

        function s(t) {
            return o.fire(zi, t), t
        }
        var c = {
            play: function() {
                return e.play()
            },
            pause: function() {
                return e.pause()
            },
            get currentTime() {
                return r.currentTime > .1 ? ji(r.currentTime) : 0
            },
            set currentTime(t) {
                if (t = parseFloat(t), isNaN(t) || t < 0) throw new Xe("Seconds must be a positive number less than the duration of the video.", "RangeError", "setCurrentTime");
                o.fire(Ui, null, t)
            },
            get duration() {
                return ji(a.video.duration)
            },
            get enabledTextTrack() {
                return u
            },
            loadVideo: function(t) {
                return a.reset(t), a = s(a), this
            },
            unload: function() {
                return o.fire(Fi), this
            },
            on: function(t, n) {
                return o.on(t, n), this
            },
            once: function(t, n) {
                return o.once(t, n), this
            },
            off: function(t, n) {
                return o.off(t, n), this
            },
            hasTextTrack: function(t) {
                var n, i, e = this.textTracks;
                if (Di(t)) i = e.getTrackById(t);
                else {
                    var r = t.split(".")[0];
                    n = e.some(function(t) {
                        return t.language.toLowerCase() === r.toLowerCase()
                    })
                }
                return !(!i && !n)
            },
            enableTextTrack: function(t) {
                var n, i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    r = this.textTracks;
                if (Di(t)) u = r.getTrackById(t);
                else {
                    var a = Y(t.split("."), 2);
                    n = a[0];
                    var s = a[1];
                    if (i = void 0 === s ? e : s, !this.hasTextTrack(t)) throw new Xe("There are no tracks for ".concat(n.toUpperCase(), "."), "InvalidTrackLanguageError", "enableTextTrack");
                    var c = i ? "".concat(n, ".").concat(i) : n;
                    u = Ye(c, r).track
                }
                if (!u || i && u.kind !== i) throw new Xe("There are no ".concat(i, " tracks for ").concat(n.toUpperCase(), "."), "InvalidTrackError", "enableTextTrack");
                o.fire(Bi, u.id)
            },
            disableTextTrack: function() {
                u = null, o.fire(Hi)
            },
            set quality(t) {
                o.fire(Vi, t)
            },
            get playbackRate() {
                return r ? r.playbackRate : 1
            },
            set playbackRate(t) {
                if (!a.embed.settings.speed) throw new Xe("Setting the playback rate is not enabled for this video.", "Error", "setPlaybackRate");
                if (isNaN(t) || t < le.low || t > le.high) throw new Xe("Playback rate should be a number between ".concat(le.low, " and ").concat(le.high, "."), "RangeError", "setPlaybackRate");
                r.playbackRate = t, r.defaultPlaybackRate = t
            },
            set presentationMode(t) {
                "picture-in-picture" === t ? o.fire(Wi) : o.fire(qi)
            },
            get textTracks() {
                return r.video ? r.video.textTracks : []
            },
            get representations() {
                return Pe(a, r)
            },
            get volume() {
                return r ? r.volume : ji(a.request.cookie.volume)
            },
            set volume(t) {
                if (t = parseFloat(t), isNaN(t) || t < 0 || t > 1) throw new Xe("Volume should be a number between 0 and 1.", "RangeError", "setVolume");
                r.volume = t
            },
            get videoId() {
                return a.video.id
            },
            get videoWidth() {
                return r.videoWidth || a.video.width
            },
            get videoHeight() {
                return r.videoHeight || a.video.height
            }
        };
        return a = s(a), e = new $e(a, o, t), r = e.telecine, i = Object.create(r), me(i, c)
    }
    var Qe = Array.isArray,
        tr = "object" == ("undefined" == typeof global ? "undefined" : N(global)) && global && global.Object === Object && global,
        nr = "object" == ("undefined" == typeof self ? "undefined" : N(self)) && self && self.Object === Object && self,
        ir = tr || nr || Function("return this")(),
        er = ir.Symbol,
        rr = Object.prototype,
        or = rr.hasOwnProperty,
        ur = rr.toString,
        ar = er ? er.toStringTag : void 0;
    var sr = Object.prototype.toString;
    var cr = "[object Null]",
        fr = "[object Undefined]",
        lr = er ? er.toStringTag : void 0;

    function hr(t) {
        return null == t ? void 0 === t ? fr : cr : lr && lr in Object(t) ? function(t) {
            var n = or.call(t, ar),
                i = t[ar];
            try {
                t[ar] = void 0
            } catch (t) {}
            var e = ur.call(t);
            return n ? t[ar] = i : delete t[ar], e
        }(t) : function(t) {
            return sr.call(t)
        }(t)
    }

    function dr(t) {
        return null != t && "object" == N(t)
    }
    var vr = "[object Symbol]";

    function pr(t) {
        return "symbol" == N(t) || dr(t) && hr(t) == vr
    }
    var mr = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
        br = /^\w*$/;

    function wr(t) {
        var n = N(t);
        return null != t && ("object" == n || "function" == n)
    }
    var yr = "[object AsyncFunction]",
        gr = "[object Function]",
        Er = "[object GeneratorFunction]",
        kr = "[object Proxy]";

    function _r(t) {
        if (!wr(t)) return !1;
        var n = hr(t);
        return n == gr || n == Er || n == yr || n == kr
    }
    var Tr = ir["Pu"],
        Sr = function() {
            var t = /[^.]+$/.exec(Tr && Tr.keys && Tr.keys.IE_PROTO || "");
            return t ? "Symbol(src)_1." + t : ""
        }();
    var Ar = Function.prototype.toString;

    function xr(t) {
        if (null != t) {
            try {
                return Ar.call(t)
            } catch (t) {}
            try {
                return t + ""
            } catch (t) {}
        }
        return ""
    }
    var Mr = /^\[object .+?Constructor\]$/,
        Or = Function.prototype,
        Rr = Object.prototype,
        Cr = Or.toString,
        Ir = Rr.hasOwnProperty,
        Lr = RegExp("^" + Cr.call(Ir).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");

    function Dr(t) {
        return !(!wr(t) || function(t) {
            return !!Sr && Sr in t
        }(t)) && (_r(t) ? Lr : Mr).test(xr(t))
    }

    function jr(t, n) {
        var i = function(t, n) {
            return null == t ? void 0 : t[n]
        }(t, n);
        return Dr(i) ? i : void 0
    }
    var Pr = jr(Object, "create");
    var Nr = "__lodash_hash_undefined__",
        Ur = Object.prototype.hasOwnProperty;
    var Fr = Object.prototype.hasOwnProperty;
    var Vr = "__lodash_hash_undefined__";

    function Br(t) {
        var n = -1,
            i = null == t ? 0 : t.length;
        for (this.clear(); ++n < i;) {
            var e = t[n];
            this.set(e[0], e[1])
        }
    }

    function Hr(t, n) {
        return t === n || t != t && n != n
    }

    function Wr(t, n) {
        for (var i = t.length; i--;)
            if (Hr(t[i][0], n)) return i;
        return -1
    }
    Br.prototype.clear = function() {
        this.Nu = Pr ? Pr(null) : {}, this.size = 0
    }, Br.prototype.delete = function(t) {
        var n = this.has(t) && delete this.Nu[t];
        return this.size -= n ? 1 : 0, n
    }, Br.prototype.get = function(t) {
        var n = this.Nu;
        if (Pr) {
            var i = n[t];
            return i === Nr ? void 0 : i
        }
        return Ur.call(n, t) ? n[t] : void 0
    }, Br.prototype.has = function(t) {
        var n = this.Nu;
        return Pr ? void 0 !== n[t] : Fr.call(n, t)
    }, Br.prototype.set = function(t, n) {
        var i = this.Nu;
        return this.size += this.has(t) ? 0 : 1, i[t] = Pr && void 0 === n ? Vr : n, this
    };
    var qr = Array.prototype.splice;

    function zr(t) {
        var n = -1,
            i = null == t ? 0 : t.length;
        for (this.clear(); ++n < i;) {
            var e = t[n];
            this.set(e[0], e[1])
        }
    }
    zr.prototype.clear = function() {
        this.Nu = [], this.size = 0
    }, zr.prototype.delete = function(t) {
        var n = this.Nu,
            i = Wr(n, t);
        return !(i < 0 || (i == n.length - 1 ? n.pop() : qr.call(n, i, 1), --this.size, 0))
    }, zr.prototype.get = function(t) {
        var n = this.Nu,
            i = Wr(n, t);
        return i < 0 ? void 0 : n[i][1]
    }, zr.prototype.has = function(t) {
        return Wr(this.Nu, t) > -1
    }, zr.prototype.set = function(t, n) {
        var i = this.Nu,
            e = Wr(i, t);
        return e < 0 ? (++this.size, i.push([t, n])) : i[e][1] = n, this
    };
    var Gr = jr(ir, "Map");

    function Yr(t, n) {
        var i = t.Nu;
        return function(t) {
            var n = N(t);
            return "string" == n || "number" == n || "symbol" == n || "boolean" == n ? "__proto__" !== t : null === t
        }(n) ? i["string" == typeof n ? "string" : "hash"] : i.map
    }

    function Kr(t) {
        var n = -1,
            i = null == t ? 0 : t.length;
        for (this.clear(); ++n < i;) {
            var e = t[n];
            this.set(e[0], e[1])
        }
    }
    Kr.prototype.clear = function() {
        this.size = 0, this.Nu = {
            hash: new Br,
            map: new(Gr || zr),
            string: new Br
        }
    }, Kr.prototype.delete = function(t) {
        var n = Yr(this, t).delete(t);
        return this.size -= n ? 1 : 0, n
    }, Kr.prototype.get = function(t) {
        return Yr(this, t).get(t)
    }, Kr.prototype.has = function(t) {
        return Yr(this, t).has(t)
    }, Kr.prototype.set = function(t, n) {
        var i = Yr(this, t),
            e = i.size;
        return i.set(t, n), this.size += i.size == e ? 0 : 1, this
    };
    var $r = "Expected a function";

    function Xr(t, n) {
        if ("function" != typeof t || null != n && "function" != typeof n) throw new TypeError($r);
        var i = function i() {
            var e = arguments,
                r = n ? n.apply(this, e) : e[0],
                o = i.cache;
            if (o.has(r)) return o.get(r);
            var u = t.apply(this, e);
            return i.cache = o.set(r, u) || o, u
        };
        return i.cache = new(Xr.Cache || Kr), i
    }
    Xr.Cache = Kr;
    var Jr = 500;
    var Zr = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
        Qr = /\\(\\)?/g,
        to = function(t) {
            var n = Xr(t, function(t) {
                    return i.size === Jr && i.clear(), t
                }),
                i = n.cache;
            return n
        }(function(t) {
            var n = [];
            return 46 === t.charCodeAt(0) && n.push(""), t.replace(Zr, function(t, i, e, r) {
                n.push(e ? r.replace(Qr, "$1") : i || t)
            }), n
        });
    var no = 1 / 0,
        io = er ? er.prototype : void 0,
        eo = io ? io.toString : void 0;

    function ro(t) {
        if ("string" == typeof t) return t;
        if (Qe(t)) return function(t, n) {
            for (var i = -1, e = null == t ? 0 : t.length, r = Array(e); ++i < e;) r[i] = n(t[i], i, t);
            return r
        }(t, ro) + "";
        if (pr(t)) return eo ? eo.call(t) : "";
        var n = t + "";
        return "0" == n && 1 / t == -no ? "-0" : n
    }

    function oo(t) {
        return null == t ? "" : ro(t)
    }

    function uo(t, n) {
        return Qe(t) ? t : function(t, n) {
            if (Qe(t)) return !1;
            var i = N(t);
            return !("number" != i && "symbol" != i && "boolean" != i && null != t && !pr(t)) || br.test(t) || !mr.test(t) || null != n && t in Object(n)
        }(t, n) ? [t] : to(oo(t))
    }
    var ao = 1 / 0;

    function so(t) {
        if ("string" == typeof t || pr(t)) return t;
        var n = t + "";
        return "0" == n && 1 / t == -ao ? "-0" : n
    }

    function co(t, n, i) {
        var e = null == t ? void 0 : function(t, n) {
            for (var i = 0, e = (n = uo(n, t)).length; null != t && i < e;) t = t[so(n[i++])];
            return i && i == e ? t : void 0
        }(t, n);
        return void 0 === e ? i : e
    }
    var fo = "object" == typeof global && global && global.Object === Object && global,
        lo = "object" == typeof self && self && self.Object === Object && self,
        ho = (fo || lo || Function("return this")()).Symbol,
        vo = Object.prototype,
        po = vo.hasOwnProperty,
        mo = vo.toString,
        bo = ho ? ho.toStringTag : void 0;
    var wo = Object.prototype.toString;
    var yo = "[object Null]",
        go = "[object Undefined]",
        Eo = ho ? ho.toStringTag : void 0;

    function ko(t) {
        return null == t ? void 0 === t ? go : yo : Eo && Eo in Object(t) ? function(t) {
            var n = po.call(t, bo),
                i = t[bo];
            try {
                t[bo] = void 0
            } catch (t) {}
            var e = mo.call(t);
            return n ? t[bo] = i : delete t[bo], e
        }(t) : function(t) {
            return wo.call(t)
        }(t)
    }
    var _o = function(t, n) {
        return function(i) {
            return t(n(i))
        }
    }(Object.getPrototypeOf, Object);
    var To = "[object Object]",
        So = Function.prototype,
        Ao = Object.prototype,
        xo = So.toString,
        Mo = Ao.hasOwnProperty,
        Oo = xo.call(Object);
    var Ro = function(t) {
            var n, i = t.Symbol;
            return "function" == typeof i ? i.observable ? n = i.observable : (n = i("observable"), i.observable = n) : n = "@@observable", n
        }("undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof module ? module : Function("return this")()),
        Co = {
            INIT: "@@redux/INIT"
        };

    function Io(t, n, i) {
        var e;
        if ("function" == typeof n && void 0 === i && (i = n, n = void 0), void 0 !== i) {
            if ("function" != typeof i) throw new Error("Expected the enhancer to be a function.");
            return i(Io)(t, n)
        }
        if ("function" != typeof t) throw new Error("Expected the reducer to be a function.");
        var r = t,
            o = n,
            u = [],
            a = u,
            s = !1;

        function c() {
            a === u && (a = u.slice())
        }

        function f() {
            return o
        }

        function l(t) {
            if ("function" != typeof t) throw new Error("Expected listener to be a function.");
            var n = !0;
            return c(), a.push(t),
                function() {
                    if (n) {
                        n = !1, c();
                        var i = a.indexOf(t);
                        a.splice(i, 1)
                    }
                }
        }

        function h(t) {
            if (! function(t) {
                    if (! function(t) {
                            return null != t && "object" == typeof t
                        }(t) || ko(t) != To) return !1;
                    var n = _o(t);
                    if (null === n) return !0;
                    var i = Mo.call(n, "constructor") && n.constructor;
                    return "function" == typeof i && i instanceof i && xo.call(i) == Oo
                }(t)) throw new Error("Actions must be plain objects. Use custom middleware for async actions.");
            if (void 0 === t.type) throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');
            if (s) throw new Error("Reducers may not dispatch actions.");
            try {
                s = !0, o = r(o, t)
            } finally {
                s = !1
            }
            for (var n = u = a, i = 0; i < n.length; i++) {
                (0, n[i])()
            }
            return t
        }
        return h({
            type: Co.INIT
        }), (e = {
            dispatch: h,
            subscribe: l,
            getState: f,
            replaceReducer: function(t) {
                if ("function" != typeof t) throw new Error("Expected the nextReducer to be a function.");
                r = t, h({
                    type: Co.INIT
                })
            }
        })[Ro] = function() {
            var t, n = l;
            return (t = {
                subscribe: function(t) {
                    if ("object" != typeof t) throw new TypeError("Expected the observer to be an object.");

                    function i() {
                        t.next && t.next(f())
                    }
                    return i(), {
                        unsubscribe: n(i)
                    }
                }
            })[Ro] = function() {
                return this
            }, t
        }, e
    }

    function Lo() {
        for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
        return 0 === n.length ? function(t) {
            return t
        } : 1 === n.length ? n[0] : n.reduce(function(t, n) {
            return function() {
                return t(n.apply(void 0, arguments))
            }
        })
    }
    var Do = Object.assign || function(t) {
        for (var n = 1; n < arguments.length; n++) {
            var i = arguments[n];
            for (var e in i) Object.prototype.hasOwnProperty.call(i, e) && (t[e] = i[e])
        }
        return t
    };
    var jo = 200;

    function Po(t) {
        var n = this.Nu = new zr(t);
        this.size = n.size
    }
    Po.prototype.clear = function() {
        this.Nu = new zr, this.size = 0
    }, Po.prototype.delete = function(t) {
        var n = this.Nu,
            i = n.delete(t);
        return this.size = n.size, i
    }, Po.prototype.get = function(t) {
        return this.Nu.get(t)
    }, Po.prototype.has = function(t) {
        return this.Nu.has(t)
    }, Po.prototype.set = function(t, n) {
        var i = this.Nu;
        if (i instanceof zr) {
            var e = i.Nu;
            if (!Gr || e.length < jo - 1) return e.push([t, n]), this.size = ++i.size, this;
            i = this.Nu = new Kr(e)
        }
        return i.set(t, n), this.size = i.size, this
    };
    var No = function() {
        try {
            var t = jr(Object, "defineProperty");
            return t({}, "", {}), t
        } catch (t) {}
    }();

    function Uo(t, n, i) {
        "__proto__" == n && No ? No(t, n, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : t[n] = i
    }

    function Fo(t, n, i) {
        (void 0 === i || Hr(t[n], i)) && (void 0 !== i || n in t) || Uo(t, n, i)
    }
    var Vo = function(t) {
            return function(n, i, e) {
                for (var r = -1, o = Object(n), u = e(n), a = u.length; a--;) {
                    var s = u[t ? a : ++r];
                    if (!1 === i(o[s], s, o)) break
                }
                return n
            }
        }(),
        Bo = "object" == ("undefined" == typeof exports ? "undefined" : N(exports)) && exports && !exports.nodeType && exports,
        Ho = Bo && "object" == ("undefined" == typeof module ? "undefined" : N(module)) && module && !module.nodeType && module,
        Wo = Ho && Ho.exports === Bo ? ir.Buffer : void 0,
        qo = Wo ? Wo.allocUnsafe : void 0;
    var zo = ir.Uint8Array;

    function Go(t, n) {
        var i = n ? function(t) {
            var n = new t.constructor(t.byteLength);
            return new zo(n).set(new zo(t)), n
        }(t.buffer) : t.buffer;
        return new t.constructor(i, t.byteOffset, t.length)
    }
    var Yo = Object.create,
        Ko = function() {
            function t() {}
            return function(n) {
                if (!wr(n)) return {};
                if (Yo) return Yo(n);
                t.prototype = n;
                var i = new t;
                return t.prototype = void 0, i
            }
        }();

    function $o(t, n) {
        return function(i) {
            return t(n(i))
        }
    }
    var Xo = $o(Object.getPrototypeOf, Object),
        Jo = Object.prototype;

    function Zo(t) {
        var n = t && t.constructor;
        return t === ("function" == typeof n && n.prototype || Jo)
    }
    var Qo = "[object Arguments]";

    function tu(t) {
        return dr(t) && hr(t) == Qo
    }
    var nu = Object.prototype,
        iu = nu.hasOwnProperty,
        eu = nu.propertyIsEnumerable,
        ru = tu(function() {
            return arguments
        }()) ? tu : function(t) {
            return dr(t) && iu.call(t, "callee") && !eu.call(t, "callee")
        },
        ou = 9007199254740991;

    function uu(t) {
        return "number" == typeof t && t > -1 && t % 1 == 0 && t <= ou
    }

    function au(t) {
        return null != t && uu(t.length) && !_r(t)
    }
    var su = "object" == ("undefined" == typeof exports ? "undefined" : N(exports)) && exports && !exports.nodeType && exports,
        cu = su && "object" == ("undefined" == typeof module ? "undefined" : N(module)) && module && !module.nodeType && module,
        fu = cu && cu.exports === su ? ir.Buffer : void 0,
        lu = (fu ? fu.isBuffer : void 0) || function() {
            return !1
        },
        hu = "[object Object]",
        du = Function.prototype,
        vu = Object.prototype,
        pu = du.toString,
        mu = vu.hasOwnProperty,
        bu = pu.call(Object);

    function wu(t) {
        if (!dr(t) || hr(t) != hu) return !1;
        var n = Xo(t);
        if (null === n) return !0;
        var i = mu.call(n, "constructor") && n.constructor;
        return "function" == typeof i && i instanceof i && pu.call(i) == bu
    }
    var yu = {};
    yu["[object Float32Array]"] = yu["[object Float64Array]"] = yu["[object Int8Array]"] = yu["[object Int16Array]"] = yu["[object Int32Array]"] = yu["[object Uint8Array]"] = yu["[object Uint8ClampedArray]"] = yu["[object Uint16Array]"] = yu["[object Uint32Array]"] = !0, yu["[object Arguments]"] = yu["[object Array]"] = yu["[object ArrayBuffer]"] = yu["[object Boolean]"] = yu["[object DataView]"] = yu["[object Date]"] = yu["[object Error]"] = yu["[object Function]"] = yu["[object Map]"] = yu["[object Number]"] = yu["[object Object]"] = yu["[object RegExp]"] = yu["[object Set]"] = yu["[object String]"] = yu["[object WeakMap]"] = !1;
    var gu = "object" == ("undefined" == typeof exports ? "undefined" : N(exports)) && exports && !exports.nodeType && exports,
        Eu = gu && "object" == ("undefined" == typeof module ? "undefined" : N(module)) && module && !module.nodeType && module,
        ku = Eu && Eu.exports === gu && tr.process,
        _u = function() {
            try {
                return ku && ku.binding && ku.binding("util")
            } catch (t) {}
        }(),
        Tu = _u && _u.isTypedArray,
        Su = Tu ? function(t) {
            return function(n) {
                return t(n)
            }
        }(Tu) : function(t) {
            return dr(t) && uu(t.length) && !!yu[hr(t)]
        };

    function Au(t, n) {
        return "__proto__" == n ? void 0 : t[n]
    }
    var xu = Object.prototype.hasOwnProperty;

    function Mu(t, n, i) {
        var e = t[n];
        xu.call(t, n) && Hr(e, i) && (void 0 !== i || n in t) || Uo(t, n, i)
    }
    var Ou = 9007199254740991,
        Ru = /^(?:0|[1-9]\d*)$/;

    function Cu(t, n) {
        var i = N(t);
        return !!(n = null == n ? Ou : n) && ("number" == i || "symbol" != i && Ru.test(t)) && t > -1 && t % 1 == 0 && t < n
    }
    var Iu = Object.prototype.hasOwnProperty;

    function Lu(t, n) {
        var i = Qe(t),
            e = !i && ru(t),
            r = !i && !e && lu(t),
            o = !i && !e && !r && Su(t),
            u = i || e || r || o,
            a = u ? function(t, n) {
                for (var i = -1, e = Array(t); ++i < t;) e[i] = n(i);
                return e
            }(t.length, String) : [],
            s = a.length;
        for (var c in t) !n && !Iu.call(t, c) || u && ("length" == c || r && ("offset" == c || "parent" == c) || o && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || Cu(c, s)) || a.push(c);
        return a
    }
    var Du = Object.prototype.hasOwnProperty;

    function ju(t) {
        if (!wr(t)) return function(t) {
            var n = [];
            if (null != t)
                for (var i in Object(t)) n.push(i);
            return n
        }(t);
        var n = Zo(t),
            i = [];
        for (var e in t)("constructor" != e || !n && Du.call(t, e)) && i.push(e);
        return i
    }

    function Pu(t) {
        return au(t) ? Lu(t, !0) : ju(t)
    }

    function Nu(t) {
        return function(t, n, i, e) {
            var r = !i;
            i || (i = {});
            for (var o = -1, u = n.length; ++o < u;) {
                var a = n[o],
                    s = e ? e(i[a], t[a], a, i, t) : void 0;
                void 0 === s && (s = t[a]), r ? Uo(i, a, s) : Mu(i, a, s)
            }
            return i
        }(t, Pu(t))
    }

    function Uu(t, n, i, e, r, o, u) {
        var a = Au(t, i),
            s = Au(n, i),
            c = u.get(s);
        if (c) Fo(t, i, c);
        else {
            var f = o ? o(a, s, i + "", t, n, u) : void 0,
                l = void 0 === f;
            if (l) {
                var h = Qe(s),
                    d = !h && lu(s),
                    v = !h && !d && Su(s);
                f = s, h || d || v ? Qe(a) ? f = a : ! function(t) {
                    return dr(t) && au(t)
                }(a) ? d ? (l = !1, f = function(t, n) {
                    if (n) return t.slice();
                    var i = t.length,
                        e = qo ? qo(i) : new t.constructor(i);
                    return t.copy(e), e
                }(s, !0)) : v ? (l = !1, f = Go(s, !0)) : f = [] : f = function(t, n) {
                    var i = -1,
                        e = t.length;
                    for (n || (n = Array(e)); ++i < e;) n[i] = t[i];
                    return n
                }(a) : wu(s) || ru(s) ? (f = a, ru(a) ? f = Nu(a) : (!wr(a) || e && _r(a)) && (f = function(t) {
                    return "function" != typeof t.constructor || Zo(t) ? {} : Ko(Xo(t))
                }(s))) : l = !1
            }
            l && (u.set(s, f), r(f, s, e, o, u), u.delete(s)), Fo(t, i, f)
        }
    }

    function Fu(t, n, i, e, r) {
        t !== n && Vo(n, function(o, u) {
            if (wr(o)) r || (r = new Po), Uu(t, n, u, i, Fu, e, r);
            else {
                var a = e ? e(Au(t, u), o, u + "", t, n, r) : void 0;
                void 0 === a && (a = o), Fo(t, u, a)
            }
        }, Pu)
    }

    function Vu(t) {
        return t
    }
    var Bu = Math.max;

    function Hu(t) {
        return function() {
            return t
        }
    }
    var Wu = No ? function(t, n) {
            return No(t, "toString", {
                configurable: !0,
                enumerable: !1,
                value: Hu(n),
                writable: !0
            })
        } : Vu,
        qu = 800,
        zu = 16,
        Gu = Date.now;
    var Yu = function(t) {
        var n = 0,
            i = 0;
        return function() {
            var e = Gu(),
                r = zu - (e - i);
            if (i = e, r > 0) {
                if (++n >= qu) return arguments[0]
            } else n = 0;
            return t.apply(void 0, arguments)
        }
    }(Wu);

    function Ku(t, n) {
        return Yu(function(t, n, i) {
            return n = Bu(void 0 === n ? t.length - 1 : n, 0),
                function() {
                    for (var e = arguments, r = -1, o = Bu(e.length - n, 0), u = Array(o); ++r < o;) u[r] = e[n + r];
                    r = -1;
                    for (var a = Array(n + 1); ++r < n;) a[r] = e[r];
                    return a[n] = i(u),
                        function(t, n, i) {
                            switch (i.length) {
                                case 0:
                                    return t.call(n);
                                case 1:
                                    return t.call(n, i[0]);
                                case 2:
                                    return t.call(n, i[0], i[1]);
                                case 3:
                                    return t.call(n, i[0], i[1], i[2])
                            }
                            return t.apply(n, i)
                        }(t, this, a)
                }
        }(t, n, Vu), t + "")
    }
    var $u = function(t) {
            return Ku(function(n, i) {
                var e = -1,
                    r = i.length,
                    o = r > 1 ? i[r - 1] : void 0,
                    u = r > 2 ? i[2] : void 0;
                for (o = t.length > 3 && "function" == typeof o ? (r--, o) : void 0, u && function(t, n, i) {
                        if (!wr(i)) return !1;
                        var e = N(n);
                        return !!("number" == e ? au(i) && Cu(n, i.length) : "string" == e && n in i) && Hr(i[n], t)
                    }(i[0], i[1], u) && (o = r < 3 ? void 0 : o, r = 1), n = Object(n); ++e < r;) {
                    var a = i[e];
                    a && t(n, a, e, o)
                }
                return n
            })
        }(function(t, n, i) {
            Fu(t, n, i)
        }),
        Xu = "[object String]";
    var Ju = /^(%20|\s)*(javascript|data)/im,
        Zu = /[^\x20-\x7E]/gim,
        Qu = /^([^:]+):/gm,
        ta = [".", "/"];

    function na(t) {
        var n = t.match(Qu);
        return n && n[0]
    }

    function ia(t) {
        var n = t.replace(Zu, "");
        if (function(t) {
                return ta.indexOf(t[0]) > -1
            }(n)) return n;
        var i = na(n);
        return i && Ju.test(i) ? "" : n
    }

    function ea(t) {
        return t ? decodeURI(encodeURI(function(t) {
            var n = na(t = t.trim());
            return t && !n && (t = "http://".concat(t)), t
        }(ia(t)))) : null
    }

    function ra(t) {
        if ("object" !== N(t)) return "";
        var n = [];
        for (var i in t) t.hasOwnProperty(i) && n.push(encodeURIComponent(i) + "=" + encodeURIComponent(t[i]));
        return n.length ? "?".concat(n.join("&")) : ""
    }

    function oa(t) {
        return "string" != typeof t ? {} : t.replace("?", "").split("&").reduce(function(t, n) {
            if (n.length > 0) {
                var i = Y(n.split("="), 2),
                    e = i[0],
                    r = i[1];
                t[e] = decodeURIComponent(r)
            }
            return t
        }, {})
    }

    function ua(t) {
        return t = parseFloat(t), isNaN(t) || t < 0 ? "0" : t < 1e3 ? t.toString() : t >= 1e3 && t < 1e6 ? Math.floor(t / 1e3) + "." + Math.round(t % 1e3 / 100) + "k" : Math.floor(t / 1e6) + "." + Math.round(t % 1e6 / 1e5) + "m"
    }

    function aa(t) {
        return !isNaN(t) && parseInt(Number(t), 10) == t && !isNaN(parseInt(t, 10))
    }
    var sa = function(t) {
            for (var n = this, i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) e[r - 1] = arguments[r];
            return function i(e) {
                return e.length >= t.length ? t.apply(n, e) : function() {
                    for (var t = arguments.length, n = new Array(t), r = 0; r < t; r++) n[r] = arguments[r];
                    return i([].concat(K(e), n))
                }
            }(e)
        }(function(t, n) {
            return Object.keys(t).every(function(i) {
                return t[i] === n[i]
            })
        }),
        ca = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [];
            return {
                get: function(n) {
                    return n ? t.find(sa(n)) : t
                },
                insert: function(n) {
                    return (t = t.concat(n)).slice(-1).pop()
                },
                getOrInsert: function(t) {
                    return this.get(t) || this.insert(t)
                },
                remove: function(n) {
                    return t.splice(t.findIndex(sa(n)), 1).pop()
                }
            }
        };

    function fa(t, n) {
        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : document.styleSheets[0];
        try {
            i.insertRule ? i.insertRule(t + "{" + n + "}", (i.cssRules || i.rules).length) : i.addRule(t, n)
        } catch (t) {}
    }

    function la() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : document.activeElement,
            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
        try {
            t.blur()
        } catch (t) {
            n && n(t)
        }
    }

    function ha(t) {
        var n = t.getBoundingClientRect();
        return document.msFullscreenElement && window.parent !== window && t.offsetWidth < t.clientWidth && (n = {
            bottom: 100 * n.bottom,
            left: 100 * n.left,
            top: 100 * n.top,
            right: 100 * n.right,
            width: 100 * n.width,
            height: 100 * n.height
        }), n
    }

    function da(t) {
        try {
            return new URL(t).origin
        } catch (t) {}
        var n = document.createElement("a");
        return n.href = t, n.origin ? n.origin : "".concat(n.protocol.replace(":", ""), "://").concat(n.host)
    }

    function va(t) {
        var n = t.width,
            i = t.height,
            e = t.elementWidth,
            r = t.elementHeight,
            o = t.threshold,
            u = void 0 === o ? 10 : o,
            a = 1,
            s = n / i,
            c = e - r * s,
            f = r - e / s;
        if (c > 0 && c < u || f > 0 && f < u) {
            var l = e / (e - c),
                h = r / (r - f);
            a = ga(Math.max(l, h), 3)
        }
        return {
            extraWidth: c,
            extraHeight: f,
            scaleFactor: a
        }
    }

    function pa(t, n, i) {
        return t > i ? i : n > t ? n : t
    }

    function ma(t, n, i) {
        var e = i.width,
            r = i.height,
            o = i.scrollbars,
            u = void 0 === o ? "yes" : o,
            a = i.resizable,
            s = void 0 === a ? "yes" : a,
            c = i.toolbar,
            f = void 0 === c ? "no" : c,
            l = (window.screenY || window.screenTop || 0) + window.outerHeight / 2 - r / 2,
            h = (window.screenX || window.screenLeft || 0) + window.outerWidth / 2 - e / 2;
        window.chrome && -1 !== window.navigator.userAgent.toLowerCase().indexOf("mac os x") && (r += 27), window.safari && (r += 47);
        var d = "scrollbars=".concat(u, ",resizable=").concat(s, ",toolbar=").concat(f);
        return window.open(t, n, "width=".concat(e, ",height=").concat(r, ",left=").concat(h, ",top=").concat(l, ",").concat(d))
    }

    function ba(t) {
        return function(t) {
            return /^(https?:)?\/\/(.+)\.vimeo(ws)?\.(com|dev)(?=$|\/)/.test(t)
        }(t) ? da(t) : ""
    }

    function wa(t, n, i) {
        if (function(t) {
                return /^(https?:)?\/\/(.+)\.vimeo(ws)?\.(com|dev)\/video\/\d+\/config(?=$|\?)/.test(t)
            }(n)) return n;
        var e = function(t) {
                if (aa(t)) return parseInt(t, 10);
                var n = t.match(/(video|\.com|\.dev)\/(\d+)/);
                if (!n || n.length < 3) throw new Error("Please provide a Vimeo URL with a valid clip id.");
                return parseInt(n[2], 10)
            }(n),
            r = oa(window.location.search),
            o = oa("".concat(n).split("?")[1]),
            u = ra(Object.assign(r, o, i));
        return "".concat(t, "/video/").concat(e, "/config").concat(u)
    }

    function ya(t) {
        for (var n, i, e = (t || document).querySelectorAll("[tabindex]"), r = [], o = 0, u = 0, a = e.length; u < a; u++) n = e[u], i = window.getComputedStyle(n, ""), n.tabIndex > 0 && "none" !== i.display && i.opacity > 0 && "hidden" !== i.visibility && (r[o++] = n);
        var s = r.shift();
        s && (s.focus(), s.blur())
    }

    function ga(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
        if (t = parseFloat(t), isNaN(t)) return 0;
        var i = Math.pow(10, n);
        return Math.round(t * i) / i
    }

    function Ea() {
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function(t) {
            return (t ^ 16 * Math.random() >> t / 4).toString(16)
        })
    }

    function ka(t, n) {
        return -1 !== j(n).indexOf(t)
    }

    function _a(t) {
        return t ? j(t.parentNode.children).indexOf(t) : -1
    }
    var Ta = function() {
        for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
        return n.reduce(function(t, n) {
            return function() {
                return t(n.apply(void 0, arguments))
            }
        })
    }(_a, function(t, n) {
        for (; t && t.parentElement && !ka(t, n);) t = t.parentElement;
        return ka(t, n) ? t : null
    });

    function Sa(t, n, i) {
        if (void 0 !== i) t.style[n] = i;
        else if (function(t) {
                return "string" == typeof t || !Qe(t) && dr(t) && hr(t) == Xu
            }(n)) t.setAttribute("style", n);
        else
            for (var e in n) Sa(t, e, n[e])
    }

    function Aa(t, n, i) {
        i.forEach(function(i) {
            t(i, function() {
                for (var t = arguments.length, e = new Array(t), r = 0; r < t; r++) e[r] = arguments[r];
                n.apply(void 0, [i].concat(e))
            })
        })
    }

    function xa(t) {
        for (var n = Object.keys(t), i = n.length, e = [], r = 0; r < i;) e[r] = t[n[r]], r += 1;
        return e
    }

    function Ma(t, n) {
        return n && 0 === n.indexOf(t)
    }
    var Oa = 0;

    function Ra() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "p",
            n = ++Oa;
        return "".concat(t).concat(n)
    }
    var Ca = {
            Uu: Ra(),
            Fu: Ra(),
            Vu: Ra(),
            Bu: Ra()
        },
        Ia = 1e4,
        La = {
            VIDEO_TITLE: "video-title",
            VIDEO_BYLINE: "video-byline",
            VIDEO_PORTRAIT: "video-portrait"
        },
        Da = {
            PRIVACY_PUBLIC: "anybody",
            PRIVACY_NOBODY: "nobody",
            PRIVACY_FOLLOW: "contacts",
            PRIVACY_PASSWORD: "password",
            PRIVACY_USER: "users",
            PRIVACY_PURGATORY: "purgatory",
            PRIVACY_HIDE_FROM_VIMEO: "disable",
            PRIVACY_PAYTOVIEW: "ptv",
            PRIVACY_PAYTOVIEWEXTRA: "ptv_extra",
            PRIVACY_UNLISTED: "unlisted"
        },
        ja = {
            h264: "video/mp4",
            hls: "application/vnd.apple.mpegurl",
            hlsLive: "application/x-mpegURL",
            dash: "application/vnd.vimeo.dash+json",
            dashMpd: "video/vnd.mpeg.dash.mpd",
            vp6: "video/x-flv",
            vp8: "video/webm",
            webm: "video/webm",
            hds: "application/f4m"
        },
        Pa = {
            Hu: Ra(),
            Wu: Ra(),
            qu: Ra(),
            _showOverlay: Ra(),
            zu: Ra(),
            Gu: Ra(),
            Yu: Ra(),
            Ku: Ra(),
            $u: Ra(),
            Xu: Ra(),
            Ju: Ra(),
            Zu: Ra(),
            Qu: Ra(),
            ta: Ra(),
            na: Ra(),
            ia: Ra(),
            ea: Ra(),
            ra: Ra(),
            oa: Ra(),
            _hideOutro: Ra(),
            aa: Ra(),
            _overrideControlbarBehavior: Ra(),
            sa: Ra(),
            ca: Ra(),
            fa: Ra(),
            la: Ra(),
            ha: Ra(),
            da: Ra(),
            _addCard: Ra(),
            _removeCard: Ra(),
            va: Ra(),
            pa: Ra()
        },
        Na = {
            like: {
                will: "willLikeVideo",
                did: "didLikeVideo"
            },
            unlike: {
                will: "willUnlikeVideo",
                did: "didUnlikeVideo"
            },
            addToWatchLater: {
                will: "willAddToWatchLater",
                did: "didAddToWatchLater"
            },
            removeFromWatchLater: {
                will: "willRemoveFromWatchLater",
                did: "didRemoveFromWatchLater"
            },
            purchase: {
                will: "willOpenVodPurchaseForm",
                did: "didOpenVodPurchaseForm"
            },
            shareOverlay: {
                will: "willOpenShareOverlay",
                did: "didOpenShareOverlay"
            },
            loginForm: {
                will: "willOpenLoginForm",
                did: "didOpenLoginForm"
            },
            collectionsOverlay: {
                will: "willOpenCollectionsOverlay",
                did: "didOpenCollectionsOverlay"
            },
            showOutro: {
                will: "willShowOutro",
                did: "didShowOutro"
            },
            playLog: {
                will: "willSendPlayLog",
                did: "didSendPlayLog"
            }
        },
        Ua = {
            ma: Ra(),
            ba: Ra(),
            wa: Ra(),
            ya: Ra(),
            oe: Ra(),
            ga: Ra(),
            Ea: Ra(),
            ka: Ra(),
            _a: Ra(),
            Ta: Ra(),
            Sa: Ra(),
            Aa: Ra(),
            xa: Ra(),
            Ma: Ra(),
            Oa: Ra(),
            Ra: Ra(),
            Ca: Ra(),
            Ia: Ra(),
            La: Ra(),
            Da: Ra(),
            ja: Ra(),
            Pa: Ra(),
            Na: Ra(),
            Ua: Ra(),
            Fa: Ra(),
            Va: Ra(),
            Ba: Ra(),
            Ha: Ra(),
            Wa: Ra(),
            qa: Ra(),
            za: Ra(),
            Ga: Ra(),
            Ya: Ra(),
            Ka: Ra(),
            $a: Ra(),
            Xa: Ra(),
            Ja: Ra(),
            Za: Ra(),
            Qa: Ra(),
            ts: Ra(),
            ns: Ra(),
            es: Ra(),
            rs: Ra(),
            os: Ra(),
            us: Ra(),
            as: Ra(),
            ss: Ra(),
            cs: Ra(),
            fs: Ra(),
            ls: Ra(),
            hs: Ra(),
            ds: Ra(),
            vs: Ra(),
            ps: Ra(),
            ms: Ra(),
            bs: Ra(),
            ws: Ra(),
            ys: Ra(),
            Es: Ra(),
            ks: Ra(),
            _s: Ra(),
            Ts: Ra(),
            Ss: Ra(),
            As: Ra(),
            Ms: Ra(),
            Os: Ra(),
            Rs: Ra(),
            Cs: Ra(),
            Is: Ra(),
            Ls: Ra(),
            Ds: Ra(),
            Ps: Ra(),
            Ns: Ra(),
            Us: Ra(),
            Fs: Ra(),
            Vs: Ra(),
            Bs: Ra(),
            Hs: Ra(),
            Ws: Ra(),
            qs: Ra(),
            zs: Ra(),
            Gs: Ra(),
            Ys: Ra(),
            Ks: Ra(),
            $s: Ra(),
            Xs: Ra(),
            Js: Ra(),
            Zs: Ra(),
            Qs: Ra(),
            tc: Ra(),
            nc: Ra(),
            ic: Ra(),
            ec: Ra(),
            rc: Ra(),
            oc: Ra(),
            _loadVideo: Ra(),
            uc: Ra(),
            ac: Ra(),
            sc: Ra(),
            cc: Ra(),
            fc: Ra(),
            lc: Ra(),
            hc: Ra(),
            dc: Ra(),
            vc: Ra(),
            pc: Ra(),
            mc: Ra(),
            bc: Ra(),
            wc: Ra(),
            yc: Ra(),
            gc: Ra(),
            Ec: Ra(),
            kc: Ra(),
            _c: Ra(),
            Tc: Ra(),
            Sc: Ra(),
            yi: Ra(),
            Ac: Ra(),
            xc: Ra(),
            Mc: Ra(),
            Oc: Ra(),
            Rc: Ra(),
            Cc: Ra(),
            Ic: Ra(),
            Lc: Ra(),
            Dc: Ra(),
            jc: Ra(),
            Pc: Ra(),
            Nc: Ra(),
            Uc: Ra(),
            Fc: Ra(),
            Vc: Ra(),
            Bc: Ra()
        },
        Fa = {
            Hu: Ra(),
            Hc: Ra(),
            Wc: Ra(),
            qc: Ra()
        },
        Va = "done",
        Ba = {
            pending: "pending",
            active: "active",
            started: "started",
            ended: "ended"
        },
        Ha = {
            "application/vnd.apple.mpegurl": "hls",
            "application/vnd.vimeo.dash+json": "dash",
            "video/vnd.mpeg.dash.mpd": "dash",
            "video/mp4": "progressive",
            "video/webm": "progressive",
            "video/x-flv": "progressive",
            "application/x-mpegURL": "hlslive"
        },
        Wa = {
            likes: "likes",
            watchLater: "watchlater",
            following: "following"
        },
        qa = {
            low: .5,
            high: 2
        },
        za = {
            main: 1,
            privateLocked: 2,
            privateUnlocked: 3,
            privatePassword: 4,
            error: 7,
            contentRating: 9
        },
        Ga = {
            AD_STARTED: "adstarted",
            AD_COMPLETED: "adcompleted",
            AD_ERROR: "aderror",
            AD_SKIPPED: "adskipped",
            AD_ALL_COMPLETED: "adallcompleted",
            BUFFER_END: "bufferend",
            BUFFER_START: "bufferstart",
            CHROMECAST_CONNECTED: "chromecastconnected",
            CONTROL_BAR_VISIBILITY_CHANGED: "controlbarvisibilitychanged",
            CUE_CHANGE: "cuechange",
            CUEPOINT: "cuepoint",
            DURATION_CHANGE: "durationchange",
            EMAIL_CAPTURE: "emailcapture",
            ENDED: "ended",
            ERROR: "error",
            FULLSCREENCHANGE: "fullscreenchange",
            LIVE_EVENT_ENDED: "liveeventended",
            LIVE_EVENT_STARTED: "liveeventstarted",
            LIVE_STREAM_OFFLINE: "livestreamoffline",
            LIVE_STREAM_ONLINE: "livestreamonline",
            LOADED_DATA: "loadeddata",
            LOAD_START: "loadstart",
            LOADED_METADATA: "loadedmetadata",
            LOADED: "loaded",
            MOTION_END: "motionend",
            MOTION_START: "motionstart",
            WEBVR_HARDWARE_AVAILABLE: "webvrhardwareavailable",
            ENTER_WEBVR: "enterwebvr",
            EXIT_WEBVR: "exitwebvr",
            SPATIAL_UNSUPPORTED: "spatialunsupported",
            PAUSE: "pause",
            PLAY: "play",
            PLAYBACK_RATE_CHANGE: "playbackratechange",
            PROGRESS: "progress",
            READY: "ready",
            SEEKING: "seeking",
            SEEKED: "seeked",
            SPACE_CHANGE: "spacechange",
            TEXT_TRACK_CHANGE: "texttrackchange",
            TIME_UPDATE: "timeupdate",
            VOLUME_CHANGE: "volumechange",
            WAITING: "waiting"
        },
        Ya = {
            playProgress: "timeupdate",
            loadProgress: "progress",
            finish: "ended",
            seek: "seeked"
        },
        Ka = {
            MARKER_SEEKED: "seeked",
            MARKER_ENDED: "ended",
            MARKER_UPSWITCH: "upswitch",
            MARKER_DOWNSWITCH: "downswitch",
            MARKER_RESIZE: "resize",
            MARKER_SCANNER_CHANGE: "scannerchange",
            MARKER_FILE_CHANGE: "filechange",
            MARKER_BUFFER_START: "bufferstart",
            MARKER_STALLED: "stalled"
        },
        $a = {
            MARKER_SEEKED: "#0088cc",
            MARKER_ENDED: "#503873",
            MARKER_UPSWITCH: "#5a9e02",
            MARKER_DOWNSWITCH: "#d93636",
            MARKER_RESIZE: "#FF8A00",
            MARKER_SCANNER_CHANGE: "#e9ff00",
            MARKER_FILE_CHANGE: "#b5d3e2",
            MARKER_BUFFER_START: "#e812e0",
            MARKER_STALLED: "#f44283"
        },
        Xa = {
            ENDED: "ended",
            ERROR: "error",
            FIRST_PLAY: "firstplay",
            PAUSE: "pause",
            PLAY: "play",
            SEEKED: "seeked",
            TIME_UPDATE: "timeupdate",
            WAITING: "waiting"
        },
        Ja = function() {
            return {
                id: "network",
                title: "Network error",
                message: 'A network hiccup interrupted playback. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',
                final: !0
            }
        },
        Za = function() {
            return {
                id: "error",
                title: "Player error",
                message: "The player is having trouble. Well have it back up and running as soon as possible.",
                modal: !0,
                final: !0
            }
        },
        Qa = Object.freeze({
            BrowserNotSupported: function() {
                return {
                    id: "not-supported",
                    title: "Unsupported viewing environment",
                    message: 'Your system is having trouble playing this video. For more information, see our <a href="https://help.vimeo.com/hc/en-us/articles/115015677227-Troubleshoot-player-error-messages" target="_blank" rel="noopener" aria-describedby="new-window">Help Center</a>.',
                    deferred: !0,
                    final: !0
                }
            },
            DRMFailure: function() {
                return {
                    id: "drm-failure",
                    title: "Rights issue",
                    message: "Were having trouble authorizing playback for this video. ",
                    final: !0
                }
            },
            FilesNotPlayable: function() {
                return {
                    id: "not-supported",
                    title: "Player error",
                    message: "The player is having trouble. Well have it back up and running as soon as possible.",
                    deferred: !0,
                    final: !0
                }
            },
            MediaSrcNotSupportedError: function() {
                return {
                    id: "not-supported",
                    final: !1
                }
            },
            MediaDecodeError: function() {
                return {
                    id: "decode",
                    final: !1
                }
            },
            MediaNetworkError: Ja,
            MediaUnknownError: function() {
                return {
                    id: "unknown",
                    title: "Browser error",
                    message: 'Were having trouble playing this video file. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',
                    final: !0
                }
            },
            FileError: function() {
                return {
                    id: "telecine-file-error",
                    final: !1
                }
            },
            DownloadError: function() {
                return {
                    id: "telecine-download-error",
                    final: !1
                }
            },
            MediaUrlExpired: function() {
                return {
                    id: "media-url-expired",
                    title: "Playback error",
                    message: 'Were having trouble playing this video. Please <a href="javascript:window.location.reload()" rel="noopener">reload the player</a> and try again.',
                    final: !1
                }
            },
            ScannerError: function() {
                return {
                    id: "scanner-error",
                    final: !1
                }
            },
            PlayerError: Za
        });

    function ts(t, n) {
        return document.getElementById(t) ? e.resolve() : new e(function(i, e) {
            var r = !1,
                o = document.createElement("script");
            o.id = t, o.src = n, o.async = !0, o.onerror = e, o.onload = o.onreadystatechange = function() {
                r || o.readyState && "loaded" !== o.readyState && "complete" !== o.readyState || (r = !0, o.onload = o.onreadystatechange = null, i(o))
            }, document.getElementsByTagName("head")[0].appendChild(o)
        })
    }

    function ns() {
        return void 0 !== window.performance && "function" == typeof window.performance.now ? window.performance.now() : Date.now()
    }

    function is(t) {
        return ns() - t
    }

    function es(t) {
        function n(t, n) {
            var i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2],
                r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "POST";
            return new e(function(e, o) {
                "POST" === r && navigator.sendBeacon ? e({
                    status: navigator.sendBeacon(t, n)
                }) : Sn({
                    url: t,
                    body: n,
                    method: r,
                    async: i,
                    headers: {
                        "Content-Type": "text/plain; charset=UTF-8"
                    }
                }).then(function(t) {
                    e({
                        response: t,
                        status: t.status
                    })
                }).catch(o)
            })
        }
        return {
            log: function(i, e) {
                var r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                e.name = i, e.event_time = e.event_time || ns();
                var o = [e];
                return n(t, JSON.stringify(o), r)
            },
            logRequestPromiseWithUrl: n
        }
    }
    var rs = {
            ABORT: "abort",
            CAN_PLAY: "canplay",
            CAN_PLAY_THROUGH: "canplaythrough",
            DURATION_CHANGE: "durationchange",
            ENDED: "ended",
            ERROR: "error",
            LOADED_DATA: "loadeddata",
            LOADED_METADATA: "loadedmetadata",
            LOAD_START: "loadstart",
            PAUSE: "pause",
            PLAY: "play",
            PLAYING: "playing",
            PROGRESS: "progress",
            RATE_CHANGE: "ratechange",
            SEEKED: "seeked",
            SEEKING: "seeking",
            STALLED: "stalled",
            SUSPEND: "suspend",
            TIME_UPDATE: "timeupdate",
            VOLUME_CHANGE: "volumechange",
            WAITING: "waiting"
        },
        os = {
            VIDEO_BUFFER_END: "video-buffer-end",
            VIDEO_BUFFER_START: "video-buffer-start",
            VIDEO_ENDED: "video-ended",
            VIDEO_EXIT: "video-exit",
            VIDEO_LOAD_FAILURE: "video-load-failure",
            VIDEO_MINUTE_WATCHED: "video-minute-watched",
            VIDEO_PAUSED: "video-paused",
            VIDEO_PLAYED: "video-played",
            VIDEO_PLAYBACK_ERROR: "video-playback-error",
            VIDEO_READY: "video-ready",
            VIDEO_START_ATTEMPT: "video-start-attempt",
            VIDEO_START_FAILURE: "video-start-failure",
            VIDEO_START_TIME: "video-start-time",
            VIDEO_SEEK: "video-seek",
            VIDEO_SEEKED: "video-seeked"
        };

    function us(t) {
        var n = 0,
            i = 0,
            e = 0,
            r = 0,
            o = !1,
            u = -1,
            a = null,
            s = null,
            c = null,
            f = {
                satisfied: 0,
                tolerable: 0,
                frustrated: 0
            },
            l = null;

        function h() {
            var n = t.getBoundingClientRect(),
                i = t.videoWidth,
                e = t.videoHeight;
            if (0 !== i || 0 !== e) {
                var r = "satisfied",
                    o = "tolerable",
                    u = "frustrated",
                    a = r;
                if (n.width > i && n.height > e && (i / n.width < .4 ? a = r : i / n.width < 1 ? a = o : i / n.width > 1 && (a = u)), s) {
                    var l = is(s);
                    f[c] += l
                }
                c = a, s = ns()
            }
        }

        function d() {
            return o ? 0 : 1
        }

        function v() {
            return -1 === u ? null : u > 8e3 || -1 === u ? 0 : u > 2e3 ? .5 : 1
        }

        function p() {
            return l ? (r = e / is(l), n >= 4 || r >= .12 ? 0 : n < 4 && 0 !== n ? r < .12 ? .5 : 0 : 1) : null
        }

        function m() {
            if (-1 === u) return null;
            switch (h(), Object.keys(f).reduce(function(t, n) {
                return f[t] > f[n] ? t : n
            })) {
                case "satisfied":
                    return 1;
                case "tolerable":
                    return .5;
                case "frustrated":
                    return 0
            }
            return null
        }
        return t.addEventListener(rs.PLAYING, function() {
            -1 === u && (a = ns())
        }), t.addEventListener(rs.PROGRESS, function() {
            -1 === u && (l = ns(), u = is(a)), h()
        }), {
            startupTimeScore: v,
            rebufferScore: p,
            failureScore: d,
            videoQualityScore: m,
            overallScore: function() {
                return Math.min(d(), v(), p(), m())
            },
            trackBufferStart: function() {
                -1 !== u && (n++, i = ns())
            },
            trackBufferEnd: function() {
                -1 !== u && (e += is(i))
            },
            onError: function(t) {
                t.final && (o = !0)
            }
        }
    }

    function as() {
        var t = 0,
            n = null,
            i = 0,
            e = !1;

        function r() {
            return t / 1e3
        }
        return {
            trackBufferStart: function(t, r) {
                n = ns(), i++, e = !0, t(r)
            },
            trackBufferEnd: function(i) {
                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                if (e) {
                    var o = is(n);
                    t += o, r.buffer_duration = o / 1e3, e = !1, i(r)
                }
            },
            trackVideoExit: function(i) {
                e && !i && (t += is(n))
            },
            resetLastBufferTime: function() {
                n = null
            },
            getBufferRatio: function(t) {
                var n = r() / t * 100;
                return isNaN(n) ? 0 : Math.round(100 * n) / 100
            },
            getBufferCount: function() {
                return i
            },
            getTotalBufferDuration: r,
            isVideoBuffering: function() {
                return e
            }
        }
    }

    function ss(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;
        if (t = parseFloat(t), isNaN(t)) return 0;
        var i = Math.pow(10, n);
        return Math.round(t * i) / i
    }

    function cs(t, n) {
        var i, e, r, o, u, a, s, c, f, l, h, d, v = 250,
            p = 500,
            m = 0,
            b = m;

        function w(t) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            b === m && (i = Object.assign(i, d.addEventData(t)), n.fire("event", t, i))
        }

        function y() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            l.trackBufferStart(), w(os.VIDEO_BUFFER_START, t)
        }

        function g() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            l.trackBufferEnd(), w(os.VIDEO_BUFFER_END, t)
        }
        return function() {
            var n = Math.floor(60 * Math.random());
            setInterval(function() {
                !t.paused && a && (i++, 0 !== e ? i >= 60 && (i = 0, e++, w(os.VIDEO_MINUTE_WATCHED)) : i === n && (i = 0, e++, w(os.VIDEO_MINUTE_WATCHED)))
            }, 1e3)
        }(), window.addEventListener("unload", function(n) {
            d.bufferTracker.trackVideoExit(t.paused);
            var i = {
                startup: l.startupTimeScore(),
                rebuffer: l.rebufferScore(),
                failure: l.failureScore(),
                quality: l.videoQualityScore(),
                overall: l.overallScore()
            };
            c && w(os.VIDEO_EXIT, {
                vxs: i
            }, !1)
        }, !1), t.addEventListener(rs.PLAYING, function() {
            a = !0, f || s && w(os.VIDEO_PLAYED)
        }), t.addEventListener(rs.TIME_UPDATE, function() {
            if (!s) {
                var t = {
                    startup_duration: c ? ss(is(c) / 1e3, 2) : null
                };
                w(os.VIDEO_START_TIME, t), s = !0
            }
        }), t.addEventListener(rs.PAUSE, function() {
            a = !1, w(os.VIDEO_PAUSED)
        }), t.addEventListener(rs.SEEKING, function() {
            f || (o = ns(), f = !0, a = !1, w(os.VIDEO_SEEK))
        }), t.addEventListener(rs.SEEKED, function() {
            f = !1, t.paused || (a = !0), w(os.VIDEO_SEEKED, {
                seek_duration: is(o) / 1e3
            }), o = null
        }), t.addEventListener(rs.ENDED, function() {
            w(os.VIDEO_ENDED)
        }), t.addEventListener(rs.WAITING, function() {
            a = !1
        }), t.addEventListener(rs.CAN_PLAY, function() {
            f || d.bufferTracker.isVideoBuffering() && !a && (d.bufferTracker.trackBufferEnd(g), d.bufferTracker.resetLastBufferTime())
        }), {
            globalProperties: function() {
                return {
                    autoplay: t.autoplay,
                    buffer_count: d.bufferTracker.getBufferCount(),
                    total_buffer_duration: d.bufferTracker.getTotalBufferDuration(),
                    buffer_ratio: d.bufferTracker.getBufferRatio(u),
                    client_time: ns(),
                    is_buffering: d.bufferTracker.isVideoBuffering(),
                    looping: t.loop,
                    minutes_watched: e,
                    network_state: t.networkState,
                    playback_rate: t.playbackRate,
                    player_width: t.getBoundingClientRect().width,
                    player_height: t.getBoundingClientRect().height,
                    session_playback_duration: ss(u, 2),
                    video_time: t.currentTime,
                    video_height: t.videoHeight,
                    video_width: t.videoWidth,
                    volume: ss(t.volume, 2)
                }
            },
            logStartRequest: function() {
                c = ns(), w(os.VIDEO_START_ATTEMPT)
            },
            customizeHooks: function(t) {
                d = Object.assign(d, t)
            },
            initHooks: function() {
                d.videoBufferCheck(), d.playbackSessionTimer()
            },
            logBufferStart: y,
            logBufferEnd: g,
            setDisplayContext: function(t) {
                b = t
            },
            handleExternalError: function(t, n) {
                a = !1, l.onError(n), w(s ? os.VIDEO_PLAYBACK_ERROR : s ? os.VIDEO_START_FAILURE : os.VIDEO_LOAD_FAILURE, t)
            },
            reset: function() {
                i = 0, e = 0, r = 0, o = null, u = 0, a = !1, s = !1, c = null, f = !1, l = new us(t), h = new as, d = {
                    bufferTracker: h,
                    videoBufferCheck: function() {
                        setInterval(function() {
                            var n = t.currentTime,
                                i = v / 2 / 1e3;
                            s && !f && !t.paused && !d.bufferTracker.isVideoBuffering() && n < r + i && d.bufferTracker.trackBufferStart(y), s && !t.paused && d.bufferTracker.isVideoBuffering() && n > r + i && (d.bufferTracker.trackBufferEnd(g), d.bufferTracker.resetLastBufferTime()), r = n
                        }, v)
                    },
                    addEventData: function(t) {
                        return null
                    },
                    playbackSessionTimer: function() {
                        var n = ns();
                        setInterval(function() {
                            (!t.paused && a || f || d.bufferTracker.isVideoBuffering()) && (u += is(n) / 1e3), n = ns()
                        }, p)
                    }
                }
            }
        }
    }

    function fs(t, n) {
        var i, e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
            r = $(),
            o = new es(n),
            u = new cs(t, r),
            a = e;

        function s(t) {
            u.reset(), a = t, i = {}
        }

        function c(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                e = {};
            "function" == typeof i && (e = i()), n = Object.assign(n, u.globalProperties(), a, e), o.log(t, n).catch(function(t) {})
        }
        return s(a), c(os.VIDEO_READY), r.on("event", c), {
            customizeHooks: function(t) {
                u.customizeHooks(t)
            },
            initHooks: function() {
                u.initHooks()
            },
            log: c,
            logStartRequest: function() {
                u.logStartRequest()
            },
            logBufferStart: function(t) {
                u.logBufferStart(t)
            },
            logBufferEnd: function(t) {
                u.logBufferEnd(t)
            },
            setDisplayContext: function(t) {
                u.setDisplayContext(t)
            },
            addGlobalProperties: function(t) {
                for (var n in t) a[n] = t[n]
            },
            updateGlobalProperty: function(t, n) {
                a.key && (a.key = n)
            },
            removeGlobalProperties: function(t) {
                for (var n in t) a[n] && delete a[n]
            },
            addDynamicProperties: function(t) {
                i = t
            },
            handleExternalError: function(t, n) {
                u.handleExternalError(t, n)
            },
            reset: s
        }
    }

    function ls(t) {
        return t.config.request.flags.ott ? "vimeo-ott-vod" : t.config.video.live_event ? "vimeo-live" : -1 !== t.config.embed.context.indexOf("Stock") ? "vimeo-stock-vod" : t.config.video.vod ? "vimeo-ondemand" : "vimeo-vod"
    }
    var hs, ds = .1,
        vs = new e(function(t) {
            hs = t
        });

    function ps(t, n) {
        var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
        return vs.then(function(e) {
            return i /= ds, Math.random() <= i && e.captureException(t, n), e.lastEventId()
        })
    }
    window.addEventListener("unhandledrejection", function(t) {
        t.preventDefault(), t.reason && ps(t.reason).catch(function(t) {})
    });
    var ms = {
            setUp: function(t) {
                t.config.request.sentry.enabled && ts("sentry-player", t.config.request.urls.sentry_url).then(function() {
                    var n = window.Sentry,
                        i = "dev" === t.config.request.build.js ? "dev" : "production",
                        e = [new n.Integrations.Dedupe, new n.Integrations.ExtraErrorData, new n.Integrations.Breadcrumbs({
                            console: !1
                        })];
                    return n.init({
                        dsn: t.config.request.sentry.url,
                        release: t.config.request.build.js,
                        environment: i,
                        integrations: e,
                        ignoreErrors: ["NotAllowedError", "AbortError", "PlayInterrupted", "Failed to load image"],
                        blacklistUrls: [/^moz-extension/i, /^chrome-extension/i],
                        beforeSend: function(i, e) {
                            if (!t.config.request) return null;
                            if (Ma("ReportingObserver", i.message) && Math.random() > .01) return null;
                            var r = e.originalException && e.originalException.error;
                            return Ma("Non-Error exception captured", i.message) && r ? (n.withScope(function(t) {
                                t.setExtra("nonErrorException", !0), n.captureException(r)
                            }), null) : (i.tags["document.visibilityState"] = document.visibilityState, t.config.request.sentry.enabled ? i : null)
                        }
                    }), n.configureScope(function(n) {
                        if (n.setTag("session", t.config.request.session), n.setTag("locale", t.config.request.lang), n.setTag("git_commit", t.config.request.build.player), n.setTag("debug_intent", t.config.request.sentry.debug_intent ? 1 : 0), n.setTag("product", ls(t)), t.config.request.ab_tests)
                            for (var i in t.config.request.ab_tests) {
                                var e = t.config.request.ab_tests[i];
                                for (var r in n.setTag("".concat(i, "_test"), 1), n.setTag("".concat(i, "_group"), e.group), e.data) n.setTag("".concat(i, "_data_").concat(r), e.data[r])
                            }
                    }), t.config.request.sentry.debug_intent && window.addEventListener("unload", function() {
                        n.captureMessage("Session debug", {
                            level: "info"
                        })
                    }, !1), n
                }).then(hs).catch(function(t) {})
            },
            captureException: ps,
            captureMessage: function(t, n) {
                return vs.then(function(i) {
                    return i.captureMessage(t, n), i.lastEventId()
                })
            },
            captureBreadcrumb: function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "player",
                    e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "info";
                return vs.then(function(r) {
                    return r.addBreadcrumb({
                        message: t,
                        data: n,
                        category: i,
                        level: e
                    })
                })
            }
        },
        bs = 6e4;

    function ws(t) {
        var n = t.events,
            i = null,
            r = null,
            o = null,
            u = null,
            a = null,
            s = {
                video: {},
                request: {},
                embed: {}
            };

        function c() {
            return r && r - bs <= Date.now()
        }

        function f(t) {
            var n = Date.now() + 1e3 * t;
            return a = setTimeout(function() {
                "onLine" in navigator && !navigator.onLine || u || (u = h().catch(ms.captureException))
            }, 1e3 * t - bs - 5e3), n
        }

        function l(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            clearTimeout(a);
            var o = i;
            if (isNaN(t) && "string" != typeof t) return r = f((i = t).request.expires), e.resolve({
                old: o,
                loaded: i
            });
            Date.now();
            var u = (s = $u(s, i)).request.referrer;
            u && (n.referrer = u);
            var c = i && i.player_url ? "https://".concat(i.player_url) : "";
            return Sn(wa(ba(t) || c, t, n), {
                withCredentials: !0,
                throwHttpErrors: !1
            }).json().then(function(t) {
                (i = t).view !== za.error && (r = f(i.request.expires), s.request.session && i.video.id === s.video.id && (i.request.session = s.request.session), u && (i.request.referrer = u), s.embed.player_id && (i.embed.player_id = s.embed.player_id), s.embed.on_site && (i.embed.on_site = 1, i.embed.context = s.embed.context));
                Date.now();
                return {
                    old: o,
                    loaded: i
                }
            }).catch(function(t) {
                ms.captureException(t)
            })
        }

        function h() {
            clearTimeout(a);
            Date.now();
            var t = i && i.request.referrer,
                e = i.request,
                o = e.signature,
                s = e.session,
                c = e.timestamp,
                l = e.expires,
                h = i.request.ott_chromecast_token,
                d = "https://".concat(i.player_url, "/video/").concat(i.video.id, "/config/request?session=").concat(s, "&signature=").concat(o, "&time=").concat(c, "&expires=").concat(l);
            return h && (d = "".concat(d, "&ott_chromecast_token=").concat(h)), t && (d += "".concat(-1 === d.indexOf("?") ? "?" : "&", "referrer=").concat(encodeURIComponent(t))), Sn(d, {
                withCredentials: !0,
                retry: 3
            }).json().then(function(e) {
                i.request = e, t && (i.request.referrer = t), r = f(i.request.expires);
                Date.now();
                return u = null, n.fire(Ua.Xs), i.request
            }).catch(function(t) {
                var i = Ja();
                throw n.fire(Ua.ba, i.id, i), t
            })
        }
        return window.addEventListener("online", function() {
            c() && (u = h().catch(ms.captureException))
        }), n.on(Ua.ba, function(t) {
            u || "media-url-expired" !== t || (u = h().catch(ms.captureException))
        }), {
            get isExpired() {
                return c()
            },
            load: function(t, n) {
                return l(t, n)
            },
            reload: function() {
                return i && i.video.id ? l(i.video.id) : e.reject(new Error("No config loaded."))
            },
            toJSON: function() {
                return i
            },
            get config() {
                return i
            },
            set config(t) {
                i = t
            },
            verify: function() {
                return c() ? (u || (u = h()), u) : e.resolve(i.request)
            },
            get tt() {
                return o
            },
            set tt(t) {
                o = t
            }
        }
    }
    var ys = function() {
            return ir.Date.now()
        },
        gs = NaN,
        Es = /^\s+|\s+$/g,
        ks = /^[-+]0x[0-9a-f]+$/i,
        _s = /^0b[01]+$/i,
        Ts = /^0o[0-7]+$/i,
        Ss = parseInt;

    function As(t) {
        if ("number" == typeof t) return t;
        if (pr(t)) return gs;
        if (wr(t)) {
            var n = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = wr(n) ? n + "" : n
        }
        if ("string" != typeof t) return 0 === t ? t : +t;
        t = t.replace(Es, "");
        var i = _s.test(t);
        return i || Ts.test(t) ? Ss(t.slice(2), i ? 2 : 8) : ks.test(t) ? gs : +t
    }
    var xs = "Expected a function",
        Ms = Math.max,
        Os = Math.min;

    function Rs(t, n, i) {
        var e, r, o, u, a, s, c = 0,
            f = !1,
            l = !1,
            h = !0;
        if ("function" != typeof t) throw new TypeError(xs);

        function d(n) {
            var i = e,
                o = r;
            return e = r = void 0, c = n, u = t.apply(o, i)
        }

        function v(t) {
            var i = t - s;
            return void 0 === s || i >= n || i < 0 || l && t - c >= o
        }

        function p() {
            var t = ys();
            if (v(t)) return m(t);
            a = setTimeout(p, function(t) {
                var i = n - (t - s);
                return l ? Os(i, o - (t - c)) : i
            }(t))
        }

        function m(t) {
            return a = void 0, h && e ? d(t) : (e = r = void 0, u)
        }

        function b() {
            var t = ys(),
                i = v(t);
            if (e = arguments, r = this, s = t, i) {
                if (void 0 === a) return function(t) {
                    return c = t, a = setTimeout(p, n), f ? d(t) : u
                }(s);
                if (l) return a = setTimeout(p, n), d(s)
            }
            return void 0 === a && (a = setTimeout(p, n)), u
        }
        return n = As(n) || 0, wr(i) && (f = !!i.leading, o = (l = "maxWait" in i) ? Ms(As(i.maxWait) || 0, n) : o, h = "trailing" in i ? !!i.trailing : h), b.cancel = function() {
            void 0 !== a && clearTimeout(a), c = 0, e = s = r = a = void 0
        }, b.flush = function() {
            return void 0 === a ? u : m(ys())
        }, b
    }
    var Cs = "PREVIEW_SET_SIZE",
        Is = function(t, n) {
            return {
                type: Cs,
                payload: {
                    width: t,
                    height: n
                }
            }
        };

    function Ls(t, n) {
        var i = t,
            e = n;
        return i % 320 != 0 && (i = 100 * Math.ceil(t / 100), e = Math.round(i / t * n)), {
            width: i,
            height: e
        }
    }

    function Ds(t) {
        var n = t.width,
            i = t.height,
            e = t.baseUrl,
            r = t.webpSupport,
            o = void 0 !== r && r,
            u = t.crop,
            a = void 0 !== u && u,
            s = e + (o ? ".webp" : ".jpg"),
            c = {},
            f = parseInt(n, 10),
            l = parseInt(i, 10);
        return 0 !== f && (a ? c.w = f : c.mw = f), 0 !== l && (a ? c.h = l : c.mh = l), bt.devicePixelRatio > 1 && (c.q = 70), s += ra(c)
    }

    function js(t) {
        return new e(function(n, i) {
            var e = new Image;

            function r() {
                ms.captureBreadcrumb("Load image: ".concat(t), {}), i(new Error("Failed to load image."))
            }
            e.onload = function() {
                e && e.width > 0 && e.height > 0 ? n(e) : r()
            }, e.onerror = r, e.src = t
        })
    }

    function Ps(t) {
        return js(t).catch(function(n) {
            return ms.captureException(n, {
                extra: {
                    imageUrl: t
                }
            }), new e(function() {})
        })
    }
    var Ns = {
            prod: {
                id: "7742C69E",
                name: "prod"
            },
            dev: {
                id: "9959D566",
                name: "dev"
            },
            namespace: "urn:x-cast:com.vimeo.cast.media"
        },
        Us = {
            connected: Ra(),
            disconnected: Ra(),
            playing: Ra(),
            paused: Ra(),
            buffering: Ra(),
            idle: Ra(),
            ended: Ra(),
            sessionStateChanged: Ra(),
            timeUpdated: Ra(),
            mediaLoadedSuccess: Ra(),
            mediaLoadedFailed: Ra(),
            error: Ra()
        },
        Fs = function() {
            function t(t) {
                var n = t.player,
                    i = t.textAlert,
                    e = void 0 === i ? null : i;
                this.zc = e, this.Gc = n, this.Yc = this.onControlSeek.bind(this), this.Kc = this.onChangeVolume.bind(this), this.$c = this.onPlayOrPausePressed.bind(this), this.Xc = this.onConfigChanged.bind(this), this.Jc = this.onReset.bind(this), this.Zc = this.onPlayerStateChanged.bind(this), this.Qc = this.onCurrentTimeChanged.bind(this), this.tf = this.onIsConnectedChanged.bind(this), this.nf = this.onSessionStateChanged.bind(this), this.if = this.onIsMediaLoadedChanged.bind(this), this.ef = this.onVolumeLevelChanged.bind(this), this.rf = this.onIsMutedChanged.bind(this), this.uf = this.onCaptionsChanged.bind(this), this.af = this.onMessageReceived.bind(this), this.sf = this.preventPlayerDefaultEvent.bind(this), this.endVideo = Rs(this.cf, 500)
            }
            var n = t.prototype;
            return n.calculateStartTime = function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : null,
                    n = Number(t) || this.Gc.backbone.currentTime - 7;
                return n < 0 && (n = 0), this.isEndOfVideo && (n = 0), n
            }, n.loadMedia = function() {
                var t = this,
                    n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = n.contentId,
                    r = n.currentTime,
                    o = void 0 === r ? null : r,
                    u = n.duration,
                    a = void 0 === u ? null : u,
                    s = n.token,
                    c = void 0 === s ? null : s,
                    f = n.bypassToken,
                    l = void 0 === f ? null : f,
                    h = n.autoRequest,
                    d = void 0 !== h && h,
                    v = n.autoCaption,
                    p = void 0 === v || v,
                    m = n.autoDisconnect,
                    b = void 0 === m || m;
                if (Hs.isLoadingMedia) return e.resolve(!1);
                var w = this.Gc.config;
                i = i || w.video.id;
                var y, g = w.request,
                    E = g.drm;
                if (E && E.fastly) {
                    var k = co(g, "files.dash.default_cdn");
                    i = co(g, "files.dash.cdns.".concat(k, ".url")), y = co(E, "cdms.widevine.license_url")
                }
                var _ = this.calculateStartTime(o);
                a = Number(a) || this.duration, c = c || w.user.vimeo_api_client_token, l = l || w.video.bypass_token, this.isEndOfVideo && (this.ff = !1);
                var T = {
                    contentId: i,
                    currentTime: _,
                    duration: a,
                    requestCustomData: {
                        token: c,
                        tokenType: "jwt",
                        bypassToken: l
                    },
                    autoRequest: d
                };
                return this.Gc.config.request.ott_chromecast_token && (T.requestCustomData.ottChromecastToken = this.Gc.config.request.ott_chromecast_token), (y ? this.oo(y).then(function(t) {
                    return B({}, T, {
                        mediaCustomData: {
                            widevineLicenseServerURL: t
                        }
                    })
                }) : e.resolve(T)).then(function(t) {
                    return Hs.loadMedia(t)
                }).then(function() {
                    return Hs.fire(Us.mediaLoadedSuccess), t.addRemotePlayerListenersOnPlaying(), t.Gc.events.fire(Ki), t.Gc.events.fire(Pa._hideOutro), t.lf = !1, p && t.onCaptionsChanged(t.Gc.backbone.enabledTextTrack), t.Gc.backbone.paused || t.Gc.backbone.pause(), !0
                }).catch(function(n) {
                    return Hs.fire(Us.mediaLoadedFailed, n), b && t.endCurrentSession(), e.reject(n)
                })
            }, n.oo = function(t) {
                return new e(function(n, i) {
                    var e = new XMLHttpRequest;
                    e.open("GET", t), e.onload = function() {
                        var t = function(t) {
                            return new Error("Error retrieving License Acquisition URL (LA_URL): ".concat(t))
                        };
                        if (e.status >= 200 && e.status < 300) try {
                            n(e.response)
                        } catch (n) {
                            i(t(n))
                        } else i(t(e.status))
                    }, e.onerror = i, e.send()
                })
            }, n.init = function() {
                this.removeInitListeners(), this.addInitListeners()
            }, n.addInitListeners = function() {
                this.addSessionStateListener(), this.addIsConnectedListener()
            }, n.endCurrentSession = function() {
                var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                Hs.castContext && Hs.castContext.endCurrentSession(t)
            }, n.syncBackbone = function() {
                !this.isOutroRendered && this.Gc.backbone.paused && (this.Gc.backbone.currentTime = this.lastCurrentTime, this.syncTime())
            }, n.stopBackbone = function() {
                this.Gc.events.fire(Pa.Gu)
            }, n.enableUI = function() {
                if (this.zc) {
                    var t = Hs.currentSessionObj && Hs.currentSessionObj.receiver;
                    t && this.zc.show("Casting on " + t.friendlyName)
                }
                this.Gc.preview.show(), this.Gc.element.classList.add("is-casting")
            }, n.disableUI = function() {
                this.zc && this.zc.hide(), this.isOutroRendered || (this.Gc.preview.hide(), this.Gc.backbone.element.remove("invisible")), this.Gc.element.classList.remove("is-casting")
            }, n.syncTime = function() {
                var t = this.lastCurrentTime / this.duration;
                Hs.fire(Us.timeUpdated, {
                    currentTime: this.lastCurrentTime,
                    duration: this.duration,
                    percent: t
                }), t > 0 && this.Gc.events.fire(J.TIME_UPDATE, {
                    currentTime: this.lastCurrentTime,
                    duration: this.duration,
                    timeProgress: t
                })
            }, n.cf = function() {
                var t = this;
                return this.ff = !0, this.Gc.events.fire(Ua.ka), this.removeRemotePlayerListenersOnPlaying(), this.isLooped ? this.loadMedia().catch(function() {
                    t.showOutro()
                }) : this.showOutro(), Hs.fire(Us.ended), !0
            }, n.showOutro = function() {
                this.isOutroRendered || (this.lf = !0, this.Gc.events.fire(Pa.oa))
            }, n.dispose = function() {
                this.endCurrentSession(), this.removeAllRemoteListeners()
            }, n.onIsMediaLoadedChanged = function(t) {
                !1 === t.value ? this.isTimeEnded && this.endVideo() : this.Gc.backbone.paused || this.Gc.backbone.pause()
            }, n.onPlayerStateChanged = function(t) {
                switch (null === t.value && this.isTimeEnded && this.endVideo(), t.value) {
                    case Hs.PlayerState.PLAYING:
                        Hs.fire(Us.playing);
                        break;
                    case Hs.PlayerState.PAUSED:
                        Hs.fire(Us.paused);
                        break;
                    case Hs.PlayerState.BUFFERING:
                        Hs.fire(Us.buffering);
                        break;
                    case Hs.PlayerState.IDLE:
                    default:
                        Hs.fire(Us.idle)
                }
            }, n.onVolumeLevelChanged = function(t) {
                this.Gc.events.fire(Pa.Wu, t.value, !0)
            }, n.onIsMutedChanged = function(t) {
                this.Gc.events.fire(Pa.Wu, t.value ? 0 : Hs.remotePlayer.volumeLevel, !0)
            }, n.onCurrentTimeChanged = function(t) {
                this.isMediaLoaded && (this.dt = t.value), this.syncTime(), this.isTimeEnded && this.endVideo()
            }, n.onChangeVolume = function(t) {
                this.volumeLevel = t
            }, n.onCaptionsChanged = function(t) {
                var n = Hs.currentSession;
                n && n.sendMessage(Ns.namespace, {
                    action: "setActiveByLanguage",
                    value: t && t.language
                })
            }, n.onSessionStateChanged = function(t) {
                switch (t.sessionState) {
                    case Hs.SessionState.SESSION_STARTING:
                        this.addPreventLocalPlayerEvents();
                        break;
                    case Hs.SessionState.SESSION_RESUMED:
                    case Hs.SessionState.SESSION_STARTED:
                        this.loadMedia();
                        break;
                    case Hs.SessionState.SESSION_ENDING:
                    case Hs.SessionState.SESSION_ENDED:
                        break;
                    case Hs.SessionState.SESSION_START_FAILED:
                        this.removePreventLocalPlayerEvents()
                }
                Hs.fire(Us.sessionStateChanged, t.sessionState)
            }, n.onIsConnectedChanged = function(t) {
                t.value ? this.onConnected() : this.onDisconnected()
            }, n.onConnected = function() {
                this.removePreventLocalPlayerEvents(), this.stopBackbone(), this.addLocalPlayerListeners(), this.addRemotePlayerListenersOnIdle(), this.addMessageListener(), this.enableUI(), Hs.fire(Us.connected)
            }, n.onDisconnected = function() {
                this.syncBackbone(), this.removeRemotePlayerListeners(), this.removeLocalPlayerListeners(), this.removeMessageListener(), this.disableUI(), Hs.fire(Us.disconnected)
            }, n.onConfigChanged = function() {
                this.loadMedia()
            }, n.onReset = function() {
                this.loadMedia()
            }, n.onPlayOrPausePressed = function() {
                this.isEndOfVideo ? this.loadMedia() : this.isPlayingOrPaused && Hs.remotePlayerController.playOrPause(), this.Gc.events.halt()
            }, n.onControlSeek = function(t, n) {
                !n && t && (t > 1 && (t = 1), n = this.duration * t), this.currentTime = n, this.Gc.events.halt()
            }, n.addSessionStateListener = function() {
                Hs.castContext && Hs.castContext.addEventListener(Hs.CastContextEventType.SESSION_STATE_CHANGED, this.nf)
            }, n.addMessageListener = function() {
                var t = Hs.currentSession;
                t && t.addMessageListener(Ns.namespace, this.af)
            }, n.onMessageReceived = function(t, n) {
                "MEDIA_FINISHED" === (n = JSON.parse(n)).type && ("END_OF_STREAM" === n.endedReason ? this.endVideo() : "ERROR" === n.endedReason && (this.endCurrentSession(), Hs.fire(Us.error, new Error("Chromecast encountered an error and media finished."))))
            }, n.addIsConnectedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.IS_CONNECTED_CHANGED, this.tf)
            }, n.addPreventLocalPlayerEvents = function() {
                this.Gc.events.prependOn([Ua.Da, Ua.La, Ua.Na, Ua.Ua, tt.BUFFER_STARTED, tt.BUFFER_ENDED, Pa.Hu, Ua._a, Ua.qa, Ua.qs, Pa.Gu], this.sf)
            }, n.addRemotePlayerListenersOnIdle = function() {
                this.removeRemotePlayerListenersOnIdle(), this.addIsMediaLoadedChangedListener(), this.addVolumeLevelChangedListener()
            }, n.addLocalPlayerListeners = function() {
                this.Gc.events.prependOn(Ua.Da, this.$c), this.Gc.events.prependOn(Ua.La, this.$c), this.Gc.events.prependOn(Ua.Na, this.sf), this.Gc.events.prependOn(Ua.Ua, this.sf), this.Gc.events.prependOn(tt.BUFFER_STARTED, this.sf), this.Gc.events.prependOn(tt.BUFFER_ENDED, this.sf), this.Gc.events.prependOn(Pa.Hu, this.Yc), this.Gc.events.prependOn(Ua._a, this.Kc), this.Gc.events.on(Ua.qa, this.uf), this.Gc.events.on(Ua.qs, this.Xc), this.Gc.events.on(Pa.Gu, this.Jc)
            }, n.preventPlayerDefaultEvent = function() {
                this.Gc.events.halt()
            }, n.addCurrentTimeChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.CURRENT_TIME_CHANGED, this.Qc)
            }, n.addIsMediaLoadedChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, this.if)
            }, n.addPlayerStateChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.PLAYER_STATE_CHANGED, this.Zc)
            }, n.addVolumeLevelChangedListener = function() {
                Hs.remotePlayerController && (Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, this.ef), Hs.remotePlayerController.addEventListener(Hs.RemotePlayerEventType.IS_MUTED_CHANGED, this.rf))
            }, n.addRemotePlayerListenersOnPlaying = function() {
                this.removeRemotePlayerListenersOnPlaying(), this.addCurrentTimeChangedListener(), this.addPlayerStateChangedListener()
            }, n.removeRemotePlayerListenersOnIdle = function() {
                this.removeIsMediaLoadedChangedListener(), this.removeVolumeLevelChangedListener()
            }, n.removeInitListeners = function() {
                Hs.castContext && Hs.castContext.removeEventListener(Hs.CastContextEventType.SESSION_STATE_CHANGED, this.nf), Hs.remotePlayerController && Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.IS_CONNECTED_CHANGED, this.tf)
            }, n.removeRemotePlayerListenersOnPlaying = function() {
                this.removeCurrentTimeChangedListener(), this.removePlayerStateChangedListener()
            }, n.removeMessageListener = function() {
                var t = Hs.currentSession;
                t && t.removeMessageListener(Ns.namespace, this.af)
            }, n.removeCurrentTimeChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.CURRENT_TIME_CHANGED, this.Qc)
            }, n.removeIsMediaLoadedChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED, this.if)
            }, n.removePlayerStateChangedListener = function() {
                Hs.remotePlayerController && Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.PLAYER_STATE_CHANGED, this.Zc)
            }, n.removeVolumeLevelChangedListener = function() {
                Hs.remotePlayerController && (Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, this.ef), Hs.remotePlayerController.removeEventListener(Hs.RemotePlayerEventType.IS_MUTED_CHANGED, this.rf))
            }, n.removePreventLocalPlayerEvents = function() {
                this.Gc.events.off([Ua.Da, Ua.La, Ua.Na, Ua.Ua, tt.BUFFER_STARTED, tt.BUFFER_ENDED, Pa.Hu, Ua._a, Ua.qa, Ua.qs, Pa.Gu], this.sf)
            }, n.removeLocalPlayerListeners = function() {
                this.Gc.events.off(Ua.Da, this.$c), this.Gc.events.off(Ua.La, this.$c), this.Gc.events.off(Ua.Na, this.sf), this.Gc.events.off(Ua.Ua, this.sf), this.Gc.events.off(tt.BUFFER_STARTED, this.sf), this.Gc.events.off(tt.BUFFER_ENDED, this.sf), this.Gc.events.off(Pa.Hu, this.Yc), this.Gc.events.off(Ua._a, this.Kc), this.Gc.events.off(Ua.qa, this.uf), this.Gc.events.off(Ua.qs, this.Xc), this.Gc.events.off(Pa.Gu, this.Jc)
            }, n.removeRemotePlayerListeners = function() {
                this.removeRemotePlayerListenersOnPlaying(), this.removeRemotePlayerListenersOnIdle()
            }, n.removeAllRemoteListeners = function() {
                this.removeRemotePlayerListeners(), this.removeInitListeners()
            }, F(t, [{
                key: "lastCurrentTime",
                get: function() {
                    return this.dt || 0
                }
            }, {
                key: "isTimeEnded",
                get: function() {
                    return this.lastCurrentTime + .5 >= this.duration
                }
            }, {
                key: "isOutroRendered",
                get: function() {
                    return this.lf || !1
                }
            }, {
                key: "isLooped",
                get: function() {
                    return this.Gc.config.embed.loop
                }
            }, {
                key: "isEndOfVideo",
                get: function() {
                    return this.ff || !1
                }
            }, {
                key: "currentTime",
                set: function(t) {
                    Hs.remotePlayer && Hs.remotePlayerController && (Hs.remotePlayer.currentTime = t, Hs.remotePlayerController.seek(), this.dt = t)
                }
            }, {
                key: "volumeLevel",
                set: function(t) {
                    Hs.remotePlayer && Hs.remotePlayerController && (Hs.remotePlayer.volumeLevel = t, Hs.remotePlayerController.setVolumeLevel())
                }
            }, {
                key: "duration",
                get: function() {
                    return this.Gc.config.video.duration
                }
            }, {
                key: "isPlayingOrPaused",
                get: function() {
                    return Hs.remotePlayer ? Hs.remotePlayer.playerState === Hs.PlayerState.PLAYING || Hs.remotePlayer.playerState === Hs.PlayerState.PAUSED : null
                }
            }, {
                key: "isIdle",
                get: function() {
                    return Hs.remotePlayer ? null === Hs.remotePlayer.playerState || Hs.remotePlayer.playerState === Hs.PlayerState.IDLE : null
                }
            }, {
                key: "isMediaLoaded",
                get: function() {
                    return !!Hs.remotePlayer && Hs.remotePlayer.isMediaLoaded
                }
            }]), t
        }(),
        Vs = n(function(t, n) {
            function i(t) {
                return t && t.hf && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t
            }

            function e(t, n) {
                return t(n = {
                    exports: {}
                }, n.exports), n.exports
            }
            Object.defineProperty(n, "hf", {
                value: !0
            });
            var r = Math.ceil,
                o = Math.floor,
                u = function(t) {
                    return isNaN(t = +t) ? 0 : (t > 0 ? o : r)(t)
                },
                a = function(t) {
                    if (null == t) throw TypeError("Can't call method on  " + t);
                    return t
                },
                s = e(function(t) {
                    var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                    "number" == typeof __g && (__g = n)
                }),
                c = e(function(t) {
                    var n = t.exports = {
                        version: "2.5.5"
                    };
                    "number" == typeof __e && (__e = n)
                }),
                f = (c.version, function(t) {
                    if ("function" != typeof t) throw TypeError(t + " is not a function!");
                    return t
                }),
                l = function(t, n, i) {
                    if (f(t), void 0 === n) return t;
                    switch (i) {
                        case 1:
                            return function(i) {
                                return t.call(n, i)
                            };
                        case 2:
                            return function(i, e) {
                                return t.call(n, i, e)
                            };
                        case 3:
                            return function(i, e, r) {
                                return t.call(n, i, e, r)
                            }
                    }
                    return function() {
                        return t.apply(n, arguments)
                    }
                },
                h = function(t) {
                    return "object" == typeof t ? null !== t : "function" == typeof t
                },
                d = function(t) {
                    if (!h(t)) throw TypeError(t + " is not an object!");
                    return t
                },
                v = function(t) {
                    try {
                        return !!t()
                    } catch (t) {
                        return !0
                    }
                },
                p = !v(function() {
                    return 7 != Object.defineProperty({}, "a", {
                        get: function() {
                            return 7
                        }
                    }).a
                }),
                m = s.document,
                b = h(m) && h(m.createElement),
                w = function(t) {
                    return b ? m.createElement(t) : {}
                },
                y = !p && !v(function() {
                    return 7 != Object.defineProperty(w("div"), "a", {
                        get: function() {
                            return 7
                        }
                    }).a
                }),
                g = function(t, n) {
                    if (!h(t)) return t;
                    var i, e;
                    if (n && "function" == typeof(i = t.toString) && !h(e = i.call(t))) return e;
                    if ("function" == typeof(i = t.valueOf) && !h(e = i.call(t))) return e;
                    if (!n && "function" == typeof(i = t.toString) && !h(e = i.call(t))) return e;
                    throw TypeError("Can't convert object to primitive value")
                },
                E = Object.defineProperty,
                k = {
                    f: p ? Object.defineProperty : function(t, n, i) {
                        if (d(t), n = g(n, !0), d(i), y) try {
                            return E(t, n, i)
                        } catch (t) {}
                        if ("get" in i || "set" in i) throw TypeError("Accessors not supported!");
                        return "value" in i && (t[n] = i.value), t
                    }
                },
                _ = function(t, n) {
                    return {
                        enumerable: !(1 & t),
                        configurable: !(2 & t),
                        writable: !(4 & t),
                        value: n
                    }
                },
                T = p ? function(t, n, i) {
                    return k.f(t, n, _(1, i))
                } : function(t, n, i) {
                    return t[n] = i, t
                },
                S = {}.hasOwnProperty,
                A = function(t, n) {
                    return S.call(t, n)
                },
                x = function(t, n, i) {
                    var e, r, o, u = t & x.F,
                        a = t & x.G,
                        f = t & x.S,
                        h = t & x.P,
                        d = t & x.B,
                        v = t & x.W,
                        p = a ? c : c[n] || (c[n] = {}),
                        m = p.prototype,
                        b = a ? s : f ? s[n] : (s[n] || {}).prototype;
                    for (e in a && (i = n), i)(r = !u && b && void 0 !== b[e]) && A(p, e) || (o = r ? b[e] : i[e], p[e] = a && "function" != typeof b[e] ? i[e] : d && r ? l(o, s) : v && b[e] == o ? function(t) {
                        var n = function(n, i, e) {
                            if (this instanceof t) {
                                switch (arguments.length) {
                                    case 0:
                                        return new t;
                                    case 1:
                                        return new t(n);
                                    case 2:
                                        return new t(n, i)
                                }
                                return new t(n, i, e)
                            }
                            return t.apply(this, arguments)
                        };
                        return n.prototype = t.prototype, n
                    }(o) : h && "function" == typeof o ? l(Function.call, o) : o, h && ((p.virtual || (p.virtual = {}))[e] = o, t & x.R && m && !m[e] && T(m, e, o)))
                };
            x.F = 1, x.G = 2, x.S = 4, x.P = 8, x.B = 16, x.W = 32, x.U = 64, x.R = 128;
            var M = x,
                O = T,
                R = {},
                I = {}.toString,
                L = function(t) {
                    return I.call(t).slice(8, -1)
                },
                D = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
                    return "String" == L(t) ? t.split("") : Object(t)
                },
                j = function(t) {
                    return D(a(t))
                },
                P = Math.min,
                N = function(t) {
                    return t > 0 ? P(u(t), 9007199254740991) : 0
                },
                U = Math.max,
                F = Math.min,
                V = s["Pu"] || (s["Pu"] = {}),
                B = function(t) {
                    return V[t] || (V[t] = {})
                },
                H = 0,
                W = Math.random(),
                q = function(t) {
                    return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++H + W).toString(36))
                },
                z = B("keys"),
                G = function(t) {
                    return z[t] || (z[t] = q(t))
                },
                Y = function(t) {
                    return function(n, i, e) {
                        var r, o = j(n),
                            a = N(o.length),
                            s = function(t, n) {
                                return (t = u(t)) < 0 ? U(t + n, 0) : F(t, n)
                            }(e, a);
                        if (t && i != i) {
                            for (; a > s;)
                                if ((r = o[s++]) != r) return !0
                        } else
                            for (; a > s; s++)
                                if ((t || s in o) && o[s] === i) return t || s || 0;
                        return !t && -1
                    }
                }(!1),
                K = G("IE_PROTO"),
                $ = function(t, n) {
                    var i, e = j(t),
                        r = 0,
                        o = [];
                    for (i in e) i != K && A(e, i) && o.push(i);
                    for (; n.length > r;) A(e, i = n[r++]) && (~Y(o, i) || o.push(i));
                    return o
                },
                X = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),
                J = Object.keys || function(t) {
                    return $(t, X)
                },
                Z = p ? Object.defineProperties : function(t, n) {
                    d(t);
                    for (var i, e = J(n), r = e.length, o = 0; r > o;) k.f(t, i = e[o++], n[i]);
                    return t
                },
                Q = s.document,
                tt = Q && Q.documentElement,
                nt = G("IE_PROTO"),
                it = function() {},
                et = function() {
                    var t, n = w("iframe"),
                        i = X.length;
                    for (n.style.display = "none", tt.appendChild(n), n.src = "javascript:", (t = n.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), et = t.F; i--;) delete et.prototype[X[i]];
                    return et()
                },
                rt = Object.create || function(t, n) {
                    var i;
                    return null !== t ? (it.prototype = d(t), i = new it, it.prototype = null, i[nt] = t) : i = et(), void 0 === n ? i : Z(i, n)
                },
                ot = e(function(t) {
                    var n = B("wks"),
                        i = s.Symbol,
                        e = "function" == typeof i;
                    (t.exports = function(t) {
                        return n[t] || (n[t] = e && i[t] || (e ? i : q)("Symbol." + t))
                    }).store = n
                }),
                ut = k.f,
                at = ot("toStringTag"),
                st = function(t, n, i) {
                    t && !A(t = i ? t : t.prototype, at) && ut(t, at, {
                        configurable: !0,
                        value: n
                    })
                },
                ct = {};
            T(ct, ot("iterator"), function() {
                return this
            });
            var ft = function(t, n, i) {
                    t.prototype = rt(ct, {
                        next: _(1, i)
                    }), st(t, n + " Iterator")
                },
                lt = function(t) {
                    return Object(a(t))
                },
                ht = G("IE_PROTO"),
                dt = Object.prototype,
                vt = Object.getPrototypeOf || function(t) {
                    return t = lt(t), A(t, ht) ? t[ht] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? dt : null
                },
                pt = ot("iterator"),
                mt = !([].keys && "next" in [].keys()),
                bt = function() {
                    return this
                },
                wt = function(t, n, i, e, r, o, u) {
                    ft(i, n, e);
                    var a, s, c, f = function(t) {
                            if (!mt && t in v) return v[t];
                            switch (t) {
                                case "keys":
                                case "values":
                                    return function() {
                                        return new i(this, t)
                                    }
                            }
                            return function() {
                                return new i(this, t)
                            }
                        },
                        l = n + " Iterator",
                        h = "values" == r,
                        d = !1,
                        v = t.prototype,
                        p = v[pt] || v["@@iterator"] || r && v[r],
                        m = p || f(r),
                        b = r ? h ? f("entries") : m : void 0,
                        w = "Array" == n && v.entries || p;
                    if (w && (c = vt(w.call(new t))) !== Object.prototype && c.next && st(c, l, !0), h && p && "values" !== p.name && (d = !0, m = function() {
                            return p.call(this)
                        }), u && (mt || d || !v[pt]) && T(v, pt, m), R[n] = m, R[l] = bt, r)
                        if (a = {
                                values: h ? m : f("values"),
                                keys: o ? m : f("keys"),
                                entries: b
                            }, u)
                            for (s in a) s in v || O(v, s, a[s]);
                        else M(M.P + M.F * (mt || d), n, a);
                    return a
                },
                yt = function(t) {
                    return function(n, i) {
                        var e, r, o = String(a(n)),
                            s = u(i),
                            c = o.length;
                        return s < 0 || s >= c ? t ? "" : void 0 : (e = o.charCodeAt(s)) < 55296 || e > 56319 || s + 1 === c || (r = o.charCodeAt(s + 1)) < 56320 || r > 57343 ? t ? o.charAt(s) : e : t ? o.slice(s, s + 2) : r - 56320 + (e - 55296 << 10) + 65536
                    }
                }(!0);
            wt(String, "String", function(t) {
                this.df = String(t), this.vf = 0
            }, function() {
                var t, n = this.df,
                    i = this.vf;
                return i >= n.length ? {
                    value: void 0,
                    done: !0
                } : (t = yt(n, i), this.vf += t.length, {
                    value: t,
                    done: !1
                })
            });
            var gt = function(t, n) {
                return {
                    value: n,
                    done: !!t
                }
            };
            wt(Array, "Array", function(t, n) {
                this.df = j(t), this.vf = 0, this.pf = n
            }, function() {
                var t = this.df,
                    n = this.pf,
                    i = this.vf++;
                return !t || i >= t.length ? (this.df = void 0, gt(1)) : gt(0, "keys" == n ? i : "values" == n ? t[i] : [i, t[i]])
            }, "values");
            R.Arguments = R.Array;
            for (var Et = ot("toStringTag"), kt = "CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","), _t = 0; _t < kt.length; _t++) {
                var Tt = kt[_t],
                    St = s[Tt],
                    At = St && St.prototype;
                At && !At[Et] && T(At, Et, Tt), R[Tt] = R.Array
            }
            var xt = {
                    f: ot
                },
                Mt = xt.f("iterator"),
                Ot = e(function(t) {
                    t.exports = {
                        default: Mt,
                        hf: !0
                    }
                });
            i(Ot);
            var Rt = e(function(t) {
                    var n = q("meta"),
                        i = k.f,
                        e = 0,
                        r = Object.isExtensible || function() {
                            return !0
                        },
                        o = !v(function() {
                            return r(Object.preventExtensions({}))
                        }),
                        u = function(t) {
                            i(t, n, {
                                value: {
                                    i: "O" + ++e,
                                    w: {}
                                }
                            })
                        },
                        a = t.exports = {
                            KEY: n,
                            NEED: !1,
                            fastKey: function(t, i) {
                                if (!h(t)) return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                                if (!A(t, n)) {
                                    if (!r(t)) return "F";
                                    if (!i) return "E";
                                    u(t)
                                }
                                return t[n].i
                            },
                            getWeak: function(t, i) {
                                if (!A(t, n)) {
                                    if (!r(t)) return !0;
                                    if (!i) return !1;
                                    u(t)
                                }
                                return t[n].w
                            },
                            onFreeze: function(t) {
                                return o && a.NEED && r(t) && !A(t, n) && u(t), t
                            }
                        }
                }),
                Ct = (Rt.KEY, Rt.NEED, Rt.fastKey, Rt.getWeak, Rt.onFreeze, k.f),
                It = function(t) {
                    var n = c.Symbol || (c.Symbol = {});
                    "_" == t.charAt(0) || t in n || Ct(n, t, {
                        value: xt.f(t)
                    })
                },
                Lt = {
                    f: Object.getOwnPropertySymbols
                },
                Dt = {
                    f: {}.propertyIsEnumerable
                },
                jt = Array.isArray || function(t) {
                    return "Array" == L(t)
                },
                Pt = X.concat("length", "prototype"),
                Nt = {
                    f: Object.getOwnPropertyNames || function(t) {
                        return $(t, Pt)
                    }
                },
                Ut = Nt.f,
                Ft = {}.toString,
                Vt = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [],
                Bt = {
                    f: function(t) {
                        return Vt && "[object Window]" == Ft.call(t) ? function(t) {
                            try {
                                return Ut(t)
                            } catch (t) {
                                return Vt.slice()
                            }
                        }(t) : Ut(j(t))
                    }
                },
                Ht = Object.getOwnPropertyDescriptor,
                Wt = {
                    f: p ? Ht : function(t, n) {
                        if (t = j(t), n = g(n, !0), y) try {
                            return Ht(t, n)
                        } catch (t) {}
                        if (A(t, n)) return _(!Dt.f.call(t, n), t[n])
                    }
                },
                qt = Rt.KEY,
                zt = Wt.f,
                Gt = k.f,
                Yt = Bt.f,
                Kt = s.Symbol,
                $t = s.JSON,
                Xt = $t && $t.stringify,
                Jt = ot("_hidden"),
                Zt = ot("toPrimitive"),
                Qt = {}.propertyIsEnumerable,
                tn = B("symbol-registry"),
                nn = B("symbols"),
                en = B("op-symbols"),
                rn = Object.prototype,
                on = "function" == typeof Kt,
                un = s.QObject,
                an = !un || !un.prototype || !un.prototype.findChild,
                sn = p && v(function() {
                    return 7 != rt(Gt({}, "a", {
                        get: function() {
                            return Gt(this, "a", {
                                value: 7
                            }).a
                        }
                    })).a
                }) ? function(t, n, i) {
                    var e = zt(rn, n);
                    e && delete rn[n], Gt(t, n, i), e && t !== rn && Gt(rn, n, e)
                } : Gt,
                cn = function(t) {
                    var n = nn[t] = rt(Kt.prototype);
                    return n.pf = t, n
                },
                fn = on && "symbol" == typeof Kt.iterator ? function(t) {
                    return "symbol" == typeof t
                } : function(t) {
                    return t instanceof Kt
                },
                ln = function(t, n, i) {
                    return t === rn && ln(en, n, i), d(t), n = g(n, !0), d(i), A(nn, n) ? (i.enumerable ? (A(t, Jt) && t[Jt][n] && (t[Jt][n] = !1), i = rt(i, {
                        enumerable: _(0, !1)
                    })) : (A(t, Jt) || Gt(t, Jt, _(1, {})), t[Jt][n] = !0), sn(t, n, i)) : Gt(t, n, i)
                },
                hn = function(t, n) {
                    d(t);
                    for (var i, e = function(t) {
                            var n = J(t),
                                i = Lt.f;
                            if (i)
                                for (var e, r = i(t), o = Dt.f, u = 0; r.length > u;) o.call(t, e = r[u++]) && n.push(e);
                            return n
                        }(n = j(n)), r = 0, o = e.length; o > r;) ln(t, i = e[r++], n[i]);
                    return t
                },
                dn = function(t) {
                    var n = Qt.call(this, t = g(t, !0));
                    return !(this === rn && A(nn, t) && !A(en, t)) && (!(n || !A(this, t) || !A(nn, t) || A(this, Jt) && this[Jt][t]) || n)
                },
                vn = function(t, n) {
                    if (t = j(t), n = g(n, !0), t !== rn || !A(nn, n) || A(en, n)) {
                        var i = zt(t, n);
                        return !i || !A(nn, n) || A(t, Jt) && t[Jt][n] || (i.enumerable = !0), i
                    }
                },
                pn = function(t) {
                    for (var n, i = Yt(j(t)), e = [], r = 0; i.length > r;) A(nn, n = i[r++]) || n == Jt || n == qt || e.push(n);
                    return e
                },
                mn = function(t) {
                    for (var n, i = t === rn, e = Yt(i ? en : j(t)), r = [], o = 0; e.length > o;) !A(nn, n = e[o++]) || i && !A(rn, n) || r.push(nn[n]);
                    return r
                };
            on || (O((Kt = function() {
                if (this instanceof Kt) throw TypeError("Symbol is not a constructor!");
                var t = q(arguments.length > 0 ? arguments[0] : void 0),
                    n = function(i) {
                        this === rn && n.call(en, i), A(this, Jt) && A(this[Jt], t) && (this[Jt][t] = !1), sn(this, t, _(1, i))
                    };
                return p && an && sn(rn, t, {
                    configurable: !0,
                    set: n
                }), cn(t)
            }).prototype, "toString", function() {
                return this.pf
            }), Wt.f = vn, k.f = ln, Nt.f = Bt.f = pn, Dt.f = dn, Lt.f = mn, xt.f = function(t) {
                return cn(ot(t))
            }), M(M.G + M.W + M.F * !on, {
                Symbol: Kt
            });
            for (var bn = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), wn = 0; bn.length > wn;) ot(bn[wn++]);
            for (var yn = J(ot.store), gn = 0; yn.length > gn;) It(yn[gn++]);
            M(M.S + M.F * !on, "Symbol", {
                for: function(t) {
                    return A(tn, t += "") ? tn[t] : tn[t] = Kt(t)
                },
                keyFor: function(t) {
                    if (!fn(t)) throw TypeError(t + " is not a symbol!");
                    for (var n in tn)
                        if (tn[n] === t) return n
                },
                useSetter: function() {
                    an = !0
                },
                useSimple: function() {
                    an = !1
                }
            }), M(M.S + M.F * !on, "Object", {
                create: function(t, n) {
                    return void 0 === n ? rt(t) : hn(rt(t), n)
                },
                defineProperty: ln,
                defineProperties: hn,
                getOwnPropertyDescriptor: vn,
                getOwnPropertyNames: pn,
                getOwnPropertySymbols: mn
            }), $t && M(M.S + M.F * (!on || v(function() {
                var t = Kt();
                return "[null]" != Xt([t]) || "{}" != Xt({
                    a: t
                }) || "{}" != Xt(Object(t))
            })), "JSON", {
                stringify: function(t) {
                    for (var n, i, e = [t], r = 1; arguments.length > r;) e.push(arguments[r++]);
                    if (i = n = e[1], (h(n) || void 0 !== t) && !fn(t)) return jt(n) || (n = function(t, n) {
                        if ("function" == typeof i && (n = i.call(this, t, n)), !fn(n)) return n
                    }), e[1] = n, Xt.apply($t, e)
                }
            }), Kt.prototype[Zt] || T(Kt.prototype, Zt, Kt.prototype.valueOf), st(Kt, "Symbol"), st(Math, "Math", !0), st(s.JSON, "JSON", !0), It("asyncIterator"), It("observable");
            var En = c.Symbol,
                kn = e(function(t) {
                    t.exports = {
                        default: En,
                        hf: !0
                    }
                });
            i(kn);
            var _n = i(e(function(t, n) {
                n.hf = !0;
                var i = o(Ot),
                    e = o(kn),
                    r = "function" == typeof e.default && "symbol" == typeof i.default ? function(t) {
                        return typeof t
                    } : function(t) {
                        return t && "function" == typeof e.default && t.constructor === e.default && t !== e.default.prototype ? "symbol" : typeof t
                    };

                function o(t) {
                    return t && t.hf ? t : {
                        default: t
                    }
                }
                n.default = "function" == typeof e.default && "symbol" === r(i.default) ? function(t) {
                    return void 0 === t ? "undefined" : r(t)
                } : function(t) {
                    return t && "function" == typeof e.default && t.constructor === e.default && t !== e.default.prototype ? "symbol" : void 0 === t ? "undefined" : r(t)
                }
            }));
            ! function(t, n) {
                var i = (c.Object || {})[t] || Object[t],
                    e = {};
                e[t] = n(i), M(M.S + M.F * v(function() {
                    i(1)
                }), "Object", e)
            }("keys", function() {
                return function(t) {
                    return J(lt(t))
                }
            });
            var Tn, Sn, An, xn = c.Object.keys,
                Mn = i(e(function(t) {
                    t.exports = {
                        default: xn,
                        hf: !0
                    }
                })),
                On = ot("toStringTag"),
                Rn = "Arguments" == L(function() {
                    return arguments
                }()),
                Cn = function(t) {
                    var n, i, e;
                    return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof(i = function(t, n) {
                        try {
                            return t[n]
                        } catch (t) {}
                    }(n = Object(t), On)) ? i : Rn ? L(n) : "Object" == (e = L(n)) && "function" == typeof n.callee ? "Arguments" : e
                },
                In = function(t, n, i, e) {
                    try {
                        return e ? n(d(i)[0], i[1]) : n(i)
                    } catch (n) {
                        var r = t.return;
                        throw void 0 !== r && d(r.call(t)), n
                    }
                },
                Ln = ot("iterator"),
                Dn = Array.prototype,
                jn = ot("iterator"),
                Pn = c.getIteratorMethod = function(t) {
                    if (null != t) return t[jn] || t["@@iterator"] || R[Cn(t)]
                },
                Nn = e(function(t) {
                    var n = {},
                        i = {},
                        e = t.exports = function(t, e, r, o, u) {
                            var a, s, c, f, h = u ? function() {
                                    return t
                                } : Pn(t),
                                v = l(r, o, e ? 2 : 1),
                                p = 0;
                            if ("function" != typeof h) throw TypeError(t + " is not iterable!");
                            if (function(t) {
                                    return void 0 !== t && (R.Array === t || Dn[Ln] === t)
                                }(h)) {
                                for (a = N(t.length); a > p; p++)
                                    if ((f = e ? v(d(s = t[p])[0], s[1]) : v(t[p])) === n || f === i) return f
                            } else
                                for (c = h.call(t); !(s = c.next()).done;)
                                    if ((f = In(c, v, s.value, e)) === n || f === i) return f
                        };
                    e.BREAK = n, e.RETURN = i
                }),
                Un = ot("species"),
                Fn = function(t, n) {
                    var i, e = d(t).constructor;
                    return void 0 === e || null == (i = d(e)[Un]) ? n : f(i)
                },
                Vn = s.process,
                Bn = s.setImmediate,
                Hn = s.clearImmediate,
                Wn = s.MessageChannel,
                qn = s.Dispatch,
                zn = 0,
                Gn = {},
                Yn = function() {
                    var t = +this;
                    if (Gn.hasOwnProperty(t)) {
                        var n = Gn[t];
                        delete Gn[t], n()
                    }
                },
                Kn = function(t) {
                    Yn.call(t.data)
                };
            Bn && Hn || (Bn = function(t) {
                for (var n = [], i = 1; arguments.length > i;) n.push(arguments[i++]);
                return Gn[++zn] = function() {
                    ! function(t, n, i) {
                        var e = void 0 === i;
                        switch (n.length) {
                            case 0:
                                return e ? t() : t.call(i);
                            case 1:
                                return e ? t(n[0]) : t.call(i, n[0]);
                            case 2:
                                return e ? t(n[0], n[1]) : t.call(i, n[0], n[1]);
                            case 3:
                                return e ? t(n[0], n[1], n[2]) : t.call(i, n[0], n[1], n[2]);
                            case 4:
                                return e ? t(n[0], n[1], n[2], n[3]) : t.call(i, n[0], n[1], n[2], n[3])
                        }
                        t.apply(i, n)
                    }("function" == typeof t ? t : Function(t), n)
                }, Tn(zn), zn
            }, Hn = function(t) {
                delete Gn[t]
            }, "process" == L(Vn) ? Tn = function(t) {
                Vn.nextTick(l(Yn, t, 1))
            } : qn && qn.now ? Tn = function(t) {
                qn.now(l(Yn, t, 1))
            } : Wn ? (An = (Sn = new Wn).port2, Sn.port1.onmessage = Kn, Tn = l(An.postMessage, An, 1)) : s.addEventListener && "function" == typeof postMessage && !s.importScripts ? (Tn = function(t) {
                s.postMessage(t + "", "*")
            }, s.addEventListener("message", Kn, !1)) : Tn = "onreadystatechange" in w("script") ? function(t) {
                tt.appendChild(w("script")).onreadystatechange = function() {
                    tt.removeChild(this), Yn.call(t)
                }
            } : function(t) {
                setTimeout(l(Yn, t, 1), 0)
            });
            var $n = {
                    set: Bn,
                    clear: Hn
                },
                Xn = $n.set,
                Jn = s.MutationObserver || s.WebKitMutationObserver,
                Zn = s.process,
                Qn = s.Promise,
                ti = "process" == L(Zn);

            function ni(t) {
                var n, i;
                this.promise = new t(function(t, e) {
                    if (void 0 !== n || void 0 !== i) throw TypeError("Bad Promise constructor");
                    n = t, i = e
                }), this.resolve = f(n), this.reject = f(i)
            }
            var ii = {
                    f: function(t) {
                        return new ni(t)
                    }
                },
                ei = function(t) {
                    try {
                        return {
                            e: !1,
                            v: t()
                        }
                    } catch (t) {
                        return {
                            e: !0,
                            v: t
                        }
                    }
                },
                ri = function(t, n) {
                    if (d(t), h(n) && n.constructor === t) return n;
                    var i = ii.f(t);
                    return (0, i.resolve)(n), i.promise
                },
                oi = ot("species"),
                ui = ot("iterator"),
                ai = !1;
            try {
                [7][ui]().return = function() {
                    ai = !0
                }
            } catch (t) {}
            var si, ci, fi, li, hi = $n.set,
                di = function() {
                    var t, n, i, e = function() {
                        var e, r;
                        for (ti && (e = Zn.domain) && e.exit(); t;) {
                            r = t.fn, t = t.next;
                            try {
                                r()
                            } catch (e) {
                                throw t ? i() : n = void 0, e
                            }
                        }
                        n = void 0, e && e.enter()
                    };
                    if (ti) i = function() {
                        Zn.nextTick(e)
                    };
                    else if (!Jn || s.navigator && s.navigator.standalone)
                        if (Qn && Qn.resolve) {
                            var r = Qn.resolve();
                            i = function() {
                                r.then(e)
                            }
                        } else i = function() {
                            Xn.call(s, e)
                        };
                    else {
                        var o = !0,
                            u = document.createTextNode("");
                        new Jn(e).observe(u, {
                            characterData: !0
                        }), i = function() {
                            u.data = o = !o
                        }
                    }
                    return function(e) {
                        var r = {
                            fn: e,
                            next: void 0
                        };
                        n && (n.next = r), t || (t = r, i()), n = r
                    }
                }(),
                vi = s.TypeError,
                pi = s.process,
                mi = s.Promise,
                bi = "process" == Cn(pi),
                wi = function() {},
                yi = ci = ii.f,
                gi = !! function() {
                    try {
                        var t = mi.resolve(1),
                            n = (t.constructor = {})[ot("species")] = function(t) {
                                t(wi, wi)
                            };
                        return (bi || "function" == typeof PromiseRejectionEvent) && t.then(wi) instanceof n
                    } catch (t) {}
                }(),
                Ei = function(t) {
                    var n;
                    return !(!h(t) || "function" != typeof(n = t.then)) && n
                },
                ki = function(t, n) {
                    if (!t.mf) {
                        t.mf = !0;
                        var i = t.bf;
                        di(function() {
                            for (var e = t._t, r = 1 == t.wf, o = 0, u = function(n) {
                                    var i, o, u, a = r ? n.ok : n.fail,
                                        s = n.resolve,
                                        c = n.reject,
                                        f = n.domain;
                                    try {
                                        a ? (r || (2 == t.yf && Si(t), t.yf = 1), !0 === a ? i = e : (f && f.enter(), i = a(e), f && (f.exit(), u = !0)), i === n.promise ? c(vi("Promise-chain cycle")) : (o = Ei(i)) ? o.call(i, s, c) : s(i)) : c(e)
                                    } catch (t) {
                                        f && !u && f.exit(), c(t)
                                    }
                                }; i.length > o;) u(i[o++]);
                            t.bf = [], t.mf = !1, n && !t.yf && _i(t)
                        })
                    }
                },
                _i = function(t) {
                    hi.call(s, function() {
                        var n, i, e, r = t._t,
                            o = Ti(t);
                        if (o && (n = ei(function() {
                                bi ? pi.emit("unhandledRejection", r, t) : (i = s.onunhandledrejection) ? i({
                                    promise: t,
                                    reason: r
                                }) : (e = s.console) && e.error && e.error("Unhandled promise rejection", r)
                            }), t.yf = bi || Ti(t) ? 2 : 1), t.gf = void 0, o && n.e) throw n.v
                    })
                },
                Ti = function(t) {
                    return 1 !== t.yf && 0 === (t.gf || t.bf).length
                },
                Si = function(t) {
                    hi.call(s, function() {
                        var n;
                        bi ? pi.emit("rejectionHandled", t) : (n = s.onrejectionhandled) && n({
                            promise: t,
                            reason: t._t
                        })
                    })
                },
                Ai = function(t) {
                    var n = this;
                    n.Ef || (n.Ef = !0, (n = n.kf || n)._t = t, n.wf = 2, n.gf || (n.gf = n.bf.slice()), ki(n, !0))
                },
                xi = function(t) {
                    var n, i = this;
                    if (!i.Ef) {
                        i.Ef = !0, i = i.kf || i;
                        try {
                            if (i === t) throw vi("Promise can't be resolved itself");
                            (n = Ei(t)) ? di(function() {
                                var e = {
                                    kf: i,
                                    Ef: !1
                                };
                                try {
                                    n.call(t, l(xi, e, 1), l(Ai, e, 1))
                                } catch (t) {
                                    Ai.call(e, t)
                                }
                            }): (i._t = t, i.wf = 1, ki(i, !1))
                        } catch (t) {
                            Ai.call({
                                kf: i,
                                Ef: !1
                            }, t)
                        }
                    }
                };
            gi || (mi = function(t) {
                    ! function(t, n, i, e) {
                        if (!(t instanceof n) || void 0 !== e && e in t) throw TypeError(i + ": incorrect invocation!")
                    }(this, mi, "Promise", "_h"), f(t), si.call(this);
                    try {
                        t(l(xi, this, 1), l(Ai, this, 1))
                    } catch (t) {
                        Ai.call(this, t)
                    }
                }, (si = function(t) {
                    this.bf = [], this.gf = void 0, this.wf = 0, this.Ef = !1, this._t = void 0, this.yf = 0, this.mf = !1
                }).prototype = function(t, n, i) {
                    for (var e in n) i && t[e] ? t[e] = n[e] : T(t, e, n[e]);
                    return t
                }(mi.prototype, {
                    then: function(t, n) {
                        var i = yi(Fn(this, mi));
                        return i.ok = "function" != typeof t || t, i.fail = "function" == typeof n && n, i.domain = bi ? pi.domain : void 0, this.bf.push(i), this.gf && this.gf.push(i), this.wf && ki(this, !1), i.promise
                    },
                    catch: function(t) {
                        return this.then(void 0, t)
                    }
                }), fi = function() {
                    var t = new si;
                    this.promise = t, this.resolve = l(xi, t, 1), this.reject = l(Ai, t, 1)
                }, ii.f = yi = function(t) {
                    return t === mi || t === li ? new fi(t) : ci(t)
                }), M(M.G + M.W + M.F * !gi, {
                    Promise: mi
                }), st(mi, "Promise"),
                function(t) {
                    var n = "function" == typeof c[t] ? c[t] : s[t];
                    p && n && !n[oi] && k.f(n, oi, {
                        configurable: !0,
                        get: function() {
                            return this
                        }
                    })
                }("Promise"), li = c.Promise, M(M.S + M.F * !gi, "Promise", {
                    reject: function(t) {
                        var n = yi(this);
                        return (0, n.reject)(t), n.promise
                    }
                }), M(M.S + !0 * M.F, "Promise", {
                    resolve: function(t) {
                        return ri(this === li ? mi : this, t)
                    }
                }), M(M.S + M.F * !(gi && function(t, n) {
                    if (!n && !ai) return !1;
                    var i = !1;
                    try {
                        var e = [7],
                            r = e[ui]();
                        r.next = function() {
                            return {
                                done: i = !0
                            }
                        }, e[ui] = function() {
                            return r
                        }, t(e)
                    } catch (t) {}
                    return i
                }(function(t) {
                    mi.all(t).catch(wi)
                })), "Promise", {
                    all: function(t) {
                        var n = this,
                            i = yi(n),
                            e = i.resolve,
                            r = i.reject,
                            o = ei(function() {
                                var i = [],
                                    o = 0,
                                    u = 1;
                                Nn(t, !1, function(t) {
                                    var a = o++,
                                        s = !1;
                                    i.push(void 0), u++, n.resolve(t).then(function(t) {
                                        s || (s = !0, i[a] = t, --u || e(i))
                                    }, r)
                                }), --u || e(i)
                            });
                        return o.e && r(o.v), i.promise
                    },
                    race: function(t) {
                        var n = this,
                            i = yi(n),
                            e = i.reject,
                            r = ei(function() {
                                Nn(t, !1, function(t) {
                                    n.resolve(t).then(i.resolve, e)
                                })
                            });
                        return r.e && e(r.v), i.promise
                    }
                }), M(M.P + M.R, "Promise", {
                    finally: function(t) {
                        var n = Fn(this, c.Promise || s.Promise),
                            i = "function" == typeof t;
                        return this.then(i ? function(i) {
                            return ri(n, t()).then(function() {
                                return i
                            })
                        } : t, i ? function(i) {
                            return ri(n, t()).then(function() {
                                throw i
                            })
                        } : t)
                    }
                }), M(M.S, "Promise", {
                    try: function(t) {
                        var n = ii.f(this),
                            i = ei(t);
                        return (i.e ? n.reject : n.resolve)(i.v), n.promise
                    }
                });
            var Mi = c.Promise,
                Oi = i(e(function(t) {
                    t.exports = {
                        default: Mi,
                        hf: !0
                    }
                })),
                Ri = Object.assign,
                Ci = !Ri || v(function() {
                    var t = {},
                        n = {},
                        i = C(),
                        e = "abcdefghijklmnopqrst";
                    return t[i] = 7, e.split("").forEach(function(t) {
                        n[t] = t
                    }), 7 != Ri({}, t)[i] || Object.keys(Ri({}, n)).join("") != e
                }) ? function(t, n) {
                    for (var i = lt(t), e = arguments.length, r = 1, o = Lt.f, u = Dt.f; e > r;)
                        for (var a, s = D(arguments[r++]), c = o ? J(s).concat(o(s)) : J(s), f = c.length, l = 0; f > l;) u.call(s, a = c[l++]) && (i[a] = s[a]);
                    return i
                } : Ri;
            M(M.S + M.F, "Object", {
                assign: Ci
            });
            var Ii = c.Object.assign,
                Li = i(e(function(t) {
                    t.exports = {
                        default: Ii,
                        hf: !0
                    }
                })),
                Di = i(e(function(t, n) {
                    n.hf = !0, n.default = function(t, n) {
                        if (!(t instanceof n)) throw new TypeError("Cannot call a class as a function")
                    }
                }));
            M(M.S + M.F * !p, "Object", {
                defineProperty: k.f
            });
            var ji = c.Object,
                Pi = function(t, n, i) {
                    return ji.defineProperty(t, n, i)
                },
                Ni = e(function(t) {
                    t.exports = {
                        default: Pi,
                        hf: !0
                    }
                });
            i(Ni);
            var Ui = i(e(function(t, n) {
                    n.hf = !0;
                    var i = function(t) {
                        return t && t.hf ? t : {
                            default: t
                        }
                    }(Ni);
                    n.default = function() {
                        function t(t, n) {
                            for (var e = 0; e < n.length; e++) {
                                var r = n[e];
                                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), (0, i.default)(t, r.key, r)
                            }
                        }
                        return function(n, i, e) {
                            return i && t(n.prototype, i), e && t(n, e), n
                        }
                    }()
                })),
                Fi = {
                    SETUP_DONE: "SETUP_DONE",
                    NOT_SETUP: "NOT_SETUP"
                },
                Vi = {
                    CONNECTED: "#E5E500",
                    DISCONNECTED: "#00ADEF"
                },
                Bi = function() {
                    function t() {
                        Di(this, t), this.version = "1.2.35", this.remotePlayer = null, this.remotePlayerController = null, this.CastContextEventType = null, this.RemotePlayerEventType = null, this.CastState = Fi, this.SessionState = null, this.PlayerState = null, this.currentLoadRequestId = null, this.currentLoadRequestPromise = null
                    }
                    return Ui(t, [{
                        key: "init",
                        value: function() {
                            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                                n = t.receiverApplicationId,
                                i = void 0 === n ? "" : n,
                                e = t.resumeSavedSession,
                                r = void 0 === e || e,
                                o = t.language,
                                u = void 0 === o ? null : o,
                                a = t.autoJoinPolicy,
                                s = void 0 === a ? "TAB_AND_ORIGIN_SCOPED" : a;
                            if (!this.isGCastApiAvailable) throw new Error("CAF is not available. Call setup() first.");
                            if ("string" != typeof i || "" === i.trim()) throw new Error("Parameter 'receiverApplicationId' must be valid.");
                            switch (s) {
                                case chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED:
                                case chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED:
                                case chrome.cast.AutoJoinPolicy.PAGE_SCOPED:
                                    break;
                                default:
                                    s = chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED
                            }
                            return this.CastContextEventType = cast.framework.CastContextEventType, this.RemotePlayerEventType = cast.framework.RemotePlayerEventType, this.CastState = Li(this.CastState, cast.framework.CastState), this.SessionState = cast.framework.SessionState, this.PlayerState = chrome.cast.media.PlayerState, cast.framework.CastContext.getInstance().setOptions({
                                receiverApplicationId: i.trim(),
                                resumeSavedSession: r,
                                language: u,
                                autoJoinPolicy: s
                            }), this.isInitialized ? this.remotePlayerController : this.initRemotePlayer()
                        }
                    }, {
                        key: "initRemotePlayer",
                        value: function() {
                            if (!this.isGCastApiAvailable) throw new ReferenceError("CAF is not available. Call setup() first.");
                            return this.remotePlayer = new cast.framework.RemotePlayer, this.remotePlayerController = new cast.framework.RemotePlayerController(this.remotePlayer), this.remotePlayerController
                        }
                    }, {
                        key: "setup",
                        value: function() {
                            var t = this,
                                n = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).loadLibrary,
                                i = void 0 === n || n;
                            return new Oi(function(n, e) {
                                if (t.isGCastApiAvailable) return t.AutoJoinPolicy = chrome.cast.AutoJoinPolicy, void n(!0);
                                window.__onGCastApiAvailable = function(i, r) {
                                    if (r) {
                                        var o = new Error(r);
                                        e(o)
                                    } else t.AutoJoinPolicy = chrome.cast.AutoJoinPolicy, n(i)
                                };
                                try {
                                    if (!1 === i) throw new ReferenceError("Cast is not available. Make sure the library has been loaded.");
                                    t.loadLibrary() || n(!1)
                                } catch (t) {
                                    var r = new Error(t);
                                    e(r)
                                }
                            })
                        }
                    }, {
                        key: "loadLibrary",
                        value: function() {
                            if (this.isGCastApiAvailable) return !0;
                            if (null !== window.chrome && void 0 !== window.chrome && "Google Inc." === window.navigator.vendor) {
                                var t = "//www.gstatic.com/cv/js/sender/v1/cast_sender.js";
                                if (!(document.querySelectorAll('script[src^="' + t + '"]').length > 0)) {
                                    t += "?loadCastFramework=1";
                                    var n = document.createElement("script");
                                    return n.type = "text/javascript", n.src = t, n.async = !0, document.head.appendChild(n), !0
                                }
                            }
                            return !1
                        }
                    }, {
                        key: "loadMedia",
                        value: function(t) {
                            var n = this,
                                i = t.contentId,
                                e = t.contentType,
                                r = t.currentTime,
                                o = void 0 === r ? 0 : r,
                                u = t.duration,
                                a = void 0 === u ? 0 : u,
                                s = t.requestCustomData,
                                c = void 0 === s ? null : s,
                                f = t.mediaCustomData,
                                l = void 0 === f ? null : f,
                                h = t.autoRequest,
                                d = void 0 !== h && h;
                            return i ? this.isSessionEstablished ? this.loadMediaOnSession(this.currentSession, {
                                contentId: i,
                                contentType: e,
                                currentTime: o,
                                duration: a,
                                requestCustomData: c,
                                mediaCustomData: l
                            }) : !0 !== d ? Oi.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")) : this.requestSession().then(function(t) {
                                return n.loadMediaOnSession(t, {
                                    contentId: i,
                                    contentType: e,
                                    currentTime: o,
                                    duration: a,
                                    requestCustomData: c,
                                    mediaCustomData: l
                                })
                            }).catch(function(t) {
                                return Oi.reject(new Error(t))
                            }) : Oi.reject(new TypeError("Option 'contentId' must be valid."))
                        }
                    }, {
                        key: "loadMediaOnSession",
                        value: function(t, n) {
                            var i = this,
                                e = arguments,
                                r = n.contentId,
                                o = n.contentType,
                                u = n.currentTime,
                                a = void 0 === u ? 0 : u,
                                s = n.duration,
                                c = n.requestCustomData,
                                f = void 0 === c ? null : c,
                                l = n.mediaCustomData,
                                h = void 0 === l ? null : l;
                            return new Oi(function(n, u) {
                                if (t && t instanceof cast.framework.CastSession) {
                                    var c = t.getSessionState();
                                    if (c !== i.SessionState.SESSION_STARTING && c !== i.SessionState.SESSION_STARTED && c !== i.SessionState.SESSION_RESUMED) return u(new ReferenceError("Session must be established."));
                                    var l = i.createLoadRequest(r, o, a, s, f, h);
                                    if (null !== i.currentLoadRequestId && i.currentLoadRequestId === l.requestId) return i.currentLoadingMediaPromise;
                                    i.currentLoadRequestId = l.requestId, i.currentLoadingMediaPromise = t.loadMedia(l).then(function() {
                                        n.apply(i, e)
                                    }).catch(function(t) {
                                        u(new Error(t))
                                    }).finally(function() {
                                        i.currentLoadRequestId = null, i.currentLoadingMediaPromise = null
                                    })
                                } else u(new ReferenceError("Session must be cast.framework.CastSession."))
                            })
                        }
                    }, {
                        key: "requestSession",
                        value: function() {
                            var t = this;
                            return new Oi(function(n, i) {
                                t.isSessionEstablished ? n(t.currentSession) : t.castContext ? t.castContext.requestSession().then(function() {
                                    n(t.currentSession)
                                }).catch(function(t) {
                                    i(new Error(t))
                                }) : i(new Error("CastContext is not available. Call setup() first."))
                            })
                        }
                    }, {
                        key: "sendMessage",
                        value: function(t) {
                            var n = this,
                                i = t.namespace,
                                e = t.data,
                                r = void 0 === e ? {} : e,
                                o = t.autoRequest,
                                u = void 0 !== o && o;
                            return this.isSessionEstablished ? this.sendMessageOnSession(this.currentSession, {
                                namespace: i,
                                data: r
                            }) : !0 !== u ? Oi.reject(new TypeError("Option 'autoRequest' must be true when session is not connected.")) : this.requestSession().then(function(t) {
                                return n.sendMessageOnSession(t, {
                                    namespace: i,
                                    data: r
                                })
                            }).catch(function(t) {
                                return Oi.reject(new Error(t))
                            })
                        }
                    }, {
                        key: "sendMessageOnSession",
                        value: function(t, n) {
                            var i = this,
                                e = arguments,
                                r = n.namespace,
                                o = n.data,
                                u = void 0 === o ? {} : o;
                            return new Oi(function(n, o) {
                                if (!t && t instanceof cast.framework.CastSession) o(new ReferenceError("Session must be cast.framework.CastSession."));
                                else {
                                    var a = t.getSessionState();
                                    if (a !== i.SessionState.SESSION_STARTING && a !== i.SessionState.SESSION_STARTED && a !== i.SessionState.SESSION_RESUMED) return o(new ReferenceError("Session must be established."));
                                    t.sendMessage(r, u).then(function() {
                                        n.apply(i, e)
                                    }).catch(function(t) {
                                        o(new Error(t))
                                    })
                                }
                            })
                        }
                    }, {
                        key: "createCastButton",
                        value: function(t) {
                            var n = document.createElement("button", "google-cast-button");
                            return t && t.style && (null === t.style["--disconnected-color"] && (t.style["--disconnected-color"] = Vi.DISCONNECTED), null === t.style["--connected-color"] && (t.style["--connected-color"] = Vi.CONNECTED)), t && Mn(t).forEach(function(i) {
                                if ("string" == typeof t[i]) n.setAttribute(i, t[i]);
                                else if ("style" === i && "object" === _n(t[i])) {
                                    var e = "";
                                    Mn(t[i]).forEach(function(n) {
                                        e += n + ":" + t[i][n] + ";"
                                    }), n.setAttribute(i, e)
                                }
                            }), n
                        }
                    }, {
                        key: "createLoadRequest",
                        value: function(t, n, i, e, r, o) {
                            var u = new chrome.cast.media.MediaInfo(t.toString(), n);
                            u.customData = o, u.duration = e;
                            var a = new chrome.cast.media.LoadRequest(u);
                            return a.customData = r, a.currentTime = i || 0, a
                        }
                    }, {
                        key: "isGCastApiAvailable",
                        get: function() {
                            return !!("undefined" != typeof cast && cast && cast.framework && cast.framework.VERSION)
                        }
                    }, {
                        key: "castState",
                        get: function() {
                            return this.castContext ? this.castContext.getCastState() : this.isGCastApiAvailable ? this.CastState.SETUP_DONE : this.CastState.NOT_SETUP
                        }
                    }, {
                        key: "versionGCastApi",
                        get: function() {
                            return this.isGCastApiAvailable ? cast.framework.VERSION : null
                        }
                    }, {
                        key: "castContext",
                        get: function() {
                            return this.isGCastApiAvailable ? cast.framework.CastContext.getInstance() : null
                        }
                    }, {
                        key: "currentSession",
                        get: function() {
                            if (this.castContext) return this.castContext.getCurrentSession()
                        }
                    }, {
                        key: "currentSessionObj",
                        get: function() {
                            var t = this.currentSession;
                            return t ? t.getSessionObj() : null
                        }
                    }, {
                        key: "isInitialized",
                        get: function() {
                            return !(!this.isGCastApiAvailable || !this.remotePlayerController)
                        }
                    }, {
                        key: "isSessionEstablished",
                        get: function() {
                            var t = this.currentSessionObj;
                            return !!t && t.status === chrome.cast.SessionStatus.CONNECTED
                        }
                    }, {
                        key: "isCastConnected",
                        get: function() {
                            return this.castState === this.CastState.CONNECTED
                        }
                    }]), t
                }(),
                Hi = new Bi;
            n.Chromecast = Bi, n.chromecast = Hi, n.CastState = Fi, n.CastButtonColor = Vi, n.AutoJoinPolicy = {
                CUSTOM_CONTROLLER_SCOPED: "custom_controller_scoped",
                TAB_AND_ORIGIN_SCOPED: "tab_and_origin_scoped",
                ORIGIN_SCOPED: "origin_scoped",
                PAGE_SCOPED: "page_scoped"
            }
        });
    ! function(t) {
        t && t.hf && Object.prototype.hasOwnProperty.call(t, "default") && t.default
    }(Vs);
    var Bs = Vs.Chromecast,
        Hs = (Vs.chromecast, Vs.CastState, Vs.CastButtonColor, Vs.AutoJoinPolicy, $(new(function(t) {
            function n() {
                return t.apply(this, arguments) || this
            }
            H(n, t);
            var i = n.prototype;
            return i.init = function() {
                var n = this,
                    i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    r = i.appId,
                    o = void 0 === r ? Ns.prod.id : r,
                    u = i.chromecastPlayer,
                    a = void 0 === u ? null : u;
                return this.chromecastPlayer = a, this.setup().then(function(i) {
                    return i && (t.prototype.init.call(n, {
                        receiverApplicationId: o,
                        autoJoinPolicy: n.AutoJoinPolicy.PAGE_SCOPED
                    }), n.chromecastPlayer && n.chromecastPlayer.init()), i
                }).catch(function(t) {
                    return n.fire(Us.error, t), e.reject(t)
                })
            }, i.dispose = function() {
                this.chromecastPlayer = null
            }, F(n, [{
                key: "chromecastPlayer",
                get: function() {
                    return this._f
                },
                set: function(t) {
                    if (t && !(t instanceof Fs)) throw new SyntaxError("An invalid ChromecastPlayer was specified");
                    this.chromecastPlayer && this.chromecastPlayer.dispose(), this._f = t
                }
            }]), n
        }(Bs))));

    function Ws(t, n, i) {
        var r = null;

        function o() {
            return i.getAttribute("data-thumb")
        }

        function u() {
            return Ls(n.get("ui.player.width") * bt.devicePixelRatio, n.get("ui.player.height") * bt.devicePixelRatio)
        }

        function a() {
            if (!t.config.video.thumbs.base) return e.resolve();
            var r = !t.config.embed.autoplay || Hs.isCastConnected,
                a = u(),
                s = a.width,
                c = Ds({
                    width: s,
                    height: a.height,
                    baseUrl: t.config.video.thumbs.base,
                    webpSupport: bt.webp
                });
            i.setAttribute("data-thumb", c), i.setAttribute("data-thumb-width", s);
            var f = Ps(c).then(function(t) {
                return n.dispatch(Is(t.width, t.height)), r && (i.style.backgroundImage = "url(".concat(o(), ")")), t
            });
            return r ? e.race([f, new e(function(t) {
                return setTimeout(t, 2e3)
            })]) : e.resolve()
        }
        return r = a(), t.events.on(Ua.ts, function() {
            i.classList.contains("vp-preview-invisible") && "beginning" !== t.config.embed.outro || (r = a())
        }), n.watch("ui.player.width", Rs(function() {
            r = r.then(function() {
                return function() {
                    var t = u().width,
                        n = i.getAttribute("data-thumb-width");
                    return t <= parseInt(n, 10) || 0 === t ? e.resolve() : a()
                }()
            }).catch(function(t) {})
        }, 150)), n.watch("ui.preview.scaleFactor", function(t) {
            i.classList.toggle("vp-preview-cover", t > 1)
        }), {
            show: function() {
                i.style.backgroundImage = "url(".concat(o(), ")"), i.classList.remove("vp-preview-invisible")
            },
            hide: function() {
                i.classList.add("vp-preview-invisible")
            },
            resetThumbnail: function() {
                i.setAttribute("data-thumb", ""), i.setAttribute("data-thumb-width", ""), i.style.backgroundImage = ""
            },
            getThumbnail: o,
            loadThumbnail: a,
            thumbnailPromise: r
        }
    }

    function qs(t) {
        return !0 === t || !1 === t ? Number(t) : "null" === t ? null : t
    }

    function zs(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : document.cookie;
        try {
            if (n && "" !== n) return n.split(";").reduce(function(n, i) {
                return 0 === (i = i.trim()).indexOf("".concat(t, "=")) ? decodeURIComponent(i.substr(t.length + 1)) : n
            }, null)
        } catch (t) {}
        return null
    }
    var Gs = ["quality", "volume", "captions"],
        Ys = null;

    function Ks(t) {
        var n = 0 !== t.config.request.urls.proxy.indexOf(window.location.origin),
            i = 0;

        function r(n, i) {
            if (Ys) {
                var e = {
                    method: "set",
                    key: "sync_".concat(n),
                    val: i,
                    session: t.config.request.session
                };
                return function(n) {
                    Ys.then(function(i) {
                        var e = da(t.config.request.urls.proxy);
                        return i.contentWindow.postMessage(n, e), i
                    }).catch(function(n) {
                        ms.captureException(n, {
                            extra: {
                                proxyUrl: t.config.request.urls.proxy
                            }
                        })
                    })
                }(e), void
                function(n) {
                    t.config.embed.on_site && window.postMessage(n, window.location.origin)
                }(e)
            }
            try {
                window.localStorage.setItem("sync_".concat(n), JSON.stringify(i))
            } catch (t) {}
        }

        function o(n, i) {
            Gs.indexOf(n) >= 0 && (t.config.request.cookie[n] = i);
            var e = [];
            Gs.indexOf(n) >= 0 && null !== i && e.push("".concat(n, "=").concat(i));
            var r = u(Gs);
            for (var o in r) o in r && null !== r[o] && o !== n && e.push("".concat(o, "=").concat(r[o]));
            ! function(t, n, i) {
                var e = new Date;
                e.setFullYear(e.getFullYear() + 1), e = e.toGMTString(), n = qs(n);
                var r = "".concat(t, "=").concat(n, ";");
                r += "expires=".concat(e, ";"), r += "path=/;", r += "domain=".concat(i, ";");
                try {
                    document.cookie = r
                } catch (t) {
                    return !1
                }
            }("player", '"'.concat(e.join("&"), '"'), t.config.request.cookie_domain)
        }

        function u(t) {
            var n = null;
            try {
                n = zs("player")
            } catch (t) {}
            if (!n) return null;
            n = n.substring(1, n.length - 1);
            var i = {};
            n.split("&").forEach(function(t) {
                t = t.split("="), i[t[0]] = qs(decodeURIComponent(t[1] || ""))
            });
            var e = [].concat(t),
                r = e.reduce(function(t, n) {
                    if (n in i) {
                        var e = parseFloat(i[n]);
                        return t[n] = isNaN(e) || "quality" === n ? i[n] : e, t
                    }
                    return t[n] = null, t
                }, {});
            return 1 === e.length ? r[t] : r
        }

        function a(n, i) {
            t.doNotTrackEnabled || (r(n, i = qs(i)), o(n, i))
        }

        function s(n, e) {
            switch (n) {
                case "sync_quality":
                    t.events.fire(Pa.Ku, e, !0);
                    break;
                case "sync_volume":
                    if (t.config.embed.settings.background) break;
                    t.events.fire(Pa.Wu, e, !0);
                    break;
                case "sync_captions":
                    if (null === e) {
                        t.events.fire(Pa.ea, !0);
                        break
                    }
                    t.events.fire(Pa.ia, e, !0);
                    break;
                case "sync_login":
                    ! function(n) {
                        if (i > 4) return;
                        i++, n && !t.config.user.logged_in ? t.events.fire(Ua.Fs) : !n && t.config.user.logged_in && t.events.fire(Ua.Bs)
                    }(e);
                    break;
                case "sync_active":
                    null !== e && e !== t.config.request.session && t.config.embed.autopause && t.events.fire(Ua.ec)
            }
        }
        return t.events.on(Ua.Ta, function(t, n) {
            n || a("quality", t)
        }), t.events.on(Ua._a, function(n, i) {
            t.config.request.cookie.volume = qs(n), i || a("volume", n)
        }), t.events.on(Ua.qa, function(n, i) {
            if (n) {
                var e = "".concat(n.language, ".").concat(n.kind);
                return t.config.request.cookie.captions = qs(e), void(i || a("captions", e))
            }
            t.config.request.cookie.captions = null, i || a("captions", null)
        }), t.events.on(Ua.Da, function() {
            t.config.embed.settings.background || (a("active", t.config.request.session), t.events.fire(Ua.ic))
        }), t.events.on([Ua.La, Ua.ka], function() {
            u("active") === t.config.request.session && a("active", null)
        }), t.events.on(Ua.Vs, function() {
            a("login", !0)
        }), n && !Ys && (Ys = function(n) {
            return new e(function(i, e) {
                document.createElement("a").href = t.config.request.urls.proxy;
                var r = document.createElement("iframe");
                r.src = n, r.setAttribute("title", "Vimeo LocalStorage Proxy"), r.setAttribute("aria-hidden", "true"), r.setAttribute("hidden", ""), r.onload = function(n) {
                    var i = da(t.config.request.urls.proxy);
                    r.contentWindow.postMessage({
                        method: "ping"
                    }, i)
                }, r.onerror = function(t) {
                    e(t)
                };
                var o = setTimeout(function() {
                    e()
                }, 1e4);
                window.addEventListener("message", function t(e) {
                    0 !== n.indexOf(e.origin) || "ready" !== e.data && "ping" !== e.data || (window.removeEventListener("message", t, !1), clearTimeout(o), i(r))
                }, !1), document.body.appendChild(r)
            })
        }(t.config.request.urls.proxy)), n ? window.addEventListener("message", function(n) {
            var i = da(t.config.request.urls.proxy);
            n.origin === i && "object" === N(n.data) && "key" in n.data && "newValue" in n.data ? s(n.data.key, n.data.newValue) : n.origin === window.location.origin && n.data.session !== t.config.request.session && s(n.data.key, n.data.val)
        }, !1) : window.addEventListener("storage", function(t) {
            if (0 === t.key.indexOf("sync_") && t.oldValue !== t.newValue) {
                try {
                    if (window.localStorage.getItem(t.key) !== t.newValue) return
                } catch (t) {}
                try {
                    s(t.key, JSON.parse(t.newValue))
                } catch (n) {
                    ms.captureException(n, {
                        extra: {
                            key: t.key,
                            oldValue: t.oldValue,
                            newValue: t.newValue
                        }
                    })
                }
            }
        }, !1), {
            reset: function() {
                a("login", !!t.config.user.logged_in)
            }
        }
    }
    var $s = "LIVE_SET_STATUS",
        Xs = "LIVE_ARCHIVE_SET_STATUS",
        Js = "LIVE_UPDATE",
        Zs = "LIVE_SET_START_TIME",
        Qs = function(t) {
            return {
                type: $s,
                payload: t
            }
        },
        tc = function(t) {
            return {
                type: Js,
                payload: t
            }
        },
        nc = function(t) {
            return {
                type: Zs,
                payload: t
            }
        };

    function ic(t) {
        return t.replace(/(_\w)/g, function(t) {
            return t[1].toUpperCase()
        })
    }

    function ec(t) {
        return function t(n, i) {
            return Object.keys(i).reduce(function(e, r) {
                return i[r] && "object" === N(i[r]) ? e[n(r)] = t(n, i[r]) : e[n(r)] = i[r], e
            }, {})
        }(ic, t)
    }
    var rc = "CONFIG_LOAD",
        oc = function(t) {
            return {
                type: rc,
                payload: B({}, ec(t))
            }
        };

    function uc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0,
            i = n.type,
            e = n.payload;
        switch (i) {
            case rc:
                var r = e.video.liveEvent;
                return B({}, t, {
                    liveStatus: r ? r.status : null,
                    liveArchiveStatus: r && r.archive ? r.archive.status : null
                });
            case Js:
                return B({}, t, {
                    liveStatus: e ? e.status : null,
                    liveArchiveStatus: e && e.archive ? e.archive.status : null
                });
            case $s:
                return B({}, t, {
                    liveStatus: e
                });
            case Xs:
                return B({}, t, {
                    liveArchiveStatus: e
                });
            default:
                return t
        }
    }
    var ac = function(t) {
            return !!t.ui.liveEvent.liveStatus && null !== t.ui.liveEvent.liveStatus
        },
        sc = function(t) {
            return ac(t) && t.ui.liveEvent.liveStatus === Ba.pending
        },
        cc = function(t) {
            return ac(t) && t.ui.liveEvent.liveStatus === Ba.active
        },
        fc = function(t) {
            return ac(t) && t.ui.liveEvent.liveStatus === Ba.started
        },
        lc = function(t) {
            return ac(t) && t.ui.liveEvent.liveStatus === Ba.ended
        },
        hc = function(t) {
            return ac(t) && !lc(t)
        },
        dc = function(t) {
            return ac(t) && t.ui.liveEvent.liveArchiveStatus === Va
        },
        vc = Object.freeze({
            default: uc,
            liveExists: ac,
            isLivePending: sc,
            isLiveActive: cc,
            isLiveStarted: fc,
            isLiveEnded: lc,
            liveInProgress: hc,
            isLiveArchived: dc
        }),
        pc = "app.vimeo.com/",
        mc = "key_live_jpj6Duy53e6MhounkriNljdgsBhGbf0d";

    function bc(t, n) {
        return function(t) {
            var n, i = {
                    feature: arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                    $deeplink_path: pc + t,
                    $always_deeplink: !0,
                    ref: "player",
                    context: "player"
                },
                e = [];
            for (var r in i) e.push("".concat(encodeURIComponent(r), "=").concat(encodeURIComponent(i[r])));
            return n = e.join("&"), "https://bnc.lt/a/".concat(mc, "?").concat(n)
        }("videos/".concat(t), n)
    }

    function wc(t, n, i) {
        var r, o = t.events,
            u = t.backbone,
            a = !t.config.embed.playsinline && (bt.mobileAndroid || bt.iOS && !bt.iPad),
            s = bt.iOS >= 8 && !bt.iPad,
            c = !1,
            f = !1,
            l = !1,
            h = !1,
            d = null,
            v = !1,
            p = !1,
            m = !1,
            b = !1,
            w = !1,
            y = !1;

        function g(t) {
            u.element.classList.remove("invisible"), E()
        }

        function E() {
            var t = u.play();
            return y && t.catch(k), t.catch(T).then(S)
        }

        function k(t) {
            if (y = !1, _(t)) return o.fire(Pa.Wu, 0, !0), u.play().then(function() {
                return o.fire(Ua.Za)
            });
            throw t
        }

        function _(t) {
            return t && ("NotAllowedError" === t.name || "AbortError" === t.name)
        }

        function T(t) {
            return o.fire(Ua.wa, t), new e(function() {})
        }

        function S() {
            o.fire(Ua.ya)
        }

        function A() {
            t.displayContext !== t.backbone ? t.displayContext.play() : function() {
                "disable" !== t.config.video.privacy && t.config.video.spatial && bt.iOS && !w || u.element.classList.remove("invisible");
                if (d) return o.fire(Ua.ba, d), void t.preview.show();
                if (c = !0, v) return void t.preview.show();
                u.off(J.PLAY, g), a && (p = !0, o.fire(Pa.na));
                n.get(ac) && n.get(fc) && (y = !0);
                if (!l) return t.config.video.spatial && bt.iOS && !w ? (w = !0, o.fire(Pa._showOverlay, "app-redirect", {
                    redirectUrl: t.doNotTrackEnabled ? "https://itunes.apple.com/us/app/apple-store/id425194759?mt=8" : bc(t.config.video.id, "player-spatial-redirect"),
                    title: null,
                    buttonText: "Watch in the Vimeo app",
                    ignoreText: null,
                    bottomText: "360 not supported in this browser",
                    newWindow: !t.config.embed.on_site
                }), void o.once(J.PLAY, g)) : void E();
                l && M()
            }()
        }

        function x(t) {
            try {
                u.currentTime = t
            } catch (t) {}
        }

        function M() {
            h || v || c && u.paused && (r && (x(r), r = null), E())
        }

        function O(t) {
            switch (t) {
                case Ba.started:
                    setTimeout(function() {
                        C(), u.element.classList.remove("invisible"), o.fire(Ua.Da)
                    }, 12e3)
            }
        }

        function R() {
            var n = "none";
            ("metadata" === t.config.request.flags.preload_video || a || bt.iOS >= 8) && (n = "metadata"), "auto" === t.config.request.flags.preload_video && (n = "metadata", "MediaSourceScanner" === u.currentScannerName && (n = "auto")), u.preload = n, o.on(Ua.Is, function() {
                t.config.request && "metadata_on_hover" === t.config.request.flags.preload_video && !l && t.verifyConfig().then(function() {
                    return u.preload = "metadata", !0
                }).catch(function(t) {})
            })
        }

        function C() {
            w = !1;
            var n = u.video;
            if (u.loadVideo(t.config), !n)
                if (t.config.embed.texttrack) {
                    var i = t.config.embed.texttrack;
                    if (u.hasTextTrack(i)) {
                        o.fire(Pa.ia, i, !0)
                    }
                } else if (null === t.config.request.cookie.captions || "null" === t.config.request.cookie.captions);
            else if (u.hasTextTrack(t.config.request.cookie.captions)) {
                o.fire(Pa.ia, t.config.request.cookie.captions, !0)
            }
        }

        function I(t, n, i, e) {
            if (f) {
                var r = new XMLHttpRequest;
                r.open("DELETE", "".concat(t, "/plays/").concat(n, "/").concat(i, "?token=").concat(e), !1), r.send(), f = !1
            }
        }

        function L() {
            if (t.config.embed.autoplay) {
                if (n.get(ac) && !n.get(fc)) return;
                o.fire(Ua.Da)
            }
        }
        u.element.classList.add("invisible"), s && u.element.classList.add("hide-webkit-controls"), t.config.video.live_event && (i.classList.add("live-background"), ts("m3u8-parser", t.config.request.urls.m3u8_parser_url), ts("muxjs", t.config.request.urls.muxer_url)), t.config.embed.transparent && i.classList.add("transparent"), n.watch("ui.liveEvent.liveStatus", O), n.watch("ui.video.scaleFactor", function(t) {
                u.element.classList.toggle("vp-telecine-cover", t > 1)
            }),
            function n() {
                o.once(Ua.uc, n), Aa((u = t.backbone).on, o.fire, [Zi, Ji, Xi, ie, te, ee, ne, Ki, Qi, Gi, Yi, Z.ACTIVATED, Z.AVAILABLE, Z.DEACTIVATED, Z.UNAVAILABLE, nt.EVENT_ACTIVE, nt.EVENT_ENDED, nt.EVENT_STARTED, nt.REPRESENTATIONS_AVAILABLE, nt.STREAM_OFFLINE, nt.STREAM_ONLINE, et.MEDIASESSION_PAUSE, et.MEDIASESSION_PLAY, et.MEDIASESSION_SEEK_BACKWARD, et.MEDIASESSION_SEEK_FORWARD, tt.AV_DURATION_MISMATCH, tt.BANDWIDTH, tt.BUFFER_ENDED, tt.BUFFER_OCCUPANCY, tt.BUFFER_STARTED, tt.CUE_POINT, tt.CURRENT_FILE_CHANGE, tt.DOWNLOAD_END, tt.DRM_AUTH_SUCCESS, tt.DROPPED_FRAMES, tt.MANIFEST_LOADED, tt.MANIFEST_TIMEOUT, tt.QUOTA_EXCEEDED_ERROR, tt.SCANNER_CHANGE, tt.STREAM_BUFFER_START, tt.STREAM_CHANGE, tt.STREAM_TARGET_CHANGE, it.CAMERA_UPDATE, it.MOTION_END, it.MOTION_START, it.SPATIAL_UNSUPPORTED, it.WEBVR_ENTER, it.WEBVR_EXIT, it.WEBVR_HARDWARE_AVAILABLE, J.DURATION_CHANGE, J.ENDED, J.ERROR, J.LOAD_START, J.LOADED_DATA, J.LOADED_METADATA, J.PAUSE, J.PLAY, J.PLAYING, J.PROGRESS, J.RATE_CHANGE, J.SEEKED, J.SEEKING, J.STALLED, J.TIME_UPDATE, J.VOLUME_CHANGE, J.WAITING])
            }(), Aa(Hs.on, o.fire, [Us.connected, Us.disconnected]), R(), o.on(J.LOADED_METADATA, function(n) {
                t.config.video.duration = u.duration, t.config.video.video_width = u.videoWidth, t.config.video.video_height = u.videoHeight
            }), o.on(J.DURATION_CHANGE, function(n) {
                t.config.video.duration = u.duration
            }), o.on(tt.SCANNER_CHANGE, function() {
                R(), setTimeout(function() {
                    o.fire(u.supportsSettingVolume ? Pa.Zu : Pa.Ju), o.fire(u.supportsTextTracks ? Pa.ta : Pa.Qu)
                }, 0), ms.captureBreadcrumb("Scanner changed to ".concat(u.currentScannerName), {}, "video")
            }), o.on(nt.EVENT_STARTED, function(i) {
                var e = t.config.video.live_event;
                t.config.video.live_event = i, t.config.video.live_event.show_viewer_count = e, n.dispatch(tc(i)), n.dispatch(Qs(Ba.started))
            }), o.on(nt.EVENT_ENDED, function() {
                return n.dispatch(Qs(Ba.ended))
            }), o.on(nt.EVENT_ACTIVE, function() {
                return n.dispatch(Qs(Ba.active))
            }), o.on(Ua.Da, A).on(Ua.La, function() {
                c = !1, t.displayContext.pause()
            }).on(Ua.ec, function() {
                (window.location.search.indexOf("autopause=0") < 0 && !u.paused && !t.config.embed.settings.background || c) && (c = !1, o.fire(Ua.La))
            }), o.on(J.ERROR, function(n) {
                if (_(n) && !y) {
                    if (t.config.embed.autoplay = 0, u.pause(), t.config.embed.time) return x(t.config.embed.time), void o.fire(Ua.oe, u.currentTime);
                    if (0 === u.currentTime) return void o.fire(Pa.Gu);
                    o.fire(Ua.oe, u.currentTime)
                }
            }), o.on(J.PLAY, function(t) {
                u.element.classList.remove("invisible")
            }), o.on(J.PAUSE, function(t, n) {
                h || o.fire(Ua.oe, t, n)
            }), o.on(J.TIME_UPDATE, function(t) {
                var n = t.currentTime;
                r && n > r && (r = null)
            }), o.on(J.ENDED, function(n) {
                h || t.config.embed.loop || (p && o.fire(Ua.Ia), c = !1, o.fire(Ua.ka, n))
            }), o.on(tt.DRM_AUTH_SUCCESS, function() {
                f = !0
            }), o.on(Ki, function() {
                l = !0, o.once(J.TIME_UPDATE, function() {
                    o.fire(Ua.Ma)
                })
            }), o.on(tt.BUFFER_STARTED, function() {
                h || o.fire(Ca.Fu)
            }),
            function() {
                var n = !1;

                function i(e) {
                    if (!n && !e.name.includes("PlayInterrupted")) {
                        ms.captureBreadcrumb(e.name, {
                            message: e.message
                        }, "telecine error", "error");
                        var r = t.config.video.live_event ? 1 : .001,
                            u = new Error(e.message);
                        if (u.name = e.name, ms.captureException(u, null, r), "TextTracksNotSupported" !== e.name) {
                            var a = Qa[e.name];
                            if ("function" == typeof a) {
                                var s = a();
                                if (s.final && o.off(J.ERROR, i), d = s.deferred ? s.id : null, "DRMFailure" === e.name) {
                                    var c = t.config.request.dynamic_drm_translation_map,
                                        f = e.message.code;
                                    c && f && c[f] && (s.title = c[f].title, s.message = c[f].msg), ms.captureBreadcrumb("DRM failure", e, "video")
                                }
                                o.fire(Ua.ba, s.id, s)
                            }
                        } else o.fire(Pa.Qu)
                    }
                }
                window.addEventListener("unload", function() {
                    n = !0
                }, !1), o.on(J.ERROR, i), o.on("test-error", i)
            }(), o.on(Pa.Yu, function(n) {
                var i = !!n && (!bt.iOS || bt.iOS >= 10);
                t.config.embed.loop = i, u.loop = i
            }), o.fire(Pa.Yu, t.config.embed.loop), o.on(Ua.Na, function() {
                v || (c = !u.paused, h = !0, u.pause())
            }), o.on(Ua.Ua, function(t) {
                h = !1, l ? t || M() : o.fire(Ua.Da)
            }), o.on(Pa.Hu, function(n, i) {
                if (!v) {
                    i || (i = (u.duration || t.config.video.duration) * pa(n, 0, 1));
                    var e = u.duration ? i / u.duration : 0;
                    o.fire(Pa.da, i, e)
                }
            }), o.on(Pa.da, function(t) {
                x(t)
            }),
            function() {
                o.on(Pa.Wu, function(n, i, e) {
                    e && (n += u.volume), n = pa(n, 0, 1), t.displayContext !== u && (t.displayContext.volume = n), u.volume = n, u.muted = 0 === n, t.events.fire(Ua._a, n, i)
                }), o.on(J.VOLUME_CHANGE, function() {
                    return o.fire(Ua._a, u.volume, !0)
                });
                var n = t.config.embed.muted ? 0 : t.config.request.cookie.volume;
                o.fire(Pa.Wu, n, !0)
            }(), o.on(Pa.Ku, function(t, i) {
                (u.video.currentFile.mime === ja.dash || n.get(fc)) && (i = !0), u.quality = t, o.fire(Ua.Ta, t, i)
            }),
            function() {
                var t = u.playbackRate;
                o.on(J.RATE_CHANGE, function(n) {
                    u.playbackRate !== t && (o.fire(Ua.Oa, u.playbackRate, t), t = u.playbackRate)
                }), o.on(Pa.va, function(t) {
                    u.playbackRate = t
                }), o.on(Ua._loadVideo, function() {
                    try {
                        u.playbackRate = 1
                    } catch (t) {}
                })
            }(),
            function() {
                function t() {
                    v = !0, l && !b && (c = c || !u.paused, u.pause(), o.fire(Ua.oe, u.currentTime))
                }

                function n() {
                    v = !1, c && !b && (p || m || !a || o.fire(Pa.na), M())
                }
                o.on(Ua.ls, t), o.on(Ua.hs, n), o.on(Ua.Wa, function(i, e) {
                    e.isCentered() && (e.isVisible() ? t() : n())
                })
            }(), o.on(Ua.Es, function(t) {
                l && !b && (c = !u.paused, u.pause())
            }), o.on(Ua.Ts, function(t) {
                b || M()
            }), o.on(Ua.ts, function(n, i) {
                u.element.classList.remove("hide-webkit-controls"), n && (m = !0), n || (l || bt.browser.safari || (u.poster = t.preview.getThumbnail()), p = !0, setTimeout(function() {
                    u.textTracks.forEach(function(t) {
                        "hidden" === t.mode && (t.mode = "showing")
                    })
                }, 500)), i || !bt.windowsPhone || bt.browser.edge || o.fire(Pa.ra, !0)
            }), o.on(Ua.es, function(t) {
                u.poster = "", t || u.pause(), l || u.element.classList.add("invisible"), p = !1, m = !1, s && u.element.classList.add("hide-webkit-controls"), u.textTracks.forEach(function(t) {
                    "showing" === t.mode && (t.mode = "hidden")
                })
            }), o.on(Ki, function() {
                u.poster = ""
            }), o.on(Pa.ra, function(t) {
                if (t) return u.controls = !0, void i.classList.add("native-controls");
                u.controls = !1, i.classList.remove("native-controls")
            }), o.on(Ua.Xs, function() {
                C()
            }), o.on(Ua.qs, function() {
                C(), L()
            }), o.on(Pa.Gu, function() {
                u.unload(), o.fire(Ua.oe, u.currentTime), t.preview.show(), u.element.classList.add("invisible"), l = !1, c = !1, d = null
            }),
            function() {
                var n;
                o.on(Pa.ia, function(i) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                    n = e;
                    try {
                        t.config.request.flags.ott && u.videoElement && u.videoElement.setAttribute("crossorigin", "anonymous"), u.enableTextTrack(i)
                    } catch (t) {}
                }).on(Pa.ea, function() {
                    var i = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                    n = i, t.config.request.flags.ott && u.videoElement && u.videoElement.removeAttribute("crossorigin"), u.disableTextTrack()
                }), o.on(Zi, function(t, i) {
                    o.fire(Ua.qa, t, n || i)
                })
            }(), o.on(Z.AVAILABLE, function(n) {
                var i = n.type;
                if (!t.config.request.drm) switch (i) {
                    case "AirPlay":
                        o.fire(Ua.Mc)
                }
            }), o.on(Z.UNAVAILABLE, function(n) {
                var i = n.type;
                if (!t.config.request.drm) switch (i) {
                    case "AirPlay":
                        o.fire(Ua.Oc)
                }
            }), o.on(Z.ACTIVATED, function(t) {
                var n = t.type;
                switch (b = !0, n) {
                    case "AirPlay":
                        o.fire(Ua.Rc)
                }
            }), o.on(Z.DEACTIVATED, function(t) {
                var n = t.type;
                switch (b = !1, n) {
                    case "AirPlay":
                        o.fire(Ua.Cc)
                }
            }), o.on(Ua.Ic, function() {
                u.showExternalDisplayPicker("AirPlay")
            }), o.on(Pa.sa, function() {
                u.supportsPresentationMode("picture-in-picture") && (u.presentationMode = "picture-in-picture")
            }), o.on(Pa.ca, function() {
                u.supportsPresentationMode("picture-in-picture") && (u.presentationMode = "inline")
            }), C(), bt.spatialPlayback ? (o.fire(Pa.fa), o.on([J.PLAY, J.SEEKED], function() {
                o.fire(Pa.ha)
            }), o.on(it.SPATIAL_UNSUPPORTED, function() {
                l ? o.fire(Ca.Bu, v) : o.once(Ua.Ma, function() {
                    o.fire(Ca.Bu, v)
                })
            })) : o.once(Ua.Ma, function() {
                t.config.video.spatial && o.fire(Ca.Vu, v)
            }), window.addEventListener("beforeunload", function() {
                var n = t.config.request.drm;
                n && I(n.hoover_url, n.user, n.asset, n.hoover_token)
            }, !1), o.on(Ua._loadVideo, function() {
                var n = t.config.request && t.config.request.drm;
                n && I(n.hoover_url, n.user, n.asset, n.hoover_token)
            }), t.events.on(Pa.pa, function() {
                u.livePoller && u.livePoller.disable()
            }), t.ready().then(function() {
                return setTimeout(function() {
                    return L()
                }, 0), t.config.embed.time > 0 && o.fire(Pa.da, t.config.embed.time, t.config.embed.time / u.duration), null
            }).catch(function(t) {}), o.fire(Ua.Ec)
    }
    var yc = n(function(t) {
            ! function() {
                var n, i = 0,
                    e = 0,
                    r = {},
                    o = {};

                function u(t, e, r) {
                    return "_root" == e ? r : t !== r ? function(t) {
                        return n || (n = t.matches ? t.matches : t.webkitMatchesSelector ? t.webkitMatchesSelector : t.mozMatchesSelector ? t.mozMatchesSelector : t.msMatchesSelector ? t.msMatchesSelector : t.oMatchesSelector ? t.oMatchesSelector : f.matchesSelector)
                    }(t).call(t, e) ? t : t.parentNode ? (i++, u(t.parentNode, e, r)) : void 0 : void 0
                }

                function a(t, n, i, e) {
                    r[t.id] || (r[t.id] = {}), r[t.id][n] || (r[t.id][n] = {}), r[t.id][n][i] || (r[t.id][n][i] = []), r[t.id][n][i].push(e)
                }

                function s(t, n, i, e) {
                    if (r[t.id])
                        if (n)
                            if (e || i)
                                if (e) {
                                    if (r[t.id][n][i])
                                        for (var o = 0; o < r[t.id][n][i].length; o++)
                                            if (r[t.id][n][i][o] === e) {
                                                r[t.id][n][i].splice(o, 1);
                                                break
                                            }
                                } else delete r[t.id][n][i];
                    else r[t.id][n] = {};
                    else
                        for (var u in r[t.id]) r[t.id].hasOwnProperty(u) && (r[t.id][u] = {})
                }

                function c(t, n, e, c) {
                    if (this.element) {
                        t instanceof Array || (t = [t]), e || "function" != typeof n || (e = n, n = "_root");
                        var l, h = this.id;
                        for (l = 0; l < t.length; l++) c ? s(this, t[l], n, e) : (r[h] && r[h][t[l]] || f.addEvent(this, t[l], d(t[l])), a(this, t[l], n, e));
                        return this
                    }

                    function d(t) {
                        return function(n) {
                            ! function(t, n, e) {
                                if (r[t][e]) {
                                    var a, s, c = n.target || n.srcElement,
                                        l = {},
                                        h = 0,
                                        d = 0;
                                    for (a in i = 0, r[t][e]) r[t][e].hasOwnProperty(a) && (s = u(c, a, o[t].element)) && f.matchesEvent(e, o[t].element, s, "_root" == a, n) && (i++, r[t][e][a].match = s, l[i] = r[t][e][a]);
                                    for (n.stopPropagation = function() {
                                            n.cancelBubble = !0
                                        }, h = 0; h <= i; h++)
                                        if (l[h])
                                            for (d = 0; d < l[h].length; d++) {
                                                if (!1 === l[h][d].call(l[h].match, n)) return void f.cancel(n);
                                                if (n.cancelBubble) return
                                            }
                                }
                            }(h, n, t)
                        }
                    }
                }

                function f(t, n) {
                    if (!(this instanceof f)) {
                        for (var i in o)
                            if (o[i].element === t) return o[i];
                        return o[++e] = new f(t, e), o[e]
                    }
                    this.element = t, this.id = n
                }
                f.prototype.on = function(t, n, i) {
                    return c.call(this, t, n, i)
                }, f.prototype.off = function(t, n, i) {
                    return c.call(this, t, n, i, !0)
                }, f.matchesSelector = function() {}, f.cancel = function(t) {
                    t.preventDefault(), t.stopPropagation()
                }, f.addEvent = function(t, n, i) {
                    var e = "blur" == n || "focus" == n;
                    t.element.addEventListener(n, i, e)
                }, f.matchesEvent = function() {
                    return !0
                }, t.exports && (t.exports = f), window.Gator = f
            }()
        }),
        gc = yc.addEvent,
        Ec = void 0 === window.PointerEvent && void 0 !== window.MSPointerEvent,
        kc = {
            pointerdown: "MSPointerDown",
            pointerup: "MSPointerUp",
            pointercancel: "MSPointerCancel",
            pointermove: "MSPointerMove",
            pointerenter: "MSPointerEnter",
            pointerleave: "MSPointerLeave",
            pointerover: "MSPointerOver",
            pointerout: "MSPointerOut"
        },
        _c = "onmspointerenter" in document,
        Tc = "onmspointerleave" in document;

    function Sc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0,
            i = n.type,
            e = n.payload;
        switch (i) {
            case rc:
                return B({}, t, e.video.liveEvent);
            case Js:
                return B({}, t, e);
            case Zs:
                return B({}, t, {
                    ingest: B({}, t.ingest, {
                        startTime: e
                    })
                });
            default:
                return t
        }
    }
    yc.addEvent = function(t, n, i) {
        Ec && kc[n] && (n = kc[n]), "transitionend" === n && (gc(t, "webkitTransitionEnd", i), gc(t, "otransitionend", i)), "mouseenter" === n && (n = "mouseover"), "mouseleave" === n && (n = "mouseout"), "MSPointerEnter" !== n || _c || (n = "MSPointerOver"), "MSPointerLeave" !== n || Tc || (n = "MSPointerOut"), gc(t, n, i)
    }, yc.matchesEvent = function(t, n, i, e, r) {
        return !("mouseenter" === t || "mouseleave" === t || !_c && "MSPointerEnter" === t || !Tc && "MSPointerLeave" === t) || function(t, n, i, e) {
            return !e.relatedTarget || (!i || t === n) && n !== e.relatedTarget && !n.contains(e.relatedTarget)
        }(n, i, e, r)
    };
    var Ac = function(t) {
            return ac(t) && t.liveEvent.ingest ? t.liveEvent.ingest.scheduledStartTime : null
        },
        xc = function(t) {
            return ac(t) && t.liveEvent.ingest && t.liveEvent.ingest.startTime ? t.liveEvent.ingest.startTime : null
        },
        Mc = Object.freeze({
            default: Sc,
            dashLiveUrl: function(t) {
                return ac(t) && t.liveEvent.playback ? t.liveEvent.playback.dash_noredirect : null
            },
            hlsLiveUrl: function(t) {
                return ac(t) && t.liveEvent.playback ? t.liveEvent.playback.hls : null
            },
            scheduledLiveStartTime: Ac,
            liveStartTime: xc
        });

    function Oc(t, n) {
        var i, e, r, o, u, a, s = 30,
            c = 0,
            f = 1e3,
            l = {},
            h = new es;

        function d() {
            return Date.now ? Date.now() : (new Date).getTime()
        }

        function v() {
            var n = t.backbone.getEffectByName("ThreeSixtyEffect");
            return bt.spatialPlayback && n ? n.isStereo() ? 2 : 1 : 0
        }

        function p() {
            i = !1, e = t.backbone ? t.backbone.currentTime : 0, r = 0, o = 0, u = 0, a = !1
        }

        function m(n, i, e, r) {
            t.verifyConfig().then(function() {
                var o = i;
                o.signature = t.config.request.signature, o.session = t.config.request.session, o.time = t.config.request.timestamp, o.expires = t.config.request.expires;
                var u = JSON.stringify(o),
                    a = "https://".concat(t.config.player_url).concat(n);
                return null === o.sessionTime && (ms.captureBreadcrumb("sessionTime is null breadcrumbs", {
                    endpoint: n,
                    allParams: o
                }), ms.captureException("sessionTime is null when making stats request")), h.logRequestPromiseWithUrl(a, u, !e).then(function(o) {
                    if (200 !== o.status && r < 2) {
                        if (410 === o.status) return void t.events.once(Ua.Xs, function() {
                            m(n, i, e, r + 1)
                        });
                        setTimeout(function() {
                            m(n, i, e, r + 1)
                        }, 1e3)
                    }
                }).catch(function(t) {
                    throw t
                })
            }).catch(function(t) {})
        }

        function b(i, e, o) {
            var u = t.backbone.currentFile || {},
                a = u.id,
                s = void 0 === a ? 0 : a,
                c = u.mime,
                f = void 0 === c ? ja.h264 : c,
                h = u.metadata,
                d = (h = void 0 === h ? {} : h).profile,
                p = void 0 === d ? -1 : d;
            if (f === ja.dash) {
                var b = l,
                    w = b.id;
                s = void 0 === w ? 0 : w;
                var y = b.profile;
                p = void 0 === y ? -1 : y
            }
            t.performDelegateAction(Na.playLog, function(a) {
                var c = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    l = function(n) {
                        m(i, B({
                            referrer: t.config.request.referrer,
                            embed: !t.config.embed.on_site,
                            context: t.config.embed.context,
                            autoplay: c.continuous ? 2 : t.config.embed.autoplay,
                            loop: t.config.embed.loop ? 1 : 0,
                            id: t.config.video.id,
                            vodId: t.config.video.vod && t.config.video.vod.id ? t.config.video.vod.id : null,
                            vodSaleId: t.config.video.vod && t.config.video.vod.sale_id ? t.config.video.vod.sale_id : null,
                            sessionTime: ga(r),
                            videoShape: t.config.video.spatial ? "mono" !== t.config.video.spatial.stereo_mode ? 2 : 1 : 0,
                            spatialPlayback: v(),
                            userId: t.config.user.id,
                            userAccountType: t.config.user.account_type,
                            userIsMod: t.config.user.mod ? 1 : 0,
                            teamOriginUserId: t.config.user.team_origin_user_id ? t.config.user.team_origin_user_id : null,
                            teamId: t.config.user.team_id ? t.config.user.team_id : null,
                            ownerId: t.config.video.owner.id,
                            ownerAccountType: t.config.video.owner.account_type,
                            privacy: t.config.video.privacy,
                            rating: t.config.video.rating ? t.config.video.rating.id : null,
                            type: "html",
                            videoFileId: Number.isInteger(Number(s)) ? s : 0,
                            delivery: Ha[f],
                            profileId: p,
                            quality: u.metadata ? u.metadata.quality : null,
                            duration: ga(t.config.video.duration),
                            seconds: ga(e)
                        }, n, {
                            playbackRate: t.backbone.playbackRate
                        }), o)
                    },
                    h = n.get(hc) ? 1 : 0,
                    d = n.get(xc),
                    b = {
                        isLive: h
                    };
                if (h) {
                    if (!d) return void Sn("https://".concat(t.config.vimeo_url, "/live_event/status?clip_id=").concat(t.config.video.id)).json().then(function(t) {
                        return t && t.ingest && (n.dispatch(nc(t.ingest.start_time)), d = n.get(xc)), d && (b.liveStartTime = d), l(b), t
                    }).catch(function(t) {});
                    b.liveStartTime = d
                }
                l(b)
            })
        }

        function w() {
            var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                r = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
            if (t.playLoggingEnabled) {
                var u = d();
                r && o + f > u || (o = u, r && !t.config.request.flags.partials || i || b("/log/partial", n, e))
            }
        }

        function y(n, i) {
            i = i || {};
            var e = {
                referrer: t.config.request.referrer,
                embed: !t.config.embed.on_site,
                context: t.config.embed.context,
                id: t.config.video.id,
                vodId: t.config.video.vod && t.config.video.vod.id ? t.config.video.vod.id : null,
                vodSaleId: t.config.video.vod && t.config.video.vod.sale_id ? t.config.video.vod.sale_id : null,
                userId: t.config.user.id,
                userAccountType: t.config.user.account_type,
                ownerId: t.config.video.owner ? t.config.video.owner.id : 0,
                duration: ga(t.config.video.duration),
                seconds: ga(t.backbone.currentTime),
                playbackRate: t.backbone.playbackRate
            };
            for (var r in i) i.hasOwnProperty(r) && (e[r] = i[r]);
            m("/log/" + n, e)
        }
        return p(),
            function() {
                t.events.on(J.TIME_UPDATE, function(t) {
                    var n = t.currentTime,
                        o = (t.duration, t.timeProgress, t.playbackRate),
                        a = Math.floor(n);
                    !i && u + f < d() && (n > e && (r += (n - e) / o), e = n), a % s == 0 && w(n)
                }), t.events.on(Ua.Oa, function(n, i) {
                    y("playback_rate_change", {
                        oldPlaybackRate: i
                    }), w(t.backbone.currentTime)
                }), t.events.on(Ki, function() {
                    !a && t.playLoggingEnabled && (a = !0, b("/log/play", 0))
                }), t.events.on(Ua.oe, function(n) {
                    t.backbone.ended || w(n)
                }), t.events.on(J.SEEKED, function(t) {
                    var n = t.currentTime;
                    c = n, i || w(c)
                }), t.events.on(Ua.Na, function() {
                    u = d(), i = !0
                }), t.events.on(Ua.Ua, function() {
                    e = t.backbone.currentTime, i = !1, w(c)
                }), t.events.on(Ua.ja, function() {
                    w(t.backbone.currentTime)
                }), t.events.on(Ua.ka, function() {
                    r += t.config.video.duration - e, w(t.config.video.duration, !1, !1)
                }), t.events.on(tt.STREAM_CHANGE, function(t) {
                    l = t
                });
                var n = [],
                    o = !1,
                    h = 1e3;

                function v() {
                    n.length && t.performDelegateAction(Na.playLog, function(i) {
                        m("/log/spatial", {
                            embed: !t.config.embed.on_site,
                            id: t.config.video.id,
                            context: t.config.embed.context,
                            ownerId: t.config.video.owner ? t.config.video.owner.id : 0,
                            referrer: t.config.request.referrer,
                            vodId: t.config.video.vod && t.config.video.vod.id ? t.config.video.vod.id : null,
                            vodSaleId: t.config.video.vod && t.config.video.vod.sale_id ? t.config.video.vod.sale_id : null,
                            motionLog: JSON.stringify(n)
                        }, !1)
                    })
                }
                t.events.on(it.MOTION_START, function() {
                    o = !0,
                        function i() {
                            var e = t.backbone.getEffectByName("ThreeSixtyEffect").currentCoordinates,
                                u = Math.round(100 * e.lat) / 100,
                                a = Math.round(100 * e.long) / 100,
                                s = {
                                    sessionTime: r,
                                    videoTime: t.backbone.currentTime,
                                    coordinates: {
                                        lat: u,
                                        lon: a
                                    }
                                };
                            n.push(s), setTimeout(function() {
                                o && i()
                            }, h)
                        }()
                }), t.events.on(it.MOTION_END, function() {
                    o = !1, v()
                }), t.events.on(Ua._loadVideo, function() {
                    v(), n = []
                }), window.addEventListener("unload", function() {
                    t.backbone && t.backbone.currentTime > 0 && (w(t.backbone.currentTime, !0, !1), v())
                }, !1)
            }(), [{
                type: "share_press",
                event: Ua.us
            }, {
                type: "facebook_press",
                event: Ua.ps
            }, {
                type: "twitter_press",
                event: Ua.ms
            }, {
                type: "tumblr_press",
                event: Ua.bs
            }, {
                type: "email_press",
                event: Ua.ws
            }, {
                type: "embed_press",
                event: Ua.as
            }, {
                type: "login_success",
                event: Ua.Vs
            }, {
                type: "airplay",
                event: Ua.Rc
            }, {
                type: "vod_press",
                event: Ua.ss
            }, {
                type: "collection_press",
                event: Ua.cs
            }, {
                type: "email_capture_submitted",
                event: Ua._s
            }].forEach(function(n) {
                t.events.on(n.event, function(t) {
                    return function() {
                        y(t)
                    }
                }(n.type))
            }), t.events.on(Ua.Qs, function(n) {
                var i = {
                    outroType: t.config.embed.outro,
                    ownerAccountType: t.config.video.owner.account_type,
                    playerWidth: t.element.clientWidth,
                    playerHeight: t.element.clientHeight
                };
                n && n.length && (i.outroVideos = n.join(",")), y("outro_displayed", i)
            }).on(Ua.nc, function(n) {
                y("outro_video_press", {
                    ownerAccountType: t.config.video.owner.account_type,
                    videoId: n
                })
            }).on(Ua.fs, function() {
                y("outro_follow_press", {
                    add: !t.config.user.following
                })
            }).on(Ua.hc, function(n) {
                y("outro_cta_press", {
                    ownerAccountType: t.config.video.owner.account_type,
                    link: n
                })
            }).on(Ua.ac, function(n) {
                y("outro_link_press", {
                    ownerAccountType: t.config.video.owner.account_type,
                    link: n
                })
            }).on(Ua.lc, function(n) {
                y("outro_image_press", {
                    ownerAccountType: t.config.video.owner.account_type,
                    link: n
                })
            }).on(Ua.rs, function() {
                y("like_press", {
                    add: !t.config.user.liked
                })
            }).on(Ua.os, function() {
                y("watch_later_press", {
                    add: !t.config.user.watch_later
                })
            }).on(Ua.Es, function(t) {
                0 === t.indexOf("login-") && y("login_attempt")
            }).on(Ua.qa, function(t, n) {
                n || (t ? y("text_track_change", {
                    textTrackLanguage: t.language,
                    textTrackKind: t.kind
                }) : y("text_track_change"))
            }).on(Ua.Ja, function(t) {
                1 !== t && 12 !== t || y("badge_press", {
                    badgeId: t
                })
            }).on(Ua.ls, function(t) {
                "email-capture" === t && y("email_capture_displayed")
            }).on(Ua.hs, function(t) {
                "email-capture" === t && y("email_capture_dismissed")
            }).on(Ua.vc, function(n) {
                y("card_press", {
                    ownerAccountType: t.config.video.owner.account_type,
                    cardId: n,
                    cardType: "link"
                })
            }).on(Ua.dc, function(n, i) {
                t.config.embed.editor || y("card_displayed", {
                    ownerAccountType: t.config.video.owner.account_type,
                    cardId: n,
                    cardType: i.url ? "link" : "text"
                })
            }), t.events.on(Ua.qs, function(t) {
                t && p()
            }), t.events.fire(Ua.Tc), {}
    }

    function Rc() {
        return function(t) {
            return function() {
                var n = t.apply(void 0, arguments),
                    i = ca();

                function e(t, i) {
                    return (t = [].concat(t)).map(function(t) {
                        return i(n.createGetter(t))
                    })
                }
                return B({}, n, {
                    watch: function(t, r) {
                        return e(t, function(t) {
                            var e = i.get({
                                selector: t,
                                listener: r
                            });
                            if (!e) {
                                var o = function(t, i) {
                                    var e = t(n.getState());
                                    return n.subscribe(function() {
                                        var r = t(n.getState());
                                        if (e !== r) {
                                            var o = e;
                                            i(e = r, o, n.getState())
                                        }
                                    })
                                }(t, r);
                                e = i.insert({
                                    selector: t,
                                    listener: r,
                                    unsubscribe: o
                                })
                            }
                            return e.unsubscribe
                        })
                    },
                    unwatch: function(t, n) {
                        return e(t, function(t) {
                            var e = i.get({
                                selector: t,
                                listener: n
                            });
                            return e && e.unsubscribe()
                        })
                    }
                })
            }
        }
    }
    var Cc = {
        settings: {}
    };

    function Ic() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : Cc,
            n = arguments.length > 1 ? arguments[1] : void 0,
            i = n.type,
            e = n.payload;
        switch (i) {
            case rc:
                return B({}, t, e.embed);
            default:
                return t
        }
    }
    var Lc = Object.freeze({
        default: Ic,
        transparent: function(t) {
            return t.embed.transparent
        }
    });

    function Dc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0,
            i = n.type,
            e = n.payload;
        switch (i) {
            case rc:
                return B({}, t, e.video);
            default:
                return t
        }
    }
    var jc = function(t) {
            return t.video.height / t.video.width
        },
        Pc = Object.freeze({
            default: Dc,
            ratio: jc
        }),
        Nc = "CONTAINER_RESIZE",
        Uc = function(t, n) {
            return {
                type: Nc,
                payload: {
                    width: t,
                    height: n
                }
            }
        };

    function Fc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0;
        switch (n.type) {
            case Nc:
                return B({}, t, {
                    width: n.payload.width,
                    height: n.payload.height
                });
            default:
                return t
        }
    }
    var Vc = function(t) {
            return t.ui.container.width
        },
        Bc = function(t) {
            return t.ui.container.height
        },
        Hc = Object.freeze({
            default: Fc,
            width: Vc,
            height: Bc
        });

    function Wc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0;
        switch (n.type) {
            case Cs:
                return B({}, t, {
                    width: n.payload.width,
                    height: n.payload.height
                });
            default:
                return t
        }
    }
    var qc = Object.freeze({
            default: Wc,
            scaleFactor: function(t) {
                return va({
                    width: t.ui.preview.width,
                    height: t.ui.preview.height,
                    elementWidth: Rf(t),
                    elementHeight: Cf(t)
                }).scaleFactor
            }
        }),
        zc = "CARDS_SET_SIZE",
        Gc = function(t) {
            return {
                type: zc,
                payload: t
            }
        };

    function Yc() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0;
        switch (n.type) {
            case zc:
                return B({}, t, {
                    size: n.payload
                });
            default:
                return t
        }
    }
    var Kc = function(t) {
            return t.ui.cards.size > 0 && t.ui.container.width >= 200 && t.ui.container.width < 415
        },
        $c = function(t) {
            return Kc(t) ? 60 : 0
        },
        Xc = Object.freeze({
            default: Yc,
            isCarouselVisible: Kc,
            isCardsThumbVisible: function(t) {
                return t.ui.cards.size > 0 && t.ui.container.width >= 300
            },
            getCarouselHeight: $c
        });

    function Jc(t, n) {
        return t === n
    }

    function Zc(t) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Jc,
            i = null,
            e = null;
        return function() {
            return function(t, n, i) {
                if (null === n || null === i || n.length !== i.length) return !1;
                for (var e = n.length, r = 0; r < e; r++)
                    if (!t(n[r], i[r])) return !1;
                return !0
            }(n, i, arguments) || (e = t.apply(null, arguments)), i = arguments, e
        }
    }
    var Qc = function(t) {
            for (var n = arguments.length, i = Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++) i[e - 1] = arguments[e];
            return function() {
                for (var n = arguments.length, e = Array(n), r = 0; r < n; r++) e[r] = arguments[r];
                var o = 0,
                    u = e.pop(),
                    a = function(t) {
                        var n = Array.isArray(t[0]) ? t[0] : t;
                        if (!n.every(function(t) {
                                return "function" == typeof t
                            })) {
                            var i = n.map(function(t) {
                                return typeof t
                            }).join(", ");
                            throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: [" + i + "]")
                        }
                        return n
                    }(e),
                    s = t.apply(void 0, [function() {
                        return o++, u.apply(null, arguments)
                    }].concat(i)),
                    c = Zc(function() {
                        for (var t = [], n = a.length, i = 0; i < n; i++) t.push(a[i].apply(null, arguments));
                        return s.apply(null, t)
                    });
                return c.resultFunc = u, c.recomputations = function() {
                    return o
                }, c.resetRecomputations = function() {
                    return o = 0
                }, c
            }
        }(Zc),
        tf = function(t) {
            return $c(t)
        },
        nf = function(t) {
            return Math.min((Bc(t) - tf(t)) / jc(t), Vc(t))
        },
        ef = function(t) {
            return Math.min(Vc(t) * jc(t) + tf(t), Bc(t))
        },
        rf = function(t) {
            return va({
                width: nf(t),
                height: ef(t),
                elementWidth: Vc(t),
                elementHeight: Bc(t)
            }).scaleFactor
        },
        of = function(t) {
            return rf(t) > 1
        },
        uf = function(t) {
            return t.embed.transparent && ! of (t) ? nf(t) : Vc(t)
        },
        af = function(t) {
            return t.embed.transparent && ! of (t) ? ef(t) : Bc(t)
        },
        sf = function(t) {
            return t.embed.transparent && ! of (t) ? "contain" : "100% 100%"
        },
        cf = Qc(uf, af, function(t, n) {
            return {
                width: t,
                height: n
            }
        }),
        ff = Qc(jc, sf, tf, function(t, n, i) {
            return {
                ratio: t,
                size: n,
                bottom: i
            }
        }),
        lf = Object.freeze({
            bottom: tf,
            scaleFactor: rf,
            width: uf,
            height: af,
            size: sf,
            boundingRect: cf,
            settings: ff
        }),
        hf = $o(Object.keys, Object),
        df = Object.prototype.hasOwnProperty;
    var vf = jr(ir, "DataView"),
        pf = jr(ir, "Promise"),
        mf = jr(ir, "Set"),
        bf = jr(ir, "WeakMap"),
        wf = xr(vf),
        yf = xr(Gr),
        gf = xr(pf),
        Ef = xr(mf),
        kf = xr(bf),
        _f = hr;
    (vf && "[object DataView]" != _f(new vf(new ArrayBuffer(1))) || Gr && "[object Map]" != _f(new Gr) || pf && "[object Promise]" != _f(pf.resolve()) || mf && "[object Set]" != _f(new mf) || bf && "[object WeakMap]" != _f(new bf)) && (_f = function(t) {
        var n = hr(t),
            i = "[object Object]" == n ? t.constructor : void 0,
            e = i ? xr(i) : "";
        if (e) switch (e) {
            case wf:
                return "[object DataView]";
            case yf:
                return "[object Map]";
            case gf:
                return "[object Promise]";
            case Ef:
                return "[object Set]";
            case kf:
                return "[object WeakMap]"
        }
        return n
    });
    var Tf = _f,
        Sf = "[object Map]",
        Af = "[object Set]",
        xf = Object.prototype.hasOwnProperty;

    function Mf(t) {
        if (null == t) return !0;
        if (au(t) && (Qe(t) || "string" == typeof t || "function" == typeof t.splice || lu(t) || Su(t) || ru(t))) return !t.length;
        var n = Tf(t);
        if (n == Sf || n == Af) return !t.size;
        if (Zo(t)) return ! function(t) {
            if (!Zo(t)) return hf(t);
            var n = [];
            for (var i in Object(t)) df.call(t, i) && "constructor" != i && n.push(i);
            return n
        }(t).length;
        for (var i in t)
            if (xf.call(t, i)) return !1;
        return !0
    }
    var Of = {
            xxs: 0,
            xs: 390,
            sm: 600,
            md: 960,
            lg: 1280,
            xl: 1600,
            xxl: 1920
        },
        Rf = function(t) {
            return uf(t)
        },
        Cf = function(t) {
            return af(t) - tf(t)
        },
        If = Qc(Rf, Cf, function(t, n) {
            return {
                width: t,
                height: n
            }
        }),
        Lf = function(t) {
            return Cf(t) > Rf(t)
        },
        Df = function(t) {
            var n = Rf(t),
                i = Cf(t);
            if (Lf(t)) return n < 225;
            var e = Mf(t.embed.settings.customLogo) && n < 300 || i < 169,
                r = !Mf(t.embed.settings.customLogo) && (n < 338 || i < 190);
            return e || r
        },
        jf = function(t) {
            var n = Rf(t);
            if (Lf(t)) return n < 300;
            var i = Mf(t.embed.settings.customLogo) && n <= 375,
                e = !Mf(t.embed.settings.customLogo) && n <= 450;
            return i || e
        },
        Pf = function(t) {
            var n = Rf(t);
            return n >= Of.xxs && n < Of.xs
        },
        Nf = function(t) {
            var n = Rf(t);
            return n >= Of.xs && n < Of.sm
        },
        Uf = function(t) {
            var n = Rf(t);
            return n >= Of.sm && n < Of.md
        },
        Ff = function(t) {
            var n = Rf(t);
            return n >= Of.md && n < Of.lg
        },
        Vf = function(t) {
            var n = Rf(t);
            return n >= Of.lg && n < Of.xl
        },
        Bf = function(t) {
            var n = Rf(t);
            return n >= Of.xl && n < Of.xxl
        },
        Hf = function(t) {
            return Rf(t) >= Of.xxl
        },
        Wf = Object.freeze({
            breakpoints: Of,
            width: Rf,
            height: Cf,
            boundingRect: If,
            isTinyMode: Df,
            isMiniMode: jf,
            mode: function(t) {
                return Df(t) ? "tiny" : jf(t) ? "mini" : "normal"
            },
            xxs: Pf,
            xs: Nf,
            sm: Uf,
            md: Ff,
            lg: Vf,
            xl: Bf,
            xxl: Hf,
            breakpoint: function(t) {
                var n = {
                    xxs: Pf,
                    xs: Nf,
                    sm: Uf,
                    md: Ff,
                    lg: Vf,
                    xl: Bf,
                    xxl: Hf
                };
                return Object.keys(Of).find(function(i) {
                    return n[i](t)
                })
            }
        }),
        qf = Object.freeze({
            scaleFactor: function(t) {
                return va({
                    width: t.video.width,
                    height: t.video.height,
                    elementWidth: Rf(t),
                    elementHeight: Cf(t)
                }).scaleFactor
            }
        }),
        zf = Object.freeze({
            size: function(t) {
                return Math.max(10, Math.round(.045 * Cf(t)))
            }
        }),
        Gf = Object.freeze({
            isLinkTitleVisible: function(t) {
                var n = t.ui;
                return n.container.width >= 360 && n.container.height >= 203 || n.container.width >= 415
            },
            isLinkDescriptionVisible: function(t) {
                var n = t.ui;
                return n.container.width >= 360 && n.container.height >= 340 || n.container.width >= 415 && n.container.height >= 234
            }
        }),
        Yf = Object.freeze({
            isEmailCaptureVisible: function(t) {
                var n = t.ui;
                return n.container.width >= 300 && n.container.height >= 169
            }
        }),
        Kf = Object.freeze({
            isPrefsMenuCentered: function(t) {
                return bt.touch && Rf(t) < 415
            }
        });

    function $f() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0;
        return {
            container: Fc(t.container, n),
            preview: Wc(t.preview, n),
            cards: Yc(t.cards, n),
            liveEvent: uc(t.liveEvent, n)
        }
    }
    var Xf = Object.freeze({
        default: $f,
        container: Hc,
        layout: lf,
        player: Wf,
        preview: qc,
        video: qf,
        liveEvent: vc,
        cards: Xc,
        outro: Gf,
        overlay: Yf,
        controlbar: Kf,
        captions: zf
    });

    function Jf() {
        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
            n = arguments.length > 1 ? arguments[1] : void 0,
            i = B({}, function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    n = arguments.length > 1 ? arguments[1] : void 0;
                switch (n.type) {
                    case rc:
                        return B({}, t, n.payload);
                    default:
                        return t
                }
            }(t, n), {
                embed: Ic(t.embed, n),
                video: Dc(t.video, n),
                liveEvent: Sc(t.liveEvent, n)
            });
        return B({}, i, {
            ui: $f(t.ui, n, i)
        })
    }
    var Zf = Object.freeze({
        default: Jf,
        embed: Lc,
        video: Pc,
        liveEvent: Mc,
        ui: Xf
    });

    function Qf(t, n, i) {
        var e = !1,
            r = !1;

        function o(t) {
            i.style.fontSize = "".concat(t, "px")
        }

        function u() {
            i.classList.add("hidden"), i.setAttribute("hidden", "")
        }

        function a() {
            "picture-in-picture" !== t.backbone.presentationMode && (t.config.embed.settings.background || (i.classList.remove("hidden"), i.removeAttribute("hidden")))
        }
        return t.events.on(Ji, function(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
            if (function() {
                    for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; i.firstChild;) i.removeChild(i.firstChild);
                    if (t.length) {
                        var n = document.createDocumentFragment();
                        t.forEach(function(t) {
                            var i = document.createElement("span"),
                                e = t.html;
                            i.innerHTML = e, n.appendChild(i)
                        }), i.appendChild(n)
                    }
                }(n), n.length) return e ? void a() : void(r = !0);
            u()
        }).on(Ua.qa, function(t) {
            if (t) return i.setAttribute("lang", t.language), void i.setAttribute("dir", t.rtl ? "rtl" : "ltr");
            i.removeAttribute("dir"), i.removeAttribute("lang")
        }).on(Ki, function() {
            e = !0, r && (r = !1, a())
        }).on(ie, function() {
            u()
        }).on(ee, function() {
            a()
        }).on(Pa.Gu, function() {
            e = !1, u()
        }), n.watch("ui.captions.size", o), o(n.get("ui.captions.size")), t.events.on(Ua.Ba, function(t) {
            t ? i.classList.add("with-controls") : i.classList.remove("with-controls")
        }), t.events.on(Ua.ls, function() {
            i.classList.add("invisible")
        }).on(Ua.hs, function() {
            i.classList.remove("invisible")
        }), t.events.on(Ua.ka, function() {
            "nothing" !== t.config.embed.outro && i.classList.add("invisible")
        }).on([J.PLAY, Ua.Na], function() {
            i.classList.remove("invisible")
        }), {}
    }
    var tl = n(function(t) {
        ! function() {
            var n = {
                templates: {},
                render: function(t, i) {
                    return n.templates[t] ? n.templates[t].call(n, i || {}) : ""
                },
                map: {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#39;",
                    "/": "&#x2F;"
                },
                escape: function(t) {
                    return t.replace(/[&<>"'\/]/g, function(t) {
                        return n.map[t]
                    })
                },
                helpers: {}
            };
            n.templates.adcountdown = function(t) {
                return '<div class="vp-ads-tag hidden"><span class="vp-ads-countdown"></span></div>'
            }, n.templates.stream_studder = function(t) {
                var n = "<h3> ";
                return n += this.render("icon_warning") || "", n += ' <span>Having issues? <button type="button" class="vp-alert-button-link button-link" aria-label="Switch to auto" data-alert-autofocus data-close data-context="suggestion">Switch to Auto</button> for smoother streaming.</span></h3>'
            }, n.templates.warning_alert = function(t) {
                var n = "<h3> ";
                return n += this.render("icon_warning") || "", n += " <span>" + t.strings.text + "<span></h3>"
            }, n.templates.badge = function(t) {
                var n = "";
                return t.badge && (t.badge.link && (n += '<a href="' + t.badge.link + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ' aria-describedby="new-window">'), n += ' <img src="' + t.badge.img + '"', t.badge.margin && (n += ' style="margin:' + t.badge.margin + '"'), n += ' width="' + t.badge.width + '" height="' + t.badge.height + '" alt="' + t.badge.name + ' Badge"> ', t.badge.link && (n += "</a>"), n += ""), n += ""
            }, n.templates.buffer_pattern = function(t) {
                return '<pattern id="' + t.id + '" patternUnits="userSpaceOnUse" x="0" y="0" width="10" height="10" viewBox="0 0 10 10"><line x1="5" y1="-1" x2="-5" y2="10" stroke-width="2" stroke="#666" stroke-linecap="butt" /><line x1="10" y1="-1" x2="0" y2="10" stroke-width="2" stroke="#666" stroke-linecap="butt" /><line x1="15" y1="-1" x2="5" y2="10" stroke-width="2" stroke="#666" stroke-linecap="butt" /></pattern>'
            }, n.templates.card = function(t) {
                var n = '<div class="card';
                return t.className && (n += " " + t.className), t.teaser && (n += " card-hasDetail"), n += '"> ', t.url && (n += '<a class="card-link" href="' + t.url + '" target="_blank" rel="noopener" aria-describedby="new-window">'), n += ' <div class="card-inner"> ', t.image && (n += ' <div class="card-imageWrap js-cardImageWrap"><img class="card-image" src="' + t.image + '" alt=""></div> '), n += ' <div class="card-body"><h3 class="card-text card-text--title"><span>', n += this.escape(t.headline) || "", n += "</span> ", t.url && (n += this.render("icon_card_arrow") || ""), n += " </h3> ", t.teaser && (n += ' <p class="card-text card-text--detail"> ', n += this.escape(t.teaser) || "", n += " </p> "), n += " </div></div> ", t.url && (n += "</a>"), n += "</div>"
            }, n.templates.compass = function(t) {
                var n = '<svg viewBox="0 0 36 36"> ';
                return 1 == t.version ? n += ' <circle class="compass-background" r="18" cx="18" cy="18"></circle><path class="compass-slice" transform="rotate(-45, 18, 18)" d="M0,0 m18,18 l12,0 A12,12 0 0,0 18,6 z"/><circle fill="none" class="compass-ring" stoke-width="3" r="14.5" cx="18" cy="18"></circle><polygon class="compass-dimple" points="16,3.5 18,1 20,3.5"/> ' : n += ' <circle class="compass-background" r="18" cx="18" cy="18"></circle><path class="compass-slice" transform="rotate(-30, 18, 18)" d="M0,0 m18,18 l13,0 A13,13 0 0,0 11.500000000000004,6.741669750802297 z"/><circle class="compass-centercircle" r="3" cx="18" cy="18"></circle><path class="compass-line" stroke-linecap="round" d="M0,18 L36,18 z" /> ', n += "</svg>"
            }, n.templates.controlbar_trailer = function(t) {
                var n = '<button type="button" class="play trailer rounded-box"><div><span class="play-icon">';
                return n += this.render("icon_play") || "", n += "</span><p>" + t.text + "</p></div></button>", t.vimeoLogo.show && (n += ' <div class="logo"> ', t.vimeoLogo.showLink && (n += ' <a href="' + t.vimeoLogo.url + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ' aria-label="' + t.strings.watchOnVimeo + '" aria-describedby="new-window" data-clip-link> '), n += this.render("logo") || "", t.vimeoLogo.showLink && (n += " </a> "), n += " </div>"), n += "", t.customLogo && (n += ' <div class="custom-logo', t.customLogo.sticky && (n += " sticky"), n += '" style="width:' + t.customLogo.width + "px;height:" + t.customLogo.height + 'px"> ', t.customLogo.showLink && (n += '<a href="' + t.customLogo.url + '" target="_blank" rel="noopener" aria-describedby="new-window">'), n += ' <img src="' + t.customLogo.img + '" alt=""> ', t.customLogo.showLink && (n += "</a>"), n += " </div>"), n += ""
            }, n.templates.controlbar = function(t) {
                var n = '<button type="button" class="play rounded-box state-' + t.playState + '"><div class="tiny-bars"><svg width="100%" height="100%" viewBox="0 0 65 40" focusable="false"><defs><clipPath id="rounded-border"><rect height="100%" width="100%" x="0" y="0" rx="5"/></clipPath> ';
                return n += this.render("buffer_pattern", {
                    id: "tiny-buffer"
                }) || "", n += ' </defs><g clip-path="url(#rounded-border)"><rect class="buffer hidden" height="3" width="110%" x="0" y="37" fill="url(#tiny-buffer)"/><rect class="loaded" height="3" width="0" x="0" y="37" fill="#666"/><rect class="played fill" height="3" width="0" x="0" y="37"/></g></svg></div><div class="play-icon">' + t.playIcon + '</div><div class="pause-icon">' + t.pauseIcon + '</div><div class="replay-icon">' + t.replayIcon + '</div></button><div class="play-bar rounded-box" role="toolbar"> ', n += this.render("live_status") || "", n += this.render("live_viewer_count") || "", n += ' <div class="vp-progress"><div class="focus-target" role="slider" aria-label="Progress Bar" aria-valuemin="0" aria-valuemax="' + t.rawDuration + '" aria-valuenow="0" tabindex="0"></div><div class="loaded', t.rawDuration < 60 && (n += " short-video"), n += '"></div><div class="played"></div><div class="cuepoints"></div><div class="thumb-preview invisible hidden" role="presentation" aria-hidden="true"><div class="thumb"></div></div><div class="ghost-timecode invisible hidden" role="presentation" aria-hidden="true"><div class="box">00:00</div></div><div class="timecode" role="presentation" aria-hidden="true"><div class="box">' + t.duration + "</div></div></div> ", t.volume && (n += ' <div class="volume" role="slider" title="' + t.strings.volume + '" aria-valuemin="0" aria-valuemax="1" tabindex="0"><div></div><div></div><div></div><div></div><div></div></div> '), t.castButton && (n += ' <google-cast-launcher class="vp-cast-button" title="' + t.strings.chromecast + '" role="button" tabindex="0"></google-cast-launcher> '), t.ccButton && (n += ' <button type="button" class="toggle cc ' + (t.ccOn ? "on" : "off") + '" aria-haspopup="true"> ' + t.captionsIcon + " </button> "), t.prefsButton && (n += ' <button type="button" class="vp-prefs js-prefs" aria-haspopup="true"> ' + t.settingsIcon + " </button> "), t.airplayButton && (n += ' <button type="button" class="toggle airplay off hidden" title="' + t.strings.airPlay + '" data-title-off="' + t.strings.airPlay + '" data-title-on="' + t.strings.airPlayOff + '" hidden> ', n += this.render("icon_airplay") || "", n += " </button> "), t.stereoscopicButton && (n += ' <button type="button" class="toggle stereoscopic off" title="' + t.strings.stereoscopic + '" data-title-off="' + t.strings.stereoscopic + '" data-title-on="' + t.strings.stereoscopicOff + '"> ', n += this.render("icon_stereoscopic") || "", n += " </button> "), n += ' <button type="button" class="pip hidden enter" title="' + t.strings.pipEnter + '" data-title-enter="' + t.strings.pipEnter + '" data-title-return="' + t.strings.pipReturn + '" hidden> ', n += this.render("icon_pip") || "", n += ' </button><button type="button" class="fullscreen', t.fullscreenButton || (n += " only-in-fullscreen"), n += '"><div class="fullscreen-icon">' + t.fullscreenIcon + '</div><div class="unfullscreen-icon">' + t.unfullscreenIcon + "</div></button> ", t.vimeoLogo.show && (n += ' <div class="logo"> ', t.vimeoLogo.showLink && (n += ' <a href="' + t.vimeoLogo.url + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ' class="vp-logo-link" aria-label="' + t.strings.watchOnVimeo + '" aria-describedby="new-window" data-clip-link> '), n += this.render("logo") || "", t.vimeoLogo.showLink && (n += " </a> "), n += " </div> "), n += "</div> ", t.customLogo && (n += ' <div class="custom-logo', t.customLogo.sticky && (n += " sticky"), n += '" style="max-width:' + t.customLogo.width + "px;height:" + t.customLogo.height + 'px"> ', t.customLogo.showLink && (n += '<a href="' + t.customLogo.url + '" target="_blank" rel="noopener" aria-describedby="new-window">'), n += ' <img src="' + t.customLogo.img + '" alt=""> ', t.customLogo.showLink && (n += "</a>"), n += " </div>"), n += ""
            }, n.templates.debug_panel = function(t) {
                var n = "<div class='vp-stats-debug-values'> ";
                return n += this.render("debug_values", t) || "", n += "</div>", t.hideCloseButton || (n += '<button type="button" class="vp-stats-debug-close" aria-label="Close stats debug panel">', n += this.render("icon_close") || "", n += "</button>"), n += '<input type="text" class="vp-stats-debug-code">', t.isCopyDisabled || (n += '<button type="button" class="vp-copy-session vp-copy-session-hidden js-copySessionButton"><span class="vp-copy-label">Copy Debug Key</span></button>'), n += "", t.isDNTEnabled && (n += "No Debug Key available as Do Not Track is enabled."), n += ""
            }, n.templates.debug_values = function(t) {
                var n = "";
                return t.clipId && (n += '<p><span class="vp-stats-debug-label">Clip ID:</span><span class="vp-stats-debug-value stats-debug-clip-id">' + t.clipId + "</span></p>"), n += "", t.delivery && (n += '<p><span class="vp-stats-debug-label">Delivery:</span><span class="vp-stats-debug-value stats-debug-delivery">' + t.delivery + "</span></p>"), n += "", t.codec && (n += '<p><span class="vp-stats-debug-label">Codec:</span><span class="vp-stats-debug-value stats-debug-codec">' + t.codec + "</span></p>"), n += "", t.resolution && (n += '<p><span class="vp-stats-debug-label">Playing:</span><span class="vp-stats-debug-value stats-debug-resolution">' + t.resolution + "</span></p>"), n += "", t.embedSize && (n += '<p><span class="vp-stats-debug-label">Embed size:</span><span class="vp-stats-debug-value stats-debug-dimensions">' + t.embedSize + "</span></p>"), n += "", t.isDash && (n += '<p><span class="vp-stats-debug-label">Separate AV:</span><span class="vp-stats-debug-value stats-debug-test-group">' + t.separateAudioVideo + "</span></p>"), n += "", (t.isDash || t.isLive) && (n += '<p><span class="vp-stats-debug-label">Dropped frames:</span><span class="vp-stats-debug-value stats-debug-dropped-frames">' + t.droppedFrames + " / " + t.totalFrames + " - " + t.droppedFramesPercent + "</span></p>"), n += "", t.vrHeadsetName && (n += '<p><span class="vp-stats-debug-label">VR Hardware:</span><span class="vp-stats-debug-value stats-debug-vr-headset-name">' + t.vrHeadsetName + "</span></p>"), n += "", t.isLive && (n += '<p><span class="vp-stats-debug-label">Live Latency:</span><span class="vp-stats-debug-value stats-debug-live-latency">' + t.liveLatency + "</span></p>"), n += "", t.isLive && (n += '<p><span class="vp-stats-debug-label">Live Session ID:</span><span class="vp-stats-debug-value stats-debug-live-latency">' + t.liveSessionID + "</span></p>"), n += "", (t.isDash || t.isLive) && (n += '<p><span class="vp-stats-debug-label">Bandwidth:</span><span class="vp-stats-debug-value stats-debug-bandwidth">' + t.bandwidthKbps + '</span><span class="vp-stats-debug-bandwidth-minmax"> (<span class="vp-stats-debug-value vp-stats-debug-bandwidth-min">' + t.bandwidthMinKbps + '</span><span class="vp-stats-debug-value vp-stats-debug-bandwidth-max">' + t.bandwidthMaxKbps + '</span>) </span></p><div class="vp-stats-debug-time-series"> ' + t.bandwidthSeriesSvg + "</div>"), n += "", t.sessionId && (n += '<p><span class="vp-stats-debug-label">Debug Key:</span><br><span class="vp-stats-debug-value vp-stats-debug-session-id">' + t.sessionId + "</span></p>"), n
            }, n.templates.icon_airplay = function(t) {
                return '<svg class="airplay-icon" viewBox="0 0 44 36" focusable="false"><polygon class="fill" points="0,0 44,0 44,27 34.5,27 31,23 40,23 40,4 4,4 4,23 13,23 9.5,27 0,27"/><polygon class="fill" points="7,36 22,18 37,36"/></svg>'
            }, n.templates.icon_back = function(t) {
                return '<svg class="icon-back" viewBox="0 0 64 64" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M0 32l32 32v-20h32l0-24h-32v-20z"/></svg>'
            }, n.templates.icon_broken_heart = function(t) {
                return '<svg class="unlike-icon" viewBox="0 0 110 81" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M82.496 1c-14.594 0-23.198 10.043-25.948 14.48l-6.77 10.727 13.661 8.543-13.661 12.535 5.695 15.348-9.686-15.348 11.389-11.975-11.969-7.402s4.22-14.27 4.621-15.521c.782-2.438.782-2.438-.813-3.289-5.516-2.944-12.608-8.098-21.509-8.098-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.753-24.523 9.684-5.034 22.247-14.797 22.247-27.592 0-12.848-11.208-27.885-27.504-27.885z"/></svg>'
            }, n.templates.icon_card_arrow = function(t) {
                return '<svg class="card-arrow" viewBox="0 0 10 10" preserveAspectRatio="xMidYMid" focusable="false"><polygon class="fill" points="10 8.337 10 0 1.663 0 1.663 1.603 7.263 1.603 0 8.866 1.134 10 8.397 2.737 8.397 8.337"/></svg>'
            }, n.templates.icon_cc = function(t) {
                return '<svg viewBox="0 0 20 14" focusable="false" aria-labelledby="cc-icon-title" role="img"><title id="cc-icon-title">' + t.title + '</title><path class="fill" fill-rule="evenodd" clip-rule="evenodd" d="M17 0h-14c-1.657 0-3 1.343-3 3v8c0 1.656 1.343 3 3 3h14c1.657 0 3-1.344 3-3v-8c0-1.657-1.343-3-3-3zm-7.271 8.282c-.145.923-.516 1.686-1.105 2.268-.597.591-1.369.89-2.294.89-1.138 0-2.049-.402-2.706-1.195-.647-.786-.975-1.866-.975-3.215 0-1.458.372-2.603 1.105-3.403.65-.708 1.487-1.067 2.487-1.067 1.33 0 2.321.482 2.947 1.435.34.53.526 1.072.553 1.611l.013.236h-1.984l-.044-.169c-.092-.355-.207-.622-.343-.793-.239-.298-.591-.443-1.076-.443-.483 0-.856.209-1.14.641-.298.455-.449 1.12-.449 1.977 0 .851.156 1.49.466 1.898.298.395.666.588 1.122.588.469 0 .814-.16 1.058-.491.138-.183.255-.472.351-.856l.042-.17h2.013l-.041.258zm7.582 0c-.145.923-.516 1.686-1.104 2.268-.598.591-1.369.89-2.294.89-1.139 0-2.049-.402-2.707-1.195-.646-.785-.975-1.865-.975-3.214 0-1.458.372-2.603 1.106-3.403.649-.708 1.485-1.067 2.486-1.067 1.33 0 2.32.482 2.946 1.435.34.53.526 1.072.554 1.611l.012.236h-1.9829999999999999l-.043-.169c-.092-.355-.208-.623-.344-.793-.238-.298-.591-.443-1.076-.443-.483 0-.856.209-1.139.641-.299.455-.45 1.12-.45 1.977 0 .851.157 1.49.467 1.898.299.395.666.588 1.121.588.469 0 .814-.16 1.058-.491.138-.183.256-.472.352-.856l.042-.17h2.012l-.041.257z"/></svg>'
            }, n.templates.icon_check = function(t) {
                return '<svg class="check-icon" viewBox="0 0 12 12"><path class="fill" d="M10.9 2.9l-.7-.7c-.2-.2-.6-.2-.8-.1L5 6.6 2.6 4.1c-.2-.1-.6-.1-.7 0l-.8.8c-.1.1-.1.5 0 .7l3.1 3.1c.4.4 1 .4 1.4 0l5.1-5.1c.3-.2.3-.6.2-.7z"/></svg>'
            }, n.templates.icon_clock = function(t) {
                return '<svg class="watch-later-icon" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid" focusable="false"><polyline class="fill hour-hand" points="9.64,4.68 10.56,4.68 11.28,11.21 8.93,11.21 9.64,4.68" /><polyline class="fill minute-hand" points="14.19,13.65 13.7,14.14 8.58,10.4 10.44,8.5 14.19,13.65" /><circle class="stroke" cx="10" cy="10" r="8" stroke-width="2" /></svg>'
            }, n.templates.icon_close_new = function(t) {
                return '<svg class="icon-close-new" viewBox="0 0 16 16" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M8.001 9.416l6.437 6.437a.497.497 0 0 0 .713-.001l.7-.7a.503.503 0 0 0 .002-.714L9.416 8.001l6.437-6.436a.497.497 0 0 0-.001-.713l-.7-.7a.503.503 0 0 0-.714-.002L8.001 6.587 1.565.15a.497.497 0 0 0-.713.001l-.7.7a.503.503 0 0 0-.002.714L6.587 8 .15 14.438a.497.497 0 0 0 .001.713l.7.7a.503.503 0 0 0 .714.002L8 9.416z"/></svg>'
            }, n.templates.icon_close = function(t) {
                return '<svg class="icon-close" viewBox="0 0 64 64" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M60 48.796l-16.812-16.796 16.812-16.796-11.204-11.204-16.796 16.804-16.804-16.804-11.196 11.204 16.796 16.796-16.796 16.796 11.196 11.204 16.804-16.804 16.796 16.804z"/></svg>'
            }, n.templates.icon_collections = function(t) {
                return '<svg class="collections-icon" viewBox="0 0 24 24" focusable="false"><path class="fill" d="M24 12c0-.3-.1-.6-.4-.8l-2.7-2.3 2.4-1c.4-.1.7-.5.7-.9 0-.3-.1-.6-.4-.8l-7-6c-.1-.1-.4-.2-.6-.2-.1 0-.3 0-.4.1l-15 6c-.3.1-.6.5-.6.9 0 .3.1.6.4.8l2.7 2.3-2.4 1c-.4.1-.7.5-.7.9 0 .3.1.6.4.8l2.7 2.3-2.4 1c-.4.1-.7.5-.7.9 0 .3.1.6.4.8l7 6c.1.1.4.2.6.2.1 0 .3 0 .4-.1l15-6c.4-.1.6-.5.6-.9 0-.3-.1-.6-.4-.8l-2.7-2.3 2.4-1c.4-.1.7-.5.7-.9zm-8.2-9.8l5.3 4.5-12.9 5.1-5.3-4.5 12.9-5.1zm5.3 14.5L8.2 21.8l-5.3-4.5 1.9-.8 2.6 2.2c.1.2.4.3.6.3.1 0 .3 0 .4-.1l10.5-4.2 2.2 2zm-12.9.1l-5.3-4.5 1.9-.8 2.6 2.2c.1.2.4.3.6.3.1 0 .3 0 .4-.1l10.5-4.2 2.3 1.9-13 5.2z"/></svg>'
            }, n.templates.icon_embed = function(t) {
                return '<svg class="embed-icon" viewBox="0 0 55 48" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="embed-icon-title" role="img"><title id="embed-icon-title">' + t.title + '</title><polygon class="fill" points="16.019,16.385 11.968,13.131 0,24.543 12.082,35.955 16.132,32.703 7.439,24.543"/><polygon class="fill" points="42.92,13.131 38.868,16.384 47.561,24.542 38.981,32.701 43.033,35.955 55,24.542"/><polygon class="fill" points="24.083,39.221 28.76,39.221 36.243,8.351 31.566,8.351"/></svg>'
            }, n.templates.icon_facebook = function(t) {
                return '<svg class="facebook-icon" viewBox="0 0 64 64" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="fb-icon-title" role="img"><title id="fb-icon-title">' + t.title + '</title><path class="fill" d="M35.992 64h-11.992v-32h-8v-11.028l8-0.004-0.013-6.497c0-8.997 2.44-14.471 13.037-14.471h8.824v11.030h-5.514c-4.127 0-4.325 1.541-4.325 4.418l-0.016 5.52h9.918l-1.169 11.028-8.741 0.004-0.008 32z"/></svg>'
            }, n.templates.icon_fast_forward = function(t) {
                return '<svg viewBox="0 0 40 20" preserveAspectRatio="xMidYMid" focusable="false"><polygon class="fill" points="1,0 20,10 1,20" /><polygon class="fill" points="20,0 40,10 20,20" /></svg>'
            }, n.templates.icon_follow = function(t) {
                return '<svg class="icon icon-follow" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid" focusable="false"><defs><clipPath id="icon-mask--check"><rect x="0" y="0" width="24" height="24" /></clipPath></defs><path class="icon-path icon-path--plus fill" d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/><path class="icon-path icon-path--check fill" d="M9 21.035l-9-8.638 2.791-2.87 6.156 5.874 12.21-12.436 2.843 2.817z" clip-path="url(#icon-mask--check)"/><path class="icon-path icon-path--close fill" d="M23.954 21.03l-9.184-9.095 9.092-9.174-2.832-2.807-9.09 9.179-9.176-9.088-2.81 2.81 9.186 9.105-9.095 9.184 2.81 2.81 9.112-9.192 9.18 9.1z"/></svg>'
            }, n.templates.icon_fullscreen = function(t) {
                return '<svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="fullscreen-icon-title" role="img"><title id="fullscreen-icon-title">' + t.title + '</title><polyline class="fill" points="6,6 5.9,2 4.9,3 2.9,1 1,2.9 3,4.9 2,5.9" transform="translate(6,6)" /><polyline class="fill" points="6,6 5.9,2 4.9,3 2.9,1 1,2.9 3,4.9 2,5.9" transform="translate(6,6) rotate(90)" /><polyline class="fill" points="6,6 5.9,2 4.9,3 2.9,1 1,2.9 3,4.9 2,5.9" transform="translate(6,6) rotate(180)" /><polyline class="fill" points="6,6 5.9,2 4.9,3 2.9,1 1,2.9 3,4.9 2,5.9" transform="translate(6,6) rotate(270)" /></svg>'
            }, n.templates.icon_gear = function(t) {
                return '<svg class="icon-gear" viewBox="0 0 16 16" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="settings-icon-title" role="img"><title id="settings-icon-title">' + t.title + '</title><defs><clipPath id="icon-gear-mask-hd"><polygon points="19 9.422 19 0 0 0 0 16 4.996 16 6 9.422 19 9.422"/></clipPath><clipPath id="icon-gear-mask-4k"><polygon points="19 0 0 0 0 16 .656 16 7.641 9.422 19 9.422"/></clipPath></defs><g class="icon-gear-group"><path class="icon-gear-cog fill" d="M8.75,0 L7.25,0 C6.69771525,0 6.25,0.44771525 6.25,1 L6.25,1.71 C6.24203899,2.03670262 6.03616565,2.32571712 5.73,2.44 C5.22486505,2.64787629 4.75048268,2.92375823 4.32,3.26 C4.06726048,3.46530794 3.71530155,3.4969447 3.43,3.34 L2.81,3 C2.57947626,2.86645499 2.30519371,2.83041629 2.04799634,2.89987835 C1.79079898,2.96934041 1.57195122,3.13856029 1.44,3.37 L1.44,3.37 L0.69,4.67 C0.438460777,5.14101477 0.601355467,5.72655514 1.06,6 L1.06,6 L1.68,6.36 C1.95609578,6.53006064 2.1022252,6.84996558 2.05,7.17 C1.97585362,7.71080372 1.97585362,8.25919628 2.05,8.8 C2.1022252,9.12003442 1.95609578,9.43993936 1.68,9.61 L1.06,10 C0.828560291,10.1319512 0.65934041,10.350799 0.589878348,10.6079963 C0.520416285,10.8651937 0.556454987,11.1394763 0.69,11.37 L0.69,11.37 L1.44,12.67 C1.72842942,13.137733 2.34023095,13.2851012 2.81,13 L2.81,13 L3.43,12.64 C3.71530155,12.4830553 4.06726048,12.5146921 4.32,12.72 C4.75048268,13.0562418 5.22486505,13.3321237 5.73,13.54 C6.03616565,13.6542829 6.24203899,13.9432974 6.25,14.27 L6.25,15 C6.25,15.5522847 6.69771525,16 7.25,16 L8.75,16 C9.30228475,16 9.75,15.5522847 9.75,15 L9.75,14.29 C9.75796101,13.9632974 9.96383435,13.6742829 10.27,13.56 C10.7751349,13.3521237 11.2495173,13.0762418 11.68,12.74 C11.9327395,12.5346921 12.2846984,12.5030553 12.57,12.66 L13.19,13.02 C13.4205237,13.153545 13.6948063,13.1895837 13.9520037,13.1201217 C14.209201,13.0506596 14.4280488,12.8814397 14.56,12.65 L14.56,12.65 L15.31,11.35 C15.5746773,10.8743026 15.4102265,10.2742794 14.94,10 L14.94,10 L14.32,9.64 C14.0439042,9.46993936 13.8977748,9.15003442 13.95,8.83 C14.0241464,8.28919628 14.0241464,7.74080372 13.95,7.2 C13.8977748,6.87996558 14.0439042,6.56006064 14.32,6.39 L14.94,6.03 C15.1714397,5.89804878 15.3406596,5.67920102 15.4101217,5.42200366 C15.4795837,5.16480629 15.443545,4.89052374 15.31,4.66 L15.31,4.66 L14.56,3.36 C14.426372,3.13025585 14.2067828,2.96315821 13.9497298,2.89561144 C13.6926768,2.82806466 13.4193087,2.86562606 13.19,3 L13.19,3 L12.57,3.36 C12.2846984,3.5169447 11.9327395,3.48530794 11.68,3.28 C11.2495173,2.94375823 10.7751349,2.66787629 10.27,2.46 C9.96383435,2.34571712 9.75796101,2.05670262 9.75,1.73 L9.75,1 C9.75,0.73478351 9.64464316,0.480429597 9.45710678,0.292893219 C9.2695704,0.10535684 9.01521649,-8.8817842e-16 8.75,0 Z M10.5,8 C10.5,9.38071187 9.38071187,10.5 8,10.5 C6.61928813,10.5 5.5,9.38071187 5.5,8 C5.5,6.61928813 6.61928813,5.5 8,5.5 C9.38071187,5.5 10.5,6.61928813 10.5,8 Z" /></g><g class="icon-gear-text icon-gear-text-hd"><polygon class="fill" points="10.17 12.38 10.46 10.43 12.22 10.43 11.36 16 9.6 16 9.95 13.76 8.09 13.76 7.77 16 6.01 16 6.85 10.43 8.61 10.43 8.32 12.38"/><path class="fill" d="M17.82,11.23 C17.65,10.98 17.32,10.43 15.93,10.43 L13.37,10.43 L12.51,16 L15.09,16 C16.1538092,16.0719871 17.159097,15.5065128 17.65,14.56 C18.1567595,13.5192032 18.2181336,12.3169925 17.82,11.23 Z M15.9,14.42 C15.6125419,14.6349311 15.2582986,14.7412041 14.9,14.72 L14.48,14.72 L14.9,11.72 L15.35,11.72 C15.6806309,11.6794538 16.0108877,11.7981978 16.24,12.04 C16.4818058,12.8447587 16.357466,13.7151373 15.9,14.42 Z"/></g><g class="icon-gear-text icon-gear-text-4k"><polygon class="fill" points="11.82 10.29 13.58 10.29 13.19 12.17 13.19 12.17 15.19 10.27 17.48 10.27 14.75 12.62 16.36 16 14.36 16 13.36 13.78 12.76 14.32 12.39 16 10.63 16"/><path class="fill" d="M7.86,14.9 L5.31,14.9 L5.61,13.41 L8.78,10.41 L10.36,10.41 L9.72,13.51 L10.44,13.51 L10.18,14.87 L9.45,14.87 L9.22,16 L7.63,16 L7.86,14.9 Z M8.19,13.54 L8.54,12 L8.54,12 L6.94,13.58 L8.19,13.54 Z"/></g></svg>'
            }, n.templates.icon_heart = function(t) {
                return '<svg class="like-icon" viewBox="0 0 110 81" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M82.496 1c-14.698 0-25.969 11.785-27.496 13.457-1.526-1.672-12.798-13.457-27.494-13.457-16.299 0-27.506 15.037-27.506 27.885 0 12.795 12.562 22.558 22.245 27.592 9.186 4.771 30.601 18.349 32.755 24.523 2.154-6.174 23.57-19.752 32.755-24.523 9.684-5.034 22.245-14.797 22.245-27.592 0-12.848-11.206-27.885-27.504-27.885z"/></svg>'
            }, n.templates.icon_line_arrow = function(t) {
                return '<svg class="icon-lineArrow" viewBox="0 0 24 15"><polygon class="fill" points="21 0 24 3.057 12 15 0 3.057 3 0 12 9"/></svg>'
            }, n.templates.icon_live_viewers = function(t) {
                return '<svg width="12" height="14" viewBox="0 0 12 14"><g transform="translate(-5 -4)" fill="#FFF" fill-rule="evenodd"><circle cx="11" cy="7" r="3"/><path d="M9 12h4a4 4 0 0 1 4 4v2H5v-2a4 4 0 0 1 4-4z"/></g></svg>'
            }, n.templates.icon_lock = function(t) {
                return '<svg viewBox="0 0 46 76" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill bolt" d="M5,42v-15C8,5 39,5 42,27v30h-7v-30C32,14 15,14 12,27v15z"/><rect class="fill" x="0" y="41" height="35" width="46" rx="4" ry="4"/></svg>'
            }, n.templates.icon_mail = function(t) {
                return '<svg class="mail-icon" viewBox="0 0 72 72" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="mail-icon-title" role="img"><title id="mail-icon-title">' + t.title + '</title><path class="fill" d="M71.754,57.6C71.9,57.169,72,56.718,72,56.241V16.759c0-0.453-0.092-0.881-0.225-1.291l-23.487,19.86L71.754,57.6z"/><path class="fill" d="M35.999,40.118l6.187-4.971l3.131-2.516L68.9,12.693c-0.387-0.113-0.789-0.193-1.213-0.193H4.312c-0.424,0-0.827,0.08-1.215,0.194l23.599,19.949l3.132,2.517L35.999,40.118z"/><path class="fill" d="M67.688,60.5c0.405,0,0.791-0.074,1.164-0.18L45.157,37.843l-9.159,7.361l-9.145-7.351L3.15,60.322C3.522,60.426,3.907,60.5,4.312,60.5H67.688z"/><path class="fill" d="M0.226,15.468C0.092,15.878,0,16.307,0,16.759v39.482c0,0.478,0.099,0.929,0.247,1.356l23.476-22.261L0.226,15.468z"/></svg>'
            }, n.templates.icon_muted = function(t) {
                return '<svg class="vp-icon-muted" viewBox="0 0 16 16"><path class="fill" d="M15.988 9.491l-1.49 1.491-1.491-1.491-1.491 1.491-1.49-1.491 1.49-1.491-1.49-1.491 1.49-1.491 1.491 1.491 1.491-1.491 1.49 1.491-1.49 1.491 1.49 1.491zM8.008 15.996l-3.998-3.998h-2.998c-0.552 0-0.999-0.447-0.999-0.999v-5.997c0-0.552 0.447-0.999 0.999-0.999h2.998l3.998-3.998c0 0 0.999-0.125 0.999 0.999 0 5.423 0 13.304 0 13.993 0 1.124-0.999 0.999-0.999 0.999zM7.009 4.002l-1.999 1.999h-2.998v3.998h2.998l1.999 1.999v-7.996z"></path></svg>'
            }, n.templates.icon_pause = function(t) {
                return '<svg viewBox="0 0 20 20" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="pause-icon-title" role="img"><title id="pause-icon-title">' + t.title + '</title><rect class="fill" width="6" height="20" x="0" y="0" /><rect class="fill" width="6" height="20" x="12" y="0" /></svg>'
            }, n.templates.icon_pip = function(t) {
                return '<svg class="pip-icon" viewBox="0 0 16 12"><polygon class="fill" points="6 8 1 8 1 1 14 1 14 6 15 6 15 0 0 0 0 9 6 9 6 8"/><rect class="fill" x="7" y="7" width="9" height="5"/><polyline class="fill enter" transform="translate(4, 4) rotate(180) translate(-4, -4)" points="5.33 2 5.33 3 3.67 3 5.67 5 5 5.67 3 3.67 3 5.33 2 5.33 2 2"/><polyline class="fill return" points="5.33 2 5.33 3 3.67 3 5.67 5 5 5.67 3 3.67 3 5.33 2 5.33 2 2"/></svg>'
            }, n.templates.icon_play = function(t) {
                return '<svg viewBox="0 0 20 20" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="play-icon-title" role="img"><title id="play-icon-title">' + t.title + '</title><polygon class="fill" points="1,0 20,10 1,20"/></svg>'
            }, n.templates.icon_prev = function(t) {
                return '<svg class="icon-prev" viewBox="0 0 27 48" preserveAspectRatio="xMidYMid" focusable="false"><path class="fill" d="M7.243,24L26.414,4.828c0.781-0.781,0.781-2.047,0-2.828L25,0.586 c-0.781-0.781-2.047-0.781-2.828,0L0.879,21.879c-1.172,1.172-1.172,3.071,0,4.243l21.293,21.293c0.781,0.781,2.047,0.781,2.828,0 L26.414,46c0.781-0.781,0.781-2.047,0-2.828L7.243,24z"/></svg>'
            }, n.templates.icon_replay = function(t) {
                return '<svg viewBox="-387 605 16 16" preserveAspectRatio="xMidYMid" aria-labelledby="replay-icon-title" role="img"><title id="replay-icon-title">' + t.title + '</title><path class="fill" d="M-387 606v4c0 .6.4 1 1 1h4c.6 0 1-.4 1-1s-.4-1-1-1h-1.5c1.1-1.2 2.7-2 4.5-2 3.3 0 6 2.7 6 6s-2.7 6-6 6c-2.3 0-4.4-1.3-5.4-3.4-.2-.5-.8-.7-1.3-.5-.5.2-.7.8-.5 1.3 1.3 2.8 4.2 4.6 7.2 4.6 4.4 0 8-3.6 8-8s-3.6-8-8-8c-2.3 0-4.5 1-6 2.7V606c0-.6-.4-1-1-1s-1 .4-1 1z"/></svg>'
            }, n.templates.icon_share = function(t) {
                return '<svg class="share-icon" viewBox="0 0 20 20" preserveAspectRatio="xMidYMid" focusable="false"><polygon class="fill" points="20,0 0,12 5,15 17,4 7,16 7,19 9,17 14,20"/></svg>'
            }, n.templates.icon_spin = function(t) {
                return '<svg class="vp-spin-trace" viewBox="0 0 50 50" focusable="false"><circle cx="50%" cy="50%" r="20"></circle></svg><svg class="vp-spin-circle" viewBox="0 0 50 50" focusable="false"><circle cx="50%" cy="50%" r="20"></circle></svg>'
            }, n.templates.icon_stereoscopic = function(t) {
                return '<svg viewBox="0 0 20 13" focusable="false"><path class="fill" d="M 18.74,0 1.2,0 C 0.55,0 0,0.57 0,1.27 L 0,11.73 C 0,12.43 0.55,13 1.23,13 L 6,13 c 0.54,0 1,-0.32 1.16,-0.79 L 8.55,8.74 C 8.79,8.16 9.35,7.75 10,7.75 c 0.65,0 1.21,0.41 1.45,0.99 l 1.39,3.47 c 0.19,0.47 0.62,0.79 1.11,0.79 l 4.79,0 C 19.45,13 20,12.43 20,11.73 L 20,1.27 C 20,0.57 19.45,0 18.74,0 M 5.22,8.58 C 4,8.58 3,7.55 3,6.29 3,5 4,4 5.22,4 6.44,4 7.43,5 7.43,6.29 7.43,7.55 6.44,8.58 5.22,8.58 m 9.56,0 C 13.56,8.58 12.57,7.55 12.57,6.29 12.57,5.03 13.56,4 14.78,4 16,4 17,5.03 17,6.29 17,7.55 16,8.58 14.78,8.58 Z" /></svg>'
            }, n.templates.icon_tumblr = function(t) {
                return '<svg class="tumblr-icon" viewBox="0 0 12 20" focusable="false" aria-labelledby="tumblr-icon-title" role="img"><title id="tumblr-icon-title">' + t.title + '</title><path class="fill" d="M7.865,19.958 C3.629,19.958 2.02,16.834 2.02,14.627 L2.02,8.105 L0,8.105 L0,5.527 C3.027,4.436 3.756,1.705 3.927,0.149 C3.938,0.042 4.022,0 4.07,0 L6.994,0 L6.994,5.084 L10.987,5.084 L10.987,8.105 L6.979,8.105 L6.979,14.318 C6.993,15.149 7.291,16.287 8.815,16.287 C8.843,16.287 8.872,16.287 8.9,16.286 C9.43,16.272 10.14,16.118 10.511,15.941 L11.471,18.788 C11.11,19.317 9.481,19.932 8.015,19.957 C7.964,19.958 7.915,19.958 7.865,19.958"/></svg>'
            }, n.templates.icon_twitter = function(t) {
                return '<svg class="twitter-icon" viewBox="0 0 274 223" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="twitter-icon-title" role="img"><title id="twitter-icon-title">' + t.title + '</title><path class="fill" d="M85.98,222 C54.305,222 24.822,212.715 0,196.801 C4.388,197.319 8.853,197.584 13.38,197.584 C39.658,197.584 63.843,188.617 83.039,173.574 C58.495,173.121 37.781,156.905 30.644,134.621 C34.068,135.276 37.582,135.627 41.196,135.627 C46.312,135.627 51.267,134.942 55.974,133.66 C30.314,128.508 10.981,105.838 10.981,78.662 C10.981,78.426 10.981,78.191 10.985,77.957 C18.548,82.158 27.196,84.681 36.391,84.972 C21.341,74.914 11.438,57.746 11.438,38.287 C11.438,28.008 14.204,18.373 19.032,10.089 C46.696,44.023 88.025,66.353 134.641,68.692 C133.685,64.587 133.188,60.306 133.188,55.91 C133.188,24.935 158.302,-0.178 189.279,-0.178 C205.411,-0.178 219.988,6.634 230.22,17.535 C242.996,15.019 255,10.351 265.837,3.924 C261.649,17.021 252.756,28.013 241.175,34.955 C252.521,33.599 263.331,30.584 273.39,26.123 C265.87,37.371 256.36,47.25 245.402,55.158 C245.51,57.563 245.564,59.982 245.564,62.414 C245.564,136.533 189.148,222 85.98,222"/></svg>'
            }, n.templates.icon_unfullscreen = function(t) {
                return '<svg viewBox="0 0 12 12" preserveAspectRatio="xMidYMid" focusable="false" aria-labelledby="unfullscreen-icon-title" role="img"><title id="unfullscreen-icon-title">' + t.title + '</title><polyline class="fill" points="-1,-1 -1.1,-5 -2.1,-4 -4.1,-6 -6,-4.1 -4,-2.1 -5,-1.1" transform="translate(6,6) "/><polyline class="fill" points="-1,-1 -1.1,-5 -2.1,-4 -4.1,-6 -6,-4.1 -4,-2.1 -5,-1.1" transform="translate(6,6) rotate(90)" /><polyline class="fill" points="-1,-1 -1.1,-5 -2.1,-4 -4.1,-6 -6,-4.1 -4,-2.1 -5,-1.1" transform="translate(6,6) rotate(180)" /><polyline class="fill" points="-1,-1 -1.1,-5 -2.1,-4 -4.1,-6 -6,-4.1 -4,-2.1 -5,-1.1" transform="translate(6,6) rotate(270)" /></svg>'
            }, n.templates.icon_vod_download = function(t) {
                return '<svg class="vod-download-icon" viewBox="0 0 32 32" focusable="false"><path class="fill" d="M21.707 24.707l-5 5c-.39.39-1.024.39-1.414 0l-5-5c-.39-.39-.39-1.024 0-1.414l1.06-1.06c.392-.392 1.025-.392 1.415 0L14 23.462V15c0-.552.448-1 1-1h2c.552 0 1 .448 1 1v8.464l1.232-1.232c.39-.39 1.024-.39 1.414 0l1.06 1.06c.392.39.392 1.025 0 1.415z"/><path class="fill" d="M27.894 12.31c.063-.43.106-.864.106-1.31 0-4.97-4.03-9-9-9-3.6 0-6.7 2.12-8.138 5.175C10.175 6.75 9.368 6.5 8.5 6.5 6.015 6.5 4 8.515 4 11c0 .445.067.874.187 1.28C1.76 13.05 0 15.318 0 18c0 3.314 2.686 6 6 6h1c0-2.42 1.718-4.436 4-4.9V15c0-2.21 1.79-4 4-4h2c2.21 0 4 1.79 4 4v4.1c2.282.464 4 2.48 4 4.9h1c3.314 0 6-2.686 6-6 0-2.65-1.72-4.896-4.106-5.69z"/></svg>'
            }, n.templates.icon_vod_rent = function(t) {
                return '<svg class="vod-rent-icon" viewBox="0 0 32 32" focusable="false"><path class="fill" d="M23 11H9c-.552 0-1 .448-1 1v8c0 .552.448 1 1 1h14c.552 0 1-.448 1-1v-8c0-.552-.448-1-1-1z"/><path class="fill" d="M32 22V10c-2.76 0-5-2.24-5-5H5c0 2.76-2.24 5-5 5v12c2.76 0 5 2.24 5 5h22c0-2.76 2.24-5 5-5zm-6-1c0 1.105-.895 2-2 2H8c-1.105 0-2-.895-2-2V11c0-1.105.895-2 2-2h16c1.105 0 2 .895 2 2v10z"/></svg>'
            }, n.templates.icon_vod_subscribe = function(t) {
                return '<svg class="vod-subscribe-icon" viewBox="0 0 32 32" focusable="false"><path class="fill" d="M20 9v2c0 .552.448 1 1 1h10c.552 0 1-.448 1-1V1c0-.552-.448-1-1-1h-2c-.552 0-1 .448-1 1v4.445C24.98 2.01 20.523-.128 15.558.005 7.293.23.413 6.96.018 15.216-.42 24.41 6.905 32 16 32c8.47 0 15.404-6.583 15.964-14.912.04-.585-.413-1.088-1-1.088H28.96c-.514 0-.956.388-.994.9C27.506 23.107 22.326 28 16 28 9.217 28 3.748 22.37 4.01 15.53 4.246 9.284 9.47 4.147 15.72 4.003 19.38 3.92 22.674 5.483 24.926 8H21c-.552 0-1 .448-1 1z"/><path class="fill" d="M13 20v-8l8 4"/></svg>'
            }, n.templates.icon_vod = function(t) {
                return '<svg class="vod-icon" viewBox="0 0 21 23" focusable="false"><path class="fill" d="M19.602,4.716l-7.665-4.385C11.169-0.108,9.91-0.111,9.139,0.327L1.4,4.721C0.63,5.158,0,6.234,0,7.112v8.776c0,0.878,0.63,1.955,1.398,2.393l0.526,0.3l7.176,4.09c0.77,0.438,2.028,0.438,2.798,0l7.702-4.39c0.77-0.438,1.4-1.516,1.4-2.393V7.112C21,6.234,20.37,5.156,19.602,4.716z M7.336,15.761L7.337,7.24l8.008,4.26L7.336,15.761z"/></svg>'
            }, n.templates.icon_warning = function(t) {
                return '<svg class="warning-icon" focusable="false" width="36" height="32.326" viewBox="287.915 380.297 36 32.326"><path d="M309.646 382.963c-2.052-3.555-5.41-3.555-7.462 0L288.79 406.16c-2.05 3.555-.372 6.463 3.732 6.463h26.786c4.104 0 5.783-2.908 3.73-6.463l-13.392-23.197zm-2 23.224c0 .983-.804 1.788-1.788 1.788-.983 0-1.788-.805-1.788-1.788 0-.984.805-1.79 1.788-1.79s1.79.805 1.788 1.79zm-.317-7.76c-.254 2.604-.916 4.735-1.472 4.735-.557 0-1.22-2.13-1.477-4.735-.255-2.604-.464-5.72-.464-6.925 0-1.204.87-2.19 1.935-2.19 1.066 0 1.936.986 1.936 2.19s-.205 4.32-.457 6.925z"/></svg>'
            }, n.templates.live_status = function(t) {
                return '<div class="vp-live-status"><div class="vp-live-status-circle offline"></div><span>LIVE</span></div>'
            }, n.templates.live_viewer_count = function(t) {
                var n = '<div class="vp-live-viewer-count"><div class="vp-live-viewer-count-person"> ';
                return n += this.render("icon_live_viewers") || "", n += ' </div><span class="vp-live-viewer-count-value">0</span></div>'
            }, n.templates.logo = function(t) {
                return '<svg viewBox="0 0 140 40" preserveAspectRatio="xMidYMid" role="img" focusable="false" aria-labelledby="logo-icon-title" role="img"><title id="logo-icon-title">Vimeo</title><g><path class="fill logo-v" d="M31.277 18.832c-.14 3.052-2.27 7.229-6.39 12.531-4.259 5.536-7.863 8.306-10.811 8.306-1.825 0-3.371-1.687-4.633-5.059l-2.529-9.275c-.938-3.372-1.943-5.06-3.019-5.06-.234 0-1.054.494-2.458 1.477l-1.474-1.901c1.546-1.358 3.071-2.717 4.572-4.078 2.062-1.783 3.609-2.72 4.642-2.814 2.438-.234 3.938 1.433 4.502 5.001.608 3.851 1.03 6.246 1.266 7.182.704 3.195 1.476 4.791 2.321 4.791.657 0 1.641-1.037 2.954-3.108 1.312-2.072 2.015-3.649 2.109-4.732.188-1.789-.516-2.686-2.109-2.686-.75 0-1.522.173-2.318.514 1.54-5.044 4.481-7.495 8.823-7.355 3.22.095 4.737 2.184 4.552 6.266z"/><path class="fill logo-i" d="M50.613 28.713c-1.313 2.484-3.119 4.733-5.417 6.748-3.143 2.718-6.285 4.076-9.425 4.076-1.456 0-2.57-.469-3.343-1.406-.773-.938-1.137-2.153-1.09-3.653.045-1.548.526-3.938 1.441-7.173.914-3.232 1.373-4.967 1.373-5.201 0-1.218-.423-1.828-1.266-1.828-.282 0-1.079.494-2.393 1.477l-1.618-1.901c1.501-1.358 3.001-2.717 4.502-4.078 2.017-1.783 3.518-2.72 4.504-2.814 1.546-.14 2.684.314 3.411 1.367.726 1.052.996 2.417.81 4.098-.61 2.852-1.268 6.472-1.972 10.864-.046 2.01.681 3.014 2.182 3.014.656 0 1.827-.693 3.518-2.083 1.406-1.156 2.555-2.243 3.447-3.262l1.336 1.755zm-6.12-25.016c-.047 1.168-.633 2.288-1.76 3.361-1.266 1.212-2.767 1.82-4.501 1.82-2.672 0-3.963-1.166-3.869-3.499.045-1.213.76-2.381 2.144-3.501 1.384-1.119 2.919-1.68 4.609-1.68.984 0 1.805.387 2.462 1.155.656.772.961 1.553.915 2.344z"/><path class="fill logo-m" d="M94.543 28.713c-1.314 2.484-3.117 4.733-5.416 6.748-3.145 2.718-6.285 4.076-9.426 4.076-3.051 0-4.527-1.687-4.432-5.06.045-1.501.338-3.306.877-5.415.539-2.108.832-3.748.879-4.921.049-1.779-.492-2.673-1.623-2.673-1.223 0-2.682 1.456-4.375 4.362-1.788 3.05-2.754 6.003-2.894 8.861-.095 2.02.103 3.568.592 4.645-3.272.096-5.565-.444-6.873-1.617-1.171-1.032-1.708-2.742-1.614-5.135.045-1.501.276-3.001.69-4.502.414-1.5.644-2.837.69-4.011.095-1.734-.54-2.604-1.9-2.604-1.177 0-2.444 1.339-3.806 4.011-1.361 2.673-2.113 5.465-2.253 8.371-.094 2.627.074 4.456.503 5.486-3.219.096-5.505-.582-6.857-2.035-1.122-1.214-1.634-3.06-1.539-5.54.044-1.214.258-2.911.645-5.084.386-2.175.603-3.87.647-5.087.093-.841-.119-1.263-.633-1.263-.281 0-1.079.475-2.393 1.424l-1.687-1.901c.234-.184 1.71-1.545 4.432-4.078 1.969-1.828 3.306-2.766 4.009-2.812 1.219-.095 2.204.409 2.954 1.511s1.126 2.38 1.126 3.834c0 .469-.047.915-.14 1.336.703-1.077 1.523-2.017 2.463-2.814 2.156-1.874 4.572-2.931 7.245-3.166 2.298-.187 3.938.352 4.925 1.617.795 1.033 1.17 2.511 1.125 4.433.329-.28.681-.586 1.056-.915 1.078-1.267 2.133-2.273 3.164-3.023 1.736-1.267 3.541-1.97 5.418-2.112 2.25-.187 3.867.35 4.852 1.611.844 1.028 1.219 2.5 1.127 4.415-.047 1.309-.363 3.213-.949 5.712-.588 2.501-.879 3.936-.879 4.31-.049.982.047 1.659.279 2.034.236.373.797.559 1.689.559.656 0 1.826-.693 3.518-2.083 1.406-1.156 2.555-2.243 3.447-3.262l1.337 1.757z"/><path class="fill logo-e" d="M120.922 28.642c-1.361 2.249-4.033 4.495-8.02 6.743-4.971 2.856-10.012 4.284-15.125 4.284-3.797 0-6.52-1.267-8.16-3.797-1.172-1.735-1.734-3.797-1.688-6.189.045-3.797 1.736-7.407 5.064-10.832 3.658-3.75 7.973-5.627 12.945-5.627 4.596 0 7.033 1.873 7.314 5.615.188 2.384-1.125 4.842-3.938 7.368-3.004 2.76-6.781 4.515-11.328 5.263.842 1.169 2.109 1.752 3.799 1.752 3.375 0 7.059-.855 11.045-2.574 2.859-1.207 5.111-2.461 6.754-3.76l1.338 1.754zm-15.969-7.345c.045-1.259-.469-1.89-1.547-1.89-1.406 0-2.83.969-4.283 2.906-1.451 1.936-2.201 3.789-2.248 5.562-.025 0-.025.305 0 .911 2.295-.839 4.287-2.122 5.971-3.849 1.357-1.491 2.06-2.707 2.107-3.64z"/><path class="fill logo-o" d="M140.018 23.926c-.189 4.31-1.781 8.031-4.783 11.169-3.002 3.137-6.73 4.706-11.186 4.706-3.705 0-6.52-1.195-8.441-3.585-1.404-1.777-2.182-4.001-2.32-6.668-.236-4.029 1.217-7.729 4.361-11.101 3.377-3.746 7.619-5.618 12.732-5.618 3.281 0 5.766 1.102 7.457 3.301 1.594 2.015 2.32 4.614 2.18 7.796zm-7.95-.264c.047-1.269-.129-2.434-.527-3.49-.4-1.057-.975-1.587-1.725-1.587-2.391 0-4.361 1.293-5.906 3.877-1.316 2.115-2.02 4.371-2.111 6.766-.049 1.176.164 2.21.633 3.104.514 1.032 1.242 1.549 2.182 1.549 2.109 0 3.914-1.244 5.416-3.735 1.267-2.068 1.945-4.23 2.038-6.484z"/></g></svg>'
            }, n.templates.menu_list_panel = function(t) {
                var n = '<div class="vp-panel vp-panel-open vp-panel--' + t.id + '"><div class="vp-panel-title"><button type="button" class="vp-panel-button js-panelTitleButton" tabindex="0"><span class="vp-panel-button-text">' + t.title + '</span><span class="vp-panel-stat"><span class="vp-panel-stat-text js-panelStatText">' + t.active + "</span> ";
                n += this.render("icon_line_arrow") || "", n += ' </span></button></div><div class="vp-panel-itemsWrap"><ul class="vp-panel-items js-panelItems"> ';
                for (var i = 0; i < t.items.length; i++) n += ' <li class="vp-panel-item', t.items[i].active && (n += " vp-panel-item-on"), n += '" tabindex="0" role="menuitemradio" aria-checked="', t.items[i].active ? n += "true" : n += "false", n += '"> ' + t.items[i].label + " </li> ";
                return n += ' </ul><div class="vp-indicator"></div></div></div>'
            }, n.templates.menu = function(t) {
                var n = '<div class="vp-menu vp-menu-hidden vp-menu-invisible" role="menu" hidden><button type="button" class="vp-menu-close js-menuClose" aria-label="' + t.strings.close + '">';
                return n += this.render("icon_close_new") || "", n += "</button></div>"
            }, n.templates.nudge = function(t) {
                var n = '<div class="vp-nudge vp-nudge-backward invisible"><div class="vp-nudge-seconds"></div><div class="vp-nudge-symbol vp-nudge-backward-symbol"> ';
                return n += this.render("icon_fast_forward") || "", n += ' </div></div><div class="vp-nudge vp-nudge-forward invisible"><div class="vp-nudge-seconds"></div><div class="vp-nudge-symbol vp-nudge-forward-symbol"> ', n += this.render("icon_fast_forward") || "", n += " </div></div>"
            }, n.templates.outer = function(t) {
                var n = '<div class="vp-video-wrapper"><div class="vp-video"><div class="vp-telecine"></div></div><div class="vp-preview"></div><div class="vp-shade vp-shade-invisible"></div><div class="vp-nudge-shade vp-nudge-shade-left vp-nudge-shade-invisible"></div><div class="vp-nudge-shade vp-nudge-shade-right vp-nudge-shade-invisible"></div><div class="vp-spin vp-spin-invisible"> ';
                return n += this.render("icon_spin") || "", n += ' </div></div><div class="vp-text-alert-wrapper hidden"><div class="vp-alert-text"></div><div class="vp-alert-time"><div class="vp-live-start-time-title"></div><div class="vp-live-start-time-body"></div><div class="vp-live-start-time-footer"></div></div></div><div class="vp-target"></div><div class="vp-captions hidden with-controls" hidden aria-live="assertive"><span></span></div><div class="vp-cards-wrapper"><div class="vp-cards"></div></div><div class="vp-outro-wrapper hidden" hidden><div class="vp-outro" role="dialog" aria-live="assertive"></div></div><div class="vp-controls-wrapper"><div class="vp-badge"></div><div class="vp-title" role="contentinfo"></div><div class="vp-controls"></div><div class="vp-sidedock hidden" role="toolbar" hidden></div><div class="vp-unmute hidden" hidden></div></div><div class="vp-overlay-wrapper hidden" role="dialog" aria-live="assertive" hidden><div class="vp-overlay-bg"></div><div class="vp-overlay-cell"><div class="vp-overlay"></div><div class="vp-overlay-icon-wrapper hidden"><div class="vp-overlay-icon"></div></div><div class="vp-overlay-logo logo"></div></div><nav><button type="button" class="vp-nav-prevButton js-back cloaked" aria-label="' + t.strings.back + '">', n += this.render("icon_prev") || "", n += '</button><button type="button" class="vp-nav-closeButton js-close" aria-label="' + t.strings.close + '">', n += this.render("icon_close_new") || "", n += '</button></nav></div><div class="vp-notification-wrapper hidden" hidden><div class="vp-notification-cell"><div class="vp-notification" role="dialog" aria-live="assertive"></div></div></div><div class="vp-stats-debug rounded-box hidden" aria-hidden="true" hidden></div><div class="vp-nudge-wrapper hidden"></div><span id="new-window" hidden>This opens in a new window.</span>'
            }, n.templates.sidedock = function(t) {
                var n = "";
                return t.vodButton && (n += ' <div class="box" data-vod-expiring="' + t.vodPurchaseInfo.expiring + '" data-vod-purchased="' + t.purchased + '"><button type="button" class="vod-button rounded-box', t.purchased && (n += " on"), t.vodPurchaseInfo.expiring && (n += " expiring"), n += '" data-product-id="' + t.vodPurchaseInfo.product_id + '"><div class="vod-button-inner"><span class="vod-label">' + t.vodDisplayLabel + "</span> ", n += this.render("icon_vod") || "", n += ' </div></button></div><div class="sidedock-inner">'), t.likeButton && (n += ' <div class="box"><label class="rounded-box hidden like-label" role="presentation"><span>' + (t.liked ? t.strings.unlike : t.strings.like) + '</span></label><button type="button" class="like-button rounded-box', t.liked && (n += " on"), n += '" aria-label="', t.loggedIn ? n += "" + (t.liked ? t.strings.unlike : t.strings.like) : n += "" + t.strings.likeLoggedOut, n += '" data-label-add="' + t.strings.like + '" data-label-add-logged-out="' + t.strings.likeLoggedOut + '" data-label-remove="' + t.strings.unlike + '"> ', n += this.render("icon_heart") || "", n += " </button></div>"), t.watchLaterButton && (n += ' <div class="box"><label class="rounded-box hidden watch-later-label" role="presentation"><span>' + (t.addedToWatchLater ? t.strings.watchLaterRemove : t.strings.watchLaterAdd) + '</span></label><button type="button" class="watch-later-button rounded-box', t.addedToWatchLater && (n += " on"), n += '" aria-label="', t.loggedIn ? n += "" + (t.addedToWatchLater ? t.strings.watchLaterRemove : t.strings.watchLaterAdd) : n += "" + t.strings.watchLaterAddLoggedOut, n += '" data-label-add="' + t.strings.watchLaterAdd + '" data-label-add-logged-out="' + t.strings.watchLaterAddLoggedOut + '" data-label-remove="' + t.strings.watchLaterRemove + '"> ', n += this.render("icon_clock") || "", n += " </button></div>"), t.collectionsButton && (n += ' <div class="box"><label class="rounded-box hidden collections-label" role="presentation"><span>' + t.strings.collections + '</span></label><button type="button" class="collections-button rounded-box" aria-label="' + t.strings.collections + '"> ', n += this.render("icon_collections") || "", n += " </button></div>"), t.shareButton && (n += ' <div class="box"><label class="rounded-box hidden share-label" role="presentation"><span>' + t.strings.share + '</span></label><button type="button" class="share-button rounded-box" aria-label="' + t.strings.share + '"> ', n += this.render("icon_share") || "", n += " </button></div>"), t.vodButton && (n += " </div>"), n += ""
            }, n.templates.app_redirect = function(t) {
                var n = '<div class="vp-overlay-content"> ';
                return t.strings.title && (n += ' <div class="app-redirect-title">' + t.strings.title + "</div> "), t.hideRedirectButton || (n += ' <div class="' + (t.strings.title ? "" : "app-redirect--topspace") + '"><a class="app-redirect-button" href="' + t.redirectUrl + '" role="button"', t.newWindow && (n += ' data-new-window="1" target="_blank" rel="noopener"'), n += ' aria-describedby="new-window">' + t.strings.buttonText + "</a></div> "), t.strings.ignoreText && (n += ' <div class="app-redirect-ignore">' + t.strings.ignoreText + "</div> "), t.strings.bottomText && (n += ' <div class="app-redirect-bottom-text">' + t.strings.bottomText + "</div> "), n += "</div>"
            }, n.templates.email_capture = function(t) {
                var n = '<div class="vp-email-capture-wrapper"><div class="vp-email-capture"> ';
                return t.customLogo && (n += ' <div class="vp-email-capture-logoWrap"><img src="', n += this.escape(t.customLogo) || "", n += '" alt="" class="vp-email-capture-logo"></div> '), n += ' <h1 class="vp-email-capture-title">', n += this.escape(t.text) || "", n += "</h1> ", t.subtitle && (n += ' <p class="vp-email-capture-subtitle">', n += this.escape(t.subtitle) || "", n += "</p> "), n += ' <form class="vp-email-capture-form" action="' + t.action + '" method="post" novalidate><div class="vp-validation-bubble hidden"><div class="vp-validation-bubble-arrowClipper"><div class="vp-validation-bubble-arrow"></div></div><div class="vp-validation-bubble-message"></div></div><input class="vp-email-capture-form-input vp-email-capture-form-input--email js-email-capture-form-input" type="email" name="email" placeholder="' + t.strings.email + '" aria-label="' + t.strings.email + '" required aria-required="true"><input class="vp-email-capture-form-input" type="text" name="name" placeholder="' + t.strings.fullName + '" aria-label="' + t.strings.fullName + '" pattern="^[^!@#$%^*+=?<>]+$" maxlength="180"><input type="hidden" name="referrer" value="' + t.referrer + '"><input type="hidden" name="signature" value=""><input type="hidden" name="time" value=""><input type="hidden" name="expires" value=""><div class="vp-email-capture-form-buttons"><input class="vp-email-capture-form-button vp-email-capture-form-button--reset" type="button" value="' + t.strings.nothanks + '"> ', t.allowSkip && (n += ' <input class="vp-email-capture-form-button vp-email-capture-form-button--cancel" type="button" value="' + t.strings.nothanks + '"> '), n += ' <input class="vp-email-capture-form-button vp-email-capture-form-button--submit" type="submit" value="' + t.strings.submit + '"></div></form></div><div class="vp-email-capture-confirm vp-email-capture-confirm-hidden"><div class="vp-email-capture-confirm-box"><h1 class="vp-email-capture-confirm-title">', n += this.escape(t.confirmation) || "", n += "</h1></div></div></div>"
            }, n.templates.error = function(t) {
                var n = '<div class="vp-overlay-content error"> ';
                return t.title && (n += " <h1>" + t.title + "</h1> "), t.message && (n += " <p>" + t.message + "</p> "), n += "</div>"
            }, n.templates.help = function(t) {
                var n = '<div class="vp-overlay-content help"><h1>' + t.strings.title + '</h1><dl><div class="volume-up secondary"><dt class="arrow"></dt><dd>' + t.strings.volumeUp + '</dd></div><div class="volume-down secondary"><dt class="arrow"></dt><dd>' + t.strings.volumeDown + '</dd></div><div class="scrub-forward secondary"><dt class="arrow"></dt><dd>' + t.strings.scrubForward + '</dd></div><div class="scrub-backwards secondary"><dt class="arrow"></dt><dd>' + t.strings.scrubBackwards + '</dd></div><div class="like"><dt>L</dt><dd>' + t.strings.like + '</dd></div><div class="share"><dt>S</dt><dd>' + t.strings.share + '</dd></div><div class="watch-later"><dt>W</dt><dd>' + t.strings.watchLater + '</dd></div><div class="toggle-captions"><dt>C</dt><dd>' + t.strings.captions + '</dd></div><div class="toggle-prefs"><dt>H</dt><dd>' + t.strings.prefs + '</dd></div><div class="fullscreen"><dt>F</dt><dd>' + t.strings.fullscreen + "</dd></div> ";
                return t.onSite || (n += '<div class="view-on-vimeo"><dt>V</dt><dd>' + t.strings.viewOnVimeo + "</dd></div>"), n += " </dl></div>"
            }, n.templates.outro_email = function(t) {
                var n = '<div class="vp-outro-bg"';
                return t.bgimage && (n += ' style="background-image: url(' + t.bgimage + ');"'), n += '></div><div class="vp-outro-content vp-outro-content--email vp-outro-shade js-outro-content"></div>'
            }, n.templates.outro_image = function(t) {
                var n = '<div class="vp-outro-content vp-outro-content--image js-outro-content"> ';
                return t.url && (n += '<a class="vp-outro-imageLink js-imageLink" href="' + t.url + '" target="_blank" rel="noopener" aria-describedby="new-window">'), t.bgimage && (n += '<div class="vp-outro-image" style="background-image: url(' + t.bgimage + ');"', t.alt_text && (n += ' aria-label="', n += this.escape(t.alt_text) || "", n += '" role="img"'), n += "></div>"), t.url && (n += "</a>"), n += "</div>"
            }, n.templates.outro_link = function(t) {
                var n = '<div class="vp-outro-bg"';
                return t.bgimage && (n += ' style="background-image: url(' + t.bgimage + ');"'), n += '></div><div class="vp-outro-content vp-outro-content--link vp-outro-shade js-outro-content"><div class="vp-outro-linkWrapper js-outro-linkWrapper"> ', t.title && (n += '<h1 class="vp-outro-textTitle js-outro-title">', n += this.escape(t.title) || "", n += "</h1>"), t.description && (n += '<p class="vp-outro-textDescription js-outro-text">', n += this.escape(t.description) || "", n += "</p>"), t.text && t.url && (n += ' <div class="vp-outro-buttonWrap"><a class="vp-outro-button js-cta" href="' + t.url + '" target="_blank" rel="noopener" aria-describedby="new-window"><span>', n += this.escape(t.text) || "", n += "</span></a></div> "), t.text2 && t.url2 && (n += ' <div class="vp-outro-linkWrap js-outro-linkWrap"><a class="vp-outro-link js-link" href="' + t.url2 + '" target="_blank" rel="noopener" aria-describedby="new-window">', n += this.escape(t.text2) || "", n += "</a></div> "), n += " </div></div>"
            }, n.templates.outro_nothing = function(t) {
                return '<div class="vp-outro-bg"></div><div class="vp-outro-content vp-outro-content--nothing vp-outro-shade js-outro-content"></div>'
            }, n.templates.outro_share = function(t) {
                var n = '<div class="vp-outro-bg"';
                return t.bgimage && (n += ' style="background-image: url(' + t.bgimage + ');"'), n += '></div><div class="vp-outro-content vp-outro-content--share vp-outro-shade js-outro-content"></div><nav class="panel-nav"><button type="button" class="vp-nav-prevButton js-back cloaked" aria-label="' + t.strings.back + '">', n += this.render("icon_prev") || "", n += "</button></nav>"
            }, n.templates.outro_staticimage = function(t) {
                var n = '<div class="vp-outro-content vp-outro-content--staticImage js-outro-content"><div class="vp-outro-staticImageWrapper"> ';
                return t.url && (n += '<a class="vp-outro-staticImageLink" href="' + t.url + '" target="_blank" rel="noopener" aria-describedby="new-window">'), n += ' <img class="vp-outro-staticImage" src="' + t.svg_url + '"> ', t.url && (n += "</a>"), n += " </div></div>"
            }, n.templates.outro_text = function(t) {
                return '<div class="vp-outro-content vp-outro-content--text vp-outro-shade js-outro-content"><div class="vp-outro-textWrapper"><div class="vp-outro-text">' + t.text + "</div></div></div>"
            }, n.templates.outro_videos = function(t) {
                var n = '<div class="vp-outro-bg"';
                t.bgimage && (n += ' style="background-image: url(' + t.bgimage + ');"'), n += '></div><div class="vp-outro-content vp-outro-content--videos vp-outro-shade js-outro-content"> ';
                for (var i = 0, e = t.contexts.length; i < e; i++) {
                    var r = t.contexts[i];
                    n += ' <div class="vp-outro-videosSection vp-outro-videosSection--' + r.videos.length, r.promoted && (n += " vp-outro-videosSection--promoted"), n += '"><div class="vp-outro-videosHeaderWrapper"><header class="vp-outro-videosHeader"><h1 class="vp-outro-videosTitle">' + r.context + "</h1> ", t.showFollowButton && !r.promoted && (n += ' <div class="vp-outro-followWrap js-outro-followWrap"><button type="button" class="vp-outro-follow js-outro-follow" aria-label="' + t.strings.follow + '" aria-pressed="', t.following ? n += "true" : n += "false", n += '"> ', n += this.render("icon_follow") || "", n += ' <span class="vp-outro-follow-text" data-label-follow="' + t.strings.follow + '" data-label-following="' + t.strings.following + '" data-label-unfollow="' + t.strings.unfollow + '"></span></button></div> '), n += ' </header></div><ul class="vp-outro-videos vp-outro-videos--' + r.videos.length + '"> ';
                    for (var o = 0, u = r.videos.length; o < u; o++) n += ' <li><a class="vp-outro-videoLink js-videoLink', 1 == i && (n += " hovered"), n += '" href="' + r.videos[o].url + '" ', t.target && (n += ' target="_blank" rel="noopener" '), n += ' data-video-id="' + r.videos[o].id + '" aria-describedby="new-window" ><div class="vp-outro-imgWrapper"><img src="' + r.videos[o].thumbnail + '" alt="" width="295" height="166"></div><header class="vp-outro-videoHeader" id="vp-outro-videoHeader"><h1 class="vp-outro-videoTitle">', n += this.escape(r.videos[o].title) || "", n += "</h1> ", r.videos[o].byline && (n += ' <h2 class="vp-outro-videoByline">', n += this.escape(r.videos[o].byline) || "", n += "</h2> "), n += " </header></a> ";
                    n += " </ul></div> "
                }
                return n += "</div>"
            }, n.templates.outro_vod = function(t) {
                var n = '<div class="vp-outro-content vp-outro-content--vod vp-outro-shade js-outro-content"><div class="vp-outro-vodWrapper"><h1 class="vp-outro-vodHeader" aria-describedby="new-window"><a href="' + t.url + '" target="_blank" rel="noopener">';
                n += this.escape(t.title) || "", n += "</a></h1> ";
                var i = t.countries,
                    e = t.country;
                if (this.helpers.isAvailableInCountry(i, e))
                    if (t.purchased) n += ' <a class="vp-outro-vodButton vp-outro-vodButton--watch js-vod-watch" role="button" href="' + t.url + '" target="_blank" rel="noopener" aria-describedby="new-window">' + t.strings.watch + "</a> ";
                    else {
                        if (!t.isComingSoon) {
                            n += ' <ul class="vp-outro-vod"> ';
                            for (var r = 0, o = t.buttons.length; r < o; r++) {
                                n += ' <li class="vp-outro-vod-item"><a class="vp-outro-vodButton vp-outro-vodButton--' + t.buttons[r].type + ' js-vod-button" role="button" href="' + t.url + "#buy=" + t.buttons[r].product_id + '" target="_blank" rel="noopener" data-product-id="' + t.buttons[r].product_id + '" aria-describedby="new-window" ><div class="vp-outro-vodIcon"> ', "buy" === t.buttons[r].type ? n += this.render("icon_vod_download") || "" : "rent" === t.buttons[r].type ? n += this.render("icon_vod_rent") || "" : "subscribe" === t.buttons[r].type ? n += this.render("icon_vod_subscribe") || "" : n += this.render("icon_vod") || "", n += " </div> ";
                                var u = t.currency,
                                    a = t.buttons[r];
                                n += " <p>" + this.helpers.formatVodLabel(t.translationMap, "outro_string", u, a) + "</p></a></li> "
                            }
                            n += " </ul> "
                        }(t.isPreorder || t.isComingSoon) && (n += " <p>" + t.strings.preRelease + "</p> ")
                    }
                return n += " </div></div>"
            }, n.templates.password = function(t) {
                return '<div class="vp-overlay-content password form"><h1 class="header">' + t.strings.title + '</h1><p class="subtitle">' + t.strings.subtitle + '</p><form action="' + t.action + '" method="post" novalidate><div class="vp-validation-bubble hidden"><div class="vp-validation-bubble-arrow-clipper"><div class="vp-validation-bubble-arrow"></div></div><div class="vp-validation-bubble-message"></div></div><input class="js-password" type="password" name="password" placeholder="' + t.strings.password + '" required aria-required="true" aria-label="' + t.strings.password + '"><input type="submit" value="' + t.strings.watch + '"></form></div>'
            }, n.templates.private_locked = function(t) {
                return '<div class="vp-overlay-content login"><h1>' + t.strings.title + '</h1><p class="subtitle">' + t.strings.subtitle + '</p><a href="' + t.action + '" class="popup js-login" target="_blank" rel="noopener" role="button" aria-describedby="new-window">' + t.strings.logIn + "</a></div>"
            }, n.templates.private_unlocked = function(t) {
                return '<div class="vp-overlay-content form unlocked"><h1>' + t.strings.title + '</h1><p class="subtitle">' + t.strings.subtitle + '</p><button class="js-watch" type="button">' + t.strings.watch + "</button></div>"
            }, n.templates.share = function(t) {
                var n = '<div class="vp-share-wrapper js-share"><section class="vp-share-screen vp-share-screen--share' + (t.embedOnly ? " cloaked" : "") + ' js-share-screen"><h1 class="vp-share-title vp-share-title--share">' + t.strings.share + '</h1><ul class="vp-share-buttons"><li class="vp-share-buttons-item"><a class="vp-share-button vp-share-button--facebook js-facebook" href="' + t.playerShareUrl + '/facebook" target="_blank" rel="noopener" role="button" aria-describedby="new-window" > ' + t.facebookIcon + ' </a><li class="vp-share-buttons-item"><a class="vp-share-button vp-share-button--twitter js-twitter" href="' + t.playerShareUrl + '/twitter" target="_blank" rel="noopener" role="button" aria-describedby="new-window" > ' + t.twitterIcon + ' </a><li class="vp-share-buttons-item"><a class="vp-share-button vp-share-button--tumblr js-tumblr" href="' + t.playerShareUrl + '/tumblr" target="_blank" rel="noopener" role="button" aria-describedby="new-window" > ' + t.tumblrIcon + " </a> ";
                return t.url && (n += ' <li class="vp-share-buttons-item"><a class="vp-share-button vp-share-button--email js-email" href="mailto:?subject=', n += encodeURIComponent(t.strings.emailSubject) || "", n += "&amp;body=", n += encodeURIComponent(t.strings.emailBody) || "", n += '" role="button" aria-describedby="new-window" > ' + t.emailIcon + " </a> "), n += " </ul> ", t.embed && (n += ' <ul class="vp-share-buttons"><li class="vp-share-buttons-item"><a class="vp-share-button vp-share-button--embed js-embed" href="' + t.url + '#share" target="_blank" rel="noopener" role="button" > ' + t.embedIcon + " </a></li></ul> "), t.url && (n += ' <p class="vp-share-footnote vp-share-footnote--share"><a class="clip_url" href="' + t.shareUrl + '" target="_blank" rel="noopener" aria-describedby="new-window">' + t.shareUrl + "</a></p> "), n += " </section> ", t.embed && (n += ' <section class="vp-share-screen vp-share-screen--embed' + (t.embedOnly ? "" : " cloaked") + ' js-embed-screen"><div class="vp-share-embedWrapper"><h1 class="vp-share-title vp-share-title--embed">' + t.strings.embedTitle + '</h1><p class="vp-share-subtitle vp-share-subtitle--embed">' + t.strings.embedSubtitle + '</p><div class="vp-share-embedCode form"><div><input class="vp-share-embedInput js-embed-input" type="text" name="embed_code" title="Embed code" value="' + t.embedCode + '" spellcheck="false" aria-readonly="true"', t.readOnly && (n += " readonly"), n += "></div> ", t.copyButton && (n += ' <button type="button" class="vp-share-embedCopy js-embedCopy" data-clipboard-text=\'' + t.embedCode + "' data-label=\"" + t.strings.copy + '" data-success-label="' + t.strings.copySuccess + '">' + t.strings.copy + "</button> "), n += " </div> ", t.customizeEmbed && (n += ' <p class="vp-share-footnote vp-share-footnote--embed">' + t.strings.customize + "</p> "), n += " </div></section> "), n += "</div>"
            }, n.templates.threesixty_reminder = function(t) {
                var n = '<div class="intro-wrap text-only"><div> ';
                return t.showArrows && (n += ' <div class="key-wrapper"><div class="key-row"><div class="key"><div class="arrow arrow-top"></div></div></div><div class="key-row"><div class="key"><div class="arrow arrow-left"></div></div><div class="key"><div class="arrow arrow-down"></div></div><div class="key"><div class="arrow arrow-right"></div></div></div></div> '), n += " <div>" + t.text + "</div></div></div>"
            }, n.templates.time_series_graph = function(t) {
                return '<svg width="' + t.width + '" height="' + t.height + '" viewBox="0 0 ' + t.width + " " + t.height + '"><g><polyline stroke="white" fill="none" points="' + t.points + '"></polyline></g><g> ' + t.markers + " </g></svg>"
            }, n.templates.title_byline_badge = function(t) {
                var n = "";
                return t.displayBadge && (n += "&nbsp;", t.link && (n += '<a tabindex="-1" href="' + t.link + '"', t.targetBlank && (n += ' target="_blank" rel="noopener" aria-describedby="new-window"'), n += ">"), n += ' <span class="byline-badge ' + t.cssClass + '">' + t.cssClass + "</span>", t.link && (n += "</a>"), n += ""), n += ""
            }, n.templates.title_owner_byline = function(t) {
                var n = "";
                return t.linkToOwner ? (n += '<a href="' + t.ownerLink + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ' data-track-click="' + t.ClickTargets.VIDEO_BYLINE + '" aria-describedby="new-window">', n += this.escape(t.owner) || "", n += "</a>") : (n += '<span class="user">', n += this.escape(t.owner) || "", n += "</span>"), n += ""
            }, n.templates.title = function(t) {
                var n = '<header class="vp-title-header"> ';
                return t.showPortrait && (n += ' <div class="vp-portrait" aria-hidden="true"> ', t.linkToOwner && (n += '<a tabindex="-1" href="' + t.ownerLink + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ">"), n += ' <img src="' + t.portraitImg + '" alt="' + t.portraitAlt + '" width="60" height="60" data-track-click="' + t.ClickTargets.VIDEO_PORTRAIT + '"> ', t.linkToOwner && (n += "</a>"), n += " </div> "), n += ' <div class="headers"> ', t.showTitle && (n += ' <h1 aria-describedby="new-window"> ', t.showTitleLink && (n += '<a href="' + t.titleLink + '"', t.targetBlank && (n += ' target="_blank" rel="noopener"'), n += ' data-track-click="' + t.ClickTargets.VIDEO_TITLE + '">'), n += this.escape(t.title) || "", t.showTitleLink && (n += "</a>"), t.is360 && (n += '<div class="threesix-badge-title">360</div>'), t.hasHDR && (n += '<div class="hashdr-badge-title">HDR</div>'), n += " </h1> "), t.showByline && (n += ' <div class="sub-title"><h2 class="byline-from">' + t.strings.byline + "</h2> ", t.is360 && !t.showTitle && (n += ' <div class="threesix-badge-byline">360</div> '), t.hasHDR && !t.showTitle && (n += ' <div class="hashdr-badge-byline">HDR</div> '), n += " </div> "), !t.is360 || t.showByline || t.showTitle || (n += ' <div class="threesix-badge-loner">360</div> '), !t.hasHDR || t.showByline || t.showTitle || (n += ' <div class="hashdr-badge-loner">HDR</div> '), n += " </div></header>"
            }, n.templates.unmute_button = function(t) {
                var n = '<button type="button" class="vp-unmute-button"> ';
                return n += this.render("icon_muted") || "", n += ' <span class="vp-unmute-button-title">' + t.title + "</span></button>"
            }, t.exports ? t.exports = n : window.Aftershave = n
        }()
    });

    function nl(t, n) {
        var i, e = 600,
            r = t.querySelector(".vp-shade"),
            o = t.querySelector(".vp-spin");

        function u() {
            clearTimeout(i), i = setTimeout(function() {
                r.classList.remove("vp-shade-invisible"), o.classList.remove("vp-spin-invisible")
            }, e)
        }

        function a() {
            clearTimeout(i), r.classList.add("vp-shade-invisible"), o.classList.add("vp-spin-invisible")
        }
        return n.on(tt.BUFFER_STARTED, u), n.on([tt.BUFFER_ENDED, Ua.oe], a), Hs.on(Us.buffering, function() {
            o.classList.remove("vp-spin-invisible")
        }), Hs.on([Us.playing, Us.paused], function() {
            clearTimeout(i), o.classList.add("vp-spin-invisible")
        }), Hs.on(Us.connected, function() {
            r.classList.remove("vp-shade-invisible")
        }), Hs.on(Us.disconnected, function() {
            a()
        }), {}
    }
    var il = function(t) {
        return function(n) {
            for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) e[r - 1] = arguments[r];
            return e.forEach(function(i) {
                for (var e in i) {
                    var r = Object.getOwnPropertyDescriptor(i, e);
                    Object.defineProperty(n, e, Object.assign(r, t))
                }
            }), n
        }
    }({
        enumerable: !0,
        configurable: !0,
        writeable: !1
    });

    function el() {
        return void 0 !== window.performance && "function" == typeof window.performance.now ? window.performance.now() : Date.now()
    }

    function rl(t) {
        return ol() - t
    }

    function ol() {
        return parseInt(el() / 1e3, 10)
    }

    function ul(t) {
        return parseInt(Date.now() / 1e3, 10) - t
    }

    function al(t) {
        var n = t.getHours(),
            i = t.getMinutes(),
            e = n >= 12 ? "PM" : "AM";
        return (n = (n %= 12) || 12) + ":" + (i = i < 10 ? "0" + i : i) + " " + e
    }

    function sl(t, n) {
        var i = Math.floor(t / 3600 % 60),
            e = Math.floor(t / 60 % 60);
        if (t = Math.floor(t % 60), n) {
            var r = t + " second" + (1 === t ? "" : "s");
            return e > 0 && (r = e + " minute" + (1 === e ? "" : "s") + ", " + r), i > 0 && (r = i + " hour" + (1 === i ? "" : "s") + ", " + r), r
        }
        return (i > 0 ? i + ":" : "") + cl(e, 2) + ":" + cl(t, 2)
    }

    function cl(t, n, i) {
        return t = String(t), new Array(n - t.length + 1).join(i || "0") + t
    }
    var fl = "Expected a function";

    function ll(t, n, i) {
        var e = !0,
            r = !0;
        if ("function" != typeof t) throw new TypeError(fl);
        return wr(i) && (e = "leading" in i ? !!i.leading : e, r = "trailing" in i ? !!i.trailing : r), Rs(t, n, {
            leading: e,
            maxWait: n,
            trailing: r
        })
    }
    var hl = function() {
            if (void 0 !== I) return I;

            function t(t, n) {
                var i = -1;
                return t.some(function(t, e) {
                    return t[0] === n && (i = e, !0)
                }), i
            }
            return function() {
                function n() {
                    this.Tf = []
                }
                return Object.defineProperty(n.prototype, "size", {
                    get: function() {
                        return this.Tf.length
                    },
                    enumerable: !0,
                    configurable: !0
                }), n.prototype.get = function(n) {
                    var i = t(this.Tf, n),
                        e = this.Tf[i];
                    return e && e[1]
                }, n.prototype.set = function(n, i) {
                    var e = t(this.Tf, n);
                    ~e ? this.Tf[e][1] = i : this.Tf.push([n, i])
                }, n.prototype.delete = function(n) {
                    var i = this.Tf,
                        e = t(i, n);
                    ~e && i.splice(e, 1)
                }, n.prototype.has = function(n) {
                    return !!~t(this.Tf, n)
                }, n.prototype.clear = function() {
                    this.Tf.splice(0)
                }, n.prototype.forEach = function(t, n) {
                    void 0 === n && (n = null);
                    for (var i = 0, e = this.Tf; i < e.length; i++) {
                        var r = e[i];
                        t.call(n, r[1], r[0])
                    }
                }, n
            }()
        }(),
        dl = "undefined" != typeof window && "undefined" != typeof document && window.document === document,
        vl = "undefined" != typeof global && global.Math === Math ? global : "undefined" != typeof self && self.Math === Math ? self : "undefined" != typeof window && window.Math === Math ? window : Function("return this")(),
        pl = "function" == typeof requestAnimationFrame ? requestAnimationFrame.bind(vl) : function(t) {
            return setTimeout(function() {
                return t(Date.now())
            }, 1e3 / 60)
        },
        ml = 2;
    var bl = 20,
        wl = ["top", "right", "bottom", "left", "width", "height", "size", "weight"],
        yl = "undefined" != typeof MutationObserver,
        gl = function() {
            function t() {
                this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = function(t, n) {
                    var i = !1,
                        e = !1,
                        r = 0;

                    function o() {
                        i && (i = !1, t()), e && a()
                    }

                    function u() {
                        pl(o)
                    }

                    function a() {
                        var t = Date.now();
                        if (i) {
                            if (t - r < ml) return;
                            e = !0
                        } else i = !0, e = !1, setTimeout(u, n);
                        r = t
                    }
                    return a
                }(this.refresh.bind(this), bl)
            }
            return t.prototype.addObserver = function(t) {
                ~this.observers_.indexOf(t) || this.observers_.push(t), this.connected_ || this.connect_()
            }, t.prototype.removeObserver = function(t) {
                var n = this.observers_,
                    i = n.indexOf(t);
                ~i && n.splice(i, 1), !n.length && this.connected_ && this.disconnect_()
            }, t.prototype.refresh = function() {
                this.updateObservers_() && this.refresh()
            }, t.prototype.updateObservers_ = function() {
                var t = this.observers_.filter(function(t) {
                    return t.gatherActive(), t.hasActive()
                });
                return t.forEach(function(t) {
                    return t.broadcastActive()
                }), t.length > 0
            }, t.prototype.connect_ = function() {
                dl && !this.connected_ && (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), yl ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
                    attributes: !0,
                    childList: !0,
                    characterData: !0,
                    subtree: !0
                })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0)
            }, t.prototype.disconnect_ = function() {
                dl && this.connected_ && (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1)
            }, t.prototype.onTransitionEnd_ = function(t) {
                var n = t.propertyName,
                    i = void 0 === n ? "" : n;
                wl.some(function(t) {
                    return !!~i.indexOf(t)
                }) && this.refresh()
            }, t.getInstance = function() {
                return this.instance_ || (this.instance_ = new t), this.instance_
            }, t.instance_ = null, t
        }(),
        El = function(t, n) {
            for (var i = 0, e = Object.keys(n); i < e.length; i++) {
                var r = e[i];
                Object.defineProperty(t, r, {
                    value: n[r],
                    enumerable: !1,
                    writable: !1,
                    configurable: !0
                })
            }
            return t
        },
        kl = function(t) {
            return t && t.ownerDocument && t.ownerDocument.defaultView || vl
        },
        _l = Ol(0, 0, 0, 0);

    function Tl(t) {
        return parseFloat(t) || 0
    }

    function Sl(t) {
        for (var n = [], i = 1; i < arguments.length; i++) n[i - 1] = arguments[i];
        return n.reduce(function(n, i) {
            return n + Tl(t["border-" + i + "-width"])
        }, 0)
    }

    function Al(t) {
        var n = t.clientWidth,
            i = t.clientHeight;
        if (!n && !i) return _l;
        var e = kl(t).getComputedStyle(t),
            r = function(t) {
                for (var n = {}, i = 0, e = ["top", "right", "bottom", "left"]; i < e.length; i++) {
                    var r = e[i],
                        o = t["padding-" + r];
                    n[r] = Tl(o)
                }
                return n
            }(e),
            o = r.left + r.right,
            u = r.top + r.bottom,
            a = Tl(e.width),
            s = Tl(e.height);
        if ("border-box" === e.boxSizing && (Math.round(a + o) !== n && (a -= Sl(e, "left", "right") + o), Math.round(s + u) !== i && (s -= Sl(e, "top", "bottom") + u)), ! function(t) {
                return t === kl(t).document.documentElement
            }(t)) {
            var c = Math.round(a + o) - n,
                f = Math.round(s + u) - i;
            1 !== Math.abs(c) && (a -= c), 1 !== Math.abs(f) && (s -= f)
        }
        return Ol(r.left, r.top, a, s)
    }
    var xl = "undefined" != typeof SVGGraphicsElement ? function(t) {
        return t instanceof kl(t).SVGGraphicsElement
    } : function(t) {
        return t instanceof kl(t).SVGElement && "function" == typeof t.getBBox
    };

    function Ml(t) {
        return dl ? xl(t) ? function(t) {
            var n = t.getBBox();
            return Ol(0, 0, n.width, n.height)
        }(t) : Al(t) : _l
    }

    function Ol(t, n, i, e) {
        return {
            x: t,
            y: n,
            width: i,
            height: e
        }
    }
    var Rl = function() {
            function t(t) {
                this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = Ol(0, 0, 0, 0), this.target = t
            }
            return t.prototype.isActive = function() {
                var t = Ml(this.target);
                return this.contentRect_ = t, t.width !== this.broadcastWidth || t.height !== this.broadcastHeight
            }, t.prototype.broadcastRect = function() {
                var t = this.contentRect_;
                return this.broadcastWidth = t.width, this.broadcastHeight = t.height, t
            }, t
        }(),
        Cl = function() {
            return function(t, n) {
                var i = function(t) {
                    var n = t.x,
                        i = t.y,
                        e = t.width,
                        r = t.height,
                        o = "undefined" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object,
                        u = Object.create(o.prototype);
                    return El(u, {
                        x: n,
                        y: i,
                        width: e,
                        height: r,
                        top: i,
                        right: n + e,
                        bottom: r + i,
                        left: n
                    }), u
                }(n);
                El(this, {
                    target: t,
                    contentRect: i
                })
            }
        }(),
        Il = function() {
            function t(t, n, i) {
                if (this.activeObservations_ = [], this.observations_ = new hl, "function" != typeof t) throw new TypeError("The callback provided as parameter 1 is not a function.");
                this.callback_ = t, this.controller_ = n, this.callbackCtx_ = i
            }
            return t.prototype.observe = function(t) {
                if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
                if ("undefined" != typeof Element && Element instanceof Object) {
                    if (!(t instanceof kl(t).Element)) throw new TypeError('parameter 1 is not of type "Element".');
                    var n = this.observations_;
                    n.has(t) || (n.set(t, new Rl(t)), this.controller_.addObserver(this), this.controller_.refresh())
                }
            }, t.prototype.unobserve = function(t) {
                if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
                if ("undefined" != typeof Element && Element instanceof Object) {
                    if (!(t instanceof kl(t).Element)) throw new TypeError('parameter 1 is not of type "Element".');
                    var n = this.observations_;
                    n.has(t) && (n.delete(t), n.size || this.controller_.removeObserver(this))
                }
            }, t.prototype.disconnect = function() {
                this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this)
            }, t.prototype.gatherActive = function() {
                var t = this;
                this.clearActive(), this.observations_.forEach(function(n) {
                    n.isActive() && t.activeObservations_.push(n)
                })
            }, t.prototype.broadcastActive = function() {
                if (this.hasActive()) {
                    var t = this.callbackCtx_,
                        n = this.activeObservations_.map(function(t) {
                            return new Cl(t.target, t.broadcastRect())
                        });
                    this.callback_.call(t, n, t), this.clearActive()
                }
            }, t.prototype.clearActive = function() {
                this.activeObservations_.splice(0)
            }, t.prototype.hasActive = function() {
                return this.activeObservations_.length > 0
            }, t
        }(),
        Ll = void 0 !== P ? new P : new hl,
        Dl = function() {
            return function t(n) {
                if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function.");
                if (!arguments.length) throw new TypeError("1 argument required, but only 0 present.");
                var i = gl.getInstance(),
                    e = new Il(n, i, this);
                Ll.set(this, e)
            }
        }();
    ["observe", "unobserve", "disconnect"].forEach(function(t) {
        Dl.prototype[t] = function() {
            var n;
            return (n = Ll.get(this))[t].apply(n, arguments)
        }
    });
    var jl = void 0 !== vl.ResizeObserver ? vl.ResizeObserver : Dl;

    function Pl(t, n, i) {
        var e = a() ? i.parentElement : i,
            r = ll(o, 150);

        function o() {
            var t = ha(e),
                i = t.width,
                r = t.height;
            n.dispatch(Uc(i, r))
        }

        function u(n) {
            t.events.fire(Ua.pc, [{
                bottom: n
            }])
        }

        function a() {
            return i.parentElement === document.body
        }

        function s(t) {
            var n = t.size,
                r = t.ratio,
                o = t.bottom;
            a() && (e.classList.toggle("vp-center", "contain" === n), function(t, n) {
                [].concat(n).map(function(n) {
                    return t.style.removeProperty(n)
                })
            }(i, ["height", "max-width", "max-height", "bottom"]), "contain" !== n ? o > 0 && Sa(i, {
                height: "calc(100% - ".concat(o, "px)"),
                bottom: "".concat(o / 2, "px")
            }) : Sa(i, o > 0 ? {
                maxWidth: "calc((100vh - ".concat(o, "px) / ").concat(r, ")"),
                maxHeight: "calc(100vh - ".concat(o, "px)"),
                height: "calc(".concat(r, " * 100vw)"),
                bottom: "".concat(o / 2, "px")
            } : {
                maxWidth: "calc(100vh / ".concat(r, ")"),
                height: "calc(".concat(r, " * 100vw)")
            }))
        }
        n.watch("ui.layout.bottom", u), n.watch("ui.layout.settings", s), s(n.get("ui.layout.settings")), new jl(r).observe(e), window.addEventListener("orientationchange", r), t.events.on(Ua.ts, r), t.events.on(Ua.es, r), o()
    }

    function Nl(t, n, i) {
        this.constructorName = "MessageApiError", this.message = t, this.name = n, this.source = i
    }

    function Ul(t, n) {
        return null == n || n != n ? t : n
    }
    if (Nl.prototype = new Error, "object" === ("undefined" == typeof process ? "undefined" : N(process)) && "function" == typeof process.nextTick) process.nextTick;
    else if ("function" == typeof e) {
        var Fl = e.resolve();
        Fl.then.bind(Fl)
    } else "function" == typeof setImmediate ? setImmediate : setTimeout;

    function Vl(t, n) {
        return null != n && (n.constructor === t || n instanceof t)
    }(function(t) {
        var n = Math[t]
    })("round"),
    function(t, n) {
        for (var i = this, e = arguments.length, r = new Array(e > 2 ? e - 2 : 0), o = 2; o < e; o++) r[o - 2] = arguments[o];
        (function e(r) {
            return r.length >= t ? n.apply(i, r) : function() {
                for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                return e(r.concat(n))
            }
        })(r)
    }(2, function(t, n) {
        return t(n), n
    });

    function Bl(t) {
        return t
    }

    function Hl(t) {
        if (!t || "" === t) return {};
        if ("object" === N(t)) return t;
        try {
            return JSON.parse(t)
        } catch (t) {
            return {}
        }
    }

    function Wl(t) {}
    var ql = function(t) {
        return function(n) {
            for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) e[r - 1] = arguments[r];
            return e.forEach(function(i) {
                for (var e in i) {
                    var r = Object.getOwnPropertyDescriptor(i, e);
                    Object.defineProperty(n, e, Object.assign(r, t))
                }
            }), n
        }
    }({
        enumerable: !0,
        configurable: !0,
        writeable: !1
    });
    var zl = {
            captureException: function(t) {},
            captureMessage: function(t) {},
            captureBreadcrumb: function() {}
        },
        Gl = zl;
    var Yl = {
        set: function(t) {
            Gl = Object.assign({}, zl, t)
        },
        captureException: function(t, n) {
            return Gl.captureException(t, n)
        },
        captureMessage: function(t, n) {
            return Gl.captureMessage(t, n)
        },
        captureBreadcrumb: function(t, n) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "backbone",
                e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : "info";
            return Gl.captureBreadcrumb(t, n, i, e)
        }
    };

    function Kl(t) {
        var n = function(t) {
                var n = document.referrer || t;
                try {
                    n = decodeURIComponent(n)
                } catch (t) {
                    n = unescape(n)
                }
                return n
            }(t),
            i = {},
            r = {},
            o = {
                parseMessage: Hl,
                buildMessage: Bl,
                logError: Wl
            },
            u = {};
        var a = {
            get methods() {
                return i
            },
            extendMethods: function() {
                for (var t = arguments.length, n = new Array(t), e = 0; e < t; e++) n[e] = arguments[e];
                ql.apply(void 0, [i].concat(n))
            },
            get listeners() {
                return u
            },
            set listeners(t) {
                u = t
            },
            emit: function(t) {
                for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++) i[e - 1] = arguments[e];
                if (function() {
                        if (r) {
                            for (var t, n, i = arguments.length, e = new Array(i), o = 0; o < i; o++) e[o] = arguments[o];
                            if (r.global && r.global.length)
                                for (t = 0; t < r.global.length; t++)
                                    if (!(n = r.global[t]).apply(n, e)) return !1;
                            var u = e[0];
                            if (r.event && r.event[u] && r.event[u].length)
                                for (t = 0; t < r.event[u].length; t++)
                                    if (!(n = r.event[u][t]).apply(n, e)) return !1
                        }
                        return !0
                    }.apply(void 0, [t].concat(i))) {
                    var o = {
                        event: t
                    };
                    i && i[0] && (o.data = i[0]), c(o)
                }
            },
            filter: function(t, n) {
                !n && Vl(Function, t) && (n = t, t = null), t ? function(t, n) {
                    r.event = r.event || {}, r.event[t] = r.event[t] || [], r.event[t].push(n)
                }(t, n) : function(t) {
                    r.global = r.global || [], r.global.push(t)
                }(n)
            },
            hooks: function() {
                for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                return ql.apply(void 0, [o].concat(n))
            }
        };

        function s(t) {
            if (t.source === window.parent) {
                var n = o.parseMessage(t.data),
                    r = n.method,
                    u = n.value;
                if (!(void 0 === r || "string" != typeof r || r.indexOf("_") > -1)) try {
                    var a = function(t, n) {
                        if (!t) return null;
                        var i = Object.getOwnPropertyDescriptor(n, t);
                        if (i && Vl(Function, i.value)) return i.value;
                        if (i && Vl(Function, i.get)) return i.get;
                        var e = t.substr(0, 3),
                            r = t.substr(3, 1).toLowerCase() + t.substr(4);
                        return i = Object.getOwnPropertyDescriptor(n, r), "get" === e && i && Vl(Function, i.get) ? i.get : "set" === e && i && Vl(Function, i.set) ? i.set : null
                    }(r, i);
                    if (!a) throw new Nl("".concat(t, " is not a valid method. Valid methods are: ").concat(function(t) {
                        return Object.keys(t).reduce(function(n, i) {
                            var e = Object.getOwnPropertyDescriptor(t, i);
                            return Vl(Function, e.value) ? (n.push(i), n) : (Vl(Function, e.get) && n.push("get" + i.charAt(0).toUpperCase() + i.slice(1)), Vl(Function, e.set) && n.push("set" + i.charAt(0).toUpperCase() + i.slice(1)), n)
                        }, []).sort()
                    }(i).join(", "), "."), "TypeError", r);
                    Yl.captureBreadcrumb("API message received", n, "api"), e.resolve(a.call(t, u)).then(function(t) {
                        return c({
                            method: r,
                            value: Ul(u, t)
                        })
                    }).catch(o.logError)
                } catch (t) {
                    o.logError(t)
                }
            }
        }

        function c(t) {
            if (window.postMessage && window.parent.postMessage && (t = o.buildMessage(t), window.parent != window)) try {
                var i = n && "null" !== n ? n : "*";
                window.parent.postMessage(t, i)
            } catch (t) {}
        }
        return window.addEventListener("message", s, !1), a
    }

    function $l() {
        for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
        if (1 === n.length && n[0] instanceof $l) {
            var e = n[0];
            return this.red = e.red, this.green = e.green, this.blue = e.blue, this.alpha = e.alpha, this.hue = e.hue, this.saturation = e.saturation, this.lightness = e.lightness, this
        }
        if (1 === n.length) {
            if ("string" == typeof n[0] && n[0].indexOf("rgb") >= 0) return this.rgba = function(t) {
                var n = /rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(,\s*([\d.]+))?\)/.exec(t);
                if (!n) throw new Error("Invalid rgb value");
                return {
                    red: parseInt(n[1], 10),
                    green: parseInt(n[2], 10),
                    blue: parseInt(n[3], 10),
                    alpha: parseFloat(n[5]) || 1
                }
            }(n[0]), this;
            if (! function(t) {
                    return "string" == typeof(t = t.replace("#", "")) && (3 === t.length || 6 === t.length) && !isNaN(parseInt(t, 16))
                }("".concat(n[0]))) throw new Error("Invalid hex value");
            return this.hex = n[0], this
        }
        if (3 === n.length || 4 === n.length) {
            for (var r = 0; r < 3; r++)
                if (isNaN(parseInt(n[r], 10)) || parseInt(n[r], 10) < 0 || parseInt(n[r], 10) > 255) throw new Error("Invalid rgb value");
            if (n[3] && parseFloat(n[3]) < 0 || parseFloat(n[3]) > 1) throw new Error("Invalid alpha value");
            return this.rgba = {
                red: n[0],
                green: n[1],
                blue: n[2],
                alpha: parseFloat(n[3]) || 1
            }, this
        }
        throw new Error("Invalid color")
    }

    function Xl(t, n) {
        switch (t.view) {
            case za.privateLocked:
                throw new Nl("The video is private.", "PrivacyError", n);
            case za.privatePassword:
                throw new Nl("The video is password-protected. The viewer must enter the password first.", "PasswordError", n);
            case za.error:
                throw new Nl(t.message, "NotFoundError", n)
        }
    }

    function Jl(t) {
        return j(t).map(function(n, i) {
            return [t.start(i), t.end(i)]
        })
    }

    function Zl(t) {
        var n, i, r, o = t.events,
            u = $(),
            a = !1,
            s = !1,
            c = null,
            f = !1,
            l = null,
            h = null;

        function d(n) {
            i !== n && (i = n, t.config.embed.api = n)
        }
        var v = {
                ping: function() {
                    return t.config.video.id
                },
                on: function(t, i) {
                    t in Ya && (t = Ya[t]);
                    var e = xa(Ga);
                    if (e.indexOf(t) < 0) throw new Nl("".concat(t, " is not a valid event. Valid events are: ").concat(e.join(", "), "."), "TypeError", "on");
                    i && u.on(t, i), n && (n.listeners[t] = !0), t === Ga.LOADED && D()
                },
                off: function(t, i) {
                    i && u.off(t, i), n && (n.listeners[t] = !1)
                },
                play: function() {
                    return new e(function(n, i) {
                        o.once(Ua.ya, n), o.once(Ua.wa, function(t) {
                            i(new Nl(t.message, t.name, "play"))
                        }), Xl(t.config, "play"), o.fire(Fa.Hc), o.fire(Ua.Da)
                    })
                },
                destroy: function() {
                    o.fire(Pa.pa)
                },
                pause: function() {
                    Xl(t.config, "pause"), o.fire(Fa.Wc), o.fire(Ua.La)
                },
                loadVideo: function(n) {
                    var i = function(t) {
                            if (!t) return {};
                            if (aa(t)) return {
                                id: parseInt(t, 10),
                                params: {}
                            };
                            if ("string" == typeof t) return 0 !== t.indexOf("https://") ? {} : {
                                url: t,
                                params: {}
                            };
                            if ("url" in t) {
                                if (0 !== t.url.indexOf("https://")) return {};
                                var n = t.url;
                                return delete t.url, {
                                    url: n,
                                    params: t
                                }
                            }
                            if ("id" in t) {
                                if (!aa(t.id)) return {};
                                var i = t.id;
                                return delete t.id, {
                                    id: parseInt(i, 10),
                                    params: t
                                }
                            }
                            return {}
                        }(n),
                        e = i.id,
                        r = i.url,
                        o = i.params;
                    if (!e && !r) throw new Nl("The video id must be an integer.", "TypeError", "loadVideo");
                    if (r && r.match(null === new RegExp("^https?://".concat(t.config.player_url, "/video/([0-9]+)/config")))) throw new Nl("The config url must be a valid Vimeo url.", "TypeError", "loadVideo");
                    return t.loadVideo(r || e, o).then(function() {
                        return n
                    }).catch(function() {
                        throw Xl(t.config, "loadVideo"), new Nl("An error occurred loading the video.", "Error", "loadVideo")
                    })
                },
                unload: function() {
                    t.config.view !== za.main && t.config.view !== za.privateUnlocked || o.fire(Pa.Gu)
                },
                addCuePoint: function(n, i) {
                    if (n = parseFloat(n), isNaN(n) || n < 0 || n > t.config.video.duration) throw new Nl("Cue point time must be positive number less than the duration of the video (".concat(ga(t.config.video.duration), ")."), "RangeError", "addCuePoint");
                    try {
                        var e = t.backbone.addCuePoint(n, i);
                        return setTimeout(function() {
                            o.fire(Ua.za, e)
                        }, 0), e.id
                    } catch (t) {
                        if ("CuePointsNotSupported" === t.name) throw new Nl("Cue points are not supported in the current player.", "UnsupportedError", "addCuePoint");
                        throw new Nl("Unable to add cue point", "InvalidCuePoint", "addCuePoint")
                    }
                },
                removeCuePoint: function(n) {
                    var i = t.backbone.cuePoints.filter(function(t) {
                        return t.id === n
                    })[0];
                    if (!i) throw new Nl("Cue point ".concat(n, " was not found."), "InvalidCuePoint", "removeCuePoint");
                    t.backbone.removeCuePoint(i), setTimeout(function() {
                        o.fire(Ua.Ga, i)
                    }, 0)
                },
                enableTextTrack: function(n) {
                    var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                        u = ("text_tracks" in t.config.request ? t.config.request.text_tracks : []).map(function(t) {
                            return t.language = t.lang, t
                        });
                    if (!u.some(function(t) {
                            return t.language.toLowerCase() === n.toLowerCase()
                        })) throw new Nl("There are no tracks for ".concat(n.toUpperCase(), "."), "InvalidTrackLanguageError", "enableTextTrack");
                    var a = function(t) {
                        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];
                        if (!t || "null" === t || 0 === n.length) return {
                            track: null
                        };
                        var i = Y(t.split("."), 2),
                            e = i[0],
                            r = i[1],
                            o = Y(e.split(/[-_]/), 1)[0],
                            u = e !== o,
                            a = n.filter(function(t) {
                                return u && t.language === e || t.language === o
                            }).sort(function(t, n) {
                                var i = 2 * (t.language === o && t.kind === r) + 2 * (t.language === e) + 1 * (t.kind === r);
                                return 2 * (n.language === o && n.kind === r) + 2 * (n.language === e) + 1 * (n.kind === r) - i
                            });
                        return a.length > 0 ? {
                            track: a[0],
                            exactMatch: a[0].language === e && a[0].kind === r
                        } : {
                            track: null
                        }
                    }(r ? "".concat(n, ".").concat(r) : n, u).track;
                    if (!a || r && a.kind !== r) throw new Nl("There are no ".concat(r, " tracks for ").concat(n.toUpperCase(), "."), "InvalidTrackError", "enableTextTrack");
                    return o.fire(Pa.ia, a.id), i < 3 ? null : new e(function(t, n) {
                        o.once(Ua.qa, function(n, i) {
                            t({
                                label: n.label,
                                language: n.language,
                                kind: n.kind
                            })
                        })
                    })
                },
                disableTextTrack: function() {
                    o.fire(Pa.ea)
                },
                get autopause() {
                    return !!t.config.embed.autopause
                },
                set autopause(n) {
                    t.config.embed.autopause = !!n
                },
                get chromecasting() {
                    return !!Hs.currentSession
                },
                get color() {
                    return t.config.embed.color.replace("#", "")
                },
                set color(n) {
                    if (t.config.embed.settings.color && !t.config.embed.on_site) throw new Nl("The creator of the video has chosen to always use ".concat(new $l(t.config.embed.color).hex, "."), "EmbedSettingsError", "setColor");
                    try {
                        var i = new $l(n);
                        o.fire(Pa.Xu, i.hex)
                    } catch (t) {
                        throw new Nl("The color should be 3- or 6-digit hex value.", "TypeError", "setColor")
                    }
                    var e = new $l(23, 35, 34, .75);
                    if (e.contrast(i).ratio < 3) {
                        var r = i.clone().lighten(5, 3, e);
                        throw new Nl("".concat(i.hex, " does not meet minimum contrast ratio. We recommend using brighter colors. (You could try ").concat(r.hex, " instead.) See WCAG 2.0 guidelines: http://www.w3.org/TR/WCAG/#visual-audio-contrast"), "ContrastError", "setColor")
                    }
                },
                get cuePoints() {
                    return t.backbone.cuePoints.map(function(t) {
                        return {
                            time: t.time,
                            data: t.data,
                            id: t.id
                        }
                    })
                },
                get currentTime() {
                    return t.currentTime
                },
                set currentTime(n) {
                    if (n = parseFloat(n), isNaN(n) || n < 0 || n > t.config.video.duration) throw new Nl("Seconds must be a positive number less than the duration of the video (".concat(ga(t.config.video.duration), ")."), "RangeError", "setCurrentTime");
                    return o.fire(Fa.Hu), o.fire(Pa.Hu, null, n), o.fire(Ua.Is), i < 3 ? null : new e(function(t, n) {
                        o.once(J.SEEKED, function(n) {
                            var i = n.currentTime;
                            t(i)
                        })
                    })
                },
                get duration() {
                    return ga(t.config.video.duration)
                },
                get ended() {
                    return !!t.backbone.ended
                },
                get loop() {
                    return !!t.config.embed.loop
                },
                set loop(t) {
                    o.fire(Pa.Yu, t)
                },
                set muted(n) {
                    t.backbone.muted = n
                },
                get muted() {
                    return t.backbone.muted
                },
                get paused() {
                    return !(t.backbone && "paused" in t.backbone) || !!t.backbone.paused
                },
                get buffered() {
                    return Jl(t.backbone.buffered)
                },
                get played() {
                    return Jl(t.backbone.played)
                },
                get seekable() {
                    return Jl(t.backbone.seekable)
                },
                get seeking() {
                    return t.backbone.seeking
                },
                get playbackRate() {
                    return t.backbone ? t.backbone.playbackRate : 1
                },
                set playbackRate(n) {
                    if (!t.config.embed.settings.speed) throw new Nl("Setting the playback rate is not enabled for this video.", "Error", "setPlaybackRate");
                    if (isNaN(n) || n < qa.low || n > qa.high) throw new Nl("Playback rate should be a number between ".concat(qa.low, " and ").concat(qa.high, "."), "RangeError", "setPlaybackRate");
                    o.fire(Pa.va, n)
                },
                get textTracks() {
                    return (t.backbone ? t.backbone.video.textTracks : []).map(function(t) {
                        return {
                            label: t.label,
                            language: t.language,
                            kind: t.kind,
                            mode: t === l ? "showing" : "disabled"
                        }
                    })
                },
                get videoEmbedCode() {
                    return t.config.video.embed_code
                },
                get videoHeight() {
                    return t.backbone.videoHeight || t.config.video.height
                },
                get videoId() {
                    return t.config.video.id
                },
                get videoTitle() {
                    return t.config.video.title
                },
                get videoWidth() {
                    return t.backbone.videoWidth || t.config.video.width
                },
                get videoUrl() {
                    if (!t.config.video.url) throw new Nl("The URL is not available because of the videos privacy settings.", "PrivacyError", "getVideoUrl");
                    return t.config.video.url
                },
                get volume() {
                    var n = ga(t.config.request.cookie.volume);
                    return 1 === i ? Math.round(100 * n) : n
                },
                set volume(t) {
                    if (t = parseFloat(t), 1 === i && (t /= 100), isNaN(t) || t < 0 || t > 1) throw new Nl("Volume should be a number between 0 and 1.", "RangeError", "setVolume");
                    h = t;
                    o.fire(Pa.Wu, t, !0)
                },
                _loadVideo: function(n, i) {
                    return t.loadVideo(n, i)
                },
                get _like() {
                    return !!t.config.user.liked
                },
                set _like(n) {
                    if (t.config.embed.on_site) {
                        if (t.config.user.liked === n) return;
                        o.fire(Ua.rs, n)
                    }
                },
                get _watchLater() {
                    return !!t.config.user.watch_later
                },
                set _watchLater(n) {
                    if (t.config.embed.on_site) {
                        if (t.config.user.watch_later === n) return;
                        o.fire(Ua.os, n)
                    }
                },
                _addCard: function(t) {
                    o.fire(Pa._addCard, t)
                },
                _removeCard: function(t) {
                    o.fire(Pa._removeCard, t)
                },
                _setOutro: function(n, i) {
                    t.config.embed.outro !== n ? (o.fire(Pa._hideOutro), setTimeout(function() {
                        t.config.embed.outro = n, o.fire(Pa.oa, n, i)
                    }, 400)) : o.fire(Pa.oa, n, i)
                },
                _hideOutro: function() {
                    o.fire(Pa._hideOutro)
                },
                _setEmailCapture: function(n) {
                    if (n) {
                        if (t.config.embed.email = t.config.embed.email || {}, t.config.embed.email.position = n.position.toLowerCase(), "after" === n.position.toLowerCase()) return t.config.embed.outro = "email", void o.fire(Pa.oa, "email", {
                            version: 2,
                            data: n
                        });
                        t.config.embed.email.timecode = n.timecode, n.nohide = !0, n.noblur = !0, n.nofocus = co(n, "nofocus", !0), v._showOverlay("email-capture", n)
                    } else v._unsetEmailCapture()
                },
                _unsetEmailCapture: function() {
                    t.config.embed.outro && (o.fire(Pa._hideOutro), delete t.config.embed.outro), t.config.embed.email && (o.fire(Pa.qu, {
                        unmakeModal: !0
                    }), delete t.config.embed.email)
                },
                _showOverlay: function(t, n) {
                    o.fire(Pa._showOverlay, t, n)
                },
                _fireEvent: function() {
                    for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                    o.fire.apply(null, n)
                },
                _setEmbedEditor: function(n) {
                    t.config.embed.editor = !!n
                },
                _setEmbedSettings: function(n) {
                    t.config.embed.on_site && (Object.keys(n).forEach(function(i) {
                        var e = n[i];
                        e = "object" === N(e) ? e : Number(e), "badge" === i && (e ? e = r : r = t.config.embed.settings.badge), t.config.embed.settings[i] = e, o.fire(Ua.Js, i, e)
                    }), o.fire(Ua.qs, !1, t.config))
                },
                _setEmbedSetting: function(n, i) {
                    t.config.embed.on_site && (i = "object" === N(i) ? i : Number(i), "badge" === n && (i ? i = r : r = t.config.embed.settings.badge), t.config.embed.settings[n] = i, o.fire(Ua.Js, n, i), o.fire(Ua.qs, !1, t.config))
                },
                _setOTTVideoMetadata: function(n) {
                    t.config.request.flags.ott && (t.ottVideoMetadata = n, o.fire(Ua.Zs, n))
                },
                _toggleDebugPanel: function() {
                    o.fire(Ua.ks)
                },
                _overrideControlbarBehavior: function(t) {
                    o.fire(Pa._overrideControlbarBehavior, t)
                },
                _setControlbarVisibility: function(t) {
                    o.fire(Pa.aa, t)
                },
                get _fieldOfView() {
                    var n = t.backbone.getEffectByName("ThreeSixtyEffect");
                    if (t.backbone && !n) throw new Nl("Field of view is not available in the current player.", "UnsupportedError", "getFieldOfView");
                    return n.fieldOfView
                },
                set _fieldOfView(n) {
                    var i = t.backbone.getEffectByName("ThreeSixtyEffect");
                    if (t.backbone && !i) throw new Nl("Field of view is not available in the current player.", "UnsupportedError", "setFieldOfView");
                    t.backbone.getEffectByName("ThreeSixtyEffect").fieldOfView = n
                },
                get _coordinates() {
                    var n = t.backbone.getEffectByName("ThreeSixtyEffect");
                    if (t.backbone && !n) throw new Nl("Coordinates are not available in the current player.", "UnsupportedError", "getCoordinates");
                    return n.currentCoordinates
                },
                set _coordinates(n) {
                    var i = t.backbone.getEffectByName("ThreeSixtyEffect");
                    if (t.backbone && !i) throw new Nl("Coordinates are not available in the current player.", "UnsupportedError", "setCoordinates");
                    try {
                        t.backbone.getEffectByName("ThreeSixtyEffect").currentCoordinates = n
                    } catch (t) {
                        throw new Nl(t.message, "RangeError", "setCoordinates")
                    }
                },
                _setChromecastUI: function(t) {
                    var n = Hs.currentSession;
                    n && wu(t) && n.sendMessage(Ns.namespace, {
                        action: "setCustomUIStyles",
                        value: t
                    })
                },
                addEventListener: function() {
                    v.on.apply(v, arguments)
                },
                removeEventListener: function() {
                    v.off.apply(v, arguments)
                },
                seekTo: function(t) {
                    v.currentTime = t
                },
                changeColor: function(t) {
                    v.color = t
                }
            },
            p = {
                addCuePoint: function(t) {
                    var n = t.time,
                        i = t.data;
                    return v.addCuePoint(n, i)
                },
                enableTextTrack: function(t) {
                    var n = t.language,
                        i = t.kind,
                        e = void 0 === i ? null : i;
                    v.enableTextTrack(n, e)
                }
            };

        function m(t, i) {
            n && n.emit(t, i), u.fire(t, i)
        }
        var b = function(t, n) {
            return function() {
                var i = n ? n.apply(void 0, arguments) : void 0;
                m(t, i)
            }
        };

        function w(n) {
            return s ? null : (s = !0, {
                seconds: ga(n),
                percent: ga(n / t.config.video.duration),
                duration: ga(t.config.video.duration)
            })
        }

        function y(n) {
            return s = !1, {
                seconds: ga(n),
                percent: ga(n / t.config.video.duration),
                duration: ga(t.config.video.duration)
            }
        }

        function g() {
            return s = !1, {
                seconds: ga(t.config.video.duration),
                percent: 1,
                duration: ga(t.config.video.duration)
            }
        }

        function E(t) {
            var n = t.currentTime,
                i = t.duration,
                e = t.timeProgress;
            return {
                seconds: ga(n),
                percent: ga(e),
                duration: ga(i)
            }
        }

        function k(t) {
            var n = t.loaded,
                e = t.duration,
                r = t.loadProgress,
                o = {
                    seconds: ga(n),
                    percent: ga(r),
                    duration: ga(e)
                };
            return i < 3 && (o.bytesLoaded = -1, o.bytesTotal = -1), o
        }

        function _(t) {
            var n = t.currentTime,
                i = t.duration,
                e = t.timeProgress;
            return {
                seconds: ga(n),
                percent: ga(e),
                duration: ga(i)
            }
        }

        function T(t) {
            return {
                volume: ga(t)
            }
        }

        function S(t) {
            return {
                playbackRate: t
            }
        }

        function A(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [],
                i = t || {},
                e = i.language,
                r = void 0 === e ? null : e,
                o = i.label,
                u = void 0 === o ? null : o,
                a = i.kind;
            return {
                label: u,
                language: r,
                kind: void 0 === a ? null : a,
                cues: n
            }
        }

        function x(t) {
            l = t;
            var n = t || {},
                i = n.language,
                e = void 0 === i ? null : i,
                r = n.label,
                o = void 0 === r ? null : r,
                u = n.kind;
            return {
                label: o,
                language: e,
                kind: void 0 === u ? null : u
            }
        }

        function M(t) {
            return {
                time: t.time,
                data: t.data,
                id: t.id
            }
        }

        function O(t) {
            return {
                visible: t
            }
        }

        function R() {
            return {
                fullscreen: !0
            }
        }

        function C() {
            return {
                fullscreen: !1
            }
        }

        function I(n) {
            return {
                duration: t.backbone.duration
            }
        }

        function L(t) {
            h && setTimeout(function() {
                o.fire(Pa.Wu, h, !0)
            }, 0), t && D()
        }

        function D() {
            m(Ga.LOADED, f ? null : (f = !0, {
                id: t.config.video.id
            }))
        }

        function j(t) {
            var n = P(t);
            a && m(Ga.ERROR, n)
        }

        function P(t) {
            return U(function(t) {
                switch (t) {
                    case "BrowserNotSupported":
                    case "FilesNotPlayable":
                    case "MediaSrcNotSupportedError":
                        return new Nl("This video is not supported in this browser.", "NotSupportedError");
                    case "FileError":
                        return new Nl("There was an error loading the files for this video.", "FileError")
                }
                return new Nl("An error occurred during playback.", "PlaybackError")
            }(c = t))
        }

        function U(t) {
            var n = {
                message: "An error occurred.",
                name: "Error",
                method: t.source
            };
            return "MessageApiError" === t.constructorName && (n = {
                message: t.message,
                name: t.name,
                method: t.source
            }), n
        }

        function F() {
            a = !0, m(Ga.READY), c && (m(Ga.ERROR, P(c)), c = null)
        }

        function H() {
            c = null, f = !1
        }
        return function() {
                if (!t.config.embed.on_site) {
                    d(t.config.embed.api);
                    var i = t.config.request.referrer;
                    (n = new Kl(i)).listeners = xa(Ga).reduce(function(t, n) {
                        return B({}, t, V({}, n, !1))
                    }, {}), n.listeners[Ga.READY] = !0, n.listeners[Ga.ERROR] = !0, n.filter(function(t) {
                        return n.listeners[t]
                    })
                }
            }(),
            function() {
                if (n) {
                    var e = il({}, v, p);
                    n.extendMethods(e), n.hooks({
                        logError: function(t) {
                            m(Ga.ERROR, U(t))
                        },
                        parseMessage: function(t) {
                            if (!t || "" === t) return {};
                            if (wu(t)) return d(3), t;
                            try {
                                var n = JSON.parse(t);
                                return d(2), n
                            } catch (t) {
                                return d(null), m(Ga.ERROR, "The Vimeo Froogaloop v1 API is no longer supported.\n Please follow the upgrade instructions here: https://goo.gl/mueGRR"), {}
                            }
                        },
                        buildMessage: function(n) {
                            t.config.embed && t.config.embed.player_id && (n.player_id = t.config.embed.player_id);
                            try {
                                2 === i && (n = function(t) {
                                    if (t.event) {
                                        for (var n in Ya)
                                            if (Ya[n] === t.event) {
                                                t.event = n;
                                                break
                                            }
                                        "cuechange" === t.event && (t.data.text = t.data.cues[0].text, t.data.html = t.data.cues[0].html, delete t.data.cues)
                                    }
                                    return JSON.stringify(t)
                                }(n)), wu(n) && "ready" === n.event && (n = JSON.stringify(n))
                            } catch (t) {}
                            return n
                        }
                    })
                }
            }(), o.on(tt.BUFFER_STARTED, b(Ga.BUFFER_START)), o.on(tt.BUFFER_ENDED, b(Ga.BUFFER_END)), o.on(tt.CUE_POINT, b(Ga.CUEPOINT, M)), o.on(Ji, b(Ga.CUE_CHANGE, A)), o.on(Ua.ka, b(Ga.ENDED, g)), o.on(Ua.oe, b(Ga.PAUSE, y)), o.on(Ua.Oa, b(Ga.PLAYBACK_RATE_CHANGE, S)), o.on(Ua.qa, b(Ga.TEXT_TRACK_CHANGE, x)), o.on(Ua._a, b(Ga.VOLUME_CHANGE, T)), o.on(Ua.Ba, b(Ga.CONTROL_BAR_VISIBILITY_CHANGED, O)), o.on(Ua.qs, L), o.on(Ua.ba, j), o.on(Ua.ts, b(Ga.FULLSCREENCHANGE, R)), o.on(Ua.es, b(Ga.FULLSCREENCHANGE, C)), o.on(Ua.Fc, b(Ga.AD_STARTED)), o.on(Ua.Dc, b(Ga.AD_COMPLETED)), o.on(Ua.Pc, b(Ga.AD_ERROR)), o.on(Ua.Vc, b(Ga.AD_SKIPPED)), o.on(Ua.Bc, b(Ga.AD_ALL_COMPLETED)), o.once(Ua.yi, F), o.on(nt.EVENT_ENDED, b(Ga.LIVE_EVENT_ENDED)), o.on(nt.EVENT_STARTED, b(Ga.LIVE_EVENT_STARTED)), o.on(nt.STREAM_OFFLINE, b(Ga.LIVE_STREAM_OFFLINE)), o.on(nt.STREAM_ONLINE, b(Ga.LIVE_STREAM_ONLINE)), o.on(it.MOTION_END, b(Ga.MOTION_END)), o.on(it.MOTION_START, b(Ga.MOTION_START)), o.on(it.WEBVR_HARDWARE_AVAILABLE, b(Ga.WEBVR_HARDWARE_AVAILABLE)), o.on(it.WEBVR_ENTER, b(Ga.ENTER_WEBVR)), o.on(it.WEBVR_EXIT, b(Ga.EXIT_WEBVR)), o.on(it.SPATIAL_UNSUPPORTED, b(Ga.SPATIAL_UNSUPPORTED)), o.on(J.PLAY, b(Ga.PLAY, w)), o.on(J.PROGRESS, b(Ga.PROGRESS, k)), o.on(J.SEEKING, b(Ga.SEEKING, _)), o.on(J.SEEKED, b(Ga.SEEKED, _)), o.on(J.TIME_UPDATE, b(Ga.TIME_UPDATE, E)), o.on(J.LOADED_METADATA, b(Ga.LOADED_METADATA)), o.on(J.DURATION_CHANGE, b(Ga.DURATION_CHANGE, I)), o.on(J.WAITING, b(Ga.WAITING)), o.on(J.LOADED_DATA, b(Ga.LOADED_DATA)), o.on(J.LOAD_START, b(Ga.LOAD_START)), o.on(Us.connected, b(Ga.CHROMECAST_CONNECTED)), o.on(Pa.Gu, H), t.doNotTrackEnabled || o.on(Ua.oc, function() {
                m(Ga.EMAIL_CAPTURE)
            }), o.on(Ua.pc, function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                n && (n.listeners[Ga.SPACE_CHANGE] = !0, m(Ga.SPACE_CHANGE, t))
            }), o.fire(Ua.Sc), v
    }
    $l.prototype = {
        get complement() {
            var t = this.clone();
            return t.rgb = {
                red: 255 - this.red,
                green: 255 - this.green,
                blue: 255 - this.blue
            }, t
        },
        get hex() {
            return $l.rgbToHex(this.red, this.green, this.blue)
        },
        set hex(t) {
            return this.rgba = $l.hexToRgb(t), this
        },
        get hsl() {
            return "hsl(" + this.hue + "," + this.saturation + "%," + Math.round(this.lightness) + "%)"
        },
        set hsl(t) {
            this.hue = t.hue, this.saturation = t.saturation, this.lightness = t.lightness;
            var n = $l.hslToRgb(t.hue, t.saturation, t.lightness);
            return this.red = n.red, this.green = n.green, this.blue = n.blue, this.alpha = n.alpha, this
        },
        get luminance() {
            function t(t) {
                return t <= .03928 ? t / 12.92 : Math.pow((t + .055) / 1.055, 2.4)
            }
            return .2126 * t(this.red / 255) + .7152 * t(this.green / 255) + .0722 * t(this.blue / 255)
        },
        get rgb() {
            return "rgb(" + this.red + "," + this.green + "," + this.blue + ")"
        },
        set rgb(t) {
            return this.rgba = t, this
        },
        get rgba() {
            return "rgba(" + this.red + "," + this.green + "," + this.blue + "," + this.alpha + ")"
        },
        set rgba(t) {
            this.red = t.red, this.green = t.green, this.blue = t.blue, this.alpha = t.alpha || 1;
            var n = $l.rgbToHsl(t.red, t.green, t.blue);
            return this.hue = n.hue, this.saturation = n.saturation, this.lightness = n.lightness, this
        },
        get yiq() {
            return (299 * this.red + 587 * this.green + 114 * this.blue) / 1e3
        },
        clone: function() {
            return new $l(this)
        },
        lighten: function(t, n, i) {
            if (this.hsl = {
                    hue: this.hue,
                    saturation: this.saturation,
                    lightness: this.lightness + t
                }, n && i)
                for (var e = i.contrast(this).ratio; e < n && (this.lighten(5), e = i.contrast(this).ratio, !(this.lightness >= 100)););
            return this
        },
        darken: function(t, n, i) {
            if (this.hsl = {
                    hue: this.hue,
                    saturation: this.saturation,
                    lightness: this.lightness - t
                }, n && i)
                for (var e = i.contrast(this).ratio; e < n && (this.darken(5), e = i.contrast(this).ratio, !(this.lightness <= 0)););
            return this
        },
        overlayOn: function(t) {
            if (this.alpha >= 1) return this;
            var n = this.clone();
            return n.rgba = {
                red: n.red * this.alpha + t.red * t.alpha * (1 - this.alpha),
                green: n.green * this.alpha + t.green * t.alpha * (1 - this.alpha),
                blue: n.blue * this.alpha + t.blue * t.alpha * (1 - this.alpha),
                alpha: n.alpha + t.alpha * (1 - this.alpha)
            }, n
        },
        contrast: function(t) {
            var n = this.alpha;
            if (n >= 1) {
                t.alpha < 1 && (t = t.overlayOn(this));
                var i = this.luminance + .05,
                    e = t.luminance + .05,
                    r = i / e;
                return e > i && (r = 1 / r), {
                    ratio: r = Math.round(10 * r) / 10,
                    error: 0,
                    min: r,
                    max: r
                }
            }
            var o = this.overlayOn($l.white).contrast(t).ratio,
                u = this.overlayOn($l.black).contrast(t).ratio,
                a = Math.max(o, u),
                s = {
                    red: Math.min(Math.max(0, (t.red - this.red * n) / (1 - n)), 255),
                    green: Math.min(Math.max(0, (t.green - this.green * n) / (1 - n)), 255),
                    blue: Math.min(Math.max(0, (t.blue - this.blue * n) / (1 - n)), 255)
                },
                c = this.clone();
            c.rgb = s;
            var f = this.overlayOn(c).contrast(t).ratio;
            return {
                ratio: Math.round((f + a) / 2 * 10) / 10,
                error: Math.round((a - f) / 2 * 10) / 10,
                min: f,
                max: a,
                closest: c,
                farthest: u === a ? $l.white : $l.black
            }
        },
        wcagAACompliant: function(t) {
            return this.contrast(t).ratio >= 4.5
        },
        wcagAAACompliant: function(t) {
            return this.contrast(t).ratio >= 7
        },
        yiqContrastColor: function() {
            return this.yiq >= 120 ? new $l(0, 0, 0) : new $l(255, 255, 255)
        }
    }, $l.hexToRgb = function(t) {
        var n;
        return 3 === (t = String(t)).length || 4 === t.length ? (n = /^#?([A-Fa-f0-9])([A-Fa-f0-9])([A-Fa-f0-9])$/i.exec(t)) && (n[1] += n[1], n[2] += n[2], n[3] += n[3]) : n = /^#?([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})([A-Fa-f0-9]{2})$/i.exec(t), n ? {
            red: parseInt(n[1], 16),
            green: parseInt(n[2], 16),
            blue: parseInt(n[3], 16),
            alpha: 1
        } : null
    }, $l.rgbToHex = function(t, n, i) {
        return "#" + ((1 << 24) + (Math.round(t) << 16) + (Math.round(n) << 8) + Math.round(i)).toString(16).slice(1)
    }, $l.rgbToHsl = function(t, n, i) {
        t /= 255, n /= 255, i /= 255;
        var e, r = Math.max(t, n, i),
            o = Math.min(t, n, i),
            u = (r + o) / 2,
            a = u;
        if (r === o) return {
            hue: 0,
            saturation: 0,
            lightness: 100 * a
        };
        var s = r - o;
        return e = a > .5 ? s / (2 - r - o) : s / (r + o), r === t ? u = (n - i) / s + (n < i ? 6 : 0) : r === n ? u = (i - t) / s + 2 : r === i && (u = (t - n) / s + 4), u /= 6, {
            hue: Math.round(360 * u),
            saturation: Math.round(100 * e),
            lightness: Math.round(100 * a)
        }
    }, $l.hslToRgb = function(t, n, i) {
        function e(t, n, i) {
            return i < 0 && (i += 1), i > 1 && (i -= 1), 6 * i < 1 ? t + 6 * (n - t) * i : 2 * i < 1 ? n : 3 * i < 2 ? t + 6 * (2 / 3 - i) * (n - t) : t
        }
        if (t /= 360, i /= 100, 0 === (n /= 100)) return {
            red: Math.floor(255 * i),
            green: Math.floor(255 * i),
            blue: Math.floor(255 * i)
        };
        var r = i < .5 ? i * (1 + n) : i + n - n * i,
            o = 2 * i - r;
        return {
            red: Math.floor(255 * e(o, r, t + 1 / 3)),
            green: Math.floor(255 * e(o, r, t)),
            blue: Math.floor(255 * e(o, r, t - 1 / 3))
        }
    }, $l.hslToHex = function(t, n, i) {
        var e = $l.hslToRgb(t, n, i);
        return $l.rgbToHex(e.red, e.green, e.blue)
    }, $l.white = new $l("fff"), $l.black = new $l("000");
    var Ql = function() {
            function t(t) {
                this.alertTextElement = t.querySelector(".vp-text-alert-wrapper"), this.alertContentElement = this.alertTextElement.querySelector(".vp-alert-text")
            }
            var n = t.prototype;
            return n.show = function(t) {
                this.alertContentElement.innerHTML = t, this.alertContentElement.classList.remove("hidden"), this.alertTextElement.classList.remove("hidden")
            }, n.hide = function() {
                this.alertContentElement.classList.add("hidden"), this.alertTextElement.classList.add("hidden")
            }, t
        }(),
        th = n(function(n) {
            ! function() {
                var i = "undefined" != typeof window && window === this ? this : void 0 !== t && null != t ? t : this,
                    r = "function" == typeof Object.defineProperties ? Object.defineProperty : function(t, n, i) {
                        t != Array.prototype && t != Object.prototype && (t[n] = i.value)
                    };

                function o() {
                    o = function() {}, i.Symbol || (i.Symbol = a)
                }
                var u = 0;

                function a(t) {
                    return "jscomp_symbol_" + (t || "") + u++
                }

                function s() {
                    o();
                    var t = i.Symbol.iterator;
                    t || (t = i.Symbol.iterator = i.Symbol("iterator")), "function" != typeof Array.prototype[t] && r(Array.prototype, t, {
                        configurable: !0,
                        writable: !0,
                        value: function() {
                            return c(this)
                        }
                    }), s = function() {}
                }

                function c(t) {
                    var n = 0;
                    return function(t) {
                        return s(), (t = {
                            next: t
                        })[i.Symbol.iterator] = function() {
                            return this
                        }, t
                    }(function() {
                        return n < t.length ? {
                            done: !1,
                            value: t[n++]
                        } : {
                            done: !0
                        }
                    })
                }

                function f(t) {
                    s();
                    var n = t[C.iterator];
                    return n ? n.call(t) : c(t)
                }

                function l(t) {
                    if (!(t instanceof Array)) {
                        t = f(t);
                        for (var n, i = []; !(n = t.next()).done;) i.push(n.value);
                        t = i
                    }
                    return t
                }
                var h = 0;
                var d = "img script iframe link audio video source".split(" ");

                function v(t, n) {
                    for (var i = (t = f(t)).next(); !i.done; i = t.next())
                        if (i = i.value, n.includes(i.nodeName.toLowerCase()) || v(i.children, n)) return !0;
                    return !1
                }

                function p(t, n) {
                    if (2 < t.length) return performance.now();
                    for (var i = [], e = (n = f(n)).next(); !e.done; e = n.next()) e = e.value, i.push({
                        timestamp: e.start,
                        type: "requestStart"
                    }), i.push({
                        timestamp: e.end,
                        type: "requestEnd"
                    });
                    for (e = (n = f(t)).next(); !e.done; e = n.next()) i.push({
                        timestamp: e.value,
                        type: "requestStart"
                    });
                    for (i.sort(function(t, n) {
                            return t.timestamp - n.timestamp
                        }), t = t.length, n = i.length - 1; 0 <= n; n--) switch ((e = i[n]).type) {
                        case "requestStart":
                            t--;
                            break;
                        case "requestEnd":
                            if (2 < ++t) return e.timestamp;
                            break;
                        default:
                            throw Error("Internal Error: This should never happen")
                    }
                    return 0
                }

                function m(t) {
                    t = t || {}, this.w = !!t.useMutationObserver, this.u = t.minValue || null, t = window.__tti && window.__tti.e;
                    var n = window.__tti && window.__tti.o;
                    this.a = t ? t.map(function(t) {
                            return {
                                start: t.startTime,
                                end: t.startTime + t.duration
                            }
                        }) : [], n && n.disconnect(), this.b = [], this.f = new I, this.j = null, this.v = -1 / 0, this.i = !1, this.h = this.c = this.s = null,
                        function(t, n) {
                            var i = XMLHttpRequest.prototype.send,
                                e = h++;
                            XMLHttpRequest.prototype.send = function(r) {
                                for (var o = [], u = 0; u < arguments.length; ++u) o[u - 0] = arguments[u];
                                var a = this;
                                return t(e), this.addEventListener("readystatechange", function() {
                                    4 === a.readyState && n(e)
                                }), i.apply(this, o)
                            }
                        }(this.m.bind(this), this.l.bind(this)),
                        function(t, n) {
                            var i = fetch;
                            fetch = function(r) {
                                for (var o = [], u = 0; u < arguments.length; ++u) o[u - 0] = arguments[u];
                                return new e(function(e, r) {
                                    var u = h++;
                                    t(u), i.apply(null, [].concat(l(o))).then(function(t) {
                                        n(u), e(t)
                                    }, function(t) {
                                        n(t), r(t)
                                    })
                                })
                            }
                        }(this.m.bind(this), this.l.bind(this)),
                        function(t) {
                            t.c = new PerformanceObserver(function(n) {
                                for (var i = (n = f(n.getEntries())).next(); !i.done; i = n.next())
                                    if ("resource" === (i = i.value).entryType && (t.b.push({
                                            start: i.fetchStart,
                                            end: i.responseEnd
                                        }), w(t, p(t.g, t.b) + 5e3)), "longtask" === i.entryType) {
                                        var e = i.startTime + i.duration;
                                        t.a.push({
                                            start: i.startTime,
                                            end: e
                                        }), w(t, e + 5e3)
                                    }
                            }), t.c.observe({
                                entryTypes: ["longtask", "resource"]
                            })
                        }(this), this.w && (this.h = function(t) {
                            var n = new MutationObserver(function(n) {
                                for (var i = (n = f(n)).next(); !i.done; i = n.next()) "childList" == (i = i.value).type && v(i.addedNodes, d) ? t(i) : "attributes" == i.type && d.includes(i.target.tagName.toLowerCase()) && t(i)
                            });
                            return n.observe(document, {
                                attributes: !0,
                                childList: !0,
                                subtree: !0,
                                attributeFilter: ["href", "src"]
                            }), n
                        }(this.B.bind(this)))
                }

                function b(t) {
                    t.i = !0;
                    var n = 0 < t.a.length ? t.a[t.a.length - 1].end : 0,
                        i = p(t.g, t.b);
                    w(t, Math.max(i + 5e3, n))
                }

                function w(t, n) {
                    !t.i || t.v > n || (clearTimeout(t.j), t.j = setTimeout(function() {
                        var n = performance.timing.navigationStart,
                            i = p(t.g, t.b);
                        n = (window.a && window.a.A ? 1e3 * window.a.A().C - n : 0) || performance.timing.domContentLoadedEventEnd - n;
                        if (t.u) var e = t.u;
                        else performance.timing.domContentLoadedEventEnd ? e = (e = performance.timing).domContentLoadedEventEnd - e.navigationStart : e = null;
                        var r = performance.now();
                        null === e && w(t, Math.max(i + 5e3, r + 1e3));
                        var o = t.a;
                        5e3 > r - i ? i = null : i = 5e3 > r - (i = o.length ? o[o.length - 1].end : n) ? null : Math.max(i, e), i && (t.s(i), clearTimeout(t.j), t.i = !1, t.c && t.c.disconnect(), t.h && t.h.disconnect()), w(t, performance.now() + 1e3)
                    }, n - performance.now()), t.v = n)
                }
                m.prototype.getFirstConsistentlyInteractive = function() {
                    var t = this;
                    return new e(function(n) {
                        t.s = n, "complete" == document.readyState ? b(t) : window.addEventListener("load", function() {
                            b(t)
                        })
                    })
                }, m.prototype.m = function(t) {
                    this.f.set(t, performance.now())
                }, m.prototype.l = function(t) {
                    this.f.delete(t)
                }, m.prototype.B = function() {
                    w(this, performance.now() + 5e3)
                }, i.Object.defineProperties(m.prototype, {
                    g: {
                        configurable: !0,
                        enumerable: !0,
                        get: function() {
                            return [].concat(l(this.f.values()))
                        }
                    }
                });
                var y = {
                    getFirstConsistentlyInteractive: function(t) {
                        return t = t || {}, "PerformanceLongTaskTiming" in window ? new m(t).getFirstConsistentlyInteractive() : e.resolve(null)
                    }
                };
                n.exports ? n.exports = y : window.ttiPolyfill = y
            }()
        }),
        nh = B({}, os, {
            ALERT_DISPLAYED: "alert-displayed",
            ALERT_HIDDEN: "alert-hidden",
            CAPTIONS_ENABLED: "captions-enabled",
            CAPTIONS_DISABLED: "captions-disabled",
            CHROMECAST_CONNECTED: "chromecast-connected",
            CHROMECAST_DISCONNECTED: "chromecast-disconnected",
            ERROR_LINK_PRESSED: "error-link-pressed",
            MEDIASESSION_PLAY: "mediasession-play",
            MEDIASESSION_PAUSE: "mediasession-pause",
            MEDIASESSION_SEEK_FORWARD: "mediasession-seekforward",
            MEDIASESSION_SEEK_BACKWARD: "mediasession-seekbackward",
            SLATE_DISPLAYED: "slate-displayed",
            CLICK: "click",
            VIDEO_DURATION_MISMATCH: "video-duration-mismatch",
            VIDEO_FULLSCREEN_CHANGE: "video-fullscreen-change",
            VIDEO_MANIFEST_LOADED: "video-manifest-loaded",
            VIDEO_MANIFEST_TIMEOUT: "video-manifest-timeout",
            VIDEO_PLAYBACK_RATE_CHANGED: "video-playback-rate-changed",
            VIDEO_STREAM_CHANGE: "video-stream-change",
            VIDEO_SWITCH_BACK_TO_AUTO: "video-switch-back-to-auto",
            VIDEO_SWITCH_FROM_AUTO: "video-switch-from-auto",
            AD_BUFFERING: "ad-buffering",
            AD_COMPLETE: "ad-complete",
            AD_CLICKED: "ad-clicked",
            AD_ERROR: "ad-error",
            AD_PAUSED: "ad-paused",
            AD_RESUMED: "ad-resumed",
            AD_STARTED: "ad-started",
            AD_SKIPPED: "ad-skipped",
            OUTRO_VIDEO_SELECTED: "outro-video-selected",
            WEBVR_HARDWARE_AVAILABLE: "webvr-hardware-available",
            ENTER_WEBVR: "enter-webvr",
            EXIT_WEBVR: "exit-webvr"
        });

    function ih(t) {
        return t.quality || t.metadata.quality
    }

    function eh(t) {
        return "string" == typeof t && 5 === t.split("-").length
    }

    function rh(t) {
        return t.slice(0, 8)
    }

    function oh(t, n) {
        if ("string" == typeof t && /^\d+$/.test(t) && (t = parseInt(t, 10), isNaN(t))) return null;
        var i = n.avc || [],
            e = (n.hevc ? n.hevc.sdr : []).concat(n.hevc ? n.hevc.hdr : []),
            r = n.av1 || [];
        return i.every(eh) && (i = i.map(rh)), e.every(eh) && (e = e.map(rh)), r.every(eh) && (r = r.map(rh)), i.includes(t) ? "AVC" : e.includes(t) ? "HEVC" : r.includes(t) ? "AV1" : null
    }

    function uh(t) {
        var n = ih(t),
            i = {
                "1440p": "2K",
                "2160p": "4K",
                "2700p": "5K",
                "3240p": "6K",
                "3780p": "7K",
                "4320p": "8K"
            };
        for (var e in i) n = n.replace(e, i[e]);
        return n
    }

    function ah(t, n) {
        return t && t.request && t.request.ab_tests && t.request.ab_tests[n] ? t.request.ab_tests[n] : {}
    }

    function sh(t, n, i, r) {
        var o, u = null,
            a = null,
            s = new P,
            c = 0,
            f = 1,
            l = null,
            h = null,
            d = !1,
            v = !0,
            p = !1,
            m = !1,
            b = "auto",
            w = {},
            y = {},
            g = null,
            E = null,
            k = null,
            _ = [],
            T = null,
            S = {},
            A = !1,
            x = !1,
            M = "none",
            O = !1,
            R = 0,
            C = 0,
            I = 0,
            L = 0,
            D = null,
            N = null,
            U = null,
            F = null,
            V = !1,
            B = null,
            H = null,
            W = null,
            q = null,
            z = !1,
            G = !1;

        function Y() {
            var n = s.get(t.backbone.videoElement);
            if (n) return u = n.Sf, void(a = n.Af);
            u = new fs(t.backbone.videoElement, function() {
                var n = "?beacon=1&session-id=".concat(t.config.request.session),
                    i = t.config.request.flags.log || t.config.user.mod ? "&log=1" : "";
                return t.config.request.urls.fresnel + n + i
            }(), X()), a = new as, $(), u.addDynamicProperties(Q), s.set(t.backbone.videoElement, {
                Sf: u,
                Af: a
            })
        }

        function $() {
            ! function() {
                var n = a;
                u.customizeHooks({
                    bufferTracker: n,
                    videoBufferCheck: function() {
                        t.events.on(tt.BUFFER_STARTED, function() {
                            d && (z || V || (V = !0, n.trackBufferStart(u.logBufferStart, {
                                lower_profile_available: t.backbone.isLowerProfileAvailable
                            })))
                        }), t.events.on(tt.BUFFER_ENDED, function() {
                            d && V && (V = !1, n.trackBufferEnd(u.logBufferEnd, {
                                cdn_data: F
                            }), n.resetLastBufferTime())
                        })
                    },
                    addEventData: function(t) {
                        var n = G;
                        switch (G = !1, t) {
                            case nh.VIDEO_START_TIME:
                                return H;
                            case nh.VIDEO_SEEK:
                                var i = W;
                                return W = null, i;
                            case nh.VIDEO_EXIT:
                                return {
                                    tti: B
                                };
                            case nh.VIDEO_PLAYED:
                            case nh.VIDEO_PAUSED:
                                return {
                                    api_call: n
                                }
                        }
                        return null
                    }
                })
            }(), u.initHooks()
        }

        function X() {
            return Object.assign(function() {
                var n = {
                    autoplay: 1 === t.config.embed.autoplay,
                    background: !!t.config.embed.settings.background,
                    clip_id: t.config.video.id,
                    context: t.config.embed.context,
                    device_pixel_ratio: window.devicePixelRatio || 1,
                    drm: t.config.request.drm || !1,
                    embed: !t.config.embed.on_site,
                    is_mod: !!t.config.user.mod,
                    is_spatial: !(!bt.spatialPlayback || !t.config.video.spatial),
                    logged_in: !!t.config.user.logged_in,
                    looping: !!t.config.embed.loop,
                    product: ls(t),
                    referrer: t.config.request.referrer,
                    session_id: t.config.request.session,
                    stayed_on_auto: v,
                    version: t.config.request.build.js,
                    version_backend: t.config.request.build.backend,
                    vuid: zs("vuid")
                };
                t.config.video.owner && (n.account_type = t.config.video.owner.account_type);
                t.config.embed.api && (n.api_version = t.config.embed.api);
                t.config.embed.app_id && (n.app_id = String(t.config.embed.app_id));
                t.config.video.privacy && (n.privacy = t.config.video.privacy);
                i.get(hc) && (n.live_session_id = t.config.video.live_event.id);
                bt.webvr && t.config.video.spatial && (n.webvr_support = !0);
                bt.webxr && t.config.video.spatial && (n.webxr_support = !0);
                return n
            }(), Q(), function() {
                var n = {};
                if (t.config.request.ab_tests)
                    for (var i in t.config.request.ab_tests) {
                        var e = t.config.request.ab_tests[i];
                        for (var r in n["".concat(i, "_test")] = 1, n["".concat(i, "_group")] = e.group, e.data) n["".concat(i, "_data_").concat(r)] = e.data[r]
                    }
                return n
            }())
        }

        function Z() {
            l = t.config.request.timestamp, h = ol(), d = !1, v = !0, p = !1, m = !1, b = "auto", w = {}, y = {}, g = null, E = null, k = null, _ = [], T = null, S = {}, A = !1, x = !1, M = "none", O = !1, R = 0, C = 0, I = 0, L = 0, D = null, N = null, U = null, F = null, B = null, q = null, u && (u.reset(X()), $())
        }

        function Q() {
            var n = t.backbone.video ? t.backbone.video.currentFile : {},
                i = function() {
                    var n = {},
                        i = el(),
                        e = Ie("asc"),
                        r = "MediaSourceScanner" === t.backbone.currentScannerName,
                        o = "HTMLScanner" === t.backbone.currentScannerName,
                        u = "HLSLiveScanner" === t.backbone.currentScannerName,
                        a = [];
                    o && (a = co(t.config, "request.files.progressive") || co(t.config, "request.files.hls") || []);
                    r && (a = co(t.config, "request.files.dash.streams", []));
                    u && (a = t.backbone.video.currentFile.mime === ja.dashMpd ? co(t.config, "request.files.dash.streams", []) : co(t.config, "request.files.hls.streams", []));
                    var s = j(a).sort(e).map(function(t) {
                            return t.profile
                        }),
                        c = -1,
                        f = 0,
                        l = null;
                    if (Object.keys(y).forEach(function(t) {
                            var n = s.indexOf(parseInt(t, 10));
                            n > c && (c = n);
                            var e = y[t].reduce(function(t, n) {
                                return ((n.end || i) - n.start) / 1e3 + t
                            }, 0);
                            e > f && (f = e, l = t)
                        }), n.highest_profile = s[c], n.highest_available_profile = s[s.length - 1], n.most_used_profile = l, (r || u) && _) {
                        n.max_speed = Math.round(Math.max.apply(Math, K(_))) / 1e3, n.min_speed = Math.round(Math.min.apply(Math, K(_))) / 1e3;
                        var h = _.reduce(function(t, n) {
                            return t + n
                        }, 0);
                        n.average_speed = Math.round(h / _.length) / 1e3
                    }
                    return n
                }(),
                e = n.id,
                r = void 0 === e ? 0 : e,
                o = n.mime,
                u = void 0 === o ? ja.h264 : o,
                a = n.metadata,
                s = (a = void 0 === a ? {} : a).profile,
                c = void 0 === s ? null : s,
                f = !1,
                d = !1;
            switch (u) {
                case ja.dash:
                    0 === n.restrictedStreamIndexes.length && (f = !0), co(t.config, "request.files.dash.separate_av") && (d = !0), c = w ? w.profile : null;
                    break;
                case ja.hls:
                    f = !0
            }
            return {
                audio_bitrate: t.backbone.getBitrateAtTime(t.backbone.currentTime, "audio") / 1e3,
                auto: f,
                average_speed: i.average_speed || 0,
                cdn: n.metadata ? n.metadata.cdn : "akamai",
                delivery: "live" !== Ha[u] ? Ha[u] : "dash",
                dropped_frames: L,
                dropped_frame_percent: I,
                event_time: l + rl(h),
                ended: x,
                forced_embed_quality: M,
                fullscreen: O,
                highest_available_profile: i.highest_available_profile ? String(i.highest_available_profile) : null,
                highest_profile: i.highest_profile ? String(i.highest_profile) : null,
                max_speed: isFinite(i.max_speed) ? i.max_speed : 0,
                mime: n.mime || null,
                min_speed: isFinite(i.min_speed) ? i.min_speed : 0,
                most_used_profile: i.most_used_profile ? String(i.most_used_profile) : null,
                origin: n.metadata ? n.metadata.origin : "",
                profile_id: c ? String(c) : null,
                codec: oh(w.id, t.config.request.file_codecs || t.config.video.file_codecs),
                quality: w ? w.quality : null,
                quality_downswitch_count: C,
                quality_upswitch_count: R,
                quality_switch_count: R + C,
                separate_av: d,
                target_profile_id: q,
                ttfb: nt(),
                video_bitrate: t.backbone.getBitrateAtTime(t.backbone.currentTime, "video") / 1e3,
                video_duration: ga(t.config.video.duration),
                video_file_id: Number.isInteger(Number(r)) ? parseInt(r, 10) : null
            }
        }

        function nt() {
            var t = -1;
            if (void 0 !== window.performance && "function" == typeof window.performance.getEntriesByType) {
                var n = window.performance.getEntriesByType("resource");
                if (n) {
                    var i = n.filter(function(t) {
                        return null !== t.name.split("?")[0].match(/\.m4s$|\.ts$/)
                    });
                    t = i.map(function(t) {
                        return t.responseStart - t.connectStart
                    }).reduce(function(t, n) {
                        return t + n
                    }, 0) / (i.length || 1)
                }
            }
            return ga(t, 2)
        }

        function rt() {
            A || Hs.isCastConnected || (t.performDelegateAction(Na.playLog, function(t) {
                A = !0, o.then(function() {
                    return u.logStartRequest()
                }).catch(function() {})
            }), ah(t.config, "chunk_logging").group && t.config.request.urls.fresnel_manifest_url && function(t, n, i, e) {
                var r = Date.now(),
                    o = [{
                        uuid: Ea(),
                        created_at: r,
                        event: {
                            name: "session_manifest",
                            version: 1,
                            ts_ms: r,
                            fields: {
                                sessionID: n,
                                manifest: i
                            }
                        },
                        tracker: {
                            name: "vimeo-player",
                            version: e
                        }
                    }];
                new es(t).logRequestPromiseWithUrl(t, JSON.stringify(o), !0)
            }(t.config.request.urls.fresnel_manifest_url, t.config.request.session, t.backbone.manifest, t.config.request.build.js))
        }

        function ot() {
            A = !1
        }

        function ut() {
            z = !0
        }

        function at() {
            z = !1
        }

        function st() {
            u.log(nh.VIDEO_MANIFEST_LOADED)
        }

        function ct() {
            u.log(nh.VIDEO_MANIFEST_TIMEOUT)
        }

        function ft(t) {
            u.log(nh.VIDEO_DURATION_MISMATCH, {
                duration_difference: Math.round(100 * t) / 100
            })
        }

        function lt(t) {
            var n = t.buffered,
                i = {
                    error_type: tt.QUOTA_EXCEEDED_ERROR
                };
            1 === n.length && (i.buffer_start = ga(n.start(0), 2), i.buffer_end = ga(n.end(0), 2)), u.log(nh.VIDEO_PLAYBACK_ERROR, i)
        }

        function ht(n) {
            var i = n.identifier,
                e = n.data,
                r = e.headers,
                o = e.xhr;
            if ("video" === i.type) {
                var u = t.backbone.representations.reverse(),
                    a = u[i.stream];
                if (!a) return;
                ah(t.config, "chunk_logging").group && t.config.request.urls.fresnel_chunk_url && function(t, n, i) {
                    var e = Date.now(),
                        r = [{
                            uuid: Ea(),
                            created_at: e,
                            event: {
                                name: "chunk_downloaded",
                                version: 1,
                                ts_ms: e,
                                fields: n
                            },
                            tracker: {
                                name: "vimeo-player",
                                version: i
                            }
                        }];
                    new es(t).logRequestPromiseWithUrl(t, JSON.stringify(r), !0)
                }(t.config.request.urls.fresnel_chunk_url, function(n, i, e, r, o) {
                    delete i[""];
                    var u = {};
                    return Object.keys(i).forEach(function(t) {
                        var n = i[t],
                            e = t.replace("-", "_");
                        u[e] = n
                    }), {
                        duration: e.data.duration,
                        size: e.response.byteLength,
                        index: n.segment,
                        sessionID: t.config.request.session,
                        profileID: r.profile,
                        quality: r.quality,
                        streams: o,
                        clipID: t.config.video.id,
                        videoFileID: r.id,
                        headers: u,
                        buffered: vt(t.backbone.buffered, t.backbone.currentTime),
                        ttfb: dt(e)
                    }
                }(i, r, o, a, u), t.config.request.build.js)
            }
            "akamai-edge-ip" in r && (D = r["akamai-edge-ip"]), "quic-version" in r && (N = r["quic-version"]), "x-vim-cachebc" in r && (U = r["x-vim-cachebc"]),
                function(t, n) {
                    if ("x-cache-hits" in t) {
                        var i = t["x-cache-hits"],
                            e = i.match(/(0|1)(?:, (0|1))?/);
                        null !== e && (F = {
                            url: n.data.url,
                            servedBy: t["x-served-by"],
                            edge: e[1] ? !!parseInt(e[1], 10) : null,
                            tier1: e[2] ? !!parseInt(e[2], 10) : null,
                            tier2: null
                        })
                    } else if ("x-vim-cachebc" in t) {
                        var r = t["x-vim-cachebc"],
                            o = r.match(/E:(m|h)(?:,TD0:(m|h))?(?:,TD1:(m|h))?(?:,TD2:(m|h))?/);
                        if (null !== o)
                            for (var u in F = {
                                    url: n.data.url,
                                    edge: o[1] ? o[1] : null,
                                    tier1: o[2] ? o[2] : null,
                                    tier2: o[3] ? o[3] : null
                                }) "edge" !== u && "tier1" !== u && "tier2" !== u || ("h" === F[u] ? F[u] = !0 : "m" === F[u] && (F[u] = !1))
                    }
                }(r, o);
            var s = {};
            D && (s.akamai_edge_ip = D), N && (s.quic_version = N), U && (s.akamai_cache_debug = U), s.manifest_load_durations = t.backbone.manifestLoadDurations, s.successful_segment_count = t.backbone.successfulSegments.length, s.failed_segment_count = t.backbone.failedSegments.length, H = s
        }

        function dt(t) {
            var n = -1;
            if (window.performance) {
                var i = window.performance.getEntriesByType("resource");
                if (i.length) {
                    var e = i.filter(function(n) {
                        return n.name === t.responseURL
                    }).sort(function(t, n) {
                        return t.connectStart - n.connectStart
                    });
                    if (e.length) {
                        var r = e[e.length - 1];
                        n = r.responseStart - r.connectStart
                    }
                }
            }
            return ga(n, 2)
        }

        function vt(t, n) {
            if (!t || !t.length) return 0;
            if (1 === t.length && t.end(0) - t.start(0) < 1e-6) return 0;
            for (var i = 0, e = t.length - 1; e >= 0 && t.end(e) > n; --e) i += t.end(e) - Math.max(t.start(e), n);
            return ga(i, 2)
        }

        function pt() {
            F = null
        }

        function mt(t) {
            T !== t && (T = t, u.log(nh.CAPTIONS_ENABLED, {
                captions_id: String(t)
            }))
        }

        function wt() {
            T && (T = null, u.log(nh.CAPTIONS_DISABLED))
        }

        function yt() {
            u.log(nh.CHROMECAST_CONNECTED)
        }

        function gt() {
            u.log(nh.CHROMECAST_DISCONNECTED)
        }

        function Et(t) {
            "email-capture" === t && u.log(nh.SLATE_DISPLAYED, {
                slate_type: "email"
            })
        }

        function kt() {
            O = !0, u.log(nh.VIDEO_FULLSCREEN_CHANGE)
        }

        function _t() {
            O = !1, u.log(nh.VIDEO_FULLSCREEN_CHANGE)
        }

        function Tt(t, n, i) {
            w = t;
            var e = t.profile ? t.profile : t.id,
                r = el();
            if (y[e] = y[e] || [], g) {
                var o = y[g].length - 1;
                y[g][o] && (y[g][o].end = r)
            }
            E && (i[n].bitrate > E ? R += 1 : C += 1), y[e].push({
                start: r
            }), S[e] = {
                bitrate: i[n].bitrate,
                width: i[n].width,
                height: i[n].height
            }, u.log(nh.VIDEO_STREAM_CHANGE, {
                previous_audio_bitrate: k / 1e3,
                previous_video_bitrate: E / 1e3,
                previous_profile_id: String(g)
            }), g = e, E = i[n].bitrate, k = i[n].audioBitrate
        }

        function St(t) {
            t && (q = String(t.profile || "") || null)
        }

        function At(t) {
            M = t
        }

        function xt() {
            u.log(nh.AD_BUFFERING)
        }

        function Mt() {
            u.log(nh.AD_COMPLETE)
        }

        function Ot() {
            u.log(nh.AD_CLICKED)
        }

        function Rt(t) {
            u.log(nh.AD_ERROR, {
                error_type: t.errorType,
                error_reason: t.errorReason
            })
        }

        function Ct() {
            u.log(nh.AD_PAUSED)
        }

        function It() {
            u.log(nh.AD_RESUMED)
        }

        function Lt(t) {
            u.log(nh.AD_STARTED, {
                startup_duration: t.time ? ga(t.time / 1e3, 2) : null
            })
        }

        function Dt() {
            u.log(nh.AD_SKIPPED)
        }

        function jt() {
            bt.iPhone && u.setDisplayContext(f)
        }

        function Pt() {
            bt.iPhone && u.setDisplayContext(c)
        }

        function Nt(t) {
            var n = t.dropped / t.total * 100;
            I = Math.round(100 * n) / 100, L = t.dropped
        }

        function Ut(t) {
            var n = t.speed;
            _.push(n), _.length > 500 && _.shift()
        }

        function Ft(n) {
            "auto" !== n && (v = !1), t.backbone.video.currentFile.mime === ja.dash && ("auto" === n || p ? "auto" === n && p && !m && (u.log(nh.VIDEO_SWITCH_BACK_TO_AUTO, {
                quality: b,
                auto: 1
            }), m = !0) : (u.log(nh.VIDEO_SWITCH_FROM_AUTO, {
                quality: n,
                auto: 0
            }), p = !0), b = n)
        }

        function Vt(t, n) {
            u.log(nh.VIDEO_PLAYBACK_RATE_CHANGED, {
                previous_playback_rate: n
            })
        }

        function Bt(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                    final: !0
                },
                i = {
                    error_type: t,
                    error_reason: arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                };
            u.handleExternalError(i, n)
        }

        function Ht(t, n) {
            u.log(nh.ERROR_LINK_PRESSED, {
                error_type: n,
                error_url: t
            })
        }

        function Wt(t, n) {
            t ? u.log(nh.ALERT_DISPLAYED) : u.log(nh.ALERT_HIDDEN)
        }

        function qt() {
            d = !0
        }

        function zt(t, n) {
            W = {
                seek_type: n
            }
        }

        function Gt() {
            W = {
                seek_type: "nudge"
            }
        }

        function Yt() {
            W = {
                seek_type: "api"
            }
        }

        function Kt() {
            G = !0
        }

        function $t() {
            G = !0
        }

        function Xt(t) {
            u.log(nh.OUTRO_VIDEO_SELECTED, {
                selected_video_id: t
            })
        }

        function Jt() {
            u.log(nh.MEDIASESSION_PLAY)
        }

        function Zt(t) {
            u.log(nh.CLICK, {
                click_target: t
            })
        }

        function Qt() {
            u.log(nh.MEDIASESSION_PAUSE)
        }

        function tn() {
            u.log(nh.MEDIASESSION_SEEK_FORWARD)
        }

        function nn() {
            u.log(nh.MEDIASESSION_SEEK_BACKWARD)
        }

        function en(t) {
            u.log(nh.WEBVR_HARDWARE_AVAILABLE, {
                vr_hardware: t.displayName
            })
        }

        function rn() {
            u.log(nh.ENTER_WEBVR, !0)
        }

        function on() {
            u.log(nh.EXIT_WEBVR, !0)
        }
        h = ol(), l = t.config.request.timestamp, t.events.on(Ua.ba, Bt), t.events.on(Pa.Gu, ot), t.events.on(Pa.Hu, ut), t.events.on(Ua.sc, Ht), t.events.on(Ua.ts, kt), t.events.on(Ua.es, _t), t.events.on(Ua.xc, Wt), t.events.on(Ua.qs, Z), t.events.on(Ua.Ra, Gt), t.events.on(Ua.Na, zt), t.events.on(Ua.nc, Xt), t.events.on(Ki, rt), t.events.on(Ua.ls, Et), t.events.on(Ua.Oa, Vt), t.events.on(Ua.xa, Zt), t.events.on(Pa.Ku, Ft), t.events.on(Pa.ia, mt), t.events.on(Pa.ea, wt), t.events.on(Us.connected, yt), t.events.on(Us.disconnected, gt), t.events.on(tt.STREAM_CHANGE, Tt), t.events.on(tt.STREAM_TARGET_CHANGE, St), t.events.on(Xi, At), t.events.on(J.PLAYING, at), t.events.once(Ua.Ma, qt), t.events.on(Ua.Lc, xt), t.events.on(Ua.Dc, Mt), t.events.on(Ua.jc, Ot), t.events.on(Ua.Pc, Rt), t.events.on(Ua.Nc, Ct), t.events.on(Ua.Uc, It), t.events.on(Ua.Fc, Lt), t.events.on(Ua.Vc, Dt), t.events.on(Ua.ga, jt), t.events.on(Ua.Ea, Pt), t.events.on(tt.DROPPED_FRAMES, Nt), t.events.on(tt.BANDWIDTH, Ut), t.events.on(tt.MANIFEST_TIMEOUT, ct), t.events.on(tt.MANIFEST_LOADED, st), t.events.on(tt.DOWNLOAD_END, ht), t.events.on(tt.SCANNER_CHANGE, pt), t.events.on(tt.AV_DURATION_MISMATCH, ft), t.events.on(tt.QUOTA_EXCEEDED_ERROR, lt), t.events.on(et.MEDIASESSION_PLAY, Jt), t.events.on(et.MEDIASESSION_PAUSE, Qt), t.events.on(et.MEDIASESSION_SEEK_FORWARD, tn), t.events.on(et.MEDIASESSION_SEEK_BACKWARD, nn), t.events.on(Fa.Hu, Yt), t.events.on(Fa.Hc, Kt), t.events.on(Fa.Wc, $t), t.events.on(it.WEBVR_HARDWARE_AVAILABLE, en), t.events.on(it.WEBVR_ENTER, rn), t.events.on(it.WEBVR_EXIT, on), (o = new e(function(n, i) {
            t.backbone && t.backbone.video && n(), t.events.on(Yi, n)
        })).then(Y).catch(function() {}), t.events.on(Ua.uc, Y), th.getFirstConsistentlyInteractive().then(function(t) {
            B = ga(t)
        }).catch(function() {})
    }
    var ch = function() {
        function t(t, n, i) {
            this.player = t, this.element = n, this.store = i, this.muxClient = null, this.xf() && this.Mf()
        }
        var n = t.prototype;
        return n.Of = function() {
            return !!this.player.config.request.flags.ott
        }, n.xf = function() {
            return !this.player.doNotTrackEnabled && (!!this.Of() || (!!this.store.get(hc) || "DE" === this.player.config.request.country))
        }, n.Mf = function() {
            var t = this;
            if (!document.getElementById("vp-mux-client")) {
                var n = document.createElement("script");
                n.setAttribute("id", "vp-mux-client"), n.setAttribute("src", this.player.config.request.urls.mux_url), n.onreadystatechange = n.onload = function() {
                    t.Rf(), t.Cf()
                }, document.getElementsByTagName("head")[0].appendChild(n)
            }
        }, n.Cf = function() {
            var t = this;
            this.player.events.on(Ua.qs, function() {
                t.xf() && t.Rf()
            }), this.player.events.on(Ua.Zs, function(n) {
                t.Rf(n)
            }), this.store.watch("ui.liveEvent.isLiveStarted", function(n) {
                n && t.Rf()
            })
        }, n.Rf = function() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            if ("undefined" != typeof mux) {
                var n = this.player.backbone.video ? this.player.backbone.video.currentFile : {},
                    i = this.element.querySelector(".vp-telecine").getElementsByTagName("video")[0];
                null !== this.muxClient && mux.destroyMonitor(i);
                var e = "dev" === this.player.config.request.build.js ? "6eq01ih8u9u8fkk4hbindded5" : "73cngs5ov03sbnck36isdkndt";
                this.store.get("ui.liveEvent.isLiveStarted") && (e = "dev" === this.player.config.request.build.js ? "kghblrf3bb9uk33lv58ompm3k" : "md0ig7ssl8unl2kpl0h6p0drn");
                var r = {
                    property_key: e,
                    player_name: "Vimeo Player",
                    player_init_time: Date.now(),
                    player_version: this.player.config.request.build.js,
                    video_title: this.player.config.video.title,
                    video_id: this.player.config.video.id,
                    video_duration: 1e3 * this.player.config.video.duration,
                    video_cdn: n.metadata ? n.metadata.cdn : "akamai",
                    video_stream_type: this.store.get(hc) ? "live" : "vod",
                    viewer_user_id: this.player.config.request.session
                };
                this.Of() && (r.property_key = "dev" === this.player.config.request.build.js ? "3tb8rggvj5m71caj9jfpiidos" : "lrc6o7kvhc6npvqq2r5iks5u4", t && (r.experiment_name = t.experiment_name || null, r.video_title = t.video_title || null, r.video_id = t.video_id || null, r.video_duration = t.video_duration || null, r.viewer_user_id = t.viewer_user_id || null, r.video_series = t.video_series || null, r.video_producer = t.video_producer || null, r.video_content_type = t.video_content_type || null)), this.muxClient = mux.monitor(i, {
                    debug: !1,
                    data: r
                })
            }
        }, t
    }();

    function fh(t) {
        var n, i, r, o, u, a = 1e4,
            s = 10,
            c = "https://collector.vhx.tv/events.gif",
            f = new es(c),
            l = {};

        function h() {
            l = {}, r = null, o = null, u = null, i = !1, n = !1
        }

        function d(i, e) {
            (e = Object.assign({}, e, {
                name: l.video_title,
                user_id: l.viewer_user_id,
                channel_id: l.video_series,
                user_agent: navigator.userAgent,
                url: top === self ? window.location.href : document.referrer,
                referrer: t.config.request.referrer,
                session_id: t.config.request.session,
                device: "html5"
            }, {
                type: "video",
                video_id: l.video_id,
                current_src: t.backbone.currentFile.src,
                current_subtitle: "none",
                current_type: l.video_content_type,
                duration: l.video_duration,
                is_drm: t.config.request.drm ? 1 : 0,
                is_fullscreen: n ? 1 : 0,
                is_trailer: l.is_trailer ? 1 : 0,
                is_chromecast: Hs.isCastConnected ? 1 : 0,
                is_live: t.config.video.live_event,
                seconds: s,
                timecode: t.currentTime
            })).name = i, void 0 === e.timestamp && (e.timestamp = Math.round(.001 * Date.now()));
            var r = ra(e),
                o = c + r;
            return f.logRequestPromiseWithUrl(o, {}, !0, "GET").catch(function(t) {})
        }

        function v() {
            o = Date.now(), clearTimeout(u), u = setTimeout(function() {
                ! function(t) {
                    var n, i = t.elapsedTime,
                        e = Math.round(.001 * i);
                    null !== r && r();
                    n = Object.assign({
                        seconds: e
                    }), d(Xa.TIME_UPDATE, n)
                }({
                    elapsedTime: Date.now() - o
                }), v()
            }, a)
        }

        function p() {
            clearTimeout(u), d(Xa.ENDED)
        }

        function m() {
            clearTimeout(u), d(Xa.ERROR)
        }

        function b() {
            clearTimeout(u), d(Xa.PAUSE)
        }

        function w() {
            if (v(), !i) return i = !0, void d(Xa.FIRST_PLAY);
            d(Xa.PLAY)
        }

        function y() {
            d(Xa.SEEKED)
        }

        function g() {
            d(Xa.WAITING)
        }

        function E() {
            n = !0
        }

        function k() {
            n = !1
        }

        function _() {
            d(nh.AD_BUFFERING)
        }

        function T() {
            d(nh.AD_COMPLETE)
        }

        function S() {
            d(nh.AD_CLICKED)
        }

        function A() {
            d(nh.AD_ERROR)
        }

        function x() {
            d(nh.AD_PAUSED)
        }

        function M() {
            d(nh.AD_RESUMED)
        }

        function O() {
            d(nh.AD_STARTED)
        }

        function R() {
            d(nh.AD_SKIPPED)
        }
        return h(), new e(function(n, i) {
            t.ottVideoMetadata ? n() : t.events.on(Ua.Zs, function(t) {
                n()
            })
        }).then(function() {
            l = t.ottVideoMetadata, t.events.on(J.ENDED, p), t.events.on(J.ERROR, m), t.events.on(J.PAUSE, b), t.events.on(J.PLAY, w), t.events.on(J.SEEKED, y), t.events.on(J.WAITING, g), t.events.on(Ua.ts, E), t.events.on(Ua.es, k), t.events.on(Ua.Lc, _), t.events.on(Ua.Dc, T), t.events.on(Ua.jc, S), t.events.on(Ua.Pc, A), t.events.on(Ua.Nc, x), t.events.on(Ua.Uc, M), t.events.on(Ua.Fc, O), t.events.on(Ua.Vc, R)
        }).catch(function(t) {}), t.events.on(Ua.qs, h), {
            reset: function() {
                clearTimeout(u), o = null, u = null
            }
        }
    }
    var lh = function(t) {
        return function(n) {
            for (var i = arguments.length, e = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++) e[r - 1] = arguments[r];
            return e.forEach(function(i) {
                for (var e in i) {
                    var r = Object.getOwnPropertyDescriptor(i, e);
                    Object.defineProperty(n, e, Object.assign(r, t))
                }
            }), n
        }
    }({
        enumerable: !0,
        configurable: !0,
        writeable: !1
    });
    var hh = {
        AD_BUFFERING: "ad-buffering",
        AD_COMPLETE: "ad-complete",
        AD_CLICK: "ad-click",
        AD_SKIPPED: "ad-skipped",
        ALL_ADS_COMPLETED: "all-ads-completed",
        AD_ERROR: "ad-error",
        AD_STARTED: "ad-started",
        ADS_MANAGER_LOADED: "ads-manager-loaded",
        CONTENT_PAUSE_REQUESTED: "content-pause-requested",
        CONTENT_RESUME_REQUESTED: "content-resume-requested"
    };

    function dh(t, n) {
        var i, e, r, o, u, a = $();

        function s() {
            i = google.ima;
            var e = bt.iOS ? n.videoPlayer.videoElement : n.videoPlayer;
            u = new i.AdDisplayContainer(t, e), (r = new i.AdsLoader(u)).addEventListener(i.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED, c), r.addEventListener(i.AdErrorEvent.Type.AD_ERROR, w), o = new i.AdsRequest,
                function() {
                    if (n.adUrl) o.adTagUrl = n.adUrl
                }(), o.linearAdSlotWidth = n.width.linear, o.linearAdSlotHeight = n.height.linear, o.nonLinearAdSlotWidth = n.width.nonlinear, o.nonLinearAdSlotHeight = n.height.nonlinear, r.requestAds(o)
        }

        function c(t) {
            var r = new i.AdsRenderingSettings;
            r.restoreCustomPlaybackStateOnAdBreakComplete = !0, r.uiElements = [], e = t.getAdsManager(n.videoPlayer, r), a.fire(hh.ADS_MANAGER_LOADED), e.addEventListener(i.AdErrorEvent.Type.AD_ERROR, w), e.addEventListener(i.AdEvent.Type.CONTENT_PAUSE_REQUESTED, f), e.addEventListener(i.AdEvent.Type.CONTENT_RESUME_REQUESTED, l), e.addEventListener(i.AdEvent.Type.AD_BUFFERING, h), e.addEventListener(i.AdEvent.Type.STARTED, d), e.addEventListener(i.AdEvent.Type.COMPLETE, v), e.addEventListener(i.AdEvent.Type.CLICK, p), e.addEventListener(i.AdEvent.Type.SKIPPED, m), e.addEventListener(i.AdEvent.Type.ALL_ADS_COMPLETED, b)
        }

        function f(t) {
            a.fire(hh.CONTENT_PAUSE_REQUESTED, t)
        }

        function l(t) {
            a.fire(hh.CONTENT_RESUME_REQUESTED, t)
        }

        function h(t) {
            a.fire(hh.AD_BUFFERING, t)
        }

        function d(t) {
            a.fire(hh.AD_STARTED, t)
        }

        function v(t) {
            a.fire(hh.AD_COMPLETE, t)
        }

        function p(t) {
            e.pause(), a.fire(hh.AD_CLICK, t)
        }

        function m(t) {
            a.fire(hh.AD_SKIPPED, t)
        }

        function b(t) {
            a.fire(hh.ALL_ADS_COMPLETED, t)
        }

        function w(t) {
            a.fire(hh.AD_ERROR, t.getError()), e && e.destroy()
        }
        var y = {
            start: function(t, n) {
                return u.initialize(), e.init(t, n, i.ViewMode.NORMAL), e.start()
            },
            stop: function() {
                return e.stop()
            },
            pause: function() {
                return e.pause()
            },
            play: function() {
                return e.resume()
            },
            skip: function() {
                return e.skip()
            },
            resize: function(t, n, r) {
                return r ? e.resize(t, n, i.ViewMode.FULLSCREEN) : e.resize(t, n, i.ViewMode.NORMAL)
            },
            destroy: function() {
                a.off(), e.destroy(), r.destroy(), u.destroy()
            },
            get volume() {
                return e.getVolume()
            },
            set volume(t) {
                e.setVolume(t)
            },
            get adsManager() {
                return e
            },
            get adsLoader() {
                return r
            },
            get remainingTime() {
                return e.getRemainingTime()
            },
            setContentComplete: function() {
                r.contentComplete()
            },
            on: function(t, n) {
                return a.on(t, n), this
            },
            off: function(t, n) {
                return a.off(t, n), this
            }
        };
        return function(t, n) {
            var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
            if (document.getElementById(t)) i();
            else {
                var e = document.createElement("script");
                e.id = t, e.src = n, e.withCredentials = !0, e.onreadystatechange = e.onload = function() {
                    i && i()
                }, document.getElementsByTagName("body")[0].appendChild(e)
            }
        }("vp-ima-sdk", "https://imasdk.googleapis.com/js/sdkloader/ima3.js", s), lh(this, y)
    }

    function vh(t, n) {
        var i, r, o, u, a, s, c, f, l, h, d, v, p = !1,
            m = $(),
            b = 1e3,
            w = {};

        function y() {
            (i = document.querySelector(".vp-ads-wrapper")) || ((i = document.createElement("div")).classList.add("vp-ads-wrapper"), i.innerHTML = tl.render("vp-ads-wrapper"), document.querySelector(".player").appendChild(i), i.innerHTML = tl.render("adcountdown")), r = i.querySelector(".vp-ads-tag"), w = {
                adCode: t.config.request.ads.adcode || null,
                adUnit: t.config.request.ads.adunit || null,
                adUrl: t.config.request.ads.adurl || null,
                videoPlayer: t.backbone,
                width: {
                    linear: 488,
                    nonlinear: 488
                },
                height: {
                    linear: 252,
                    nonlinear: 150
                }
            }, (u = new dh(i, w)).on(hh.ADS_MANAGER_LOADED, function() {
                u.on(hh.AD_BUFFERING, E), u.on(hh.AD_COMPLETE, _), u.on(hh.AD_CLICK, k), u.on(hh.AD_ERROR, T), u.on(hh.AD_STARTED, S), u.on(hh.AD_SKIPPED, A), u.on(hh.ALL_ADS_COMPLETED, x), u.on(hh.CONTENT_PAUSE_REQUESTED, M), u.on(hh.CONTENT_RESUME_REQUESTED, O),
                    function() {
                        if (!h) {
                            if (p) return;
                            t.events.once(Ki, function() {
                                d(), h = !0
                            })
                        }
                        v.then(D).catch(function(t) {}), t.events.on(J.ENDED, function() {
                            p || (s = !0, u.setContentComplete())
                        })
                    }(), t.store.watch("ui.player.width", j), t.events.on(Ua.ts, j, !0), t.events.on(Ua.es, j, !1), h && d()
            })
        }

        function g() {
            r && (I(), r = null), u && (u.destroy(), u = null), o && clearInterval(o), a = null, s = !1, c = !1, l = !1, f = !1, h = !1, p = !1, v = new e(function(t, n) {
                d = t
            }), t.events.once(Ki, function() {
                h = !0
            }), t.events.on(J.ERROR, function(t) {
                !t || "NotAllowedError" !== t.name && "AbortError" !== t.name || (h = !1)
            }), y()
        }

        function E() {
            c && t.events.fire(Ua.Lc)
        }

        function k() {
            t.events.fire(Ua.jc)
        }

        function _() {
            bt.iPhone && t.backbone.addVideoEventListeners(), o && clearInterval(o), c = !1, t.events.fire(Ua.Dc)
        }

        function T(n) {
            var i = {
                errorType: n.o,
                errorReason: n.l
            };
            t.events.fire(Ua.Pc, i), "adPlayError" === i.errorType && t.events.fire(Ua.Ea)
        }

        function S(n) {
            bt.iPhone && t.backbone.removeVideoEventListeners();
            var e = n.getAd();
            e.isLinear() && (o = setInterval(function() {
                var t = "AD " + function(t) {
                    if (t < 0) return "00:00";
                    var n = Math.floor(t / 60),
                        i = Math.round(t % 60);
                    return (n = n < 10 ? "0" + n : n) + ":" + (i = i < 10 ? "0" + i : i)
                }(u.remainingTime);
                i.querySelector(".vp-ads-countdown").innerHTML = t
            }, b), setTimeout(C, b)), c = !0;
            var r = {
                type: e.isLinear() ? "linear" : "nonlinear"
            };
            a && (r.time = Date.now() - a, a = null), t.events.fire(Ua.Fc, r)
        }

        function A(n) {
            t.events.fire(Ua.Vc, n)
        }

        function x(n) {
            l = !0, bt.iPhone || u.destroy(), t.events.fire(Ua.Bc, n)
        }

        function M() {
            t.events.fire(Ua.ga), a = Date.now(), s || (f = !0, t.backbone.paused ? t.events.once(J.PLAYING, function() {
                t.backbone.pause()
            }) : t.backbone.pause())
        }

        function O() {
            I(), t.events.fire(Ua.Ea), bt.iPhone && l && u.destroy(), s || R()
        }

        function R() {
            f = !1, t.backbone.play()
        }

        function C() {
            (r = i.querySelector(".vp-ads-tag")).classList.remove("hidden"), r.removeAttribute("hidden")
        }

        function I() {
            r.classList.add("hidden"), r.setAttribute("hidden", "")
        }

        function L() {
            return {
                width: n.getBoundingClientRect().width,
                height: n.getBoundingClientRect().height
            }
        }

        function D() {
            var n = L(),
                i = n.width,
                e = n.height;
            try {
                u.start(i, e)
            } catch (n) {
                s && t.events.fire(Ua.Dc), f && R()
            }
        }

        function j(t) {
            var n = L(),
                i = n.width,
                e = n.height;
            u.resize(i, e, t)
        }
        var P = {
            pause: function() {
                return t.events.fire(Ua.Nc), u.pause()
            },
            play: function() {
                return t.events.fire(Ua.Uc), u.play()
            },
            get volume() {
                return u.volume
            },
            set volume(t) {
                u.volume = t
            },
            toggleCastingState: function(t) {
                (p = !!t) && u.destroy()
            },
            events: m
        };
        return g(), t.events.on(Ua.qs, g), P
    }

    function ph(t) {
        var n = t.element,
            i = t.delegate,
            r = void 0 === i ? {} : i,
            o = t.cssLoadedPromise,
            u = void 0 === o ? e.resolve(null) : o,
            a = t.name,
            s = void 0 === a ? null : a;
        He.set(ms);
        var c = Io(Jf, Lo(Rc(), function() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                return function(n) {
                    return function() {
                        var i = n.apply(void 0, arguments);

                        function e() {
                            return t
                        }
                        var r = Xr(function(t) {
                            if (_r(t)) return t;
                            var n = co(e(), t);
                            return _r(n) ? n : function(n) {
                                return co(n, t)
                            }
                        });
                        return B({}, i, {
                            getSelectors: e,
                            createGetter: r,
                            get: function(t, n) {
                                var e = (t = r(t))(i.getState());
                                return void 0 !== n && (e = function(t, n) {
                                    return null == t || t != t ? n : t
                                }(e, n)), e
                            }
                        })
                    }
                }
            }(Zf), function() {
                for (var t = arguments.length, n = Array(t), i = 0; i < t; i++) n[i] = arguments[i];
                return function(t) {
                    return function(i, e, r) {
                        var o, u = t(i, e, r),
                            a = u.dispatch,
                            s = {
                                getState: u.getState,
                                dispatch: function(t) {
                                    return a(t)
                                }
                            };
                        return o = n.map(function(t) {
                            return t(s)
                        }), a = Lo.apply(void 0, o)(u.dispatch), Do({}, u, {
                            dispatch: a
                        })
                    }
                }
            }.apply(void 0, []))),
            f = new I,
            l = $(),
            h = new ws({
                events: l
            }),
            d = Ea();
        n.classList.add("player-".concat(d)), n.classList.add("loading"), n.id || (n.id = "player".concat(d)), n.innerHTML = tl.render("outer", {
            strings: {
                back: "Back",
                close: "Close overlay"
            }
        });
        var v = n.querySelector(".vp-telecine");
        if (bt.iOS) {
            var p = document.createElement("video");
            v.appendChild(p);
            try {
                p.setAttribute("muted", ""), p.setAttribute("playsinline", ""), p.load()
            } catch (t) {
                ms.captureException(t)
            }
        }
        var m, b, w, y, g, E = null,
            k = null,
            _ = null,
            T = null,
            S = null,
            A = null,
            x = {},
            M = new e(function(t, n) {
                g = t
            }).then(function() {
                return l.fire(Ua.yi), null
            }),
            O = {
                get config() {
                    return h.config
                },
                set config(t) {
                    h.config = t
                },
                get delegate() {
                    return r
                },
                set delegate(t) {
                    r = t
                },
                ready: function(t) {
                    if (!t) return M;
                    M.then(function() {
                        return t()
                    }).catch(function(t) {
                        ms.captureException(t)
                    })
                },
                get sessionId() {
                    return h.config.request.session
                }
            };

        function R(t) {
            var n = t.old,
                i = t.loaded;
            if (function(t, n) {
                    if (t) s && "".concat(s, " ")
                }(!n), window.parent !== window) {
                var e = "Private Video on Vimeo";
                i.view !== za.main && i.view !== za.privateUnlocked || (e = "".concat(i.video.title, " from ").concat(i.video.owner.name, " on Vimeo")), document.title = e, history && history.replaceState && i.video && n && history.replaceState({
                    id: i.video.id
                }, "", "/video/".concat(i.video.id).concat(window.location.search))
            }
            if (i.view !== za.main && i.view !== za.privateUnlocked) throw new Error("Config not authorized: ".concat(i.view));
            n && n.embed && n.embed.color !== i.embed.color && l.fire(Pa.Xu, i.embed.color), T && T.reset();
            var r = !n || !n.video || n.video.id !== i.video.id || n.video.version.current !== i.video.version.current;
            return m = null, w = E, l.fire(Pa.Gu), c.dispatch(oc(i)), l.fire(Ua.qs, r, i), t
        }

        function C(t) {
            if ("opacity" === t.propertyName) {
                var n = document.querySelector(".vp-placeholder");
                n && (yc(n).off("transitionend", C), n.parentNode.removeChild(n))
            }
        }

        function L() {
            ! function() {
                var t = document.querySelector(".vp-placeholder");
                t && (yc(t).on("transitionend", C), t.classList.add("vp-placeholder-fadeout"))
            }(), n.classList.remove("loading"), g()
        }

        function D(t) {
            return u.then(function() {
                if (N(t), k && k.resetThumbnail(), "function" != typeof x.authorizationHandler) throw new Error("Config was not authorized.");
                return x.authorizationHandler(L)
            }).then(function(t) {
                h.config = t;
                return m = null, c.dispatch(oc(h.config)), l.fire(Pa.Gu), l.fire(Ua.qs, !0, h.config), t
            })
        }

        function j() {
            var t = document.location.hash,
                n = function(t) {
                    var n = t.match(/\ba?t=([0-9hms:]+)/);
                    null !== n && (t = n[1]);
                    var i = !1,
                        e = 0,
                        r = 0,
                        o = 0;
                    if ((n = t.match(/^([0-9]+)$/)) && n.length && (i = !0, o = n[1]), !1 === i && null !== (n = t.match(/^(?:([0-9]+)h)?(?:([0-9]+)m)?(?:([0-9]+)s)?/)) && "" !== n[0]) {
                        i = !0;
                        var u = Y(n, 4),
                            a = u[1];
                        e = void 0 === a ? 0 : a;
                        var s = u[2];
                        r = void 0 === s ? 0 : s;
                        var c = u[3];
                        o = void 0 === c ? 0 : c
                    }
                    if (!1 === i && null !== (n = t.match(/^([0-9:]+)/))) {
                        i = !0;
                        var f = Y(t.split(":").reverse(), 3);
                        o = f[0];
                        var l = f[1];
                        r = void 0 === l ? 0 : l;
                        var h = f[2];
                        e = void 0 === h ? 0 : h
                    }
                    return i ? 60 * parseInt(e, 10) * 60 + 60 * parseInt(r, 10) + parseInt(o, 10) : null
                }(t);
            null !== n && (h.config.embed.time = pa(n, 0, h.config.video.duration), -1 !== t.indexOf("at=") && history && history.replaceState && history.replaceState("", "", window.location.pathname + window.location.search))
        }

        function P(t) {
            j(), l.on(Ua.Fs, function(t) {
                    h.reload().then(function(n) {
                        if (!h.config.user.logged_in) return l.fire(Ua.Hs), n;
                        switch (l.fire(Ua.Vs, t), t) {
                            case "like":
                                h.config.user.liked && l.fire(Ua.Ds);
                                break;
                            case "watch-later":
                                h.config.user.watch_later && l.fire(Ua.Ns);
                                break;
                            case "private":
                                l.fire(Ua.Gs)
                        }
                        return n
                    }).catch(function(t) {
                        ms.captureException(t)
                    })
                }), l.on(Ua.Bs, function() {
                    h.reload().catch(function(t) {
                        ms.captureException(t)
                    })
                }),
                function(t) {
                    new Pl(t, c, n), k = new Ws(t, c, n.querySelector(".vp-preview")), l.on([tt.BUFFER_ENDED, J.PLAYING], function() {
                        k.hide()
                    }), E = new Ze(v, h.config), w = E, new wc(t, c, n.querySelector(".vp-video-wrapper")), new Qf(t, c, n.querySelector(".vp-captions")), new nl(n, l), U(t), t.doNotTrackEnabled || (new sh(t, n, c, h.config.request.urls.fresnel), new Oc(t, c), new ch(t, n, c), new fh(t));
                    T = new Ks(t), (t.config.request.flags.ott || t.config.request.ab_tests && t.config.request.ab_tests.chromecast && t.config.request.ab_tests.chromecast.group) && function(t) {
                        if (t.config.video.spatial || "stock" === t.config.video.privacy) return;
                        var i = new Fs({
                            textAlert: new Ql(n),
                            player: t
                        });
                        Hs.init({
                            chromecastPlayer: i
                        }), Hs.on([Us.error, Us.mediaLoadedFailed], function(t) {
                            ms.captureException(t)
                        })
                    }(t);
                    N(t)
                }(t)
        }

        function N(t) {
            _ || (_ = new Zl(t), il(O, _), Yl.set(ms))
        }

        function U(t) {
            var i = h.config.request.ads;
            i && ((i.adcode && i.adunit || i.adurl) && (S = new vh(t, n.querySelector(".vp-video-wrapper")), l.on(Ua.ga, function() {
                w = S, l.fire(Ua.bc)
            }), l.on(Ua.Ea, function() {
                w = E, l.fire(Ua.bc)
            }), Hs && (Hs.on(Us.connected, function() {
                S.toggleCastingState(!0)
            }), Hs.on(Us.disconnected, function() {
                S.toggleCastingState(!1)
            }))))
        }

        function F(t, n) {
            var i = t;
            isNaN(t) && "string" != typeof t || (i = wa(ba(t), t, n));
            return i
        }
        var V = {
            get store() {
                return c
            },
            get config() {
                return h.config
            },
            get element() {
                return n
            },
            get events() {
                return l
            },
            get uuid() {
                return d
            },
            get expose() {
                return O
            },
            get backbone() {
                return E
            },
            get adHandler() {
                return S
            },
            get displayContext() {
                return w
            },
            get preview() {
                return k
            },
            get doNotTrackEnabled() {
                return h.config.embed.dnt || h.config.request.flags.dnt
            },
            get playLoggingEnabled() {
                return h.config.embed.log_plays && h.config.request.flags.plays
            },
            get currentTime() {
                return Hs.isCastConnected ? Hs.chromecastPlayer.lastCurrentTime : E.currentTime
            },
            get ottVideoMetadata() {
                return A
            },
            set ottVideoMetadata(t) {
                A = t
            },
            init: function(t, n) {
                return b || (x = n, b = h.load(t).then(R).catch(function(t) {
                    return D(V)
                }).then(function() {
                    return "function" == typeof x.initializationHandler ? e.resolve(n.initializationHandler()) : null
                }).then(function() {
                    return P(V), "function" == typeof x.postInitializationHandler ? e.resolve(n.postInitializationHandler()) : null
                }).then(function() {
                    return e.all([k.thumbnailPromise, u])
                }).then(L).then(function() {
                    return ms.setUp(V), null
                }).catch(function(t) {
                    ms.captureException(t)
                }))
            },
            loadVideo: function(t, i) {
                if (y === t && m) return m;
                if (k && k.resetThumbnail(), i && i.video_version) {
                    var r = h.config.video.version.available;
                    if (!r || !Array.isArray(r)) return e.reject("No available video versions");
                    if (-1 === (r = r.map(function(t) {
                            return t.id
                        })).indexOf(i.video_version)) return e.reject("Invalid version id specified")
                }
                l.fire(Ua._loadVideo), y = t, n.classList.add("loading");
                var o = F(t, i),
                    u = f.get(o);
                return t = u ? u.If.loaded : t, m = h.load(t, i).then(function(t) {
                    if (u) {
                        var n = E.element;
                        (E = u.Lf).element.style.visibility = "visible", n.parentNode.replaceChild(E.element, n), l.fire(Ua.uc)
                    }
                    return t = R(t), S || U(V), t
                }).catch(function(t) {
                    return D(V)
                }).then(function(t) {
                    var n = k.loadThumbnail();
                    return e.resolve(n)
                }).then(L)
            },
            preloadVideo: function(t, n, i) {
                var r = F(n, i),
                    o = f.get(r);
                return o ? e.resolve(o) : new ws({
                    events: l
                }).load(n, i).then(function(n) {
                    var i = E.element.cloneNode(!1);
                    i.style.visibility = "hidden", E.element.parentNode.insertBefore(i, E.element);
                    var e = new Ze(i, n.loaded);
                    e.loadVideo(n.loaded), e.preload = t;
                    var o = {
                        Lf: e,
                        If: n
                    };
                    return f.set(r, o), o
                })
            },
            performDelegateAction: function(t) {
                var n, i, e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {},
                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [];
                if (r && r[t.will] && !1 === (n = (i = r)[t.will].apply(i, [h.config.video.id].concat(K(o))))) return;
                e.apply(void 0, [h.config.video.id].concat(K(o), [n])), r && r[t.did] && r[t.did]()
            },
            ready: function() {
                return M
            },
            verifyConfig: function() {
                return h.verify()
            },
            updatePhpTokens: function() {
                return new e(function(t, n) {
                    var i = h.config.user,
                        e = i.vimeo_api_client_token,
                        r = i.vimeo_api_interaction_tokens,
                        o = i.vimeo_live_client_token,
                        u = !1;
                    if (e) try {
                        u = ul(JSON.parse(atob(e.split(".")[1])).exp) >= 0
                    } catch (t) {
                        return void n(new Error("Failed to parse PHP client token expiration"))
                    }
                    if (r) try {
                        var a = JSON.parse(atob(r.likes.split(".")[1])).exp,
                            s = JSON.parse(atob(r.watch_later.split(".")[1])).exp,
                            c = JSON.parse(atob(r.following.split(".")[1])).exp;
                        u = ul(a) >= 0 || ul(s) >= 0 || ul(c) >= 0
                    } catch (t) {
                        return void n(new Error("Failed to parse PHP interaction tokens expiration"))
                    }
                    if (o) try {
                        u = ul(JSON.parse(atob(o.split(".")[1])).exp) >= 0
                    } catch (t) {
                        return void n(new Error("Failed to parse PHP Live token expiration"))
                    }
                    if (u) {
                        var f = h.config.request,
                            l = f.signature,
                            d = f.session,
                            v = f.timestamp,
                            p = f.expires;
                        Sn("https://".concat(h.config.player_url, "/video/").concat(h.config.video.id, "/token/refresh?signature=").concat(l, "&session=").concat(d, "&time=").concat(v, "&expires=").concat(p), {
                            withCredentials: !0
                        }).json().then(function(n) {
                            return h.config.user.vimeo_api_client_token = n ? n.vimeo_api_client_token : null, h.config.user.vimeo_api_interaction_tokens = n ? n.vimeo_api_interaction_tokens : null, h.config.user.vimeo_live_client_token = n ? n.vimeo_live_client_token : null, t()
                        }).catch(function(t) {
                            ms.captureBreadcrumb("Failed to refresh JWT token", {}, "auth", "error"), n(t)
                        })
                    } else t()
                })
            }
        };
        return V
    }
    var mh = n(function(t) {
        ! function(n, i, e) {
            var r = /i(Pad|Phone|Pod)/.test(navigator.userAgent) && parseInt(navigator.userAgent.replace(/^.*OS (\d+)_(\d+).*$/, "$1.$2"), 10) >= 7,
                o = function() {
                    var t = i.createElement("video"),
                        n = {
                            request: ["requestFullscreen", "webkitRequestFullscreen", "webkitRequestFullScreen", "mozRequestFullScreen", "msRequestFullscreen"],
                            exit: ["exitFullscreen", "webkitCancelFullScreen", "webkitExitFullscreen", "mozCancelFullScreen", "msExitFullscreen"],
                            enabled: ["fullscreenEnabled", "webkitFullscreenEnabled", "mozFullScreenEnabled", "msFullscreenEnabled"],
                            element: ["fullscreenElement", "webkitFullscreenElement", "webkitCurrentFullScreenElement", "mozFullScreenElement", "msFullscreenElement"],
                            change: ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"],
                            error: ["fullscreenerror", "webkitfullscreenerror", "mozfullscreenerror", "MSFullscreenError"]
                        },
                        e = {};
                    for (var r in n)
                        for (var o = 0, u = n[r].length; o < u; o++)
                            if (n[r][o] in t || n[r][o] in i || "on" + n[r][o].toLowerCase() in i) {
                                e[r] = n[r][o];
                                break
                            }
                    return e
                }(),
                u = {
                    ENTER: "enter",
                    EXIT: "exit",
                    CHANGE: "change",
                    ERROR: "error"
                },
                a = [],
                s = {},
                c = null;

            function f() {
                var t = Array.prototype.slice.apply(arguments),
                    n = t.shift();
                s[n].forEach(function(n) {
                    "function" == typeof n && n.apply(n, t)
                })
            }

            function l(t) {
                return function(n, i) {
                    -1 !== a.indexOf(n) && t.call(this, n, i)
                }
            }

            function h(t) {
                var n = null;
                if ("VIDEO" === t.tagName) n = t;
                else {
                    var i = t.getElementsByTagName("video");
                    i[0] && (n = i[0])
                }
                return n
            }
            Object.keys(u).forEach(function(t) {
                a.push(u[t]), s[u[t]] = []
            });
            var d = null,
                v = null,
                p = function() {},
                m = [],
                b = !1,
                w = !1,
                y = -1 !== navigator.userAgent.indexOf("Chrome"),
                g = -1 !== navigator.userAgent.indexOf("Android"),
                E = -1 !== navigator.userAgent.indexOf("Safari"),
                k = -1 !== navigator.userAgent.indexOf("Apple");

            function _(t) {
                var n = h(t);
                if (n && n.webkitEnterFullscreen) {
                    try {
                        n.readyState < n.HAVE_METADATA ? (n.addEventListener("loadedmetadata", function i() {
                            n.removeEventListener("loadedmetadata", i, !1);
                            try {
                                n.webkitEnterFullscreen(), v = !!n.getAttribute("controls")
                            } catch (n) {
                                return M("cannot_enter_fullscreen", t)
                            }
                        }, !1), n.load()) : (n.webkitEnterFullscreen(), v = !!n.getAttribute("controls")), d = n
                    } catch (n) {
                        return M("not_supported", t)
                    }
                    return !0
                }
                return M(void 0 === o.request ? "not_supported" : "not_enabled", t)
            }

            function T() {
                O.element || (x(), S())
            }

            function S() {
                e && "webkitfullscreenchange" === o.change && n.removeEventListener("resize", T, !1)
            }
            y && g && (b = parseInt(navigator.userAgent.replace(/^.*Chrome\/(\d+).*$/, "$1"), 10) || !0), E && k && !y && !g && (w = parseFloat(navigator.userAgent.replace(/^.*Version\/(\d+)\.(\d+).*$/, "$1.$2")) || !0);
            var A = function(t) {
                    var n = m[m.length - 1];
                    n && (t !== n.element && t !== d || !n.hasEntered) && ("VIDEO" === t.tagName && (d = t), 1 === m.length && O.onenter(O.element), n.enter.call(n.element, t || n.element), n.hasEntered = !0, f(u.ENTER, O.element))
                },
                x = function() {
                    !d || v || r || (d.setAttribute("controls", "controls"), d.removeAttribute("controls")), d = null, v = null;
                    var t = m.pop();
                    t && (t.exit.call(t.element), f(u.EXIT, t.element), !e && c && 0 === n.scrollY && n.scrollTo(0, c), O.element || (m.forEach(function(t) {
                        t.exit.call(t.element), f(u.EXIT, t.element)
                    }), m = [], O.onexit()))
                },
                M = function(t, n) {
                    if (m.length > 0) {
                        var i = m.pop();
                        n = n || i.element, i.error.call(n, t), O.onerror(n, t), f(u.ERROR, n, t)
                    }
                },
                O = {
                    request: function(t, r, u, a) {
                        if (t = t || i.body, m.push({
                                element: t,
                                enter: r || p,
                                exit: u || p,
                                error: a || p
                            }), void 0 === o.request) return _(t);
                        if (e && !1 === i[o.enabled]) return _(t);
                        if (!1 !== b && b < 32) return _(t);
                        if (e && void 0 === o.enabled) return o.enabled = "webkitFullscreenEnabled", t[o.request](), void setTimeout(function() {
                            i[o.element] ? i[o.enabled] = !0 : (i[o.enabled] = !1, _(t))
                        }, 250);
                        try {
                            !e && n && (c = n.scrollY), t[o.request](), w >= 5.1 && setTimeout(function() {
                                i[o.element] || M(e ? "not_enabled" : "not_allowed", t)
                            }, 100)
                        } catch (n) {
                            M("not_enabled", t)
                        }
                    },
                    exit: function() {
                        S(), !i[o.exit] && O.element ? O.element[o.exit]() : i[o.exit]()
                    },
                    toggle: function(t, n, i, e) {
                        O.element ? O.exit() : O.request(t, n, i, e)
                    },
                    videoEnabled: function(t) {
                        if (O.enabled) return !0;
                        var n = h(t = t || i.body);
                        return !(!n || void 0 === n.webkitSupportsFullscreen) && (n.readyState < n.HAVE_METADATA ? "maybe" : n.webkitSupportsFullscreen)
                    },
                    on: l(function(t, n) {
                        s[t].push(n)
                    }),
                    off: l(function(t, n) {
                        var i = s[t].indexOf(n);
                        i > -1 && s[t].splice(i, 1)
                    }),
                    onenter: p,
                    onexit: p,
                    onchange: p,
                    onerror: p
                };
            try {
                Object.defineProperties(O, {
                    element: {
                        enumerable: !0,
                        get: function() {
                            return d && d.webkitDisplayingFullscreen ? d : i[o.element] || null
                        }
                    },
                    enabled: {
                        enumerable: !0,
                        get: function() {
                            return "webkitCancelFullScreen" === o.exit && !e || !(!1 !== b && b < 32) && (i[o.enabled] || !1)
                        }
                    }
                })
            } catch (t) {
                O.element = null, O.enabled = !1
            }
            o.change && i.addEventListener(o.change, function(t) {
                if (O.onchange(O.element), f(u.CHANGE, O.element), O.element) {
                    var i = m[m.length - 2];
                    i && i.element === O.element ? x() : (A(O.element), e && "webkitfullscreenchange" === o.change && n.addEventListener("resize", T, !1))
                } else x()
            }, !1), i.addEventListener("webkitbeginfullscreen", function(t) {
                var n = !0;
                if (m.length > 0)
                    for (var i = 0, e = m.length; i < e; i++) {
                        if (h(m[i].element) === t.srcElement) {
                            n = !1;
                            break
                        }
                    }
                n && m.push({
                    element: t.srcElement,
                    enter: p,
                    exit: p,
                    error: p
                }), O.onchange(t.srcElement), f(u.CHANGE, O.srcElement), A(t.srcElement)
            }, !0), i.addEventListener("webkitendfullscreen", function(t) {
                O.onchange(t.srcElement), f(u.CHANGE, t.srcElement), x(t.srcElement)
            }, !0), o.error && i.addEventListener(o.error, function(t) {
                M("not_allowed")
            }, !1), t.exports ? t.exports = O : n.BigScreen = O
        }(window, document, self !== top)
    });

    function bh(t, n, i, e) {
        var r = !1;
        e = "function" == typeof n ? i : e, i = "function" == typeof n ? n : i;
        var o = function(t) {
                var n = !0;
                if (t.changedTouches) {
                    var o = t.changedTouches[0].pageX - window.pageXOffset,
                        u = t.changedTouches[0].pageY - window.pageYOffset,
                        a = document.elementFromPoint(o, u);
                    null !== a && this.contains(a) && (n = i.call(this, t))
                }
                return "function" == typeof e && e.call(this, t), r = !0, n
            },
            u = function(t) {
                if (!r) return i.call(this, t);
                r = !1
            };
        (n = "function" == typeof n ? null : n) ? yc(t).on("click", n, u).on("touchend", n, o): yc(t).on("click", u).on("touchend", o)
    }

    function wh(t, n) {
        var i, e, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [],
            o = [],
            u = !1;

        function a() {
            return i.classList.contains("vp-menu-carousel")
        }

        function s() {
            var t = o.length > 1 && !a();
            o.forEach(function(n) {
                n.setCollapsible(t), n.resetCarousel(a())
            })
        }

        function c(t) {
            o.push(t), i.insertBefore(t.element, i.lastChild), s(), t.on("open", f), t.on(["open", "close"], l), t.on(["openEnd", "closeEnd"], h), t.on("select", p)
        }

        function f(t) {
            o.filter(function(t) {
                return t.isOpen()
            }).forEach(function(t) {
                return t.close()
            })
        }

        function l(t) {
            u = !0, y()
        }

        function h(t) {
            u = !1
        }

        function d() {
            return n && "true" === n.getAttribute("aria-expanded")
        }

        function v(r) {
            d() || (r = r || n.contains(document.activeElement), n.setAttribute("aria-expanded", "true"), i.removeAttribute("hidden"), t.events.fire(Ua.Wa, !0, e), w(), s(), i.classList.remove("vp-menu-hidden"), window.requestAnimationFrame(function() {
                if (i.classList.remove("vp-menu-invisible"), r) {
                    var t = g();
                    t.length > 0 && t[0].focus()
                }
            }))
        }

        function p() {
            a() || b()
        }

        function m() {
            g().some(function(t) {
                return t === document.activeElement
            }) && n.focus()
        }

        function b() {
            d() && setTimeout(function() {
                m(), n.setAttribute("aria-expanded", "false"), t.events.fire(Ua.Wa, !1, e), i.classList.add("vp-menu-invisible")
            }, 100)
        }

        function w() {
            var n = ha(t.element),
                e = ha(i),
                r = window.getComputedStyle(i),
                o = parseFloat(r.fontSize),
                u = e.bottom - i.scrollHeight,
                a = Math.max(n.top, 0) - u;
            if (a > 0) {
                var s = i.scrollHeight - a - o;
                return i.style.height = "".concat(s / o, "em"), void i.classList.add("vp-menu-scroll")
            }
            i.style.height = "auto", i.classList.remove("vp-menu-scroll")
        }

        function y() {
            w(), u && requestAnimationFrame(y)
        }

        function g() {
            return o.reduce(function(t, n) {
                return t.concat(n.getTabindexItems())
            }, [])
        }
        return i = function() {
            var t = document.createElement("div");
            return t.innerHTML = tl.render("menu", {
                strings: {
                    close: "Close menu"
                }
            }), t.children[0]
        }(), r.forEach(c), bh(i, ".js-menuClose", b), yc(window).on("resize", w), yc(i).on("transitionend", function(t) {
            this === i && "opacity" === t.propertyName && i.classList.contains("vp-menu-invisible") && (i.classList.add("vp-menu-hidden"), i.setAttribute("hidden", ""))
        }), yc(document).on("click", function(t) {
            null !== n && (!d() || n.contains(t.target) || i.contains(t.target) || b())
        }), window.addEventListener("blur", b, !1), e = {
            element: i,
            button: n,
            isCentered: function() {
                return i.classList.contains("vp-menu-center")
            },
            isVisible: d,
            show: v,
            hide: b,
            toggle: function(t) {
                return d() ? (b(), !1) : (v(t), !0)
            },
            retargetFocusFromChild: m,
            setPanelModes: s,
            addPanel: c,
            getPanel: function(t) {
                return o.find(function(n) {
                    return n.id === t
                })
            },
            getTabindexItems: g,
            destroy: function() {
                yc(window).off("resize", w)
            }
        }
    }

    function yh(t) {
        $(this);
        var n, i, e, r = this,
            o = {
                x: 0,
                y: 0
            },
            u = {
                x: 0,
                y: 0
            },
            a = {
                x: 0,
                y: 0
            },
            s = 0;

        function c(n) {
            t.style["".concat(bt.transitionProperty, "Duration")] = n
        }

        function f(n) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t.children.length - 1,
                r = -Math.round(n / h());
            return Math.min(Math.max(r, i), e)
        }

        function l() {
            return !1
        }

        function h() {
            var n = t.children[0],
                i = getComputedStyle(n);
            return n.offsetWidth + parseInt(i.marginLeft, 10) + parseInt(i.marginRight, 10)
        }

        function d(t) {
            var n = [t.clientX, t.clientY],
                i = n[0],
                e = n[1];
            if (t.targetTouches && t.targetTouches.length > 0) {
                var r = [t.touches[0].pageX, t.touches[0].pageY];
                i = r[0], e = r[1]
            }
            return {
                x: i,
                y: e
            }
        }

        function v(t) {
            t.stopImmediatePropagation();
            var i = d(t),
                r = i.x,
                a = i.y;
            u.x = r - o.x, u.y = a - o.y, n = !1, (e = function(t) {
                return function(n) {
                    var i = n ? "on" : "off",
                        e = {
                            pointerdown: ["pointermove", "pointerup"],
                            MSPointerDown: ["pointermove", "pointerup"],
                            touchstart: ["touchmove", "touchend"],
                            mousedown: ["mousemove", "mouseup"]
                        };
                    yc(window)[i](e[t.type][0], p), yc(window)[i](e[t.type][1], m)
                }
            }(t))(!0), c("0ms")
        }

        function p(t) {
            var s = d(t),
                c = s.x,
                l = s.y;
            if (a.x = o.x, a.y = o.y, o.x = c - u.x, o.y = l - u.y, Math.abs(o.x - a.x) >= .15 * Math.abs(o.y - a.y)) return t.preventDefault(), n = !0, r.fire("touchMove"), i = Date.now(), void g(o.x);
            e(!1), b(f(o.x))
        }

        function m(u) {
            if (u.stopImmediatePropagation(), e(!1), n) {
                u.preventDefault();
                var c = o.x - a.x,
                    l = Date.now() - i + 1;
                return o.x += 50 * c / l, b(f(o.x)), void r.fire("touchEnded")
            }! function(n) {
                n.preventDefault();
                var i = Ta(n.target, t.children);
                if (-1 !== i) {
                    if (i !== s) return void b(i);
                    r.fire("tap", i)
                }
            }(u)
        }

        function b(t) {
            y(t), r.fire("slide", t)
        }

        function w() {
            y(s, "0ms")
        }

        function y(t) {
            var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                i = h(); - 1 !== t && i > 0 && (c(n), o.x = -t * i, g(o.x))
        }

        function g(n) {
            var i = f(n, -1, t.children.length);
            i !== s && (r.fire("focus", i), s = i), t.style[bt.transformProperty] = "translateX(".concat(n, "px)")
        }
        return {
            setUp: function(n) {
                yc(t).on(bt.pointerEvents ? "pointerdown" : ["touchstart", "mousedown"], v), yc(t).on("click", "a", l), yc(window).on("resize", w), w(),
                    function(t) {
                        void 0 !== t && y(t, "0ms")
                    }(n)
            },
            show: function(t) {
                y(_a(t))
            },
            resize: w,
            destroy: function() {
                yc(t).off(bt.pointerEvents ? "pointerdown" : ["touchstart", "mousedown"], v), yc(t).off("click", "a", l), yc(window).off("resize", w), t.style.removeProperty(bt.transformProperty)
            },
            on: this.on
        }
    }

    function gh(t) {
        var n, i, e, r, o, u = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
            a = $(),
            s = u.id,
            c = u.items,
            f = !1;

        function l(t) {
            var i = j(n.querySelectorAll(".vp-panel-item"));
            return i[t] || i
        }

        function h() {
            return n.classList.contains("vp-panel-collapsible")
        }

        function d() {
            return n.classList.contains("vp-panel-open")
        }

        function v() {
            if (h()) {
                a.fire("open", r), t.events.fire(Ua.Ka, !0, r), i.removeAttribute("hidden"), n.classList.add("vp-panel-open");
                var e = window.getComputedStyle(n),
                    o = parseFloat(e.fontSize);
                n.style.height = "".concat(n.scrollHeight / o, "em");
                var u = "".concat(bt.transitionProperty, "Delay");
                l().forEach(function(t, n) {
                    var i = 40 * n + 100;
                    t.style[u] = "".concat(i, "ms"), t.classList.add("vp-panel-item-in")
                })
            }
        }

        function p() {
            h() && (a.fire("close", r), t.events.fire(Ua.$a, !1, r), n.classList.remove("vp-panel-open"), n.style.removeProperty("height"))
        }

        function m(t) {
            return t.preventDefault(), d() ? p() : v()
        }

        function b(t) {
            a.fire("select", c[t].id)
        }

        function w(t) {
            a.fire("select", c[t].id)
        }

        function y(t) {
            if (!f) {
                var n = Ta(t.target, l());
                a.fire("select", c[n].id)
            }
        }

        function g(t) {
            if ("keypress" === t.type && 13 === t.which || "keydown" === t.type && 32 === t.which) {
                var n = Ta(t.target, l());
                if (-1 !== n) return a.fire("select", c[n].id), !1
            }
            return null
        }

        function E() {
            return c.find(function(t) {
                return t.active
            })
        }
        return u = Object.assign(u, {
            get active() {
                return E() ? E().label : ""
            }
        }), n = function() {
            var t = document.createElement("div");
            return t.innerHTML = tl.render("menu_list_panel", u), t.children[0]
        }(), i = n.querySelector(".js-panelItems"), (e = new yh(i)).on("slide", b), e.on("tap", w), bh(n, ".js-panelTitleButton", m), bh(n, "li", y), yc(n).on("keydown", g), yc(n).on("keypress", g), yc(n).on("transitionend", function(t) {
            t.target === n && (d() ? a.fire("openEnd", r) : (i.setAttribute("hidden", ""), l().forEach(function(t, n) {
                t.classList.remove("vp-panel-item-in")
            }), a.fire("closeEnd", r)))
        }), r = {
            id: s,
            element: n,
            setCollapsible: function(t) {
                t !== h() && (n.classList.toggle("vp-panel-open", !t), n.classList.toggle("vp-panel-collapsible", t), t ? i.setAttribute("hidden", "") : (i.removeAttribute("hidden"), n.style.removeProperty("height")))
            },
            resetCarousel: function(t) {
                if (f = t, o = n.querySelector(".vp-indicator"), e.destroy(), o.classList.remove("vp-indicator-visible"), f) {
                    var i = c.findIndex(function(t) {
                        return t.active
                    });
                    e.setUp(i), e.on("touchMove", function() {
                        o.classList.add("vp-indicator-inactive")
                    }), e.on("touchEnded", function() {
                        o.classList.remove("vp-indicator-inactive")
                    }), o.classList.add("vp-indicator-visible")
                }
            },
            pinTitle: function() {
                n.classList.add("vp-panel-pinTitle")
            },
            isOpen: d,
            open: v,
            close: p,
            setActiveItem: function(t) {
                var i = c.findIndex(function(t) {
                    return t.active
                });
                if (-1 !== i) {
                    c[i].active = !1;
                    var e = l(i);
                    e.classList.remove("vp-panel-item-on"), e.setAttribute("aria-checked", "false")
                }
                var r = c.findIndex(function(n) {
                    return "".concat(n.id) === "".concat(t)
                });
                if (-1 !== r) {
                    c[r].active = !0;
                    var u = l(r);
                    u.classList.add("vp-panel-item-on"), u.setAttribute("aria-checked", "true"), n.querySelector(".js-panelStatText").innerHTML = c[r].label
                }
                o.classList.remove("vp-indicator-inactive")
            },
            setTitleStat: function(t) {
                E() && "auto" !== E().id || (n.querySelector(".js-panelStatText").innerHTML = t)
            },
            getTabindexItems: function() {
                return j(n.querySelectorAll('.vp-panel-collapsible button[tabindex="0"], .vp-panel-open li[tabindex="0"]'))
            },
            on: a.on,
            off: a.off
        }
    }

    function Eh(t) {
        var n, i = 0,
            e = !1,
            r = null,
            o = null,
            u = null,
            a = 500,
            s = 250,
            c = 10,
            f = 10,
            l = 2;

        function h() {
            if (bt.touch && !t.store.get(hc) && !t.config.video.spatial) {
                var n = null,
                    a = c;
                (r = t.element.querySelector(".vp-nudge-wrapper")).classList.remove("hidden"), r.innerHTML = tl.render("nudge"), o = t.element.querySelector(".vp-nudge-forward"), u = t.element.querySelector(".vp-nudge-backward"), bh(o, function(t) {
                    t.preventDefault(), h("right"), n = setTimeout(p, s)
                }), bh(u, function(t) {
                    t.preventDefault(), h("left"), n = setTimeout(p, s)
                }), t.events.on(Ua.Ma, function() {
                    e = !0
                })
            }

            function h(t) {
                if (["left", "right"].includes(t)) {
                    var e = "right" === t ? d : v,
                        r = "right" === t ? o : u;
                    i++, clearTimeout(n), i >= l && (b(r, t, a), i === l && e(c), e((i - l) * f), i > l && (b(r, t, a += f), i = l))
                }
            }

            function p() {
                i >= 2 && t.events.fire(Ua.Ca), i = 0, 0, a = c
            }
        }

        function d(n) {
            p((t.currentTime || 0) + n)
        }

        function v(n) {
            var i = (t.currentTime || 0) - n;
            p(i >= 0 ? i : 0)
        }

        function p(n) {
            t.events.fire(Ua.Ra), t.events.fire(Pa.Hu, null, n), e || t.events.fire(Ua.Da)
        }

        function m(n, i) {
            var e = t.currentTime || 0,
                r = "right" === i ? "+" : "-";
            return "right" === i && e > t.config.video.duration - c ? null : e <= c && "left" === i ? null : "".concat(r, " ").concat(n)
        }

        function b(i, e, r) {
            if (["left", "right"].includes(e)) {
                var o = t.element.querySelector(".vp-nudge-shade-".concat(e)),
                    u = i.querySelector(".vp-nudge-seconds");
                m(r, e) && (u.innerHTML = m(r, e), clearTimeout(n), i.classList.remove("invisible"), o.classList.remove("vp-nudge-shade-invisible"), n = setTimeout(function() {
                    o.classList.add("vp-nudge-shade-invisible"), i.classList.add("invisible")
                }, a))
            }
        }
        return t.events.on(Ua.qs, function() {
            [o, u].forEach(function(t) {
                t && yc(t).off("click").off("touchend")
            }), h()
        }), h(), {}
    }

    function kh() {
        for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
        (function(t) {
            Th(t);
            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++) i[e - 1] = arguments[e];
            i.forEach(function(n) {
                Sh(n), n.classList.remove(t)
            })
        }).apply(void 0, ["hidden"].concat(n))
    }

    function _h() {
        for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++) n[i] = arguments[i];
        (function(t) {
            Th(t);
            for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), e = 1; e < n; e++) i[e - 1] = arguments[e];
            i.forEach(function(n) {
                Sh(n), n.classList.add(t)
            })
        }).apply(void 0, ["hidden"].concat(n))
    }

    function Th(t) {
        if ("" === (t = String(t))) throw new SyntaxError("An invalid string was specified");
        if (/\s/.test(t)) throw new SyntaxError("String contains invalid character")
    }

    function Sh(t) {
        if (! function(t) {
                return null != t && t instanceof HTMLElement
            }(t)) throw new SyntaxError("An invalid HTMLElement was specified")
    }

    function Ah(t, n, i) {
        var e, r, o, u, a, s, c, f, l, h, d, v, p, m, b, w, y, g, E, k, _, T, S, A, x, M, O = !1,
            R = !1,
            C = !1,
            I = !1,
            L = !1,
            D = !1,
            N = !1,
            U = !1,
            F = !1,
            V = !1,
            B = !1,
            H = !1,
            W = !0,
            q = !1,
            z = !1,
            G = null,
            K = null,
            $ = [],
            X = null,
            Z = null,
            Q = !1,
            it = !1,
            et = n.get(fc),
            rt = [],
            ot = t.config.embed.autoplay && t.config.request.flags.autohide_controls,
            ut = [{
                id: .5,
                label: "0.5x"
            }, {
                id: .75,
                label: "0.75x"
            }, {
                id: 1,
                label: "Normal"
            }, {
                id: 1.25,
                label: "1.25x"
            }, {
                id: 1.5,
                label: "1.5x"
            }, {
                id: 2,
                label: "2x"
            }],
            at = bt.touch ? 300 : 0;

        function st() {
            G = null, K = null
        }

        function ct() {
            if (!K) {
                var t = ha(c).left,
                    n = parseInt(window.getComputedStyle(c, "").borderLeftWidth, 10);
                K = t + n
            }
            return K
        }

        function ft() {
            if (!G) {
                var t = ha(c).right,
                    n = parseInt(window.getComputedStyle(c, "").borderRightWidth, 10);
                G = t - n
            }
            return G
        }

        function lt(t) {
            var n = ct();
            return pa((t - n) / (ft() - n), 0, 1)
        }

        function ht(n) {
            for (var i = 0, e = $; i < e.length; i++) {
                var r = e[i],
                    o = ha(r),
                    u = o.left,
                    a = o.right;
                if (n >= u && n <= a) return parseFloat(r.getAttribute("data-time")) / t.config.video.duration
            }
            return lt(n)
        }

        function dt(n, i) {
            R && !H && (i = i || t.config.video.duration * n || 0, window.requestAnimationFrame(function() {
                vt(n, i), pt(n, i)
            }))
        }

        function vt(t, i) {
            (!n.get(ac) || q && 0 !== i) && (n.get(hc) && (t = 100), v.style.left = Math.min(ga(100 * t), 100) + "%", p.innerHTML = sl(i), v.style.display = "block")
        }

        function pt(i, e) {
            n.get(hc) && (i = 100);
            var r = Math.min(ga(100 * i), 100);
            h.style.width = "".concat(r, "%"), f.setAttribute("aria-valuenow", Math.round(e)), f.setAttribute("aria-valuetext", "".concat(sl(e), " of ").concat(sl(t.config.video.duration))), a.setAttribute("width", "".concat(r, "%"))
        }

        function mt(t, i) {
            n.get(hc) && (t = 100);
            var e = Math.min(ga(100 * t), 100);
            l.style.width = "".concat(e, "%"), l.setAttribute("aria-valuenow", ga(i)), l.setAttribute("aria-valuetext", "".concat(sl(i, !0), " loaded")), u.setAttribute("width", "".concat(e, "%"))
        }

        function wt() {
            return R = !0, z && (W = !1, i.classList.add("invisible"), Mt(), Tt()), r.classList.contains("state-playing") ? (t.events.fire(Ua.La), yt()) : (t.events.fire(Ua.Da), gt()), !bt.android
        }

        function yt() {
            q = !1, r.classList.remove("state-playing"), r.classList.add("state-paused")
        }

        function gt() {
            q = !0, z && Mt(), r.classList.remove("state-paused"), r.classList.add("state-playing")
        }

        function Et() {
            W = !1, rt.forEach(function(t) {
                return t.retargetFocusFromChild()
            }), t.events.fire(Ua.Ba, W), i.classList.add("invisible")
        }

        function kt() {
            setTimeout(function() {
                W = !0, t.events.fire(Ua.Ba, W), i.classList.remove("invisible")
            }, at)
        }

        function _t() {
            I || W && (O || (R && B || L || ot) && (C || (!Q && !it || L) && (L && t.config.view === za.privateUnlocked || U || D || Et())))
        }

        function Tt() {
            I || W || L || kt()
        }

        function St(t) {
            return rt.push(t), t.button.parentNode.insertBefore(t.element, t.button.nextSibling), t
        }

        function At(t) {
            rt = rt.filter(function(n) {
                return n !== t
            }), t.destroy()
        }

        function xt() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
            if (g) {
                var n, i = t / (1 / E.length),
                    e = Math.ceil(i),
                    r = i % 1;
                r <= .33 && (n = "fill1"), r > .33 && r <= .66 && (n = "fill2"), E.forEach(function(t, i) {
                    t.classList.remove("fill0"), t.classList.remove("fill1"), t.classList.remove("fill2"), i === e - 1 && r && r <= .66 ? t.classList.add(n) : i > e - 1 && t.classList.add("fill0")
                }), g.setAttribute("aria-valuenow", t.toFixed(3)), g.setAttribute("aria-valuetext", Math.round(100 * t) + "%")
            }
        }

        function Mt() {
            if (t.config.view === za.main || t.config.view === za.privateUnlocked) {
                var e = t.backbone || {},
                    T = t.config.embed.settings,
                    O = {
                        show: T.logo,
                        showLink: !!t.config.video.url,
                        url: t.config.video.url
                    },
                    I = function() {
                        if (!t.config.embed.settings.custom_logo) return null;
                        var n = t.config.embed.settings.custom_logo,
                            i = n.img;
                        return bt.devicePixelRatio >= 2 && (i = i.replace(/(mw|mh)=(\d+)/g, function(t, n, i) {
                            return n + "=" + 2 * parseInt(i, 10)
                        })), {
                            showLink: null !== n.url,
                            url: ea(n.url),
                            img: i,
                            sticky: n.sticky,
                            width: n.width,
                            height: n.height
                        }
                    }();
                if (!T.watch_trailer || R || q || t.config.embed.autoplay || !t.config.embed.on_site) {
                    var L = !t.backbone || t.backbone.supportsSettingVolume,
                        D = !t.backbone || t.backbone.supportsTextTracks,
                        P = ah(t.config, "chromecast").group && bt.browser.chrome && (void 0 === T.chromecast || T.chromecast) && !t.config.video.spatial && "stock" !== t.config.video.privacy,
                        N = t.displayContext === t.backbone,
                        U = e.supportsPlaybackRate && T.speed,
                        F = N && (U || e.representations && e.representations.length > 0),
                        V = "disable" !== t.config.video.privacy && (bt.webvr || bt.stereoscopic) && t.config.video.spatial && ah(t.config, "webvr").group,
                        B = "text_tracks" in t.config.request && t.config.request.text_tracks.length,
                        H = {
                            targetBlank: 0 === t.config.embed.on_site,
                            playState: q ? "playing" : "paused",
                            volume: L && T.volume,
                            ccButton: D && B && N,
                            castButton: P,
                            ccOn: null !== Z,
                            prefsButton: F,
                            airplayButton: bt.airPlay,
                            stereoscopicButton: V,
                            fullscreenButton: T.fullscreen,
                            vimeoLogo: N ? O : {},
                            duration: sl(t.config.video.duration),
                            rawDuration: t.config.video.duration,
                            captionsIcon: tl.render("icon_cc", {
                                title: "Choose captions"
                            }),
                            settingsIcon: tl.render("icon_gear", {
                                title: "Settings"
                            }),
                            fullscreenIcon: tl.render("icon_fullscreen", {
                                title: "Enter full screen"
                            }),
                            unfullscreenIcon: tl.render("icon_unfullscreen", {
                                title: "Exit full screen"
                            }),
                            playIcon: tl.render("icon_play", {
                                title: "Play"
                            }),
                            pauseIcon: tl.render("icon_pause", {
                                title: "Pause"
                            }),
                            replayIcon: tl.render("icon_replay", {
                                title: "Play"
                            }),
                            strings: {
                                loadedBar: "loaded",
                                playedBar: "played",
                                volume: "Volume (use up/down arrow keys to change)",
                                airPlay: "Choose an AirPlay device",
                                airPlayOff: "Turn off AirPlay",
                                pipEnter: "Enter Picture-in-Picture",
                                pipReturn: "Exit Picture-in-Picture",
                                fullscreen: "Fullscreen",
                                chromecast: "Cast",
                                watchOnVimeo: "Watch on vimeo.com",
                                stereoscopic: "Enable stereoscopic playback",
                                stereoscopicOff: "Disable stereoscopic playback"
                            }
                        };
                    if (I && (H.customLogo = I), i.classList.remove("trailer"), z = !1, i.innerHTML = tl.render("controlbar", H), r = i.querySelector(".play"), o = r.querySelector(".buffer"), u = r.querySelector(".loaded"), a = r.querySelector(".played"), s = i.querySelector(".play-bar"), c = i.querySelector(".vp-progress"), f = s.querySelector(".focus-target"), l = s.querySelector(".loaded"), h = s.querySelector(".played"), d = s.querySelector(".cuepoints"), v = i.querySelector(".timecode"), p = v.querySelector(".box"), m = i.querySelector(".ghost-timecode"), b = m.querySelector(".box"), w = i.querySelector(".thumb-preview"), y = i.querySelector(".thumb"), (g = i.querySelector(".volume")) && (E = j(g.querySelectorAll("div")), xt(t.config.request.cookie.volume)), _ = i.querySelector(".play-bar .cc"), (k = i.querySelector(".js-prefs")) && Hs.isCastConnected && _h(k), S = i.querySelector(".pip"), bt.airPlay && (A = i.querySelector(".airplay")), (bt.webvr || bt.stereoscopic) && t.config.video.spatial && (x = i.querySelector(".stereoscopic")), M = i.querySelector(".fullscreen"), C = !1, W && t.events.fire(Ua.Ba, W), ot && _t(), Ot(), n.get(hc)) {
                        var G = i.querySelector(".vp-live-status");
                        G.style.display = "block";
                        var Y = G.querySelector(".vp-live-status-circle");
                        et ? (Y.classList.remove("offline"), Y.classList.add("online"), k && !Hs.isCastConnected && kh(k)) : (Y.classList.add("offline"), Y.classList.remove("online"), k && _h(k)), p.style.cursor = "default", c.classList.add("disabled")
                    }
                } else ! function(n, e) {
                    i.classList.add("trailer");
                    var o = {
                        vimeoLogo: n,
                        text: t.config.video.vod.button_text || "Watch Trailer",
                        strings: {
                            watchOnVimeo: "Watch on vimeo.com"
                        }
                    };
                    e && (o.customLogo = e);
                    i.innerHTML = tl.render("controlbar_trailer", o), r = i.querySelector(".play"), z = !0
                }(O, I)
            }
        }

        function Ot() {
            if (n.get(hc)) {
                var i = q && t.config.duration > 0;
                v.style.display = i ? "block" : "none"
            }
        }

        function Rt() {
            var e;

            function r(n) {
                if (H = !1, e === n.pointerId && !1 !== n.isPrimary) {
                    var i = n.clientX;
                    n.targetTouches && n.targetTouches.length > 0 && (i = n.targetTouches[0].clientX, n.preventDefault());
                    var r = ht(i);
                    dt(r), t.events.fire(Pa.Hu, r)
                }
            }

            function o(n) {
                var e = n.type;
                "pointerup" === e || "MSPointerUp" === e ? yc(i).off("pointermove", ".vp-progress", r).off("pointerup", ".vp-progress", o) : "touchend" === n.type ? yc(i).off("touchmove", r).off("touchend", o) : yc(document).off("mousemove", r).off("mouseup", o), t.events.fire(Ua.Ua), t.element.classList.remove("scrubbing")
            }
            t.events.on(J.TIME_UPDATE, function(n) {
                var i = n.currentTime,
                    e = n.timeProgress;
                H && (0 === t.config.embed.time || t.config.embed.time > 0 && i >= t.config.embed.time) && (H = !1), D || dt(e, i)
            }), t.events.on(Ua.Na, function(t) {
                D = !0, N = t
            }), t.events.on(Ua.Ua, function() {
                D = !1, N = !1
            }), t.events.on(J.SEEKED, function(t) {
                var n = t.timeProgress;
                N && dt(n)
            }), n.get(ac) && !n.get(lc) || (yc(i).on(bt.pointerEvents ? "pointerdown" : ["touchstart", "mousedown"], ".vp-progress", function(n) {
                if (!n.button || 2 !== n.button) {
                    var u = n.type;
                    if (t.element.classList.add("scrubbing"), t.events.fire(Ua.Na, !1, u), "pointerdown" === u || "MSPointerDown" === u) {
                        e = n.pointerId;
                        try {
                            n.target.msSetPointerCapture ? n.target.msSetPointerCapture(e) : n.target.setPointerCapture(e)
                        } catch (t) {}
                        yc(i).on("pointermove", ".vp-progress", r).on("pointerup", ".vp-progress", o)
                    } else "touchstart" === u ? yc(i).on("touchmove", r).on("touchend", o) : yc(document).on("mousemove", r).on("mouseup", o);
                    var a = n.clientX;
                    n.targetTouches && n.targetTouches.length > 0 && (a = n.targetTouches[0].clientX, n.preventDefault());
                    var s = ht(a);
                    if (R) dt(s);
                    else {
                        var c = t.config.video.duration * s;
                        vt(s, c), pt(s, c), H = !0
                    }
                    return t.events.fire(Pa.Hu, s, null), !1
                }
            }), t.events.on(Pa.da, function(n, i) {
                n = pa(n, 0, t.config.video.duration), i || (i = n / t.config.video.duration), window.requestAnimationFrame(function() {
                    vt(i, n), pt(i, n)
                })
            }))
        }

        function Ct(n) {
            if (n.element.parentElement) {
                var i = ha(t.element),
                    e = ha(n.button),
                    r = ha(n.element.parentElement),
                    o = ha(n.element),
                    u = 0,
                    a = e.right - e.width / 2 + o.width / 2;
                a < r.right && (u = r.right - a);
                var s = window.getComputedStyle(n.element),
                    c = parseFloat(s.fontSize);
                if (n.isCentered()) {
                    var f = i.right - r.right,
                        l = i.bottom - r.bottom,
                        h = (i.width - o.width) / 2,
                        d = (i.height - o.height) / 2;
                    n.element.style.right = "".concat((h - f) / c, "em"), n.element.style.bottom = "".concat((d - l) / c, "em")
                } else n.element.style.right = "".concat(u / c, "em"), n.element.style.bottom = "".concat(r.height / c, "em")
            }
        }

        function It() {
            n.get(ac) && !n.get(lc) && (t.events.on(nt.STREAM_ONLINE, function() {
                et = !0, Mt()
            }), t.events.on([nt.STREAM_OFFLINE, nt.EVENT_ENDED], function() {
                et = !1, Mt()
            }))
        }
        return Mt(), bh(i, ".play, .replay", wt), t.events.on([Ua.Da, Ua.ga, Ki, J.PLAY], gt), t.events.on([Ua.La, Ua.Ea, Ua.jc, Pa.Gu], yt), t.events.on(Ua.oe, function() {
                t.displayContext !== t.backbone ? gt() : yt()
            }), t.events.on(Ua.ka, function() {
                H = !1, yt(), dt(1)
            }), t.events.on(Ua.ls, function(t) {
                "not-supported" === t && yt()
            }), n.get(ac) && !et && (r.classList.add("hidden"), t.events.once(nt.STREAM_ONLINE, function() {
                r.classList.remove("hidden")
            })), t.events.on(nt.EVENT_ENDED, function() {
                r.classList.add("hidden")
            }), Rt(), t.events.on(tt.BUFFER_STARTED, function() {
                o.setAttribute("class", o.getAttribute("class").replace(/\s+hidden/, "")), U = !0, ot || Tt()
            }), t.events.on(tt.BUFFER_ENDED, function() {
                l.classList.remove("hidden"), n.get(hc) && h.classList.remove("hidden"), o.setAttribute("class", o.getAttribute("class") + " hidden"), U = !1
            }),
            function() {
                var e, o = null;

                function u() {
                    return e || (e = t.verifyConfig().then(function(t) {
                        return Ps(t.thumb_preview.url)
                    })), e.then(function(n) {
                        var i = t.config.request.thumb_preview;
                        return y.style.backgroundImage || (y.style.width = "".concat(i.frame_width / 2, "px"), y.style.height = "".concat(i.frame_height / 2, "px"), y.style.backgroundImage = "url(".concat(i.url, ")"), y.style.backgroundSize = "".concat(i.width / 2, "px ").concat(i.height / 2, "px")), n
                    })
                }

                function a(n) {
                    if (n.target === s) {
                        var i = lt(n.clientX);
                        dt(i), t.events.fire(Pa.Hu, i)
                    }
                }

                function f(t) {
                    return m.classList.contains("hidden") ? t : (w.classList.remove("hidden"), window.requestAnimationFrame(function() {
                        window.requestAnimationFrame(function() {
                            w.classList.remove("invisible")
                        })
                    }), t)
                }

                function l(n) {
                    if (t.config.request.thumb_preview && null === o) {
                        var i = ha(c).width,
                            e = document.querySelector(".player").clientHeight;
                        if (!(o = e >= 215 && i >= 185)) return void w.classList.add("hidden");
                        u().then(f).catch(function() {})
                    }
                    if (V) {
                        var a = function(t) {
                                for (var n = 0, i = $; n < i.length; n++) {
                                    var e = i[n],
                                        r = ha(e),
                                        o = r.left,
                                        u = r.right,
                                        a = r.width;
                                    if (t >= o && t <= u) return {
                                        clientX: o + a / 2,
                                        snappedTo: e
                                    }
                                }
                                return {
                                    clientX: t,
                                    snappedTo: null
                                }
                            }(n.clientX),
                            l = a.clientX,
                            d = a.snappedTo,
                            v = lt(l),
                            p = t.config.video.duration * v;
                        $.forEach(function(t) {
                            return t.classList.toggle("active", t === d)
                        }), t.config.request.thumb_preview && o && u().then(function(n) {
                            var i = Y(function(n) {
                                    var i = t.config.video.duration / t.config.request.thumb_preview.frames,
                                        e = Math.min(t.config.request.thumb_preview.frames - 1, Math.ceil(n / i)),
                                        r = e % t.config.request.thumb_preview.columns,
                                        o = Math.floor(e / t.config.request.thumb_preview.columns);
                                    return [-r * t.config.request.thumb_preview.frame_width / 2, -o * t.config.request.thumb_preview.frame_height / 2]
                                }(p), 2),
                                e = i[0],
                                r = i[1];
                            return window.requestAnimationFrame(function() {
                                y.style.backgroundPosition = "".concat(e, "px ").concat(r, "px")
                            }), n
                        }).catch(function() {}), window.requestAnimationFrame(function() {
                            b.innerHTML = sl(p);
                            var t = (100 * v).toFixed(3);
                            m.style.left = "".concat(t, "%"),
                                function(t) {
                                    var n = Y(function() {
                                            var t = ha(r).left,
                                                n = ha(s).right,
                                                i = ha(w).width,
                                                e = t + Math.ceil(i / 2),
                                                o = n - Math.ceil(i / 2),
                                                u = ct(),
                                                a = ft() - u;
                                            return [(e - u) / a, (o - u) / a]
                                        }(), 2),
                                        i = n[0],
                                        e = n[1],
                                        o = (100 * Math.max(i, Math.min(e, t))).toFixed(3);
                                    w.style.left = "".concat(o, "%")
                                }(v), n.clientX > ft() + 10 && !w.contains(document.elementFromPoint(n.clientX, n.clientY)) && h()
                        })
                    }
                }

                function h() {
                    m && (m.classList.add("invisible"), w.classList.add("invisible")), V = !1, yc(s).off("click", a)
                }
                n.get(ac) && !n.get(lc) || yc(i).on("mouseenter", ".vp-progress", function(n) {
                    V || F || (m.classList.remove("hidden"), V = !0, l(n), window.requestAnimationFrame(function() {
                        window.requestAnimationFrame(function() {
                            m.classList.remove("invisible")
                        })
                    }), t.config.request.thumb_preview && o && u().then(f).catch(function() {}), yc(s).on("click", a))
                }).on("mousemove", ".play-bar", l).on("mouseleave", ".play-bar", h), yc(i).on("transitionend", ".ghost-timecode", function(t) {
                    "opacity" === t.propertyName && "0" === window.getComputedStyle(this, "").opacity && (m.classList.add("hidden"), w.classList.add("hidden"))
                }, !1), t.events.on(Ua.Cs, h), t.events.on(Ua.qs, function() {
                    e = null
                })
            }(),
            function() {
                var n;

                function e(n) {
                    var i = n.clientX;
                    n.targetTouches && (i = n.targetTouches[0].clientX, n.preventDefault());
                    var e = o(i);
                    t.events.fire(Pa.Wu, e), xt(e)
                }

                function r(n) {
                    F = !1, t.events.fire(Ua.Va), t.element.classList.remove("scrubbing");
                    var o = n.type;
                    "pointerup" === o || "MSPointerUp" === o ? yc(i).off("pointermove", ".volume", e).off("pointerup", ".volume", r) : "touchend" === n.type ? yc(document).off("touchmove", e).off("touchend", r) : yc(document).off("mousemove", e).off("mouseup", r), g.setAttribute("tabindex", g.getAttribute("data-tabindex")), g.removeAttribute("data-tabindex")
                }

                function o(t) {
                    var n = ha(g).left;
                    return pa((t - n) / (ha(g).right - n), 0, 1)
                }
                yc(i).on("mousemove", ".volume", function(t) {
                    var n = t.srcElement;
                    if (-1 === E.indexOf(n)) {
                        var i = ha(g),
                            e = t.clientX,
                            r = i.bottom - 2;
                        if (n = document.elementFromPoint(e, r), -1 === E.indexOf(n)) return
                    }
                    n.classList.add("hover"), window.requestAnimationFrame(function() {
                        window.requestAnimationFrame(function() {
                            n.classList.remove("hover"), n.classList.add("animate")
                        })
                    })
                }), yc(i).on("transitionend", ".volume div", function(t) {
                    "height" === t.propertyName && this.classList.remove("animate")
                }), yc(document).on("contextmenu", ".volume", function() {
                    this.blur()
                }), yc(i).on(bt.pointerEvents ? "pointerdown" : ["touchstart", "mousedown"], ".volume", function(u) {
                    if (1 === u.which) {
                        g.setAttribute("data-tabindex", g.getAttribute("tabindex")), g.removeAttribute("tabindex"), F = !0, t.element.classList.add("scrubbing"), t.events.fire(Ua.Fa);
                        var a = u.type;
                        if ("pointerdown" === a || "MSPointerDown" === a) {
                            n = u.pointerId;
                            try {
                                u.target.msSetPointerCapture ? u.target.msSetPointerCapture(n) : u.target.setPointerCapture(n)
                            } catch (t) {}
                            yc(i).on("pointermove", ".volume", e).on("pointerup", ".volume", r)
                        } else "touchstart" === a ? yc(document).on("touchmove", e).on("touchend", r) : yc(document).on("mousemove", e).on("mouseup", r);
                        var s = u.clientX;
                        u.targetTouches && (s = u.targetTouches[0].clientX);
                        var c = o(s);
                        t.events.fire(Pa.Wu, c), xt(c)
                    }
                }), t.events.on(Ua._a, function(n) {
                    t.backbone.muted ? xt(0) : !F && E && xt(n)
                }).on([Pa.Zu, Pa.Ju], function() {
                    Mt()
                })
            }(), bh(i, ".cc", function() {
                t.events.fire(Ua.Pa)
            }), t.events.on(Ua.Pa, function(n) {
                T ? T.toggle(n) : (T = St(function(n) {
                    var i = [];
                    "text_tracks" in t.config.request && (t.config.request.text_tracks.forEach(function(t) {
                        var n = "CC" === t.label.substring(t.label.length - 2),
                            e = "captions" !== t.kind || n ? "" : " CC";
                        i.push({
                            label: t.label + e,
                            id: "".concat(t.id),
                            active: Z === "".concat(t.id)
                        })
                    }), i.push({
                        label: "None",
                        id: "off",
                        active: null === Z
                    }));
                    var e = new gh(t, {
                        items: i,
                        id: "cc",
                        title: "Closed Captions"
                    });
                    return e.on("select", function(n) {
                        "off" !== n ? t.events.fire(Pa.ia, n) : t.events.fire(Pa.ea)
                    }), new wh(t, n, [e])
                }(_))).show(n)
            }), t.events.on(Ua.qa, function(t) {
                t ? function(t) {
                    Z = t, T && T.getPanel("cc") && (T.getPanel("cc").setActiveItem(t), setTimeout(function() {
                        T.hide()
                    }, 100)), _ && (_.classList.add("on"), _.classList.remove("off"))
                }(t.id) : (Z = null, T && T.getPanel("cc") && (T.getPanel("cc").setActiveItem("off"), setTimeout(function() {
                    T.hide()
                }, 100)), _ && (_.classList.add("off"), _.classList.remove("on")))
            }).on([Pa.ta, Pa.Qu], function() {
                Mt()
            }).on(Ua.bc, function() {
                Mt()
            }),
            function() {
                var e, r;

                function o() {
                    var n = t.backbone.representations.map(function(t) {
                            var n = ih(t);
                            return {
                                id: n,
                                label: uh(t),
                                active: e === n
                            }
                        }),
                        i = t.backbone.video.currentFile.mime;
                    return [ja.dash, ja.dashMpd, ja.hlsLive].includes(i) && n.unshift({
                        id: "auto",
                        label: "Auto",
                        active: !e || "auto" === e
                    }), n
                }
                bh(i, ".js-prefs", function() {
                    t.events.fire(Ua.ja)
                }), t.events.on(Ua.ja, function(i) {
                    if (k) {
                        if (!X) return void(X = St(function() {
                            var i = [];
                            if (t.backbone.representations && t.backbone.representations.length > 0) {
                                var e = new gh(t, {
                                    id: "quality",
                                    title: "Quality",
                                    items: o()
                                });
                                e.on("select", function(n) {
                                    t.events.fire(Pa.Ku, n)
                                }), r && e.setTitleStat(r), e.pinTitle(), i.push(e)
                            }
                            if (t.backbone.supportsPlaybackRate && t.config.embed.settings.speed) {
                                var u = ut.map(function(n) {
                                        return n.active = n.id === t.backbone.playbackRate, n
                                    }),
                                    a = new gh(t, {
                                        id: "speed",
                                        title: "Speed",
                                        items: u
                                    });
                                a.on("select", function(n) {
                                    t.events.fire(Pa.va, n)
                                }), a.pinTitle(), i.push(a)
                            }
                            var s = new wh(t, k, i);

                            function c(n) {
                                s.element.classList.toggle("vp-menu-center", n), t.events.fire(Ua.Xa, s.isCentered(), s)
                            }
                            return n.watch("ui.controlbar.isPrefsMenuCentered", c), c(n.get("ui.controlbar.isPrefsMenuCentered")), bt.touch && s.element.classList.add("vp-menu-carousel"), s
                        }())).show(i);
                        X.toggle(i)
                    }
                }), t.events.on(Ua.Ta, function(t) {
                    e = t, X && X.getPanel("quality") && X.getPanel("quality").setActiveItem(t)
                }), t.events.on(tt.STREAM_CHANGE, function(t) {
                    var n = t.quality || "".concat(t.height, "p");
                    r = n, X && X.getPanel("quality") && X.getPanel("quality").setTitleStat(uh(t))
                }), t.events.on(Ua.Oa, function(t) {
                    X && X.getPanel("speed") && X.getPanel("speed").setActiveItem(t)
                })
            }(), bh(i, ".pip", function() {
                "picture-in-picture" !== t.backbone.presentationMode ? t.events.fire(Pa.sa) : t.events.fire(Pa.ca)
            }), t.events.on(te, function() {
                S && (S.classList.remove("hidden"), S.hidden = !1, st())
            }).on(ne, function() {
                S && (S.classList.add("hidden"), S.hidden = !0, st())
            }).on(ie, function() {
                it = !0, S && (S.classList.add("return"), S.classList.remove("enter"), S.setAttribute("title", S.getAttribute("data-title-return")))
            }).on(ee, function() {
                it = !1, S && (S.classList.add("enter"), S.classList.remove("return"), S.setAttribute("title", S.getAttribute("data-title-enter")))
            }), bt.airPlay && (bh(i, ".airplay", function() {
                t.events.fire(Ua.Ic)
            }), t.events.on(Ua.Mc, function() {
                A && (A.classList.remove("hidden"), A.hidden = !1, st())
            }).on(Ua.Oc, function() {
                A && (A.classList.add("hidden"), A.hidden = !0, st())
            }).on(Ua.Rc, function() {
                Q = !0, A && (A.classList.remove("off"), A.classList.add("on"), A.setAttribute("title", A.getAttribute("data-title-on"))), Tt()
            }).on(Ua.Cc, function() {
                Q = !1, A && (A.classList.remove("on"), A.classList.add("off"), A.setAttribute("title", A.getAttribute("data-title-off")))
            })), bh(i, ".fullscreen", function() {
                t.events.fire(Ua.Ia)
            }), t.events.on(Ua.ts, function() {
                O = !1, i.classList.remove("tiny")
            }), t.events.on(Ua.es, function(t) {
                if (M) {
                    var n = M.cloneNode(!0);
                    M.parentNode.replaceChild(n, M), M = n
                }
                t || (O = !0), e && i.classList.add("tiny")
            }), t.events.on([Ua.Is, Ua.Na, Pa.Wu], Tt).on([Ua.Cs, Ua.Ls], _t).on(Ua.Qa, function() {
                C = !1, _t()
            }).on(Ua.ns, function() {
                C = !1
            }).on(Ua.Sa, function() {
                B = !0, _t()
            }).on(Pa.Wu, function(t, n) {
                n || Tt()
            }), yc(i).on(["pointerenter", "pointerleave", "mouseenter", "mouseleave"], [".play", ".play-bar", ".custom-logo", ".vp-menu"], function(t) {
                "pointerType" in t ? "mouse" !== t.pointerType && t.pointerType !== t.MSPOINTER_TYPE_MOUSE || (C = "pointerenter" === t.type || "MSPointerEnter" === t.type) : bt.touch || (C = "mouseover" === t.type)
            }), t.events.on(Pa._overrideControlbarBehavior, function(n) {
                I = n, n ? t.events.on(Pa.aa, function(t) {
                    t ? kt() : Et()
                }) : t.events.off(Pa.aa)
            }), t.events.on(Ua.ls, function(t) {
                if ("not-supported" !== t && "private-unlocked" !== t && "help" !== t) L = !0, _t();
                else
                    for (var n = i.querySelectorAll("a, button, input, [tabindex]"), e = 0, r = n.length; e < r; e++) {
                        var o = n[e].getAttribute("tabindex");
                        o && n[e].setAttribute("data-tabindex", o), n[e].setAttribute("tabindex", "-1")
                    }
            }).on(Ua.hs, function() {
                L = !1, Tt();
                for (var t = i.querySelectorAll("[tabindex]"), n = 0, e = t.length; n < e; n++) {
                    var r = t[n].getAttribute("data-tabindex");
                    r && "null" !== r ? t[n].setAttribute("tabindex", r) : t[n].removeAttribute("tabindex"), t[n].removeAttribute("data-tabindex")
                }
            }), t.events.on(Ua.Qs, function() {
                i.classList.add("controls-outro")
            }).on(Ua.tc, function() {
                i.classList.remove("controls-outro")
            }),
            function() {
                function n() {
                    rt.filter(function(t) {
                        return t.isVisible()
                    }).forEach(function(t) {
                        return t.hide()
                    })
                }
                t.events.on([Ua.Xa, Ua.Wa], function(t, n) {
                    Ct(n), n.isCentered() && n.isVisible() && i.classList.add("controls-centerMenu"), n.isCentered() && n.isVisible() || i.classList.remove("controls-centerMenu")
                }).on(Ua.es, n).on(Ua.Ba, function(t) {
                    t || n()
                }), yc(window).on("resize", function() {
                    rt.forEach(Ct)
                })
            }(), new Eh(t), t.events.on(Ua.qs, function(n, i) {
                It(), Rt(), Mt(), t.config.view === za.privateUnlocked && Tt(), st()
            }), t.events.on(Pa.Gu, function() {
                window.requestAnimationFrame(function() {
                    Ot(), vt(0, t.config.video.duration), pt(0, 0), mt(0, 0)
                }), Tt(), R = !1, C = !1, D = !1, F = !1, H = !1, O = !1, B = !1, T && (At(T), T = null), X && (At(X), X = null)
            }), yc(window).on("resize", function() {
                st()
            }), t.events.on(Ua.Ys, function() {
                e = !0, i.classList.add("tiny")
            }).on(Ua.Ks, function() {
                e = !1, i.classList.remove("tiny")
            }).on(Ua.$s, function() {
                e = !1, i.classList.remove("tiny")
            }),
            function() {
                if (t.config.embed.on_site) {
                    var n = new P;
                    t.events.on(Ua.za, function(e) {
                        if (e.data.visible) {
                            var r = document.createElement("div");
                            r.setAttribute("id", "cuepoint-".concat(e.id)), r.setAttribute("data-time", e.time), r.classList.add("cuepoint"), r.classList.add("out"), r.appendChild(document.createElement("div"));
                            var o = e.time / t.config.video.duration * 100;
                            r.style.left = "".concat(o, "%"), n.set(e, r), d.appendChild(r), $ = j(i.querySelectorAll(".cuepoint")), window.requestAnimationFrame(function() {
                                return r.classList.remove("out")
                            })
                        }
                    }), t.events.on(Ua.Ga, function(t) {
                        var i = n.get(t);
                        i && (n.delete(t), i.classList.add("out"))
                    }), yc(i).on("transitionend", ".cuepoint", function(t) {
                        this.classList.contains("out") && (d.removeChild(this), $ = j(i.querySelectorAll(".cuepoint")))
                    })
                }
            }(), x && (bh(i, ".stereoscopic", function() {
                t.events.fire(Ua.Ya)
            }), x.classList.remove("hidden"), x.hidden = !1), It(), Hs.on(Us.connected, function() {
                k && _h(k)
            }), Hs.on(Us.disconnected, function() {
                k && kh(k)
            }), Hs.on(Us.playing, gt), Hs.on([Us.error, Us.idle, Us.paused, Us.ended, Us.disconnected], yt), t.events.on(Ki, function() {
                t.events.on(J.PROGRESS, function(t) {
                    var n = t.loaded,
                        i = (t.duration, t.loadProgress);
                    O || window.requestAnimationFrame(function() {
                        mt(i, n)
                    })
                }), R = !0;
                var n = t.config.embed.time || t.backbone.currentTime;
                dt(n / t.config.video.duration, n), H = !0
            }), t.events.fire(Ua.gc), {}
    }
    var xh = function() {
            function t(t, n) {
                var i = this,
                    e = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
                $(this), this.version = e, this.visible = !1;
                var r = this.Df = document.createElement("div");
                r.classList.add("compass-wrapper"), r.innerHTML = tl.render("compass", {
                    version: e
                }), r.classList.add("cloaked"), t.appendChild(r), n && r.addEventListener("click", n), this.jf = r.querySelector(".compass-slice"), this.Pf = r.querySelector(".compass-line");
                var o = function() {
                        i.Nf = !0
                    },
                    u = function(t) {
                        return function() {
                            setTimeout(function() {
                                i.Nf || (i.fade(), i.Nf = !1)
                            }, t)
                        }
                    };
                yc(this.Df).on("mousein", o).on("pointerin", o).on("mouseout", u(1e3)).on("pointerout", u(1e3)), u(2500)()
            }
            var n = t.prototype;
            return n.setAngle = function(t, n) {
                var i = this;
                this.zo && window.cancelAnimationFrame(this.zo);
                var e = 0;
                1 === this.version ? e = -45 : 2 === this.version && (e = -30);
                var r = "".concat(e + n),
                    o = (t + 85) / 170;
                this.zo = window.requestAnimationFrame(function() {
                    i.jf.setAttribute("transform", "rotate(".concat(r, ", ").concat(18, ", ").concat(18, ")")), i.Pf && i.Pf.setAttribute("d", i.Uf(o, 18))
                })
            }, n.Uf = function(t, n) {
                var i = 2 * n - Math.round(2 * n * t),
                    e = (2 * n - 2 * Math.sqrt(2 * i * n - Math.pow(i, 2))) / 2,
                    r = 2 * n - e - 5;
                return "M".concat(e + 5, ",").concat(i, " L").concat(r, ",").concat(i, " z")
            }, n.reveal = function() {
                var t = this;
                this.Df.classList.remove("cloaked"), window.requestAnimationFrame(function() {
                    t.Df.classList.add("in")
                }), this.visible = !0
            }, n.fade = function() {
                this.Df.classList.add("fade"), this.visible = !0
            }, n.hide = function() {
                var t = this;
                this.Df.classList.remove("in"), this.Df.classList.remove("fade"), this.Df.classList.add("leaving");
                yc(this.Df).on("transitionend", function n() {
                    "opacity" === event.propertyName && (t.Df.classList.remove("leaving"), t.Df.classList.add("cloaked"), t.visible = !1), yc(t.Df).off("transitionend", n)
                })
            }, n.updatePosition = function(t) {
                if (t) {
                    var n = ha(t);
                    if (n.height < 265) return this.Df.classList.remove("align-bottom"), void this.Df.classList.add("hidden");
                    if (n.height < 336) return this.Df.classList.remove("hidden"), void this.Df.classList.add("align-bottom");
                    this.Df.classList.remove("hidden"), this.Df.classList.remove("align-bottom")
                }
            }, n.getWrapper = function() {
                return this.Df
            }, t
        }(),
        Mh = 55,
        Oh = 45;

    function Rh(t, n, i) {
        var e = 2e3,
            r = 4500,
            o = null,
            u = bt.touch ? r : e,
            a = !0,
            s = !0,
            c = !1,
            f = null,
            l = null,
            h = [],
            d = !1,
            v = null,
            p = null,
            m = !0,
            b = !1,
            w = !1,
            y = !1,
            g = !1,
            E = !1,
            k = 1.75,
            _ = i.querySelector(".vp-target"),
            T = i.querySelector(".vp-sidedock"),
            S = i.querySelector(".vp-controls"),
            A = i.querySelector(".vp-title"),
            x = i.querySelector(".vp-video"),
            M = j(i.querySelectorAll(".vp-nudge")),
            O = !!bt.touch && M.some(function(t) {
                return !t.classList.contains("invisible")
            }),
            R = t.config.embed.autoplay && t.config.request.flags.autohide_controls,
            C = bt.touch ? 300 : 0,
            I = null,
            L = ah(t.config, "webvr").group || !1;

        function D() {
            clearTimeout(o), o = null
        }

        function P() {
            E && (clearTimeout(o), o = setTimeout(U, u))
        }

        function N() {
            mh.element && mh.element.classList.contains("js-player-fullscreen") && (c || (i.classList.add("player-cursor-hide"), s = !0, c = !0))
        }

        function U(n) {
            (b || m) && (y || (D(), document.activeElement && document.body.classList.contains("showfocus") && (T.contains(document.activeElement) || S.contains(document.activeElement)) || (t.events.fire(n ? Ua.Cs : Ua.Ls), s = !0, bt.spatialPlayback && t.config.video.spatial || (_.classList.add("hidden"), _.setAttribute("hidden", "")), a = !0, N())))
        }

        function F() {
            P(), O || g || b && m || (t.events.fire(Ua.Is), _.classList.remove("hidden"), _.removeAttribute("hidden"))
        }

        function V() {
            b || m ? i.removeAttribute("tabindex") : b || m || w || i.setAttribute("tabindex", "0")
        }

        function B() {
            t.events.on([J.TIME_UPDATE, J.SEEKED], function n(i) {
                i.currentTime >= k && null === o && (t.events.fire(Ua.Sa), t.events.off([J.TIME_UPDATE, J.SEEKED], n))
            })
        }

        function H() {
            x.classList.remove("threesixty-video"), t.element.classList.remove("grabbable"), t.element.classList.remove("grabbing"), f && f.hide()
        }

        function W() {
            var n = function(t) {
                    return function() {
                        l && t.apply(void 0, arguments)
                    }
                },
                e = n(function(n) {
                    var i = t.element.classList.contains("webvr");
                    l && i && l.toggleVR()
                }),
                r = n(function(n) {
                    l.isVRPresenting ? setTimeout(function() {
                        t.events.fire(it.WEBVR_ENTER)
                    }, 100) : setTimeout(function() {
                        t.events.fire(it.WEBVR_EXIT)
                    }, 100)
                });
            t.events.on(Pa.ha, n(function() {
                var n = t.element.classList.contains("webvr");
                n || t.element.classList.add("grabbable"), f && f.updatePosition(t.element), !f || f.visible || n || f.reveal()
            })), t.events.on(Ua.ka, n(function() {
                H(), bt.webvr && l.isVRPresenting && L && l.toggleVR()
            })), t.events.on(it.CAMERA_UPDATE, n(function(t) {
                f && f.setAngle(t.lat, t.lon)
            })), t.events.on(Ki, n(function() {
                t.config.video.spatial ? function() {
                    function n(t) {
                        v && (v.innerHTML = tl.render("threesixty_reminder", t))
                    }
                    var e = t.backbone.getEffectByName("ThreeSixtyEffect");
                    t.config.embed.settings.spatial_compass ? (f || (f = new xh(t.element.querySelector(".vp-controls-wrapper"), function() {
                        e.snapToCenter()
                    })), f.updatePosition(t.element), f.reveal()) : f && f.hide();
                    t.events.once(Ua.Ma, function() {
                            var i = t.config.embed.cards,
                                e = i && i.length && i[0].timecode < 15;
                            e || (h.push(setTimeout(function() {
                                n({
                                    showArrows: !1,
                                    text: bt.android ? "Look around" : "Click and drag to look around"
                                }), Y(v), z(v), setTimeout(function() {
                                    return G(v)
                                }, 3e3)
                            }, 7e3)), bt.android || h.push(setTimeout(function() {
                                n({
                                    showArrows: !1,
                                    text: bt.android ? "Look around" : "Use arrow keys to see more"
                                }), Y(v), z(v), setTimeout(function() {
                                    return G(v)
                                }, 3e3)
                            }, 14e3)))
                        }),
                        function() {
                            var t = i;
                            if (v) return;
                            var n = v = document.createElement("div");
                            n.classList.add("cloaked"), n.classList.add("vp-alert-round"), n.classList.add("vp-alert-round--top"), n.classList.add("vp-alert-round--threesixty"), t.appendChild(n)
                        }()
                }() : !t.config.video.spatial && f && (H(), q())
            })), (bt.webvr || bt.stereoscopic || bt.webxr) && (bt.webvr && window.addEventListener("vrdisplaypresentchange", r, !1), t.events.on(Ua.Ya, n(function() {
                q(), bt.webvr && l.hasVRHeadset && L ? l.toggleVR() : t.events.fire(Ua.Rs)
            })), t.events.on(it.WEBVR_HARDWARE_AVAILABLE, n(function(t) {
                var n = i.querySelector(".stereoscopic");
                n && n.classList.contains("off") && L && n.classList.remove("off")
            })), t.events.on(it.WEBVR_ENTER, n(function(n) {
                window.addEventListener("vrdisplaydisconnect", e, !1), window.addEventListener("vrdisplaydeactivate", e, !1);
                var r = i.querySelector(".stereoscopic");
                r && r.classList.add("on"), f && f.hide(), t.element.classList.remove("grabbable"), t.element.classList.add("webvr"), l.isUserInteracting = !1
            })), t.events.on(it.WEBVR_EXIT, n(function(n) {
                window.removeEventListener("vrdisplaydisconnect", e), window.removeEventListener("vrdisplaydeactivate", e);
                var r = i.querySelector(".stereoscopic");
                r && r.classList.remove("on"), f && f.reveal(), t.element.classList.add("grabbable"), t.element.classList.remove("webvr"), l.isUserInteracting = !0
            })));
            var o = null,
                u = n(function(n) {
                    var i = t.element.classList.contains("webvr");
                    d || i || (d = !0, n.preventDefault(), t.element.classList.add("grabbing"), p = {
                        x: n.clientX,
                        y: n.clientY
                    }, l.makeContact(p))
                }),
                a = n(function(n) {
                    var i = t.element.classList.contains("webvr");
                    d && !i && (q(), l.move({
                        x: n.clientX,
                        y: n.clientY
                    }))
                }),
                s = n(function(n) {
                    var i = t.element.classList.contains("webvr");
                    d && !i && (t.element.classList.remove("grabbing"), l.releaseContact(!1), d = !1)
                }),
                c = n(function(n) {
                    n.preventDefault(), t.element.classList.contains("webvr") || (l.isUserInteracting || (l.isUserInteracting = !0), null !== o && clearTimeout(o), q(), o = setTimeout(function() {
                        t.element.classList.remove("player-cursor-hide"), t.element.classList.add("grabbable"), l.isUserInteracting = !1
                    }, 500), t.element.classList.add("player-cursor-hide"), t.element.classList.remove("grabbable"), l.moveWheel({
                        x: n.deltaX,
                        y: n.deltaY
                    }))
                }),
                m = n(function(t) {
                    d || (d = !0, l.makeContact({
                        x: t.touches[0].clientX,
                        y: t.touches[0].clientY
                    }))
                }),
                b = n(function(t) {
                    d && (t.preventDefault(), q(), l.move({
                        x: t.touches[0].clientX,
                        y: t.touches[0].clientY
                    }))
                }),
                w = n(function(t) {
                    l.releaseContact(!0), d = !1
                }),
                y = n(function(t) {
                    d || q(), l.moveDevice(t.alpha, t.beta, t.gamma, t.orientation)
                }),
                g = n(function(n) {
                    d = !1, t.element.classList.remove("grabbing"), l.abandonMotion()
                });
            t.events.on(Ki, function() {
                bt.android && l && window.addEventListener("deviceorientation", y, !1)
            }), t.events.once(Ki, function() {
                if (t.store.watch("ui.player.boundingRect", function() {
                        f && f.updatePosition(t.element), l && l.adjustRenderSize(), d = !1
                    }), bt.pointerEvents) yc(_).on("pointerdown", u), window.addEventListener("pointermove", a), window.addEventListener("pointerup", s), window.addEventListener("pointerleave", g);
                else {
                    yc(_).on("mousedown", u).on("wheel", c);
                    var n = !(bt.browser.ie || bt.browser.edge);
                    window.addEventListener("touchstart", m, !!n && {
                        passive: !1
                    }), window.addEventListener("touchmove", b, !!n && {
                        passive: !1
                    }), window.addEventListener("touchend", w, !!n && {
                        passive: !1
                    }), window.addEventListener("mousemove", a), window.addEventListener("mouseup", s), window.addEventListener("mouseleave", g)
                }
            })
        }

        function q() {
            h.forEach(function(t) {
                return clearTimeout(t)
            }), h = []
        }

        function z(t) {
            t && (t.classList.remove("cloaked"), window.requestAnimationFrame(function() {
                t.classList.add("in")
            }))
        }

        function G(t) {
            t && (t.classList.add("leaving"), window.requestAnimationFrame(function() {
                yc(t).on("transitionend", function n(i) {
                    "opacity" === i.propertyName && (t.classList.remove("in"), t.classList.remove("leaving"), t.classList.add("cloaked"), yc(t).off("transitionend", n))
                })
            }))
        }

        function Y(t) {
            ha(T).width > 60 ? t.classList.add("vp-alert-bumpdown") : t.classList.remove("vp-alert-bumpdown")
        }
        return function() {
                var n = !0;

                function o() {
                    F()
                }

                function l(r) {
                    if (u = e, s) s = !1;
                    else if (c && (i.classList.remove("player-cursor-hide"), c = !1), 0 !== r.screenX && r.screenX !== screen.width - 1 && 0 !== r.screenY && r.screenY !== screen.height - 1) {
                        if (n = !0, bt.spatialPlayback && t.config.video && t.config.video.spatial) {
                            var o = ha(t.element),
                                f = r.clientX - o.left,
                                l = r.clientY - o.top,
                                h = 4 * Oh,
                                v = l > t.element.clientHeight - Mh,
                                p = f > t.element.clientWidth - Oh && l < h;
                            if (d || !v && !p) return
                        }
                        a && F(), P()
                    } else D(), N(), n && (U(!0), n = !1)
                }

                function h() {
                    U(!0)
                }

                function v(t) {
                    var n = S.contains(t.target) || T.contains(t.target),
                        i = f && f.getWrapper().contains(t.target);
                    b && m || i ? n || !b && !m || U(!0) : (clearTimeout(I), I = setTimeout(F, C))
                }
                bt.pointerEvents ? yc(i).on("pointerenter", function(t) {
                    if ("mouse" === t.pointerType || t.pointerType === t.MSPOINTER_TYPE_MOUSE) return u = e, o();
                    u = r, v(t)
                }).on("pointermove", function(t) {
                    if ("mouse" === t.pointerType || t.pointerType === t.MSPOINTER_TYPE_MOUSE) return l(t)
                }).on("pointerleave", function(t) {
                    if ("mouse" === t.pointerType || t.pointerType === t.MSPOINTER_TYPE_MOUSE) return h()
                }) : yc(i).on("touchmove", function() {
                    u = r, P()
                }).on("touchend", v).on("mouseenter", o).on("mousemove", l).on("mouseleave", h)
            }(), t.events.on(J.PLAY, function(t) {
                R || 0 === t || F()
            }).on(Ua.oe, F).on([tt.BUFFER_ENDED, Ua.Ua, Ua._a, Ua.Ka], P).on(Ki, function() {
                E = !0
            }), t.events.on(Ua.Wa, function(t) {
                t && P()
            }), t.events.on(Ua.ls, V).on(Ua.Ba, function(t) {
                m = t, V()
            }).on(Ua.Ha, function(t) {
                b = t, V()
            }), t.events.on(Ua.Qs, function() {
                y = !0, F()
            }).on(Ua.tc, function() {
                y = !1
            }),
            function() {
                var e = !1,
                    r = !1,
                    o = 0;
                t.events.on(Ua.Wa, function(t) {
                    r = t
                }), yc(i).on(bt.pointerEvents ? "pointerup" : "click", function(i) {
                    if (!r && 2 !== i.button && i.target.classList && function(t) {
                            return (t.classList.contains("vp-title") || t.classList.contains("vp-target") || A.contains(t.parentNode) && "HEADER" === t.parentNode.tagName || x.contains(t)) && !T.contains(t)
                        }(i.target)) {
                        var e = ("pointerup" === i.type || "MSPointerUp" === i.type) && "mouse" !== i.pointerType && i.pointerType !== i.MSPOINTER_TYPE_MOUSE,
                            u = E && bt.spatialPlayback && t.config.video.spatial && l;
                        if (bt.touch || e) {
                            var a = -1 !== t.backbone.supportedPresentationModes.indexOf("inline") && !bt.mobileAndroid;
                            if (!u) {
                                if (E && a) return;
                                return void t.events.fire(Ua.Da)
                            }
                        }
                        1 == ++o && setTimeout(function() {
                            if (u) {
                                var e = p && p.x === i.clientX && p.y === i.clientY;
                                return 1 === o && e && !bt.mobileAndroid && t.events.fire(t.backbone.paused ? Ua.Da : Ua.La), 1 !== o && t.backbone.getEffectByName("ThreeSixtyEffect").snapToCenter(), void(o = 0)
                            }
                            if (1 === o) {
                                if (n.get(ac) && !n.get(fc)) return;
                                t.events.fire(t.backbone.paused ? Ua.Da : Ua.La)
                            } else t.events.fire(Ua.Ia);
                            o = 0
                        }, 200)
                    }
                }), yc(i).on("mousedown", ".vp-video-wrapper", function(t) {
                    var n;
                    if (!e) return _.classList.remove("hidden"), _.removeAttribute("hidden"), 2 !== t.button && document.createEvent && ((n = document.createEvent("MouseEvents")).initMouseEvent("click", !0, !0, window, 1, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), _.dispatchEvent(n)), !1
                }).on("contextmenu", ".vp-video", function(t) {
                    return _.classList.remove("hidden"), _.removeAttribute("hidden"), !1
                }), t.events.on(Pa.ra, function(t) {
                    if (t) return e = !0, void _.classList.add("hidden");
                    e = !1, _.classList.remove("hidden")
                })
            }(),
            function() {
                var n, e;
                bt.touch || (yc(i).on("focus", "a, button, input, [tabindex]", function() {
                    e = this, clearTimeout(n), n = null, document.activeElement === this && F()
                }), yc(i).on("blur", "a, button, input, [tabindex]", function() {
                    document.activeElement === this && (n = setTimeout(U, 50))
                }), i.addEventListener("focus", function(t) {
                    F(), e && e.focus()
                }, !1), t.events.on(Ua.ls, function() {
                    w = !0, i.removeAttribute("tabindex")
                }), t.events.on(Ua.hs, function() {
                    w = !1
                }))
            }(), t.events.on(Ua.ts, function(t) {
                N(), l && l.adjustRenderSize(), y && F()
            }).on(Ua.es, function(t) {
                a = !0, l && l.adjustRenderSize(), t ? U() : (F(), D())
            }), B(), t.events.on(Pa.Gu, function() {
                a = !0, s = !0, m = !0, b = !1, g = !1, E = !1, B(), D()
            }), t.events.on(Pa.fa, W), t.events.on(Qi, function(t) {
                H(), l = t, q()
            }), t.events.on(Ua.Ra, function() {
                g = !0, clearTimeout(I), I = null
            }), t.events.on(Ua.Ca, function() {
                g = !1
            }), {}
    }
    var Ch = ["clip_id", "profile_id", "player_size", "dropped_frames", "total_frames", "bandwidth", "markers", "streams", "files", "video_dims", "min_bandwidth", "max_badwidth", "buffer_occupancy", "live_latency", "scanner", "vr_headset"],
        Ih = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function() {};
                this.player = t, this.seriesStore = {}, this.telecineHandlers = {}, this.onDataChange = n, this.Ff = null
            }
            var n = t.prototype;
            return n.init = function() {
                this.Vf(), this.Bf(), this.Hf(), this.Wf()
            }, n.reset = function() {
                this.Vf(), this.Wf(), this.onDataChange()
            }, n.setToSeries = function(t, n) {
                return this.seriesStore[t] = [n], this.onDataChange(), this.seriesStore[t]
            }, n.addToSeries = function(t, n) {
                this.seriesStore[t].push(n);
                return this.seriesStore[t].length > 500 && this.seriesStore[t].splice(0, 25), this.onDataChange(), this.seriesStore[t]
            }, n.getCurrent = function(t) {
                return this.seriesStore[t].slice(-1)[0]
            }, n.getFirst = function(t) {
                return this.seriesStore[t][0]
            }, n.getSeries = function(t) {
                return this.seriesStore[t]
            }, n.addMarker = function(t, n) {
                var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};
                i.videoTime = this.player.backbone.currentTime, i.time = Date.now(), this.addToSeries("markers", {
                    type: t,
                    title: n,
                    data: i
                })
            }, n.Bf = function() {
                this.player.events.on(tt.BANDWIDTH, this.qf.bind(this)), this.player.events.on(tt.BUFFER_OCCUPANCY, this.zf.bind(this)), this.player.events.on(tt.CURRENT_FILE_CHANGE, this.Gf.bind(this)), this.player.events.on(tt.DROPPED_FRAMES, this.Yf.bind(this)), this.player.events.on(tt.SCANNER_CHANGE, this.Kf.bind(this)), this.player.events.on(tt.STREAM_BUFFER_START, this.$f.bind(this)), this.player.events.on(tt.STREAM_CHANGE, this.Xf.bind(this)), this.player.events.on(J.ENDED, this.Jf.bind(this)), this.player.events.on(J.SEEKED, this.wo.bind(this)), this.player.events.on(J.STALLED, this.Zf.bind(this)), this.player.events.on(it.WEBVR_HARDWARE_AVAILABLE, this.Qf.bind(this))
            }, n.Qf = function(t) {
                t.displayName && this.setToSeries("vr_headset", t.displayName)
            }, n.tl = function() {
                var t = this;
                this.Ff = setInterval(function() {
                    var n = t.player.backbone.buffered,
                        i = t.player.backbone.videoElement;
                    if (n && n.length && i && i.currentTime) {
                        var e = n.end(n.length - 1) - i.currentTime;
                        t.setToSeries("live_latency", e)
                    } else t.setToSeries("live_latency", 0)
                }, 500)
            }, n.nl = function() {
                clearInterval(this.Ff)
            }, n.Hf = function() {
                var t = this;
                this.player.store.watch("ui.player.boundingRect", function(n) {
                    var i = t.getCurrent("video_dims"),
                        e = t.il(n);
                    t.addToSeries("video_dims", e);
                    var r = i ? "Resized from ".concat(i, " to ").concat(e) : "Resized to ".concat(e);
                    t.addMarker(Ka.MARKER_RESIZE, r)
                })
            }, n.il = function(t) {
                var n = "".concat(Math.round(t.width), "px"),
                    i = "".concat(Math.round(t.height), "px"),
                    e = window.devicePixelRatio && window.devicePixelRatio > 1 ? "@".concat(window.devicePixelRatio, "x") : "";
                return n && i ? "".concat(parseInt(n, 10), "").concat(parseInt(i, 10), " ").concat(e) : ""
            }, n.Vf = function() {
                this.seriesStore = Ch.reduce(function(t, n) {
                    return t[n] = [], t
                }, {})
            }, n.Wf = function() {
                var t = this.player.backbone.currentFile;
                this.addToSeries("files", t), this.addToSeries("scanner", this.player.backbone.currentScannerName), "HLSLiveScanner" === this.player.backbone.currentScannerName && this.tl(), this.setToSeries("min_bandwidth", 0), this.setToSeries("max_badwidth", 0);
                var n = this.player.store.get("ui.player.boundingRect"),
                    i = this.il(n);
                this.addToSeries("video_dims", i)
            }, n.qf = function(t) {
                var n = Math.round(100 * t.speed) / 100;
                this.addToSeries("bandwidth", {
                    videoTime: this.player.backbone.currentTime,
                    time: Date.now(),
                    value: n
                });
                var i = this.getCurrent("max_badwidth"),
                    e = this.getCurrent("min_bandwidth");
                (!e || n < e) && this.setToSeries("min_bandwidth", n), (!i || n > i) && this.setToSeries("max_badwidth", n)
            }, n.Yf = function(t) {
                var n = t.dropped,
                    i = t.total;
                this.setToSeries("total_frames", i), this.setToSeries("dropped_frames", n)
            }, n.wo = function() {
                this.addMarker(Ka.MARKER_SEEKED, "Seeked to ".concat(this.player.backbone.currentTime))
            }, n.Jf = function() {
                this.addMarker(Ka.MARKER_ENDED, "Ended")
            }, n.Xf = function(t, n, i) {
                var e = i[n],
                    r = {
                        profile: void 0 !== t ? t.profile : null,
                        quality: void 0 !== t ? t.quality : "".concat(e.height, "p"),
                        bitrate: e.bitrate,
                        framerate: e.framerate,
                        height: e.height,
                        width: e.width,
                        id: e.id,
                        codec: oh(e.id, this.player.config.request.file_codecs || this.player.config.video.file_codecs)
                    },
                    o = this.getCurrent("streams"),
                    u = o ? o.bitrate : null;
                if (u !== r.bitrate && null !== u) {
                    var a = this.el(o),
                        s = this.el(r);
                    r.bitrate < u ? this.addMarker(Ka.MARKER_DOWNSWITCH, "Downswitch from ".concat(a, " to ").concat(s)) : r.bitrate > u && this.addMarker(Ka.MARKER_UPSWITCH, "Upswitch from ".concat(a, " to ").concat(s))
                }
                this.addToSeries("streams", r)
            }, n.Gf = function() {
                var t = this.getCurrent("files"),
                    n = this.player.backbone.currentFile;
                this.addToSeries("files", n);
                var i = n.metadata.cdn,
                    e = t ? t.metadata.cdn : null,
                    r = t ? Ha[t.mime] : null,
                    o = Ha[n.mime],
                    u = "CDN to ".concat(i, "/").concat(o);
                e && (u = "CDN from ".concat(e, "/").concat(r, " to ").concat(i, "/").concat(o)), this.addMarker(Ka.MARKER_FILE_CHANGE, u)
            }, n.zf = function(t) {
                var n = Math.round(1e3 * t) / 1e3;
                this.addToSeries("buffer_occupancy", {
                    videoTime: this.player.backbone.currentTime,
                    time: Date.now ? Date.now() : (new Date).getTime(),
                    value: n
                })
            }, n.Kf = function() {
                var t = this.getCurrent("scanner"),
                    n = this.player.backbone.currentScannerName;
                this.setToSeries("scanner", n), t && this.addMarker(Ka.MARKER_SCANNER_CHANGE, "Scanner change to ".concat(n)), "HLSLiveScanner" === n ? this.tl() : this.nl()
            }, n.$f = function() {
                this.addMarker(Ka.MARKER_BUFFER_START, "Buffering")
            }, n.Zf = function() {
                this.addMarker(Ka.MARKER_STALLED, "Stalled")
            }, n.el = function(t) {
                return "".concat(t.width, "").concat(t.height, "@").concat(Math.round(t.framerate), " ").concat(Math.round(t.bitrate / 1e3).toLocaleString(), " Kbps")
            }, t
        }(),
        Lh = function(t, n, i) {
            return Math.min(Math.max(t, n), i)
        },
        Dh = function() {
            function t(t, n) {
                var i = this;
                this.element = t, this.player = n, this.initTime = new Date;
                this.debugcollect = new Ih(n, function() {
                    i.updateDebugValues()
                }), this.debugcollect.init(), this.attachEvents(), this.active = !1, this.hiddenInTinyMode = !1, this.copied = !1, this.sessionId = null
            }
            var n = t.prototype;
            return n.render = function() {
                if (this.active) {
                    var t = {};
                    try {
                        t = this.rl()
                    } catch (t) {}
                    this.element.innerHTML = tl.render("debug_panel", t)
                }
            }, n.updateDebugValues = function() {
                if (this.active) try {
                    var t = this.rl();
                    this.element.querySelector(".vp-stats-debug-values").innerHTML = tl.render("debug_values", t)
                } catch (t) {}
            }, n.resetData = function() {
                this.debugcollect.reset(), this.render()
            }, n.attachEvents = function() {
                var t = this;
                this.player.events.on(Ua.ks, function() {
                    "tiny" !== t.player.store.get("ui.player.mode") && (t.element.classList.contains("hidden") ? t.showPanel() : t.hidePanel())
                }), bh(this.element, ".js-copySessionButton", this.ol.bind(this)), this.player.events.on(Ua.qs, function() {
                    t.resetData()
                }), bh(this.element, ".vp-stats-debug-close", function() {
                    t.hidePanel()
                }), this.player.store.watch("ui.player.mode", this.toggleVisibility.bind(this))
            }, n.hidePanel = function() {
                this.element.classList.add("hidden"), this.element.setAttribute("hidden", ""), this.element.setAttribute("aria-hidden", "true"), this.active = !1
            }, n.showPanel = function() {
                this.element.classList.remove("hidden"), this.element.removeAttribute("hidden"), this.element.setAttribute("aria-hidden", "false"), this.active = !0, this.render()
            }, n.toggleVisibility = function(t) {
                if ("tiny" === t && this.active) return this.hiddenInTinyMode = !0, void this.hidePanel();
                this.hiddenInTinyMode && (this.showPanel(), this.hiddenInTinyMode = !1)
            }, n.rl = function() {
                var t = this.debugcollect.getCurrent("scanner"),
                    n = "MediaSourceScanner" === t,
                    i = "HLSLiveScanner" === t,
                    e = this.debugcollect.getCurrent("video_dims"),
                    r = !(!this.player.config.request.files || !this.player.config.request.files.dash) && this.player.config.request.files.dash.separate_av,
                    o = n || i ? this.ul() : null,
                    u = n || i ? this.al(o) : null,
                    a = this.debugcollect.getCurrent("vr_headset") || null,
                    s = {
                        sessionId: this.sessionId,
                        clipId: this.player.config.video.id,
                        isDash: n,
                        isLive: i,
                        embedSize: e,
                        separateAudioVideo: r,
                        bandwidthSeriesSvg: u,
                        isCopyDisabled: !!this.player.doNotTrackEnabled || this.player.config.embed.settings.background,
                        isDNTEnabled: this.player.doNotTrackEnabled,
                        hideCloseButton: !!this.player.config.embed.settings.background,
                        vrHeadsetName: a
                    };
                return Object.assign(s, this.sl(), this.cl(), this.fl(), this.ll(), this.hl(), this.dl(i))
            }, n.dl = function(t) {
                return t ? {
                    liveLatency: "".concat(this.debugcollect.getCurrent("live_latency").toFixed(2), " seconds"),
                    liveSessionID: this.player.config.video.live_event.id
                } : {}
            }, n.hl = function() {
                var t = this.debugcollect.getCurrent("files");
                return t ? {
                    delivery: t.mime
                } : {}
            }, n.sl = function() {
                var t = this.debugcollect.getCurrent("bandwidth");
                return {
                    bandwidthKbps: t ? "".concat(Math.floor(t.value / 1e3).toLocaleString(), " Kbps") : 0,
                    bandwidthMinKbps: "".concat(Math.floor(this.debugcollect.getCurrent("min_bandwidth") / 1e3).toLocaleString(), " Kbps"),
                    bandwidthMaxKbps: "".concat(Math.floor(this.debugcollect.getCurrent("max_badwidth") / 1e3).toLocaleString(), " Kbps")
                }
            }, n.cl = function() {
                var t = this.debugcollect.getCurrent("streams");
                return {
                    codec: t ? t.codec : null,
                    resolution: t ? "".concat(t.width, "").concat(t.height, "@").concat(Math.round(t.framerate), " ").concat(Math.round(t.bitrate / 1e3).toLocaleString(), " Kbps") : null
                }
            }, n.ll = function() {
                var t = this.debugcollect.getCurrent("total_frames") || 0,
                    n = this.debugcollect.getCurrent("dropped_frames") || 0;
                return {
                    totalFrames: t,
                    droppedFrames: n,
                    droppedFramesPercent: 0 !== t ? "".concat((n / t * 100).toFixed(2), "%") : 0
                }
            }, n.fl = function() {
                var t = this;
                return {
                    testGroup: Object.keys(this.player.config.request.ab_tests).map(function(n) {
                        return "".concat(n, ": ").concat(t.player.config.request.ab_tests[n].group)
                    }).join(", ")
                }
            }, n.ul = function() {
                return {
                    timeSeries: this.debugcollect.getSeries("bandwidth"),
                    max: this.debugcollect.getCurrent("max_badwidth")
                }
            }, n.vl = function() {
                return {
                    timeSeries: this.debugcollect.getSeries("buffer_occupancy")
                }
            }, n.al = function(t) {
                for (var n = t.timeSeries, i = t.max || 1, e = n.length, r = e < 100 ? 0 : e - 100, o = n[r], u = n[e - 1], a = o ? o.time : 0, s = u ? u.time : 0, c = [], f = r; f < e; f++) {
                    var l = n[f],
                        h = (l.time - a) / (s - a) * 250,
                        d = 14 - 14 * l.value / i;
                    isNaN(d) && (d = 0), isNaN(h) && (h = 0), c.push("".concat(h, ",").concat(Lh(d, 0, 14)))
                }
                var v = {
                    height: 14,
                    width: 250,
                    points: c.join(" "),
                    markers: this.pl(a, s)
                };
                return tl.render("time_series_graph", v)
            }, n.ml = function(t) {
                var n = Object.keys(Ka).find(function(n) {
                    return Ka[n] === t
                });
                return $a[n]
            }, n.pl = function(t, n) {
                var i = this,
                    e = this.debugcollect.getSeries("markers") || [];
                return 0 === e.length ? null : e.map(function(e) {
                    var r = e.data.time;
                    if (r < t || r > n) return "";
                    var o = (r - t) / (n - t) * 250;
                    return isNaN(o) && (o = 0), "<g>\n                <title>".concat(e.title, '</title>\n                <line class="stats-debug-marker" x1="').concat(o, '" y1="', 0, '" x2="').concat(o, '" y2="').concat(14, '" stroke-width="1" stroke="').concat(i.ml(e.type), '" />\n            </g>')
                }).join("")
            }, n.ol = function() {
                var t = this;
                if (!this.isCopied) {
                    var n = this.element.querySelector(".vp-copy-label"),
                        i = document.createElement("textarea");
                    if (i.value = this.player.config.request.session, this.element.appendChild(i), i.select(), document.execCommand("copy")) {
                        n.innerHTML = "Copied", this.element.removeChild(i), this.isCopied = !0;
                        var e = setTimeout(function() {
                            n.innerHTML = "Copy Debug Key", clearTimeout(e), t.isCopied = !1
                        }, 2e3)
                    } else this.element.querySelector(".js-copySessionButton").style.display = "none", this.element.removeChild(i), this.sessionId = this.player.config.request.session, this.updateDebugValues()
                }
            }, t
        }(),
        jh = function() {
            function t(t) {
                this.alertTextElement = t.querySelector(".vp-text-alert-wrapper"), this.alertContentTitle = this.alertTextElement.querySelector(".vp-live-start-time-title"), this.alertContentTime = this.alertTextElement.querySelector(".vp-live-start-time-body"), this.alertContentFooter = this.alertTextElement.querySelector(".vp-live-start-time-footer")
            }
            var n = t.prototype;
            return n.show = function(t, n, i) {
                this.alertContentTitle.innerHTML = t, this.alertContentTime.innerHTML = n, this.alertContentFooter.innerHTML = i, this.alertContentTitle.classList.remove("hidden"), this.alertContentTime.classList.remove("hidden"), this.alertContentFooter.classList.remove("hidden"), this.alertTextElement.classList.remove("hidden")
            }, n.hide = function() {
                this.alertContentTitle.classList.add("hidden"), this.alertContentTime.classList.add("hidden"), this.alertContentFooter.classList.add("hidden"), this.alertTextElement.classList.add("hidden")
            }, t
        }(),
        Ph = function() {
            function t(t, n, i) {
                this.textAlert = new Ql(t), this.timeAlert = new jh(t), this.player = n, this.store = i, this.startTime = new Date(this.store.get(Ac, null)), this._r = !1, this.bl(), this.wl()
            }
            var n = t.prototype;
            return n.disable = function() {
                this.hide(), this._r = !0
            }, n.hide = function() {
                this.textAlert.hide(), this.timeAlert.hide()
            }, n.wl = function() {
                (this.store.get(sc) || this.store.get(cc)) && this.yl(), this.store.get(lc) && this.gl()
            }, n.bl = function() {
                this.player.events.on(nt.EVENT_ACTIVE, this.yl.bind(this)), this.player.events.on(nt.STREAM_ONLINE, this.El.bind(this)), this.player.events.on(nt.STREAM_OFFLINE, this.kl.bind(this)), this.player.events.once(nt.EVENT_ENDED, this.gl.bind(this))
            }, n.yl = function() {
                this._l() > 6e4 ? (this.textAlert.hide(), this.Tl()) : (this.timeAlert.hide(), this.textAlert.show("This event hasn't started yet"))
            }, n.Tl = function() {
                var t = this.Sl();
                this.timeAlert.show(t[0], t[1], t[2]), !this.store.get(sc) && !this.store.get(cc) || this._r || setTimeout(this.wl.bind(this), 3e4)
            }, n._l = function() {
                return this.startTime - new Date
            }, n.Sl = function() {
                var t = this._l(),
                    n = (t / 6e4).toFixed(0),
                    i = (t / 36e5).toFixed(0),
                    e = (t / 864e5).toFixed(0),
                    r = (new Date).toDateString() === this.startTime.toDateString();
                if (e > 1 || !r) return ["This event is scheduled for", "".concat(["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][this.startTime.getMonth()], " ").concat(this.startTime.getDate()), "at ".concat(al(this.startTime))];
                if (i > 1 && r) return ["This event is scheduled for", "Today", "at ".concat(al(this.startTime))];
                var o = n > 1 ? "minutes" : "minute";
                return ["This event will start in", "".concat(n, " ").concat(o), ""]
            }, n.El = function() {
                this.hide()
            }, n.kl = function() {
                this.textAlert.show("Live stream offline"), bt.iOS && mh.element && (this.player.events.fire(Ua.ns), mh.exit())
            }, n.gl = function() {
                this.textAlert.show("Live event ended")
            }, t
        }();

    function Nh(t, n) {
        var i, e = n.querySelector(".vp-notification");

        function r(t, r) {
            if (null !== n.parentElement.offsetParent) {
                n.classList.remove("hidden"), n.removeAttribute("hidden"), n.setAttribute("data-name", t);
                var u = function(t) {
                        var i = "watchlater" === t || "unwatchlater" === t ? .5 : .4,
                            e = n.clientHeight;
                        return n.clientHeight > n.clientWidth && (e = n.clientWidth), {
                            height: Math.round(e * i),
                            width: Math.round(e * i * 1.6)
                        }
                    }(t),
                    a = "width:" + u.width + "px;height:" + u.height + "px";
                e.style.cssText = a, e.innerHTML = r, "watchlater" !== t && "unwatchlater" !== t || function(t, n) {
                    var i = t.querySelector(".hour-hand"),
                        e = t.querySelector(".minute-hand");
                    if (i && e) {
                        var r = n ? 1 : -1,
                            o = new Date,
                            u = Math.abs(o.getHours() - 12),
                            a = o.getMinutes(),
                            s = a / 60 * 360 - 135,
                            c = u / 12 * 360 + a / 60 * 5,
                            f = c + 45 * r,
                            l = s + 540 * r;
                        i.style[bt.transformProperty] = "rotate(" + c + "deg)", e.style[bt.transformProperty] = "rotate(" + s + "deg)", window.requestAnimationFrame(function() {
                            t.classList.add("animate"), bt.browser.firefox || bt.browser.opera || window.requestAnimationFrame(function() {
                                i.style[bt.transformProperty] = "rotate(" + f + "deg)", e.style[bt.transformProperty] = "rotate(" + l + "deg)"
                            })
                        })
                    }
                }(e, "watchlater" === t), clearTimeout(i), n.classList.remove("animate"), window.requestAnimationFrame(function() {
                    n.classList.remove("invisible"), i = setTimeout(o, 750)
                })
            }
        }

        function o() {
            n.classList.add("animate"), n.classList.add("invisible")
        }

        function u() {
            n.classList.remove("animate"), n.classList.remove("invisible"), n.classList.add("hidden"), n.setAttribute("hidden", ""), n.removeAttribute("data-name"), e.innerHTML = "", e.classList.remove("filled"), e.classList.remove("animate"), t.events.fire(Ua.Ac)
        }
        return yc(n).on("transitionend", function(t) {
            e.contains(t.target) && "height" === t.propertyName ? setTimeout(o, 100) : t.target === n && "opacity" === t.propertyName && window.requestAnimationFrame(u)
        }), t.events.on(Ua.Ds, function(t) {
            t || r("like", tl.render("icon_heart"))
        }), t.events.on(Ua.Ps, function(t) {
            t || r("unlike", tl.render("icon_broken_heart"))
        }), t.events.on(Ua.Ns, function(t) {
            t || r("watchlater", tl.render("icon_clock"))
        }), t.events.on(Ua.Us, function(t) {
            t || r("unwatchlater", tl.render("icon_clock"))
        }), t.events.fire(Ua._c), {}
    }

    function Uh(t) {
        return t.account_type && "basic" !== t.account_type && !/_lapsed|_expired/.test(t.account_type)
    }
    var Fh = function(t) {
            return function(n) {
                return null == t ? void 0 : t[n]
            }
        }({
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;"
        }),
        Vh = /[&<>"']/g,
        Bh = RegExp(Vh.source);

    function Hh(t) {
        return (t = oo(t)) && Bh.test(t) ? t.replace(Vh, Fh) : t
    }

    function Wh(t, n) {
        var i = $(),
            e = !1;

        function r(t) {
            ma(t, "facebook", {
                width: 580,
                height: 400
            })
        }

        function o(t) {
            ma(t, "twitter", {
                width: 550,
                height: 420
            })
        }

        function u(t) {
            ma(t, "tumblr", {
                width: 540,
                height: 600
            })
        }
        var a = {
            get events() {
                return i
            },
            setup: function() {
                n.classList.remove("vp-share-embed-active", "vp-share-embed-only"), t.config.embed.settings.share && t.config.embed.settings.share.embed_only && n.classList.add("vp-share-embed-only");
                var i = n.querySelector(".js-embedCopy");
                i && (i.style.width = function(t, n) {
                    var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 2;
                    n = Object.keys(n).map(function(t) {
                        return n[t]
                    });
                    var e = t.cloneNode();
                    e.style.visibility = "hidden", e.style.padding = 0, t.parentElement.appendChild(e);
                    var r = n.map(function(t) {
                            return e.innerText = t, e.clientWidth
                        }),
                        o = Math.max.apply(Math, K(r)),
                        u = window.getComputedStyle(t),
                        a = parseFloat(u.fontSize);
                    return t.parentElement.removeChild(e), "".concat((o + i) / a, "em")
                }(i, ["Copy", "Copied!"])), t.events.on(Ua.ps, r).on(Ua.ms, o).on(Ua.bs, u)
            },
            destroy: function() {
                t.events.off(Ua.ps, r).off(Ua.ms, o).off(Ua.bs, u)
            },
            getShareData: function() {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = t.config.video.title,
                    r = t.config.video.owner.name,
                    o = t.config.video.share_url;
                return e = document.queryCommandSupported && document.queryCommandSupported("copy"), n.template = tl.render("share", {
                    url: t.config.video.url,
                    shareUrl: o,
                    playerShareUrl: "https://".concat(t.config.player_url, "/video/").concat(t.config.video.id, "/share"),
                    title: i,
                    owner: r,
                    embed: "public" === t.config.video.embed_permission && t.config.embed.settings.embed,
                    embedOnly: t.config.embed.settings.share && t.config.embed.settings.share.embed_only,
                    embedCode: Hh(t.config.video.embed_code),
                    copyButton: e,
                    customizeEmbed: !!t.config.video.url,
                    readOnly: !bt.touch,
                    facebookIcon: tl.render("icon_facebook", {
                        title: "Share on Facebook"
                    }),
                    twitterIcon: tl.render("icon_twitter", {
                        title: "Share on Twitter"
                    }),
                    tumblrIcon: tl.render("icon_tumblr", {
                        title: "Share on Tumblr"
                    }),
                    emailIcon: tl.render("icon_mail", {
                        title: "Share via Email"
                    }),
                    embedIcon: tl.render("icon_embed", {
                        title: "Get embed code"
                    }),
                    strings: {
                        share: "Share",
                        emailSubject: "Check out " + i + " from " + r + " on Vimeo",
                        emailBody: "Check out " + i + " from " + r + " on Vimeo.\n\nThe video is available for your viewing pleasure at " + o + "\n\nIf you like this video, make sure you share it, too!\n\nVimeo is filled with lots of amazing videos. See more at https://vimeo.com.",
                        embedTitle: "Embed",
                        embedSubtitle: "Add this video to your site with the embed code below.",
                        copy: "Copy",
                        copySuccess: "Copied!",
                        customize: '<a href="'.concat(t.config.video.url, '#embed" target="_blank" rel="noopener" aria-describedby="new-window">') + "Customize this embed</a> on Vimeo"
                    }
                }), n.Al = ".js-facebook", t.config.embed.settings.share && t.config.embed.settings.share.embed_only && (n.wrapperClass = "embed-only", n.Al = ".js-embed-input"), n
            },
            showShareView: function() {
                n.querySelector(".js-share-screen").classList.remove("cloaked"), n.classList.remove("vp-share-embed-active"), i.fire(Ua.Ss)
            },
            showEmbedView: function() {
                t.config.embed.settings.share.embed_only || (n.querySelector(".js-embed-screen").classList.remove("cloaked"), n.classList.add("vp-share-embed-active")), i.fire(Ua.As)
            }
        };
        return function() {
            var r;
            yc(n).on("transitionend", ".js-share-screen", function(t) {
                "opacity" === t.propertyName && "0" === window.getComputedStyle(this, "").opacity && (i.fire(Ua.Os), this.classList.add("cloaked"))
            }).on("transitionend", ".js-embed-screen", function(t) {
                "opacity" === t.propertyName && "0" === window.getComputedStyle(this, "").opacity && (i.fire(Ua.Ms), this.classList.add("cloaked"), ya(n))
            }).on("copy", "input[name=embed_code]", function() {
                t.events.fire(Ua.ys)
            }), bh(n, ".js-facebook", function() {
                return t.events.fire(Ua.ps, this.href), la(), !1
            }), bh(n, ".js-twitter", function() {
                return t.events.fire(Ua.ms, this.href), la(), !1
            }), bh(n, ".js-tumblr", function() {
                return t.events.fire(Ua.bs, this.href), la(), !1
            }), bh(n, ".js-email", function() {
                return t.events.fire(Ua.ws), window.top.location = this.href, la(), !1
            }), bh(n, ".js-embed", function() {
                return t.events.fire(Ua.as), a.showEmbedView(), la(), !1
            }), bh(n, ".js-embedCopy", function() {
                if (e) {
                    n.querySelector("input[name=embed_code]").select();
                    try {
                        document.execCommand("copy") && function() {
                            t.events.fire(Ua.ys);
                            var i = n.querySelector(".js-embedCopy");
                            i.innerHTML = i.getAttribute("data-success-label"), clearTimeout(r), r = setTimeout(function() {
                                i.innerHTML = i.getAttribute("data-label")
                            }, 2e3)
                        }()
                    } catch (t) {}
                    return document.activeElement.blur(), !1
                }
            }), bt.touch ? yc(n).on("focus", "input[name=embed_code]", function() {
                var t = this;
                setTimeout(function() {
                    t.setSelectionRange(0, 9999), t.setAttribute("readonly", "readonly")
                }, 0)
            }).on("blur", "input", function() {
                this.removeAttribute("readonly")
            }) : yc(n).on("click", "input[name=embed_code]", function() {
                this.setSelectionRange(0, 9999)
            })
        }(), a
    }

    function qh(t, n) {
        var i, e = $();

        function r(t) {
            if ("yes" === t.form.getAttribute("data-bubble")) {
                t.form.setAttribute("data-bubble", "no");
                var i = n.querySelector(".vp-validation-bubble");
                i.querySelector(".vp-validation-bubble-message").innerHTML = t.validationMessage || "There is an error with this input.";
                var e = ha(t),
                    r = ha(t.form);
                i.style.left = e.left - r.left + "px", i.style.top = e.height + 1 + "px", i.classList.remove("hidden"), t.focus(), window.requestAnimationFrame(function() {
                    i.classList.add("vp-validation-bubble-animate")
                }), o()
            }
        }

        function o(t) {
            var e = n.querySelector(".vp-validation-bubble");
            if (e) {
                if (t) return clearTimeout(i), void e.classList.remove("vp-validation-bubble-animate");
                clearTimeout(i), i = setTimeout(function() {
                    e.classList.remove("vp-validation-bubble-animate")
                }, 5e3)
            }
        }

        function u() {
            var t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).showBubble,
                i = void 0 === t || t,
                e = n.querySelector("input[type=email]"),
                u = n.querySelector("input[type=text]");
            return e.setAttribute("aria-invalid", "false"), e.setCustomValidity(""), e.checkValidity && !e.checkValidity() ? (e.setAttribute("aria-invalid", "true"), e.validity.valueMissing && e.setCustomValidity("Please enter your email."), e.validity.typeMismatch && e.setCustomValidity("Please enter a valid email."), i && r(e), !1) : (u.setAttribute("aria-invalid", "false"), u.setCustomValidity(""), u.checkValidity && !u.checkValidity() ? (u.setAttribute("aria-invalid", "true"), u.validity.typeMismatch && u.setCustomValidity("Please enter a valid name."), !1) : (o(!0), !0))
        }
        var a = function() {
            e.fire(Ua.mc)
        };

        function s(i) {
            if (!u()) return !1;
            var e = i.querySelector("input[type=email]"),
                o = i.querySelector("input[type=submit]"),
                s = {
                    signature: "signature",
                    time: "timestamp",
                    expires: "expires"
                };

            function c(t) {
                o.classList.remove("loading"), e.setCustomValidity("Uh oh. There was a problem. Please try again."), e.setAttribute("aria-invalid", "true"), r(e)
            }
            Object.keys(s).forEach(function(n) {
                    i.querySelector("input[name=".concat(n, "]")).value = t.config.request[s[n]]
                }), o.classList.add("loading"),
                function(t, i, e) {
                    ya(n);
                    var r = j(t.querySelectorAll("input")).map(function(t) {
                            return t.name ? encodeURIComponent(t.name) + "=" + encodeURIComponent(t.value) : encodeURIComponent(t.value)
                        }).join("&"),
                        o = new XMLHttpRequest;
                    o.open(t.method, t.action + window.location.search, !0), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), o.withCredentials = !0, o.timeout = 3e3, o.onload = function() {
                        var t;
                        try {
                            t = JSON.parse(o.responseText)
                        } catch (t) {}
                        i(t, o)
                    }, o.onerror = function(t) {
                        e(t)
                    }, o.send(r)
                }(i, function(i, e) {
                    !1 !== i ? (t.config.embed.email = null, t.events.fire(Ua.oc), function() {
                        var t = n.querySelector(".vp-email-capture"),
                            i = n.querySelector(".vp-email-capture-confirm");
                        t.classList.add("vp-email-capture-invisible"), i.classList.remove("vp-email-capture-confirm-hidden"), window.requestAnimationFrame(function() {
                            window.requestAnimationFrame(function() {
                                i.classList.add("in"), setTimeout(a, 2250)
                            })
                        })
                    }()) : c(e.status)
                }, c)
        }
        var c = {
            get events() {
                return e
            },
            getData: function() {
                var n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    e = t.config.embed.email || {},
                    r = i.custom_logo || e.custom_logo;
                if (r) var o = Ds({
                    width: 150,
                    height: 75,
                    baseUrl: r,
                    webpSupport: bt.webp
                });
                return n.template = tl.render("email_capture", {
                    allowSkip: i.allow_skip || e.allow_skip,
                    customLogo: o,
                    text: i.text || e.text || "",
                    action: "https://".concat(t.config.player_url, "/video/").concat(t.config.video.id, "/submit-email"),
                    confirmation: i.confirmation || e.confirmation || "Thanks! Your email was successfully submitted.",
                    referrer: t.config.request.referrer,
                    strings: {
                        email: "Email address",
                        fullName: "Name (optional)",
                        nothanks: "No thanks",
                        submit: "Submit"
                    }
                }), n.Al = ".js-email-capture-form-input", n.modal = !0, n.logo = !1, n.preventBackgroundClose = !0, n.noblur = i.noblur, n.nofocus = i.nofocus, n
            }
        };
        return bh(n, ".vp-email-capture-form-button--cancel", function() {
            a()
        }), bh(n, ".vp-email-capture-form-button--reset", function() {
            t.events.fire(Ua.Da)
        }), bh(n, ".vp-email-capture-form-button--submit", function() {
            this.form.classList.add("vp-email-capture-form-submitted"), this.form.setAttribute("data-bubble", "yes"), u()
        }), yc(n).on("submit", ".vp-email-capture-form", function() {
            return t.events.fire(Ua._s), s(this), !1
        }).on(["focus", "input"], ".vp-email-capture-form-input[type=email]", function() {
            u({
                showBubble: !1
            })
        }), c
    }

    function zh(t, n, i) {
        var r, o, u, a, s = i.querySelector(".vp-outro"),
            c = null,
            f = !1,
            l = !1,
            h = !1,
            d = !1,
            v = 10,
            p = !1,
            m = ll(O, 250),
            b = 250,
            w = 1.778,
            y = null,
            g = t.config.request.ads instanceof Object,
            E = !1;

        function k() {
            return !p && null === c && !t.config.embed.loop
        }

        function _() {
            return "vod" === t.config.embed.outro ? (c = T(u = "vod"), !0 === d && x(), e.resolve(c)) : (p = !0, Sn("https://".concat(t.config.player_url, "/video/").concat(t.config.video.id, "/outro?on_site=").concat(t.config.embed.on_site, "&type=").concat(t.config.embed.outro, "&email=").concat(t.config.embed.email ? 1 : 0), {
                withCredentials: !0
            }).json().then(function(n) {
                return u = n.type, (c = T(u, n.data)) && (c.bgimage && Ps(c.bgimage), c.contexts && c.contexts.forEach(function(t) {
                    t.videos.forEach(function(t) {
                        Ps(t.thumbnail)
                    })
                })), Uh(t.config.video.owner) && function(n, i) {
                    ["videos", "threevideos", "promoted"].includes(n) && i.contexts && i.contexts.forEach(function(n) {
                        n.videos.reduce(function(n, i) {
                            return n.then(function(n) {
                                return function() {
                                    return t.preloadVideo("auto", n.id, {
                                        autoplay: !0
                                    }).catch(function(t) {})
                                }
                            }(i))
                        }, e.resolve())
                    })
                }(u, c), c
            }))
        }

        function T(n) {
            var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                e = Ls(t.element.clientWidth * bt.devicePixelRatio, t.element.clientHeight * bt.devicePixelRatio),
                r = e.width,
                o = e.height;
            if (i.img_base && (i.bgimage = Ds({
                    width: r,
                    height: o,
                    baseUrl: i.img_base,
                    webpSupport: bt.webp
                })), "vod" === n) {
                var u = void 0 !== t.config.video.vod.is_preorder ? t.config.video.vod.is_preorder : !!t.config.video.vod.date_available,
                    a = t.config.video.vod.is_coming_soon,
                    s = t.config.video.vod.date_available_formatted_datetime || t.config.video.vod.date_available,
                    c = "Coming soon to Vimeo On Demand.";
                a && s && (c = "Coming soon to Vimeo On Demand on " + s + "."), u && (c = "Pre-order now. Watch on " + s + "."), i = {
                    purchased: t.config.user.purchased,
                    title: t.config.video.vod.feature_title,
                    url: t.config.video.vod.url,
                    currency: t.config.request.currency,
                    countries: t.config.video.vod.countries,
                    country: t.config.request.country,
                    buttons: t.config.video.vod.purchase_options,
                    translationMap: t.config.request.dynamic_translation_map,
                    isPreorder: u,
                    isComingSoon: a,
                    releaseDate: s,
                    strings: {
                        watch: u ? "Watch on " + s : "Watch Now",
                        preRelease: c
                    }
                }
            }
            return ["videos", "threevideos", "promoted"].includes(n) && (t.config.user.following = i.following, (i = {
                contexts: Array.isArray(i) ? i : [i],
                owner: t.config.video.owner.id,
                bgimage: i.bgimage,
                following: i.following
            }).contexts && i.contexts.forEach(function(t) {
                t.videos.forEach(function(n) {
                    if (n.fullTitle = n.title, n.byline = "", n.owner.id !== i.owner && (n.fullTitle = n.title + " from " + n.owner.name, n.byline = "from " + n.owner.name), n.thumbnail_base) {
                        var e = Math.round(r / t.videos.length);
                        n.thumbnail = Ds({
                            width: e,
                            height: Math.round(e / w),
                            baseUrl: n.thumbnail_base,
                            webpSupport: bt.webp,
                            crop: !0
                        })
                    }
                })
            })), "link" === n && (i.url = ea(i.url), i.url2 = ea(i.url2)), "share" === n && (i.strings = {
                back: "Back"
            }), i
        }

        function S(t) {
            s.classList.toggle("vp-outro--link-medium", t)
        }

        function A(t) {
            s.classList.toggle("vp-outro--link-large", t)
        }

        function x() {
            if (f = !0, "beginning" === u) return s.innerHTML = "", void t.events.fire(Pa.Gu);
            if (k()) _().then(function() {
                return x()
            }).catch(function() {});
            else {
                var e = function() {
                    if (["videos", "threevideos", "promoted"].includes(u)) {
                        if (0 === (c && c.contexts || []).reduce(function(t, n) {
                                return t + n.videos.length
                            }, 0)) return null;
                        c.showFollowButton = !t.config.user.owner && t.config.user.logged_in, c.strings = {
                            follow: "Follow",
                            following: "Following",
                            unfollow: "Unfollow"
                        }
                    }
                    return c && (c.target = !t.config.embed.on_site), y = u, ["threevideos", "promoted"].includes(u) && (y = "videos"), tl.render("outro_" + y, c)
                }();
                e && (s.innerHTML = e, s.setAttribute("data-type", y), i.classList.remove("hidden"), i.removeAttribute("hidden"), l = !0, ["videos", "threevideos"].includes(u) ? function() {
                    var t = document.querySelector(".js-outro-followWrap");
                    if (t) {
                        var n = window.getComputedStyle(t),
                            i = parseFloat(n.fontSize);
                        t.style.width = "".concat(t.clientWidth / i, "em")
                    }
                }() : "link" === u ? (n.watch("ui.outro.isLinkTitleVisible", S), n.watch("ui.outro.isLinkDescriptionVisible", A), S(n.get("ui.outro.isLinkTitleVisible")), A(n.get("ui.outro.isLinkDescriptionVisible"))) : "share" === u ? function() {
                    var t = i.querySelector(".js-outro-content"),
                        n = r.getShareData();
                    t.innerHTML = n.template, r.setup()
                }() : "email" === u && function() {
                    var t = i.querySelector(".js-outro-content"),
                        n = o.getData({}, c);
                    t.innerHTML = n.template
                }(), window.requestAnimationFrame(function() {
                    window.requestAnimationFrame(function() {
                        i.classList.add("in"), O()
                    })
                }))
            }
        }

        function M() {
            if (l) return r.destroy(), f = !1, h = !1, l = !1, void window.requestAnimationFrame(function() {
                i.classList.remove("in"), t.events.fire(Ua.tc), C()
            });
            f && (f = !1, t.events.fire(Ua.tc))
        }

        function O() {
            if (!h && i.clientWidth) {
                yc(window).off("resize", m), h = !0;
                var n = [];
                c && c.contexts && c.contexts.forEach(function(t) {
                    t.videos && t.videos.forEach(function(t) {
                        var i = t.id,
                            e = s.querySelector('[data-video-id="' + i + '"]');
                        e && e.clientWidth > 0 && n.push(i)
                    })
                }), t.events.fire(Ua.Qs, n)
            }
        }

        function R() {
            a = setTimeout(function() {
                t.events.fire(Pa.oa)
            }, b)
        }

        function C() {
            yc(window).off("resize", m), yc(window).on("resize", m)
        }
        return t.events.on(J.TIME_UPDATE, function(t) {
            var n = t.currentTime,
                i = t.duration;
            t.timeProgress, d = !1, k() && n >= i - v && _().catch(function() {})
        }), t.events.on(Ki, function() {
            ["nothing", "beginning"].includes(t.config.embed.outro) && (u = t.config.embed.outro, c = !1)
        }), t.events.on(Ua.Bc, function() {
            E = !0
        }), t.events.on(Ua.ka, function() {
            if (g && !E) return t.events.on(Ua.Bc, R), void(g = !1);
            R()
        }), t.events.on(Ua._loadVideo, function() {
            clearTimeout(a)
        }), t.events.on(Pa.oa, function(n, i) {
            t.performDelegateAction(Na.showOutro, function() {
                n && (u = n, c = null, p = !1), i && i.data && (c = T(n, i.data)), d = !0, x()
            })
        }), yc(i).on("click", ".js-videoLink", function(n) {
            var i = parseInt(this.getAttribute("data-video-id"), 10);
            t.events.fire(Ua.nc, i), Uh(t.config.video.owner) && (n.preventDefault(), t.loadVideo(i, {
                autoplay: !0
            }))
        }), yc(i).on("click", ".js-cta", function(n) {
            t.events.fire(Ua.hc, this.href)
        }), yc(i).on("click", ".js-link", function(n) {
            t.events.fire(Ua.ac, this.href)
        }), yc(i).on("click", ".js-imageLink", function(n) {
            t.events.fire(Ua.lc, this.href)
        }), yc(i).on("transitionend", function(t) {
            i.classList.contains("in") || (i.classList.add("hidden"), i.setAttribute("hidden", ""))
        }, !1), t.events.on([Pa._hideOutro, Pa.Gu, J.PLAY, J.SEEKED, Ua.Na], M), t.events.on(Ua.Qs, function() {
            t.element.classList.add("player-outroVisible")
        }).on(Ua.tc, function() {
            t.element.classList.remove("player-outroVisible")
        }), bh(i, ".js-outro-follow", function() {
            t.events.fire(Ua.fs)
        }), yc(i).on("mouseleave", ".js-outro-follow", function(t) {
            var n = document.querySelector(".js-outro-follow");
            n && n.classList.remove("vp-outro-follow--activated")
        }), t.events.on(Ua.cc, function() {
            var t = document.querySelector(".js-outro-follow");
            t && (t.setAttribute("aria-pressed", !0), t.classList.add("vp-outro-follow--activated"))
        }), t.events.on(Ua.fc, function() {
            var t = document.querySelector(".js-outro-follow");
            t && t.setAttribute("aria-pressed", !1)
        }), t.events.on(Pa._showOverlay, function() {
            setTimeout(function() {
                i.classList.add("hidden")
            }, 150)
        }), t.events.on(Ua.hs, function() {
            i.classList.contains("in") && i.classList.remove("hidden")
        }), t.events.on(Pa.Gu, function() {
            c = null, p = !1, g = t.config.request.ads instanceof Object
        }), bh(i, ".js-vod-button", function() {
            var n = this.getAttribute("data-product-id");
            return t.events.fire(Ua.ss, n), !1
        }), bh(i, ".js-vod-watch", function() {
            if (!("date_available" in t.config.video.vod)) return M(), t.events.fire(Ua.ss), !1
        }), s && ((r = new Wh(t, s)).events.on(Ua.As, function() {
            t.config.embed.settings.share.embed_only || (i.querySelector(".js-back").classList.remove("cloaked"), i.classList.add("embed-active"))
        }).on(Ua.Ss, function() {
            i.classList.remove("embed-active")
        }), bh(i, ".js-back", function() {
            return r.showShareView(), !1
        }), r.events.on(Ua.Ms, function() {
            i.querySelector(".js-back").classList.add("cloaked")
        })), s && (o = new qh(t, s)), C(), {}
    }

    function Gh(t, n, i) {
        var e, r, o, u = i.querySelector(".vp-overlay-cell"),
            a = i.querySelector(".vp-overlay"),
            s = i.querySelector(".vp-overlay-icon-wrapper"),
            c = s.querySelector(".vp-overlay-icon"),
            f = i.querySelector(".vp-overlay-logo"),
            l = !1,
            h = null,
            d = null,
            v = new Wh(t, a),
            p = new qh(t, a),
            m = !1,
            b = !1;

        function w() {
            var t = ha(i),
                n = ha(a),
                e = ha(f),
                r = n.bottom + (t.height - n.bottom) / 2;
            return t.height - r - e.height / 2 + "px"
        }

        function y() {
            var t = ha(i),
                n = ha(a),
                e = ha(s),
                r = t.height / 2,
                o = t.height - (t.bottom - n.bottom) / 2;
            return {
                top: r - e.height / 2 + "px",
                transform: "translateY(" + (o - r) + "px)"
            }
        }

        function g(n, e) {
            i.setAttribute("data-name", n), a.innerHTML = e.template, bt.iOS && mh.element && (t.events.fire(Ua.ns), mh.exit()), e.noblur || la(o = document.activeElement), e.modal && (i.classList.add("modal"), i.setAttribute("data-modal", "true")), e.preventBackgroundClose && i.setAttribute("data-background-close", "false"), e.wrapperClass && i.classList.add(e.wrapperClass), e.icon.type && (e.logo && (f.classList.remove("hidden"), s.classList.add("cloaked"), window.requestAnimationFrame(function() {
                f.innerHTML = tl.render("logo"), f.style.bottom = w()
            })), s.classList.remove("hidden"), c.innerHTML = e.icon.html, window.requestAnimationFrame(function() {
                var t = y();
                s.style.top = t.top, s.style[bt.transformProperty] = t.transform
            }), i.setAttribute("data-icon", e.icon.type), s.setAttribute("data-icon", e.icon.type), c.setAttribute("data-icon", e.icon.type), "private-unlocked" === n && c.classList.add("open")), i.classList.add("invisible"), i.classList.remove("hidden"), i.removeAttribute("hidden"), i.classList.add("in"), d = e, h = n, l = !0, t.events.fire(Ua.ls, n), t.element.classList.add("player-overlayVisible"), ["share", "hd-not-allowed"].indexOf(n) > -1 && ya(i), window.requestAnimationFrame(function() {
                i.classList.remove("invisible"), !e.nofocus && t.element.contains(document.activeElement) && function(t) {
                    if (t) {
                        var n = i.querySelector(t);
                        n && n.focus()
                    }
                }(e.Al), window.requestAnimationFrame(function() {
                    a.classList.add("in"), u.classList.add("in")
                })
            })
        }

        function E() {
            a.classList.remove("in"), a.classList.add("out")
        }

        function k(n) {
            if ("true" !== i.getAttribute("data-modal") && l) {
                i.removeAttribute("data-background-close"), u.classList.remove("in"), u.classList.add("out"), E(), i.classList.remove("in"), i.classList.add("out"), clearTimeout(e), e = setTimeout(_, 200), n && n.preventDefault && n.preventDefault();
                var r = i.querySelector(".js-back");
                r && r.classList.add("cloaked"), v.destroy(), t.events.fire(Ua.hs, h), t.element.classList.remove("player-overlayVisible"), l = !1, h = null, d = null, window.requestAnimationFrame(function() {
                    o && (! function() {
                        var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : document.activeElement,
                            n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                        try {
                            t.focus()
                        } catch (t) {
                            n && n(t)
                        }
                    }(o), o = null)
                })
            }
        }

        function _() {
            i.setAttribute("hidden", ""), i.removeAttribute("data-name"), i.removeAttribute("data-icon"), i.classList.add("hidden"), i.classList.remove("out"), i.classList.remove("embed-active"), i.classList.remove("modal"), i.classList.remove("embed-only"), u.classList.remove("out"), u.classList.remove("in"), s.removeAttribute("data-icon"), s.classList.add("hidden"), s.classList.remove("animate"), c.removeAttribute("data-icon"), c.innerHTML = "", f.classList.add("hidden"), a.classList.remove("out"), a.innerHTML = "", t.events.fire(Ua.ds)
        }

        function T() {
            i.setAttribute("data-modal", "false")
        }

        function S(t) {
            if ("yes" === t.form.getAttribute("data-bubble")) {
                t.form.setAttribute("data-bubble", "no");
                var n = i.querySelector(".vp-validation-bubble");
                n.querySelector(".vp-validation-bubble-message").innerHTML = t.validationMessage || "There is an error with this input.";
                var e = ha(t),
                    r = ha(t.form);
                n.style.left = e.left - r.left + "px", n.style.top = e.height + 1 + "px", n.classList.remove("hidden"), t.focus(), window.requestAnimationFrame(function() {
                    n.classList.add("vp-validation-bubble-animate")
                }), A()
            }
        }

        function A(t) {
            var n = i.querySelector(".vp-validation-bubble");
            if (n) {
                if (t) return clearTimeout(r), void n.classList.remove("vp-validation-bubble-animate");
                clearTimeout(r), r = setTimeout(function() {
                    n.classList.remove("vp-validation-bubble-animate")
                }, 5e3)
            }
        }

        function x(t) {
            var n = i.querySelector("input[type=password]");
            return n.form.classList.contains("submitted") ? (n.setAttribute("aria-invalid", "false"), n.setCustomValidity(""), n.checkValidity && !n.checkValidity() ? (n.setAttribute("aria-invalid", "true"), n.validity.valueMissing && n.setCustomValidity("Please enter the password."), t || S(n), !1) : (A(!0), !0)) : null
        }

        function M(t, n, e) {
            ya(i);
            var r = j(t.querySelectorAll("input")).map(function(t) {
                    return t.name ? encodeURIComponent(t.name) + "=" + encodeURIComponent(window.btoa(function(t) {
                        return encodeURIComponent(t).replace(/%([0-9A-F]{2})/g, function(t, n) {
                            return String.fromCharCode("0x" + n)
                        })
                    }(t.value))) : encodeURIComponent(t.value)
                }).join("&"),
                o = new XMLHttpRequest;
            o.open(t.method, t.action + window.location.search, !0), o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), o.withCredentials = !0, o.timeout = 3e3, o.onload = function() {
                var t;
                try {
                    t = JSON.parse(o.responseText)
                } catch (t) {}
                n(t, o)
            }, o.onerror = function(t) {
                e(t)
            }, o.send(r)
        }

        function O() {
            R(), s.classList.remove("cloaked"), s.classList.add("animate"), window.requestAnimationFrame(function() {
                s.style[bt.transformProperty] = "translateY(-10px)"
            }), T(), E()
        }

        function R() {
            f.classList.add("animate")
        }

        function C() {
            c.classList.add("open")
        }

        function I() {
            c.classList.add("pulled-back")
        }

        function L(n) {
            !n && l && "email-capture" === h ? (b = l, T(), k()) : n && b && (b = !1, t.events.fire(Pa._showOverlay, "email-capture"))
        }

        function D() {
            var n = t.config.embed.email || {};
            if (t.backbone) {
                var i = n.timecode || 0;
                m = t.backbone.currentTime > i
            }
            n && "before" === n.position && !m && P()
        }

        function P() {
            n.get("ui.overlay.isEmailCaptureVisible") ? t.events.fire(Pa._showOverlay, "email-capture") : b = !0
        }

        function N(n) {
            var i = n.currentTime,
                e = void 0 === i ? 0 : i,
                r = t.config.embed.email || {};
            r && "during" === r.position && (e < r.timecode && (m = !1), e >= r.timecode && !m && (m = !0, P()))
        }

        function U() {
            T(), k()
        }
        return t.events.on(Pa.qu, function() {
                (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).unmakeModal && T(), k()
            }), t.events.on(Pa._showOverlay, function(n) {
                var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    e = function() {
                        var e = {
                            modal: !1,
                            template: null,
                            logo: !1,
                            icon: {
                                type: null,
                                html: null
                            }
                        };
                        switch (n) {
                            case "share":
                                return g(n, v.getShareData(e, i)), void v.setup();
                            case "private-locked":
                                return void g(n, function(n) {
                                    return n.icon = {
                                        type: "lock",
                                        html: tl.render("icon_lock")
                                    }, n.Al = ".js-login", n.modal = !0, n.logo = !0, n.template = tl.render("private_locked", {
                                        action: "https://".concat(t.config.vimeo_url, "/log_in"),
                                        strings: {
                                            title: "Private Video",
                                            subtitle: "Log in to watch (if you have permission)",
                                            logIn: "Log in"
                                        }
                                    }), n
                                }(e));
                            case "password":
                                return void g(n, function(n) {
                                    return n.icon = {
                                        type: "lock",
                                        html: tl.render("icon_lock")
                                    }, n.template = tl.render("password", {
                                        action: "https://".concat(t.config.player_url, "/video/").concat(t.config.video.id, "/check-password?referrer=").concat(t.config.request.referrer),
                                        strings: {
                                            title: "Password Required",
                                            subtitle: "If youve got it, enter it below.",
                                            password: "Password",
                                            watch: "Watch Video"
                                        }
                                    }), n.Al = ".js-password", n.modal = !0, n.logo = !!t.config.embed.settings.logo, n
                                }(e));
                            case "private-unlocked":
                                return void g(n, function(t) {
                                    return t.icon = {
                                        type: "lock",
                                        html: tl.render("icon_lock")
                                    }, t.template = tl.render("private_unlocked", {
                                        strings: {
                                            title: "Private Video",
                                            subtitle: "You are logged in and have permission to watch (congrats).",
                                            watch: "Watch Video"
                                        }
                                    }), t.Al = ".js-watch", t
                                }(e));
                            case "error":
                                return void g(n, function(t, n) {
                                    return t.template = tl.render("error", {
                                        title: n.title,
                                        message: n.message
                                    }), t.Al = ".js-close", t.modal = !!n.modal, t.logo = !!n.logo, n.icon && "lock" === n.icon && (t.icon = {
                                        type: "lock",
                                        html: tl.render("icon_lock")
                                    }), t
                                }(e, i));
                            case "help":
                                return void g(n, function(n) {
                                    return n.template = tl.render("help", {
                                        onSite: t.config.embed.on_site,
                                        strings: {
                                            title: "Keyboard Shortcuts",
                                            volumeUp: "Volume up",
                                            volumeDown: "Volume down",
                                            scrubForward: "Scrub forward",
                                            scrubBackwards: "Scrub backwards",
                                            like: "Like",
                                            share: "Share",
                                            watchLater: "Watch Later",
                                            captions: "Toggle Captions",
                                            prefs: "Toggle Preferences Menu",
                                            fullscreen: "Toggle fullscreen",
                                            viewOnVimeo: "View on Vimeo"
                                        }
                                    }), n.Al = ".js-close", n
                                }(e));
                            case "email-capture":
                                return void g(n, p.getData(e, i));
                            case "app-redirect":
                                return void g(n, function(n) {
                                    var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                                        e = i.redirectUrl,
                                        r = i.title,
                                        o = i.buttonText,
                                        u = i.ignoreText,
                                        a = i.bottomText,
                                        s = i.newWindow,
                                        c = ka(t.config.video.privacy, [Da.PRIVACY_HIDE_FROM_VIMEO, Da.PRIVACY_UNLISTED]);
                                    return n.template = tl.render("app_redirect", {
                                        hideRedirectButton: c,
                                        redirectUrl: e,
                                        newWindow: s,
                                        strings: {
                                            title: r,
                                            buttonText: o,
                                            ignoreText: u,
                                            bottomText: a
                                        }
                                    }), n.modal = !1, n.logo = !1, n.preventBackgroundClose = !0, n
                                }(e, i))
                        }
                    };
                if (l && !i.nohide) return "share" !== h && "help" !== h && "hd-not-allowed" !== h || h !== n ? (t.events.once(Ua.ds, e), T(), void k()) : void k();
                e()
            }), yc(i).on("input", "input", function() {
                this.form.classList.add("interacted")
            }).on(["focus", "blur"], "input", function() {
                A(!0)
            }).on("transitionend", ".vp-validation-bubble", function(t) {
                "opacity" === t.propertyName && "0" === window.getComputedStyle(this, "").opacity && this.classList.add("hidden")
            }), t.events.on([Ua.vs, J.PLAY], k), t.events.on(Ua.Gs, function() {
                "private-locked" === h && (T(), k())
            }), t.events.on(Ua.qs, function() {
                "share" === h && (d = v.getShareData({
                    modal: !1,
                    template: null,
                    logo: !1,
                    icon: {
                        type: null,
                        html: null
                    }
                }), a.innerHTML = d.template, v.setup())
            }), yc(window).on("resize", function() {
                if (l) {
                    f.style.bottom = w();
                    var t = y();
                    s.style.top = t.top, s.style[bt.transformProperty] = t.transform
                }
            }), yc(i).on("transitionend", ".vp-overlay-logo", function(t) {
                "opacity" === t.propertyName && this.classList.contains("animate") && (f.classList.add("hidden"), f.classList.remove("animate"))
            }), yc(i).on("transitionend", ".vp-overlay-icon-wrapper", function(t) {
                t.propertyName.indexOf("transform") > -1 && ("" === this.style[bt.transformProperty] ? (this.classList.remove("centered"), "lock" !== this.getAttribute("data-icon") || c.classList.contains("open") || c.querySelector("canvas") ? I() : setTimeout(C, 100)) : "translateY(-10px)" === this.style[bt.transformProperty] && (s.classList.add("centered"), s.style[bt.transformProperty] = ""))
            }), yc(i).on("transitionend", ".vp-overlay-icon", function(t) {
                t.propertyName.indexOf("transform") > -1 && (this.classList.contains("out") ? (T(), k()) : this.classList.contains("pulled-back") ? (c.classList.add("out"), c.classList.remove("pulled-back")) : this.classList.contains("open") && I())
            }), n.watch("ui.overlay.isEmailCaptureVisible", L), t.events.on(Ua.yi, D), t.events.on(Ua.qs, D), t.events.on(J.TIME_UPDATE, N), p.events.on(Ua.mc, U), v.events.on(Ua.As, function() {
                t.config.embed.settings.share.embed_only || (i.querySelector(".js-back").classList.remove("cloaked"), i.classList.add("embed-active"))
            }).on(Ua.Ss, function() {
                i.classList.remove("embed-active")
            }), bh(i, ".js-back", function() {
                return v.showShareView(), !1
            }), v.events.on(Ua.Ms, function() {
                i.querySelector(".js-back").classList.add("cloaked")
            }), bt.stereoscopic && (t.events.on(Ua.Rs, function() {
                t.events.fire(Pa._showOverlay, "app-redirect", {
                    redirectUrl: t.doNotTrackEnabled ? "https://play.google.com/store/apps/details?id=com.vimeo.android.videoapp&hl=en" : bc(t.config.video.id, "player-spatial-redirect"),
                    title: "Headset viewing isnt currently supported in your mobile browser.",
                    buttonText: "Watch in the Vimeo app",
                    ignoreText: null,
                    bottomText: null,
                    newWindow: !t.config.embed.on_site
                })
            }), yc(a).on("click", ".app-redirect-ignore", function() {
                k()
            }), yc(a).on("click", "[data-new-window]", function(t) {
                return window.open(document.querySelector(".app-redirect-button").getAttribute("href")), !1
            })), yc(a).on("click", ".popup", function() {
                return t.events.fire(Pa.zu, "login-private-locked"), !1
            }), yc(a).on("click", ".password input[type=submit]", function() {
                this.form.classList.add("submitted"), this.form.setAttribute("data-bubble", "yes"), x(!0)
            }).on("submit", ".password form", function() {
                return function(n) {
                    if (!x()) return !1;
                    var i = n.querySelector("input[type=password]"),
                        e = n.querySelector("input[type=submit]");

                    function r(t) {
                        e.classList.remove("loading"), i.setCustomValidity("Uh oh. There was a problem. Please try again."), i.setAttribute("aria-invalid", "true"), S(i)
                    }
                    e.classList.add("loading"), M(n, function(n, i) {
                        if (!1 !== n) {
                            if (t.events.fire(Ua.zs, n), "icon-hidden" === window.getComputedStyle(u, ":after").content) return T(), void k();
                            O()
                        } else r(i.status)
                    }, r)
                }(this), !1
            }).on(["focus", "input"], [".password input[type=email]", ".password input[type=password]"], function() {
                x()
            }), bh(a, ".unlocked button", function() {
                0 === ha(c).width ? (R(), T(), k()) : O(), bt.iPad || bt.iPhone || t.events.once(Ua.ds, function() {
                    t.events.fire(Ua.Da)
                })
            }),
            function() {
                var n;
                t.events.on(Ua.ba, function(i) {
                    var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
                        modal: !0,
                        final: !0
                    };
                    if (!1 !== e.final) {
                        n = i;
                        var r = {
                            modal: !1,
                            template: null,
                            logo: !1,
                            icon: {
                                type: null,
                                html: null
                            }
                        };
                        if (r.modal = e.modal, r.template = tl.render("error", {
                                title: e.title,
                                message: e.message
                            }), r.Al = ".js-close", l) return k(), void t.events.once(Ua.ds, function() {
                            return g(i, r)
                        });
                        g(i, r)
                    }
                }), yc(a).on("click", ".error", function(i) {
                    t.events.fire(Ua.sc, i.target.href, n)
                })
            }(), t.events.on(Ua.qs, function() {
                window.requestAnimationFrame(function() {
                    T(), k()
                })
            }), bh(i, ".js-close", function() {
                t.events.fire(Ua.vs)
            }), yc(i).on(["click", "touchend"], [".vp-overlay-content", ".js-share", ".vp-overlay-logo"], function(t) {
                t.stopPropagation()
            }).on(["click", "touchend"], [".vp-overlay-cell", "nav"], function() {
                return "false" === i.getAttribute("data-background-close") || (t.events.fire(Ua.vs), !1)
            }), t.events.on(Pa.oa, function() {
                i.classList.add("hidden")
            }), t.events.on(Ua.tc, function() {
                i.classList.contains("in") && i.classList.remove("hidden")
            }), t.events.fire(Ua.kc), {}
    }
    var Yh = [".vp-title a"],
        Kh = [".vp-title a:hover"],
        $h = ["a", ".button-link", ".vp-overlay-wrapper .footnote.share a:hover", ".vp-title h1", ".vp-title span.user", ".menu li:hover", ".menu li.active", ".vp-outro-link:hover", ".vp-outro-videosTitle a:hover", "li.vp-panel-item:hover", "li.vp-panel-item-on", ".vp-share-footnote a:hover", ".card-link span", ".vp-panel-collapsible .vp-panel-button:hover"],
        Xh = ["a:hover", ".button-link:hover"],
        Jh = [".vp-overlay-wrapper .close:hover .fill", ".vp-overlay-wrapper .back:hover .fill", ".stats-debug-close:hover .fill", ".stats-debug-copy:hover", ".card-link:hover .fill"],
        Zh = [".play-bar .on .fill", ".play-bar a:hover .fill", ".play-bar button:not(.toggle):hover .fill", ".tiny-bars .fill", ".vp-sidedock .on .fill", ".controls-outro a:hover .fill", ".card-link .fill", ".vp-panel-collapsible .vp-panel-button:hover .fill"],
        Qh = [".vp-controls .play-bar .vp-cast-button"],
        td = [".vp-sidedock .on:hover .fill"],
        nd = [".play-bar .on .stroke", ".vp-sidedock .on .stroke"],
        id = [".vp-sidedock .on:hover .stroke"],
        ed = [".vp-sidedock button:hover", ".vp-sidedock button.selected", "&.touch-support .vp-sidedock button:active", ".vp-controls .play:hover", ".vp-controls .play-bar .played", "&.no-playbar .play-bar button:not(.toggle):hover", ".vp-controls.tiny .play-bar button:not(.toggle):hover", ".vp-controls .volume div", ".vp-overlay .buttons li", ".vp-overlay .vp-overlay-content button", '.vp-overlay .vp-overlay-content input[type="submit"]', '.vp-overlay .vp-overlay-content a[role="button"]', "li.vp-panel-item-on:before", ".vp-controls .replay:hover", ".vp-share-buttons li", "button.vp-share-embedCopy", ".vp-outro-button", "a.vp-outro-vodButton", ".vp-email-capture-form-button--submit", ".vp-email-capture-checkIconWrapper"],
        rd = ["li.vp-panel-item-on:before"],
        od = [".vp-overlay .vp-overlay-content button", '.vp-overlay .vp-overlay-content input[type="submit"]', '.vp-overlay .vp-overlay-content a[role="button"]', ".vp-sidedock button:hover", ".vp-sidedock button.selected", ".vp-sidedock button:hover .vod-label", ".vp-sidedock button.selected .vod-label", ".play:hover", ".vp-share-footnote--embed a", ".vp-outro-button", ".vp-outro-button:hover", ".vp-outro-wrapper .vp-outro-link:hover", "button.vp-share-embedCopy", ".vp-outro-vodWrapper a.vp-outro-vodButton", ".vp-outro-vodWrapper a.vp-outro-vodButton:hover", "li.vp-panel-item:hover", "li.vp-panel-item-on", ".vp-panel-collapsible .vp-panel-button:hover"],
        ud = [".vp-controls .play:hover .fill", ".vp-sidedock button:hover .fill", ".vp-sidedock button.selected .fill", ".play-bar a:hover .fill", ".play-bar button:not(.toggle):hover .fill", "&.no-playbar .play-bar button:not(.toggle):hover .fill", ".vp-controls.tiny .play-bar button:not(.toggle):hover .fill", ".vp-sidedock .on .fill", '.vp-share-wrapper a[role="button"] .fill', ".vp-outro-vodButton .fill", ".vp-email-capture-checkIconWrapper .fill", ".vp-panel-collapsible .vp-panel-button:hover .fill"],
        ad = [".vp-controls .play:hover .stroke", ".vp-sidedock button:hover .stroke", ".vp-sidedock button.selected .stroke", ".vp-sidedock .on .stroke"],
        sd = ["li.vp-panel-item-on:before"],
        cd = ["li.vp-panel-item-on:before"],
        fd = ['.vp-overlay-wrapper .vp-overlay a[role="button"]', ".vp-sidedock button:hover", ".vp-sidedock button.selected", ".play:hover", "button.vp-share-embedCopy", ".vp-outro-button", ".vp-outro-button:hover", ".vp-outro-vodWrapper a.vp-outro-vodButton", ".vp-outro-vodWrapper a.vp-outro-vodButton:hover", "input.vp-email-capture-form-button--submit"],
        ld = [".vp-controls .play:hover .fill", ".vp-sidedock button:hover .fill", ".vp-sidedock button.selected .fill", ".vp-controls .play-bar .fullscreen.tiny:hover .fill", ".vp-share-button .fill", ".vp-outro-vodButton .fill"],
        hd = [".vp-sidedock button:hover .stroke", ".vp-sidedock button.selected .stroke"],
        dd = ["li.vp-panel-item-on:before"],
        vd = ['.vp-overlay .vp-overlay-content input[type="submit"]:active', '.vp-overlay a[role="button"]:active', ".vp-sidedock button:active", ".vp-outro-vodWrapper a.vp-outro-vodButton:active"];

    function pd(t, n) {
        var i = n.uuid,
            e = n.id,
            r = n.isMobileDevice,
            o = null;

        function u(t, n) {
            var o = ".player-".concat(i, " "),
                u = o + t.join("," + o);
            if (n) {
                var a = "".concat(e, " ");
                u += ",".concat(a).concat(t.join("," + a))
            }
            return r && (u = u.replace(/:hover/g, ":active")), u = u.replace(/ &/g, "")
        }

        function a() {
            o ? function() {
                for (; o.cssRules.length > 0;) o.deleteRule(0)
            }() : function() {
                var t = document.createElement("style");
                t.setAttribute("data-player", i), document.querySelector("head").appendChild(t), o = t.sheet
            }()
        }
        return t.events.on(Pa.Xu, function(n) {
            var i;
            try {
                i = new $l(n)
            } catch (t) {
                i = new $l("00adef")
            }
            var e = function(t) {
                a();
                var n = t.complement,
                    i = new $l(23, 35, 34, .75),
                    e = new $l(0, 0, 0, .15).overlayOn(t);
                i.contrast(n).ratio < 3 && n.lighten(5, 3, i);
                var r, s = t.lightness < 40 ? t.clone().lighten(15, 3, t) : t.clone().darken(15, 3, t);
                return fa(u(Yh, !0), "color:" + t.hex + " !important", o), fa(u(Kh, !0), "color:" + n.hex + " !important", o), fa(u($h), "color:" + t.hex, o), fa(u(Zh), "fill:" + t.hex, o), fa(u(Qh), "--connected-color:" + t.hex, o), fa(u(nd), "stroke:" + t.hex, o), fa(u(ed), "background-color:" + t.hex, o), fa(u(rd), "border-color:" + t.hex, o), fa(u(Xh), "color:" + n.hex, o), fa(u(Jh), "fill:" + n.hex, o), fa(u(td), "fill:" + s.hex, o), fa(u(id), "stroke:" + s.hex, o), fa(u(dd), "border-color:" + e.hex, o), fa(u(vd), "background-color:" + e.hex, o), t.luminance > .95 && (n = t.clone().darken(15, 3, t), fa(u(od), "color:" + n.hex, o), fa(u(ud), "fill:" + n.hex, o), fa(u(ad), "stroke:" + n.hex, o), fa(u(sd), "background-color:" + n.hex, o), fa(u(cd), "border-color:" + n.hex, o), s = n.clone().darken(15, 3, n), fa(u(td), "fill:" + s.hex, o), fa(u(id), "stroke:" + s.hex, o)), t.yiq > 175 && t.luminance < .95 && (r = s.clone().darken(15, 3, s), fa(u(td), "fill:" + r.hex, o), fa(u(id), "stroke:" + r.hex, o), fa(u(fd), "color:" + s.hex, o), fa(u(ld), "fill:" + s.hex, o), fa(u(hd), "stroke:" + s.hex, o)), {
                    main: t.hex,
                    selected: s.hex,
                    sidedockHover: r ? s.hex : t.luminance > .95 ? n.hex : $l.white.hex,
                    sidedockSelected: t.luminance > .95 ? n.hex : t.hex,
                    sidedockSelectedHover: r ? r.hex : s.hex
                }
            }(i);
            t.config.Ml = e, t.config.embed.color = e.main.replace("#", ""), t.events.fire(Ua.Ws, t.config.embed.color)
        }), t.events.fire(Pa.Xu, t.config.embed.color), {}
    }

    function md(t) {
        var n = null;
        return t.events.on(Pa.zu, function(i, e) {
            var r = "https://".concat(t.config.player_url),
                o = "".concat(r, "/video/").concat(t.config.video.id);
            switch (i) {
                case "login-like":
                    n = ma("".concat(o, "/login/like"), "login", {
                        width: 670,
                        height: 545
                    }), t.events.fire(Ua.Es, i);
                    break;
                case "login-watch-later":
                    n = ma("".concat(o, "/login/watch-later"), "login", {
                        width: 670,
                        height: 545
                    }), t.events.fire(Ua.Es, i);
                    break;
                case "login-private-locked":
                    n = ma("".concat(o, "/login/private"), "login", {
                        width: 670,
                        height: 545
                    }), t.events.fire(Ua.Es, i);
                    break;
                case "purchase":
                    var u = "".concat(r, "/video/").concat(t.config.video.vod.feature_id || t.config.video.id, "/purchase/vod");
                    e && e.productId && (u += "/".concat(e.productId)), u += "?referrer=".concat(encodeURIComponent(t.config.request.referrer)), n = ma(u, "purchase", {
                        width: 790,
                        height: 670
                    }), t.events.fire(Ua.Es, i)
            }
        }), window.closePopup = function(i) {
            if (n) {
                try {
                    n.close(), t.events.fire(Ua.Ts, i)
                } catch (t) {}
                n = null
            }
        }, t.config.embed.on_site || (window.confirmPurchase = function(n, i, e) {
            i ? t.loadVideo(n) : e && t.events.fire(Ua.Da)
        }), t.config.embed.on_site || (window.confirmLoginAction = function(n, i) {
            t.events.fire(Ua.Fs, i)
        }), {}
    }

    function bd(t, n, i, e) {
        var r = e[n];
        return r ? (r = wd(r = gd(t, r), i, e.prices), e.expires_in_duration_str && (r = r.replace("{TIME}", e.expires_in_duration_str)), e.available_on_formatted && (r = r.replace("{DATE}", e.available_on_formatted)), r) : null
    }

    function wd(t, n, i) {
        var e = i.USD;
        return n in i && (e = i[n]), -1 !== t.indexOf("${price}") ? t.replace("${price}", e) : -1 !== t.indexOf("{PRICE}") ? t.replace("{PRICE}", e) : t
    }

    function yd(t, n) {
        return !t || 0 === t.length || -1 !== t.indexOf(n)
    }

    function gd(t, n) {
        return void 0 !== t && void 0 !== t[n] ? t[n] : n
    }
    var Ed = Object.freeze({
        formatVodLabel: bd,
        getDisplayPrice: wd,
        isAvailableInCountry: yd,
        translateFromRequest: gd
    });

    function kd(t, n) {
        var i, e, r, o, u, a, s, c, f, l = !1,
            h = !1,
            d = !1,
            v = !1,
            p = !1,
            m = !1,
            b = !1,
            w = !1,
            y = [],
            g = [],
            E = null,
            k = !1,
            _ = !1,
            T = null,
            S = t.config.embed.autoplay && t.config.request.flags.autohide_controls;

        function A() {
            return v || b || w
        }

        function x() {
            l && (_ || (h && k || A() || S) && (d || (!p && !m || A()) && (l = !1, t.events.fire(Ua.Ha, l), (T || n).classList.add("invisible"))))
        }

        function M() {
            if (!l && !A()) {
                var i = T || n;
                i.classList.add("invisible"), i.classList.remove("hidden"), i.removeAttribute("hidden"), n.classList.remove("hidden"), n.removeAttribute("hidden"), n.classList.contains("vod") && n.classList.remove("vod"), setTimeout(function() {
                    l = !0, t.events.fire(Ua.Ha, l), i.classList.remove("invisible")
                }, 0)
            }
        }

        function O(n, i, e) {
            var r = "data-label-" + e,
                o = "add" !== e || t.config.user.logged_in ? r : "data-label-add-logged-out";
            n.setAttribute("aria-label", n.getAttribute(o)), i.classList.add("hidden"), i.setAttribute("hidden", ""), i.firstChild.innerHTML = n.getAttribute(r)
        }

        function R() {
            var t = y.indexOf(this);
            g.forEach(function(n, i) {
                i !== t && n && n.classList.add("invisible")
            }), t >= 0 && g[t] && (g[t].classList.add("invisible"), g[t].classList.remove("hidden"), g[t].removeAttribute("hidden", ""), E = window.requestAnimationFrame(function() {
                E = window.requestAnimationFrame(function() {
                    g[t].classList.remove("invisible"), g[t].classList.add("visible")
                })
            }))
        }

        function C() {
            var t = "BUTTON" === this.tagName ? this : this.querySelector("button"),
                n = y.indexOf(t);
            n >= 0 && g[n] && (E && (window.cancelAnimationFrame(E), E = null), g[n].classList.add("invisible"))
        }

        function I() {
            if (i) {
                var t = i.parentElement;
                T.insertBefore(t, T.firstChild)
            }
        }

        function L() {
            if (t.config.view === za.main || t.config.view === za.privateUnlocked) {
                var h = t.config.embed.settings,
                    d = t.config.video.vod && "purchase_options" in t.config.video.vod && t.config.video.vod.purchase_options.length,
                    v = d && t.config.video.vod.is_coming_soon,
                    p = "ondemand.main" === t.config.embed.context || "Vimeo\\Controller\\OnDemandController.main" === t.config.embed.context,
                    m = t.config.video.vod && t.config.user.purchased ? 1 : 0,
                    b = d && h.vod && yd(t.config.video.vod.countries, t.config.request.country);
                b && v && p && (b = !1);
                var w = d && t.config.video.vod.purchase_options[0],
                    E = null;
                w && (E = bd(t.config.request.dynamic_translation_map, "label_string", t.config.request.currency, w)), n.innerHTML = tl.render("sidedock", {
                    loggedIn: !!t.config.user.logged_in,
                    vodButton: b,
                    purchased: m,
                    vodPurchaseInfo: w,
                    vodDisplayLabel: E,
                    likeButton: h.like,
                    liked: t.config.user.liked,
                    watchLaterButton: h.watch_later,
                    addedToWatchLater: t.config.user.watch_later,
                    collectionsButton: h.collections,
                    shareButton: h.share,
                    strings: {
                        like: "Like",
                        likeLoggedOut: "Like (this opens in a new window)",
                        unlike: "Unlike",
                        watchLaterAdd: "Add to Watch Later",
                        watchLaterAddLoggedOut: "Add to Watch Later (this opens in a new window)",
                        watchLaterRemove: "Remove from Watch Later",
                        collections: "Add to collections",
                        share: h.share && h.share.embed_only ? "Embed" : "Share"
                    }
                }), i = n.querySelector(".vod-button"), b && (T = n.querySelector(".sidedock-inner"), m && I());
                var k = T || n;
                d && b && !t.config.embed.settings.instant_sidedock ? n.classList.add("vod") : bt.touch && (l = !0, t.events.fire(Ua.Ha, l), k.classList.remove("hidden"), k.removeAttribute("hidden"), k.classList.remove("invisible")), e = n.querySelector(".like-button"), r = n.querySelector(".like-label"), o = n.querySelector(".watch-later-button"), u = n.querySelector(".watch-later-label"), a = n.querySelector(".collections-button"), s = n.querySelector(".collections-label"), c = n.querySelector(".share-button"), f = n.querySelector(".share-label"), y = [i, e, o, c, a], g = [null, r, u, f, s]
            }
        }
        return L(),
            function() {
                var n = t.config.embed.settings.instant_sidedock,
                    i = t.config.video.vod,
                    e = i && "purchase_options" in i && i.purchase_options.length,
                    r = i && yd(t.config.video.vod.countries, t.config.request.country);
                (n || e && r) && (S || M())
            }(), bh(n, ".vod-button", function() {
                var n = i.getAttribute("data-product-id");
                t.events.fire(Ua.ss, n)
            }, C), t.events.on(Ua.Qs, function() {
                I(), n.classList.add("sidedock-outro"), "share" === t.config.embed.outro && (t.config.embed.settings.share = 0, L())
            }), t.events.on(Ua.tc, function() {
                ! function() {
                    if (i) {
                        var t = i.parentElement;
                        n.insertBefore(t, T)
                    }
                }(), n.classList.remove("sidedock-outro"), "share" === t.config.embed.outro && (t.config.embed.settings.share = 1, L())
            }), bh(n, ".like-button", function() {
                t.events.fire(Ua.rs)
            }, C), t.events.on(Ua.Ds, function() {
                e && (e.classList.add("on"), O(e, r, "remove"))
            }), t.events.on(Ua.Ps, function() {
                e && (e.classList.remove("on"), O(e, r, "add"))
            }), bh(n, ".watch-later-button", function() {
                t.events.fire(Ua.os)
            }, C), t.events.on(Ua.Ns, function() {
                o && (o.classList.add("on"), O(o, u, "remove"))
            }), t.events.on(Ua.Us, function() {
                o && (o.classList.remove("on"), O(o, u, "add"))
            }), bh(n, ".collections-button", function() {
                t.events.fire(Ua.cs)
            }, C), bh(n, ".share-button", function() {
                return t.events.fire(t.config.embed.settings.share.embed_only ? Ua.as : Ua.us), !1
            }, C), yc(n).on("blur", "button", C).on("mouseleave", ".box", C).on(["focus", "pointerdown", "touchstart", "mouseenter"], "button", R).on("transitionend", "label", function(t) {
                "opacity" === t.propertyName && t.target.classList.contains("invisible") && (t.target.classList.add("hidden"), t.target.setAttribute("hidden", ""), t.target.classList.remove("visible"))
            }), bh(n, "label", function() {
                var t = g.indexOf(this);
                t >= 0 && y[t].click()
            }), t.events.on([Ua.Cs, Ua.Ls, Ua.Ra], x).on(Ua.Is, M).on(Ua.Sa, function() {
                k = !0, x()
            }).on(J.PLAY, function() {
                h = !0
            }), yc(n).on(["pointerenter", "pointerleave", "mouseenter", "mouseleave"], function(t) {
                "pointerType" in t ? "mouse" !== t.pointerType && t.pointerType !== t.MSPOINTER_TYPE_MOUSE || (d = "pointerenter" === t.type || "MSPointerEnter" === t.type) : d = "mouseover" === t.type
            }), yc(n).on("transitionend", function(t) {
                var e = T || n;
                "opacity" === t.propertyName && e.classList.contains("invisible") && (e.classList.add("hidden"), e.setAttribute("hidden", ""), i && e.contains(i) && (n.classList.add("hidden"), n.setAttribute("hidden", "")))
            }), t.events.on(Ua.Qa, function() {
                d = !1, x()
            }).on(Ua.es, function(t) {
                t || (_ = !0)
            }), t.events.on([Ua.Rc], function() {
                p = !0, M()
            }).on([Ua.Cc], function() {
                p = !1
            }), t.events.on(ie, function() {
                m = !0, M()
            }).on(ee, function() {
                m = !1
            }), t.events.on(Ua.ls, function() {
                v = !0, d = !1, x()
            }).on(Ua.hs, function() {
                v = !1, M()
            }), t.events.on(Ua.xc, function(t) {
                b = t, t && x()
            }), t.events.on([Ua.Xa, Ua.Wa], function(t, n) {
                n.isCentered() && n.isVisible() && (w = !0, d = !1, x()), n.isCentered() && n.isVisible() || (w = !1, M())
            }), t.events.on(Ua.qs, function() {
                L()
            }), t.events.on(Pa.Gu, function() {
                d = !1, k = !1, x(), h = !1, d = !1, _ = !1
            }), t.events.fire(Ua.yc), {}
    }

    function _d(t, n) {
        var i = !0,
            e = !1,
            r = !1,
            o = !1,
            u = !1,
            a = !1,
            s = !1,
            c = !0,
            f = !1,
            l = !1,
            h = !1;

        function d() {
            i = !1, n.classList.add("invisible")
        }

        function v() {
            n.classList.remove("hidden"), n.removeAttribute("hidden"), setTimeout(function() {
                i = !0, n.classList.remove("invisible")
            }, 0)
        }

        function p() {
            return r || o || u
        }

        function m() {
            i && (p() ? d() : f ? d() : a || s && (c && e || d()))
        }

        function b() {
            i || (!a || p() ? c && !l && (f || (s || p() ? t.config.embed && t.config.embed.settings.info_on_pause && c && !p() && v() : v())) : v())
        }

        function w() {
            if (t.config.view === za.main || t.config.view === za.privateUnlocked) {
                var i = !!t.config.embed.settings.byline,
                    e = null !== t.config.video.owner.url,
                    r = t.config.video.owner.url,
                    o = 0 === t.config.embed.on_site,
                    u = t.config.embed.settings.spatial_label,
                    a = t.config.request.file_codecs || t.config.video.file_codecs,
                    s = void 0 !== a,
                    c = {
                        ClickTargets: La,
                        linkToOwner: e,
                        ownerLink: r,
                        targetBlank: o,
                        showPortrait: !!t.config.embed.settings.portrait,
                        portraitImg: t.config.video.owner[bt.devicePixelRatio > 1 ? "img_2x" : "img"],
                        showByline: i,
                        portraitAlt: "Link to video owner's profile",
                        showTitle: !!t.config.embed.settings.title,
                        showTitleLink: null !== t.config.video.url,
                        titleLink: t.config.video.url,
                        title: t.config.video.title,
                        is360: t.config.video.spatial && u,
                        hasHDR: s && a.hevc.hdr.length > 0,
                        strings: {}
                    };
                if (t.config.embed.settings.byline) {
                    var f = t.config.embed.settings.byline_badge,
                        l = "";
                    f && f.type && (l = tl.render("title_byline_badge", {
                        targetBlank: o,
                        cssClass: f.type,
                        link: f.url || !1,
                        displayBadge: !t.config.video.live_event
                    })), c.strings.byline = "from " + tl.render("title_owner_byline", {
                        ClickTargets: La,
                        linkToOwner: e,
                        ownerLink: r,
                        targetBlank: o,
                        owner: t.config.video.owner.name
                    }) + l
                }
                t.config.embed.settings.badge && (c.showPortrait = !1), t.config.embed.autoplay && (n.classList.add("hidden"), n.setAttribute("hidden", "")), n.innerHTML = tl.render("title", c)
            }
        }
        return w(), t.events.on([Ua.Cs, Ua.Ls], m).on(Ua.Is, b).on(Ki, function() {
            s = !0, c = !1, m()
        }).on([Ua.Da, J.PLAY], function() {
            c = !1, l = !1, m()
        }).on(Ua.oe, function(t, n) {
            n || (c = !0, b())
        }).on(Ua.ka, function() {
            f = !0, m()
        }).on(Ua.Na, function() {
            h = c, l = !0
        }).on(Ua.Ua, function() {
            h && (l = !1)
        }).on(Ua.Qa, function() {
            m()
        }).on(Ua.es, function(t) {
            t || b()
        }), yc(n).on(["pointerenter", "pointerleave", "mouseenter", "mouseleave"], function(t) {
            "pointerType" in t ? "mouse" !== t.pointerType && t.pointerType !== t.MSPOINTER_TYPE_MOUSE || (e = "pointerenter" === t.type || "MSPointerEnter" === t.type) : e = "mouseover" === t.type
        }), yc(n).on("transitionend", function(t) {
            "opacity" === t.propertyName && n.classList.contains("invisible") && (n.classList.add("hidden"), n.setAttribute("hidden", ""))
        }, !1), t.events.on(Ua.ka, function(t) {
            m()
        }), t.events.on([Ua.Rc], function() {
            a = !0, b()
        }).on([Ua.Cc], function() {
            a = !1, m()
        }), t.events.on(Ua.ls, function(t) {
            "not-supported" !== t && "private-unlocked" !== t && "help" !== t && (r = !0, e = !1, m())
        }).on(Ua.hs, function() {
            r = !1, e = !1, setTimeout(b, 0)
        }), t.events.on(Ua.Qs, function(t) {
            o = !0, e = !1, m()
        }).on(Ua.tc, function() {
            o = !1, e = !1, setTimeout(b, 0)
        }), t.events.on([Ua.Xa, Ua.Wa], function(t, n) {
            n.isCentered() && n.isVisible() && (u = !0, e = !1, m()), n.isCentered() && n.isVisible() || (u = !1, e = !1, b())
        }), t.events.on(Ua.qs, function() {
            w(), t.config.view === za.privateUnlocked && b()
        }), t.events.on(Pa.Gu, function() {
            s = !1, c = !0, f = !1, l = !1, b()
        }), t.events.fire(Ua.wc), {}
    }

    function Td(t, n) {
        function i() {
            n.classList.remove("hidden"), n.removeAttribute("hidden"), n.classList.remove("invisible")
        }

        function e() {
            yc(n).on("transitionend", function() {
                yc(n).off("transitionend"), n.classList.contains("invisible") && (n.classList.add("hidden"), n.setAttribute("hidden", ""))
            }), n.classList.add("invisible")
        }
        return function() {
            var r = t.config.embed.settings.badge;
            if (r) {
                var o = bt.devicePixelRatio > 1 ? "img_2x" : "img";
                bt.svg && r.svg && (o = "svg"), n.innerHTML = tl.render("badge", {
                    showPortrait: !1,
                    targetBlank: 0 === t.config.embed.on_site,
                    badge: {
                        link: r.link,
                        img: r[o],
                        margin: r.margin || !1,
                        width: r.width,
                        height: r.height,
                        name: r.name,
                        shadow: r.shadow || !1
                    }
                }), bh(n, ".vp-badge", function() {
                    t.events.fire(Ua.Ja, r.id)
                }), t.config.embed.autoplay ? e() : i()
            } else e()
        }(), {
            show: i,
            hide: e
        }
    }

    function Sd(t, n) {
        var i = t.events;

        function e(n) {
            n.preventDefault();
            var e = t.config.request.cookie.volume || 1;
            i.fire(Pa.Wu, e, !0)
        }

        function r() {
            n.classList.add("invisible"), n.classList.remove("hidden"), n.removeAttribute("hidden"), setTimeout(function() {
                n.classList.remove("invisible")
            }, 0), i.once(Ua._a, o)
        }

        function o(t) {
            t > 0 && !n.classList.contains("invisible") && u()
        }

        function u() {
            yc(n).on("transitionend", a), n.classList.add("invisible")
        }

        function a() {
            yc(n).off("transitionend", a), n.classList.add("hidden"), n.setAttribute("hidden", "")
        }
        return function() {
            var t = {
                title: bt.touch ? "Tap to Unmute" : "Click to Unmute"
            };
            n.innerHTML = tl.render("unmute_button", t), bh(n, e), bh(n, ".vp-unmute-button", e), i.once(Ua.Za, r), i.on(nt.EVENT_ENDED, u)
        }(), {}
    }

    function Ad(t, n) {
        var i = 16,
            e = null,
            r = !1;

        function o() {
            var o = n.querySelector(".vp-badge");
            if (e = new Td(t, o), o.innerHTML) return t.config.embed.settings.badge.id === i ? (e.show(), void t.events.on(Ua.Ba, function(t) {
                t ? e.show() : e.hide()
            })) : void t.events.on([Ua.Da, J.PLAY], function() {
                r && e.hide()
            }).on(Ki, function() {
                r = !0, e.hide()
            }).on(Ua.ka, e.hide).on(Ua.ls, function(t) {
                "not-supported" !== t && "private-unlocked" !== t && "help" !== t && e.hide()
            }).on(Ua.hs, function() {
                r || e.show()
            })
        }
        o(),
            function() {
                var i = n.querySelector(".vp-unmute");
                new Sd(t, i)
            }(), t.events.on(Ua.qs, function() {
                o()
            }), t.events.on(Pa.Gu, function() {
                r = !1, o()
            })
    }
    var xd = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    i = parseInt(76 * bt.devicePixelRatio, 10),
                    e = parseFloat(n.timecode);
                if (isNaN(e)) throw new TypeError("Time must be a number.");
                if (e < 0) throw new TypeError("Time must be a positive number.");
                this.time = e, this.data = n, this.id = n.id, this.displayTime = n.display_time || 6, n.url && (this.data.url = ea(n.url)), n.image_url && (n.image = Ds({
                    width: i,
                    height: i,
                    baseUrl: ea(n.image_url),
                    webpSupport: bt.webp,
                    crop: !0
                })), this.renderTemplate()
            }
            var n = t.prototype;
            return n.renderTemplate = function() {
                var t = this,
                    n = document.createElement("div");
                n.innerHTML = tl.render("card", this.data), this.element = n.children[0], this.data.image && js(this.data.image).catch(function(n) {
                    t.element.querySelector(".js-cardImageWrap").style.display = "none"
                })
            }, n.isActive = function(t) {
                return t >= this.time && t < this.end
            }, F(t, [{
                key: "end",
                get: function() {
                    return this.time + this.displayTime
                }
            }]), t
        }(),
        Md = function() {
            function t() {
                var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function(t, n) {
                    return t < n
                };
                this.Ol = {}, this.Rl = [], this.Cl = t
            }
            var n = t.prototype;
            return n.Il = function(t) {
                var n = this.Rl.length;
                if (0 === n) this.Rl.push(t);
                else {
                    for (var i = 0; i < n; i++)
                        if (this.Cl(t, this.Rl[i])) {
                            this.Rl[i - 1] !== t && this.Rl.splice(i, 0, t);
                            break
                        }
                    i === n && this.Rl[i - 1] !== t && this.Rl.splice(i, 0, t)
                }
            }, n.Ll = function(t, n, i, e) {
                if (e < i) return -1;
                var r = parseInt(i + (e - i) / 2, 10);
                return t[r] > n ? this.Ll(t, n, i, r - 1) : t[r] < n ? this.Ll(t, n, r + 1, e) : r
            }, n.delete = function(t) {
                var n = this.Ll(this.Rl, t, 0, this.Rl.length);
                if (-1 === n) throw new Error("key does not exist");
                this.Rl.splice(n, 1), delete this.Ol[t]
            }, n.set = function(t, n) {
                return this.Ol[t] = n, this.Il(t), this
            }, n.get = function(t) {
                return this.Ol[t]
            }, n.keys = function() {
                return this.Rl.slice()
            }, n.values = function() {
                var t = this;
                return this.keys().map(function(n) {
                    return t.Ol[n]
                })
            }, n.forEach = function(t) {
                for (var n = this.Rl.length, i = 0; i < n && !1 !== t(this.Ol[this.Rl[i]], this.Rl[i], this); i++);
            }, F(t, [{
                key: "size",
                get: function() {
                    return this.Rl.length
                }
            }]), t
        }();

    function Od(t, n, i) {
        var e, r, o = i.querySelector(".vp-cards"),
            u = new Md,
            a = !1,
            s = function(t) {
                return function() {
                    u.size > 0 && t.apply(void 0, arguments)
                }
            };

        function c() {
            if (b(), u.forEach(function(t, n) {
                    t.element.parentNode.removeChild(t.element)
                }), u = new Md, Array.isArray(t.config.embed.cards) && t.config.embed.cards.length) {
                if (t.config.video.title && t.config.embed.settings.title) f(-1, {
                    className: "card--contentInfo",
                    timecode: 0,
                    headline: t.config.video.title,
                    teaser: t.config.embed.settings.byline ? t.config.video.owner.name : "",
                    image: t.config.video.owner[bt.devicePixelRatio > 1 ? "img_2x" : "img"],
                    id: "title-card"
                });
                t.config.embed.cards.forEach(function(t) {
                    f(t.timecode, t)
                })
            }
        }

        function f(i, e) {
            var r = u.get(i),
                a = new xd(t, e);
            if (u.set(i, a), r) return o.replaceChild(a.element, r.element), a;
            var s = u.keys().indexOf(i);
            return o.insertBefore(a.element, o.children[s]), n.dispatch(Gc(u.size)), a
        }

        function l(n) {
            t.element.classList.toggle("player-withCards", n > 0)
        }

        function h(t) {
            i.classList.toggle("cards-wrapper--withThumbnails", t)
        }

        function d(n) {
            t.element.classList.toggle("player-cardsCarousel", n), t.element.classList.toggle("player-cardsCorner", !n), e.destroy(), n && e.setUp()
        }

        function v(t) {
            var i = function(t) {
                var i = u.values().filter(function(n) {
                    return n.isActive(t)
                }).slice(-1)[0];
                if (i) return i;
                if (n.get("ui.cards.isCarouselVisible")) {
                    var e = u.values().slice(-1)[0];
                    if (e && t > e.end) return e
                }
                return null
            }(t.currentTime);
            i !== r && (!i && a || (a = !1, b(), (r = i) && "title-card" === r.id ? n.get("ui.cards.isCarouselVisible") && p(r, !0) : p(r, !0)))
        }

        function p(n, i) {
            n && (i ? n.element.classList.add("card-animating") : n.element.classList.remove("card-animating"), n.element.classList.add("card-active"), yc(n.element.childNodes[1]).on("mouseover", function() {
                a = !0
            }), yc(n.element.childNodes[1]).on("mouseout", function() {
                a = !1
            }), e.show(n.element), t.events.fire(Ua.dc, n.id, n.data))
        }

        function m(t) {
            a || t.classList.remove("card-active")
        }

        function b() {
            j(i.querySelectorAll(".card-active")).forEach(m)
        }

        function w(n) {
            var i = u.values()[n];
            i.data.url && "title-card" !== i.id && (t.events.fire(Ua.vc, i.id, i.data), t.backbone.paused || t.events.fire(Ua.La), window.open(i.data.url))
        }

        function y(n) {
            n.preventDefault();
            var i = Ta(n.target, o.children),
                e = u.values()[i];
            e.data.url && "title-card" !== e.id && (t.events.fire(Ua.vc, e.id, e.data), t.backbone.paused || t.events.fire(Ua.La), window.open(e.data.url))
        }

        function g(n) {
            var i = u.values()[n];
            "title-card" !== i.id && t.events.fire(Ua.dc, i.id, i.data), t.events.fire(Pa.da, i.time)
        }

        function E(t) {
            var n = f(t.timecode, t);
            b(), p(n)
        }

        function k(t) {
            b();
            var n = u.get(t.timecode).element;
            n.parentNode.removeChild(n), u.delete(t.timecode)
        }
        return e = new yh(o), n.watch("ui.cards.size", l), n.watch("ui.cards.isCarouselVisible", d), n.watch("ui.cards.isCardsThumbVisible", h), d(n.get("ui.cards.isCarouselVisible")), t.events.on(Ua.qs, c), t.events.on(Pa._addCard, E), t.events.on(Pa._removeCard, k), e.on("slide", s(g)), e.on("tap", s(w)), t.events.on(J.TIME_UPDATE, s(v)), t.events.on(Ua.ka, s(b)), bh(document, ".player-cardsCorner .card", s(y)), c(), {}
    }
    var Rd = .05,
        Cd = {
            16: "shift",
            27: "esc",
            32: "space",
            37: "left",
            38: "up",
            39: "right",
            40: "down"
        };

    function Id(t, n, i) {
        var e, r = !!t.config.embed.on_site,
            o = i.querySelector(".volume"),
            u = !1,
            a = !1,
            s = t.config.video.fps / 5,
            c = Math.max(s, .618 * t.config.video.duration),
            f = 100,
            l = s,
            h = 0,
            d = !1,
            v = ll(k, 80),
            p = 1,
            m = ah(t.config, "keyboard_scrub");

        function b() {
            return !r && (t.config.view === za.main || t.config.view === za.privateUnlocked)
        }

        function w() {
            u && "help" === e && t.events.fire(Ua.vs)
        }

        function y(t) {
            return "number" != typeof t.which && (t.which = t.keyCode), t
        }

        function g(t) {
            if ("keypress" === t.type) {
                var n = String.fromCharCode(t.which);
                return t.shiftKey || (n = n.toLowerCase()), n
            }
            return t.which in Cd ? Cd[t.which] : String.fromCharCode(t.which).toLowerCase()
        }

        function E(n) {
            if (t.config.embed.settings.background) return !0;
            var i = n.target || n.srcElement;
            return "INPUT" === i.tagName || "SELECT" === i.tagName || "TEXTAREA" === i.tagName || i.isContentEditable
        }

        function k(i, e) {
            if (!n.get(ac)) {
                if (!d) {
                    e && !t.backbone.paused && t.events.fire(Ua.La);
                    t.events.fire(Ua.Na, !0, "keyboard"), d = !0
                }! function(t) {
                    var n = t,
                        i = Math.ceil(s),
                        e = Math.ceil(c - s);
                    l = function(t, n, i, e) {
                        return t /= e, i * (--t * t * t + 1) + n
                    }(n, i, e, f)
                }(h), 1 === ++h && (l = t.config.video.fps * p);
                var r = e ? 1 : l,
                    o = "right" === i ? r : -r;
                ! function(n) {
                    var i = n / t.config.video.fps;
                    t.events.fire(Pa.Hu, null, i)
                }(Math["right" === i ? "ceil" : "floor"](t.currentTime * t.config.video.fps) + o)
            }
        }

        function _(t) {
            var n = a.getTabindexItems(),
                i = n.indexOf(document.activeElement),
                e = "up" === t ? i - 1 : i + 1,
                r = null;
            return !(r = e >= n.length ? n[0] : e < 0 ? n[n.length - 1] : n[e]) || (r.focus(), !1)
        }

        function T() {
            if (a) return !0;
            if (n.get(ac) && !n.get(fc)) return !0;
            if (!document.activeElement || document.activeElement === document.body) {
                var i = t.backbone.paused ? Ua.Da : Ua.La;
                return t.events.fire(i), w(), !1
            }
        }

        function S() {
            return a ? (a.element.contains(document.activeElement) && a.button.focus(), a.hide(), !1) : document.activeElement && i.contains(document.activeElement) ? (la(), !0) : u ? (t.events.fire(Ua.vs), !1) : void 0
        }

        function A() {
            if (a) return !a.element.contains(document.activeElement) || _("up");
            if (bt.spatialPlayback && t.config.video.spatial) return t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("up"), !1;
            if (t.config.embed.on_site && document.activeElement && !i.contains(document.activeElement)) return !0;
            w();
            return t.events.fire(Pa.Wu, Rd, !1, !0), !1
        }

        function x() {
            if (a) return !a.element.contains(document.activeElement) || _("down");
            if (bt.spatialPlayback && t.config.video.spatial) return t.backbone.getEffectByName("ThreeSixtyEffect").keyPress("down"), !1;
            if (t.config.embed.on_site && document.activeElement && !i.contains(document.activeElement)) return !0;
            w();
            return t.events.fire(Pa.Wu, -Rd, !1, !0), !1
        }

        function M(n, i) {
            if (a) return !a.element.contains(document.activeElement) || _("left" === i ? "up" : "down");
            if (w(), bt.spatialPlayback && t.config.video.spatial) return t.backbone.getEffectByName("ThreeSixtyEffect").keyPress(i), !1;
            if (document.activeElement && document.activeElement === o) {
                var e = "left" === i ? -Rd : Rd;
                return t.events.fire(Pa.Wu, e, !1, !0), !1
            }
            n.shiftKey || 0 === h ? k(i, n.shiftKey) : v(i, n.shiftKey)
        }
        return m.group && (p = m.data.seek_duration), t.events.on(Ua.ls, function(t) {
                u = !0, e = t, "not-supported" === t && (r = !0)
            }), t.events.on(Ua.hs, function() {
                u = !1, e = null
            }), t.events.on(Ua.Wa, function(t, n) {
                a = !!t && n
            }), t.events.on(Ua.qs, function(t) {
                t && (r = !1)
            }),
            function() {
                var i = {
                    l: Ua.rs,
                    w: Ua.os,
                    s: Ua.us,
                    c: [Ua.Pa, !0],
                    h: [Ua.ja, !0],
                    f: Ua.Ia,
                    d: Ua.ks,
                    space: T,
                    up: A,
                    down: x,
                    left: M,
                    right: M,
                    esc: S,
                    "?": [Pa._showOverlay, "help"]
                };

                function r(n) {
                    if (y(n), function(t) {
                            return !(t.ctrlKey || t.metaKey || t.altKey) && (t.which in Cd ? "keydown" === t.type : "keypress" === t.type)
                        }(n) && !E(n) && b()) {
                        var r = g(n);
                        if (r in i) {
                            if ("function" == typeof i[r]) return void(!1 === i[r](n, r) && (n.preventDefault(), n.stopPropagation()));
                            !1 === function(n) {
                                if (n = Array.isArray(n) ? n : [n], u && "help" === e) {
                                    if (t.events.fire(Ua.vs), n[0] === Pa._showOverlay && "help" === n[1]) return !1;
                                    if (n[0] !== Pa.$u) return setTimeout(function() {
                                        t.events.fire.apply(null, n)
                                    }, 250), !1
                                }
                                return t.events.fire.apply(null, n), !1
                            }(i[r]) && (n.preventDefault(), n.stopPropagation())
                        }
                    }
                }
                t.config.embed.on_site || (i.v = Pa.$u), document.addEventListener("keydown", r, !1), document.addEventListener("keypress", r, !1), document.addEventListener("keyup", function(i) {
                    if (y(i), !E(i) && b()) {
                        var e = g(i);
                        !bt.spatialPlayback || !t.config.video.spatial || "left" !== e && "right" !== e && "up" !== e && "down" !== e ? n.get(ac) || "left" !== e && "right" !== e || function(n) {
                            l = s, h = 0;
                            var i = n.shiftKey;
                            t.events.fire(Ua.Ua, i), d = !1
                        }(i) : t.backbone.getEffectByName("ThreeSixtyEffect").keyUp(e)
                    }
                }, !1)
            }(), t.events.on(Ua.ic, function() {
                r = !1
            }).on(Ua.ec, function() {
                r = !0
            }), t.config.embed.on_site && document.querySelector(".player") === i && (r = !1),
            function() {
                var t, n = !1;
                document.body.addEventListener("keyup", function(t) {
                    9 !== t.which || document.body.classList.contains("showfocus") ? 27 === t.which && document.body.classList.remove("showfocus") : document.body.classList.add("showfocus")
                }), document.body.addEventListener("keydown", function(i) {
                    32 !== i.which && 13 !== i.which || (n = !0, clearTimeout(t), t = setTimeout(function() {
                        n = !1
                    }, 200))
                }), document.body.addEventListener("click", function(t) {
                    n || document.body.classList.remove("showfocus")
                })
            }(), {
                pause: function() {
                    r = !0
                },
                unpause: function() {
                    r = !1
                }
            }
    }
    var Ld = function() {
            function t(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                    i = n.displayTimeout,
                    e = void 0 === i ? 0 : i,
                    r = n.label,
                    o = void 0 === r ? "Alert" : r;
                $(this), this.Dl = t, this.jl = !1, this.Pl = null, this.Nl = null, this.Ul = o;
                var u = Math.round(e / 1e3);
                0 !== u && (this.Ul = "".concat(o, " Will be dismissed in ").concat(u, " seconds")), this.Fl = null, this.Vl = e, this.Bl(), this.bn()
            }
            var n = t.prototype;
            return n.show = function(t) {
                var n = this;
                !0 !== this.jl && (clearTimeout(this.Fl), this.Nl.classList.remove("hidden"), this.Nl.removeAttribute("hidden"), window.requestAnimationFrame(function() {
                    n.Nl.classList.add("in")
                }), (this.Nl.querySelector("[data-alert-autofocus]") || this.Nl).focus(), this.jl = !0, this.fire("show", t), 0 !== this.Vl && (this.Fl = setTimeout(function() {
                    n.hide("timeout")
                }, this.Vl)))
            }, n.hide = function(t) {
                var n = this;
                !1 !== this.jl && (clearTimeout(this.Fl), this.Nl.classList.add("leaving"), window.requestAnimationFrame(function() {
                    var t = n;
                    n.Hl(), yc(n.Nl).on("transitionend", function n(i) {
                        "opacity" === i.propertyName && (t.Nl.classList.remove("leaving"), t.Nl.classList.add("hidden"), t.Nl.setAttribute("hidden", ""), yc(t.Nl).off("transitionend", n))
                    })
                }), this.jl = !1, this.fire("hide", t))
            }, n.Hl = function() {
                this.Nl.classList.remove("in")
            }, n.Bl = function() {
                this.Nl || (this.Nl = document.createElement("div"), this.Nl.classList.add("vp-alert"), this.Nl.setAttribute("role", "alertdialog"), this.Nl.setAttribute("aria-label", this.Ul), this.Nl.setAttribute("aria-atomic", "true"), this.Nl.classList.add("hidden"), this.Nl.setAttribute("hidden", ""), this.Dl.appendChild(this.Nl), this.Hl()), this.Pl instanceof HTMLElement ? (this.Nl.innerHTML = "", this.Nl.appendChild(this.Pl)) : (this.Nl.textContent = this.Pl, this.Nl.innerHTML = this.Pl);
                var t = document.createElement("button");
                t.setAttribute("data-close", ""), t.setAttribute("aria-label", "Close alert"), t.classList.add("close"), t.innerHTML = tl.render("icon_close"), this.Nl.appendChild(t)
            }, n.bn = function() {
                var t = this;
                yc(this.Nl).on("click", "[data-close]", function(n) {
                    t.hide(n)
                })
            }, F(t, [{
                key: "visible",
                get: function() {
                    return this.jl
                }
            }, {
                key: "message",
                get: function() {
                    return this.Pl
                },
                set: function(t) {
                    t instanceof HTMLElement && this.Pl && t.textContent === this.Pl.textContent || t !== this.Pl && (this.Pl = t, this.Bl())
                }
            }]), t
        }(),
        Dd = function() {
            function t(t, n, i) {
                this.player = t, this.backbone = n, this.isBufferingTooLong = !1, this.isBufferingTooFrequent = !1, this.autoAlertWasDismissed = !1, this.bufferCount = -1, this.badPlaybackTimer = null, this.Wl(i), this.ql()
            }
            var n = t.prototype;
            return n.handleBufferStarted = function() {
                this.bufferCount += 1, this.zl()
            }, n.handleBufferEnded = function() {
                clearTimeout(this.badPlaybackTimer), this.badPlaybackTimer = null, this.isBufferingTooLong = !1
            }, n.ql = function() {
                var t = this;
                this.player.events.on(Ca.Vu, function(n) {
                    t.Gl(n)
                }), this.player.events.on(Ca.Bu, function(n) {
                    t.Yl(n)
                }), this.player.events.on(Ca.Fu, this.handleBufferStarted.bind(this)), this.player.events.on(tt.BUFFER_ENDED, this.handleBufferEnded.bind(this)), this.player.events.on(Ca.Uu, function() {
                    t.autoAlertWasDismissed || (t.showAlert("stream_studder"), ms.captureBreadcrumb("Alert shown", {
                        message: "stream_studder"
                    }, "video"))
                }), this.player.events.on(Ua.Ta, function(n) {
                    "auto" === n && t.alertUI.hide("qualitymenuauto")
                })
            }, n.Gl = function(t) {
                if (!t) {
                    this.showAlert("warning_alert", {
                        strings: {
                            text: 'See a <a href="https://help.vimeo.com/hc/en-us/articles/115001878167#browsers" target="_blank" rel="noopener" aria-describedby="new-window">list of browsers</a> that support 360 viewing.'
                        }
                    })
                }
            }, n.Yl = function(t) {
                if (!t) {
                    this.showAlert("warning_alert", {
                        strings: {
                            text: 'Looking to watch a 360 video? See <a href="https://help.vimeo.com/hc/en-us/articles/115001878167#browsers" target="_blank" rel="noopener" aria-describedby="new-window">supported browsers and settings</a>.'
                        }
                    })
                }
            }, n.showAlert = function(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null;
                this.alertUI && !this.player.config.embed.settings.background && (this.alertUI.message = tl.render(t, n), this.alertUI.show())
            }, n.Wl = function(t) {
                var n = this;
                this.alertUI = new Ld(t), this.alertUI.on("show", function(t) {
                    n.player.events.fire(Ua.xc, !0, t)
                }), this.alertUI.on("hide", function(t) {
                    var i = t.target,
                        e = i && "function" == typeof i.getAttribute;
                    if (e) switch (i.getAttribute("data-context")) {
                        case "suggestion":
                            n.player.events.fire(Pa.Ku, "auto"), t = "suggestion";
                            break;
                        default:
                            t = "close"
                    }(e || "qualitymenuauto" === t) && (n.autoAlertWasDismissed = !0), n.player.events.fire(Ua.xc, !1, t)
                })
            }, n.zl = function() {
                var t = this;
                null === this.badPlaybackTimer && 0 !== this.bufferCount && (this.badPlaybackTimer = setTimeout(function() {
                    t.isBufferingTooLong = !0, t.Kl()
                }, Ia))
            }, n.Kl = function() {
                "MediaSourceScanner" === this.backbone.currentScannerName && (this.isBufferingTooLong || this.isBufferingTooFrequent) && (this.backbone.video.currentFile.restrictedStreamIndexes.length <= 0 || (this.isBufferingTooLong, this.isBufferingTooFrequent, this.player.events.fire(Ca.Uu), this.bufferCount = 0, this.badPlaybackTimer = null, this.isBufferingTooFrequent = !1, this.isBufferingTooLong = !1))
            }, t
        }(),
        jd = function() {
            function t(t, n) {
                this.player = t, this.store = n, this.$l = 0, this.Xl()
            }
            var n = t.prototype;
            return n.Jl = function() {
                this.store.get(fc) && null === this.player.element.querySelector(".vp-live-viewer-status-wrapper") && (this.Df = document.createElement("div"), this.Df.classList.add("vp-live-viewer-status-wrapper", "invisible"), this.Df.innerHTML = tl.render("live_status"), this.Df.querySelector(".vp-live-status-circle").classList.remove("offline"), this.player.element.querySelector(".vp-controls-wrapper").appendChild(this.Df))
            }, n.Zl = function() {
                var t = this.player.element.querySelector(".vp-live-viewer-status-wrapper");
                null !== t && this.player.element.querySelector(".vp-controls-wrapper").removeChild(t)
            }, n.Xl = function() {
                var t = this;
                this.player.events.on(Ua.qs, function() {
                    t.player.config.video.live_event ? t.Jl() : t.Zl()
                }), this.player.events.on(nt.STREAM_ONLINE, function() {
                    t.Jl(), t.Ql()
                }), this.player.events.on(Ua.Ba, function(n) {
                    void 0 !== t.Df && t.Df.classList.toggle("invisible", n)
                })
            }, n.Ql = function() {
                var t = this;
                if (this.store.get(fc) && this.player.config.video.live_event.show_viewer_count) {
                    var n = setTimeout(function() {
                            t.Ql()
                        }, 3e4),
                        i = "".concat(this.player.config.video.id);
                    "unlisted" === this.player.config.video.privacy && (i += ":".concat(this.player.config.video.unlisted_hash));
                    var e = "https://".concat(this.player.config.vimeo_api_url, "/videos/").concat(i, "/stats/live"),
                        r = {};
                    "password" !== this.player.config.video.privacy && "disable" !== this.player.config.video.privacy || (r.auth = this.player.config.user.vimeo_live_auth_token), (bt.browser.ie || bt.browser.edge) && (r.t = Date.now()), e += ra(r), this.player.updatePhpTokens().then(function() {
                        Sn(e, {
                            jwt: t.player.config.user.logged_in ? t.player.config.user.vimeo_api_client_token : t.player.config.user.vimeo_live_client_token
                        }).json().then(function(n) {
                            n.viewers ? (t.$l = 0, t.th(n.viewers.current)) : t.$l++
                        }).catch(function(i) {
                            t.$l++, t.nh() && clearTimeout(n)
                        })
                    }).catch(function(i) {
                        t.$l++, ms.captureException(i), t.nh() && clearTimeout(n)
                    })
                }
            }, n.th = function(t) {
                if (this.player.config.video.live_event.show_viewer_count) {
                    null === this.Df.querySelector(".vp-live-viewer-count") && (this.player.element.querySelector(".vp-live-viewer-count").style.display = "block", this.Df.innerHTML += tl.render("live_viewer_count")), this.ih = j(this.player.element.querySelectorAll(".vp-live-viewer-count-value"));
                    for (var n = 0; n < this.ih.length; n++) this.ih[n].innerHTML = ua(t)
                }
            }, n.nh = function() {
                if (this.$l > 3) {
                    this.ih = j(this.player.element.querySelectorAll(".vp-live-viewer-count"));
                    for (var t = 0; t < this.ih.length; t++) this.ih[t].classList.add("hidden");
                    return !0
                }
                return !1
            }, t
        }();
    return window.BigScreen = mh,
        function(t, n, i, r) {
            tl.helpers = Ed;
            var o = function(t) {
                    if (!0 === t) return e.resolve(null);
                    var n = !1;
                    return new e(function(i, e) {
                        t.link.addEventListener("load", function() {
                            if (!n) {
                                n = !0;
                                var e = (new Date).getTime() - t.startTime;
                                setTimeout(function() {
                                    return i(e)
                                }, 100)
                            }
                        }, !1)
                    })
                }(i),
                u = new ph({
                    element: t,
                    delegate: r,
                    cssLoadedPromise: o
                }),
                a = u.store;
            t.classList.add("js-player-fullscreen");
            var s = u.expose,
                c = null,
                f = null,
                l = null,
                h = null,
                d = null,
                v = null,
                p = t.querySelector(".vp-controls"),
                m = t.querySelector(".vp-sidedock"),
                b = t.querySelector(".vp-title"),
                w = t.querySelector(".vp-cards-wrapper"),
                y = bt.mobileAndroid || bt.iPhone || bt.windowsPhone || bt.browser.bb10,
                g = {
                    tiny: Ua.Ys,
                    mini: Ua.Ks,
                    normal: Ua.$s,
                    none: Ua.$s
                };

            function E(n) {
                n && void 0 !== g[n] && (u.events.fire(g[n]), t.classList.toggle("player-normal", "normal" === n), t.classList.toggle("player-mini", "mini" === n), t.classList.toggle("player-tiny", "tiny" === n))
            }

            function k(n) {
                Object.keys(Of).forEach(function(i) {
                    return t.classList.toggle("player-".concat(i), n === i)
                })
            }

            function _() {
                var n = u.config.embed.settings,
                    i = (u.config.view === za.main || u.config.view === za.privateUnlocked) && n && !n.playbar;
                t.classList.toggle("no-playbar", i), t.classList.toggle("with-fullscreen", !!n.fullscreen);
                var e = n.custom_logo;
                t.classList.toggle("with-custom-logo", !!e), t.classList.toggle("with-sticky-custom-logo", e && e.sticky), t.classList.toggle("hide-controls-mode", !!n.background || 0 === n.controls), t.classList.toggle("touch-support", bt.touch)
            }

            function T(t) {
                var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : u.config.video.url;
                if (!(!n || t && t.metaKey)) {
                    if (-1 === n.indexOf("#") && u.backbone.currentTime > 0 && u.backbone.currentTime < u.config.video.duration - 30 && !u.backbone.paused && (n += "#at=".concat(Math.floor(u.backbone.currentTime))), !u.config.embed.on_site) return window.open(n),
                        function(t) {
                            if (t && t.detail > 0) try {
                                document.activeElement.blur()
                            } catch (t) {}
                        }(t), u.events.fire(Ua.La), !1;
                    window.location = n
                }
            }

            function S() {
                h = new e(function(t, n) {
                    var i = null,
                        e = function n() {
                            clearTimeout(i), window.innerWidth > 0 && window.innerHeight > 0 ? t() : i = setTimeout(n, 250)
                        };
                    u.events.once(Ua.yi, e), u.events.once(Ua.ba, e)
                })
            }

            function A() {
                var n = function() {
                    return function(t, n, i) {
                        return i ? n ? n(t) : t : (t && t.then || (t = e.resolve(t)), n ? t.then(n) : t)
                    }(h, function() {
                        var n = function() {
                            var n = ha(t),
                                i = n.width,
                                e = n.height;
                            return y ? e <= 200 ? "10px" : i < 450 ? "12px" : i <= 1024 ? "11px" : "10px" : "10px"
                        }();
                        p.style.fontSize = n, m.style.fontSize = n, b.style.fontSize = n
                    })
                };
                u.events.on(Ua.ts, n), u.events.on(Ua.es, n), window.addEventListener("orientationchange", n), y && (t.classList.add("mobile"), n())
            }

            function x() {
                function n() {
                    var n = t;
                    if (r && r.getFullscreenElement && "function" == typeof r.getFullscreenElement) {
                        var i = r.getFullscreenElement();
                        i && i instanceof HTMLElement && i.contains(t) && i.classList.contains("js-player-fullscreen") && (n = i)
                    }
                    return n
                }
                u.config.embed.fullscreen = !0, bt.iPad && t.classList.add("no-fullscreen-api-support");
                var i = u.config.embed.playsinline && bt.iOS >= 10,
                    e = bt.iPad || i;
                mh.enabled || e || (t.classList.add("no-fullscreen-support"), bt.iOS || (u.config.embed.fullscreen = !1));
                var o = !1,
                    a = !1,
                    s = !1;
                u.events.on([ie, ee], function() {
                    s = !0
                }), u.events.on(Pa.na, function() {
                    mh.enabled || mh.videoEnabled(t) ? (u.events.fire(Ua.Qa), a = !1, mh.request(n())) : u.events.fire(Pa.ra, !0)
                }), u.events.on(Ua.Ia, function() {
                    "picture-in-picture" === u.backbone.presentationMode && u.events.fire(Pa.ca), mh.element ? (u.events.fire(Ua.ns), mh.exit()) : (u.events.fire(Ua.Qa), a = !0, mh.request(n()))
                });
                var c = mh.onenter,
                    f = mh.onexit;
                if (mh.onenter = function(t) {
                        o || (n().contains(t) ? function(t, i) {
                            s ? s = !1 : o || (o = !0, u.events.fire(Ua.ts, n() === t, a))
                        }(t) : "function" == typeof c && c(t))
                    }, mh.onexit = function() {
                        o ? s ? s = !1 : o && (o = !1, u.events.fire(Ua.es, a), a || u.events.fire(Pa.ra, !1), a = !1) : "function" == typeof f && f()
                    }, yc(t).on("click", "a", function(t) {
                        mh.element === n() && mh.exit()
                    }), yc(t).on("gestureend", function(t) {
                        t.scale > 1 && u.events.fire(Ua.Ia)
                    }), "undefined" != typeof MSGesture) {
                    var l = 1,
                        h = new MSGesture;
                    h.target = t, yc(t).on("pointerdown", function(t) {
                        h.addPointer(t.pointerId)
                    }).on(["MSGestureChange"], function(t) {
                        l *= t.scale
                    }).on(["MSGestureEnd"], function() {
                        (!o && l >= 2 || o && l < 1) && u.events.fire(Ua.Ia), l = 1
                    })
                }
            }

            function M() {
                if (!u.config.video.live_event) return d && (d.disable(), d = null), void(v && (v = null));
                a.get(lc) || a.get(dc) ? d && (d.disable(), d = null) : (d = new Ph(t, u, a), v = new jd(u, a))
            }

            function O() {
                _(), S(),
                    function() {
                        var t = function(t, n) {
                                return u.verifyConfig().then(function() {
                                    var i = u.config.request,
                                        e = i.signature,
                                        r = i.session,
                                        o = i.timestamp,
                                        a = i.expires;
                                    return Sn("https://".concat(u.config.player_url, "/video/").concat(u.config.video.id, "/").concat(t, "?signature=").concat(e, "&session=").concat(r, "&time=").concat(o, "&expires=").concat(a), {
                                        method: n,
                                        withCredentials: !0
                                    })
                                }).catch(function(i) {
                                    ms.captureException(i, {
                                        extra: {
                                            action: t,
                                            method: n
                                        }
                                    })
                                })
                            },
                            n = function(t, n) {
                                return u.updatePhpTokens().then(function() {
                                    var i = "following" === t ? u.config.video.owner.id : u.config.video.id,
                                        e = u.config.user.vimeo_api_interaction_tokens,
                                        r = "";
                                    if (e) switch (r = "?auth=", t) {
                                        case Wa.likes:
                                            r += e.likes;
                                            break;
                                        case Wa.watchLater:
                                            r += e.watch_later;
                                            break;
                                        case Wa.following:
                                            r += e.following
                                    }
                                    var o = u.config.video.unlisted_hash && "following" !== t ? ":".concat(u.config.video.unlisted_hash) : "";
                                    return Sn("https://".concat(u.config.vimeo_api_url, "/users/").concat(u.config.user.id, "/").concat(t, "/").concat(i).concat(o).concat(r), {
                                        method: n,
                                        jwt: u.config.user.vimeo_api_client_token
                                    }).catch(function(i) {
                                        ms.captureException(i, {
                                            extra: {
                                                action: t,
                                                method: n
                                            }
                                        })
                                    })
                                }).catch(function(t) {
                                    ms.captureException(t)
                                })
                            };
                        u.events.on(Ua.ss, function(t) {
                            if (u.config.user.purchased) return !u.config.video.vod.is_feature && u.config.video.vod.feature_id ? void u.loadVideo(u.config.video.vod.feature_id).then(function() {
                                return u.events.fire(Ua.Da), u.config.video.vod.feature_id
                            }).catch(function(t) {
                                ms.captureException(t), u.events.fire(Pa._showOverlay, "error", {
                                    title: "Sorry",
                                    message: "There was a problem. Please try again."
                                })
                            }) : void u.events.fire(Ua.Da);
                            u.config.video.vod && u.config.video.vod.is_coming_soon ? T(null, u.config.video.vod.url) : u.performDelegateAction(Na.purchase, function() {
                                u.events.fire(Pa.zu, "purchase", {
                                    productId: t
                                })
                            }, [t])
                        }), u.events.on(Ua.rs, function() {
                            u.config.user.logged_in ? u.config.user.id !== u.config.video.owner.id && (u.config.user.liked ? u.performDelegateAction(Na.unlike, function() {
                                u.config.video.privacy !== Da.PRIVACY_HIDE_FROM_VIMEO ? n("likes", "DELETE") : t("like", "DELETE"), u.config.user.liked = !1, u.events.fire(Ua.Ps)
                            }) : u.performDelegateAction(Na.like, function() {
                                u.config.video.privacy !== Da.PRIVACY_HIDE_FROM_VIMEO ? n("likes", "PUT") : t("like", "PUT"), u.config.user.liked = !0, u.events.fire(Ua.Ds)
                            })) : u.performDelegateAction(Na.loginForm, function() {
                                u.events.fire(Pa.zu, "login-like")
                            })
                        }), u.events.on(Ua.os, function() {
                            (u.config.video.url || u.config.video.privacy === Da.PRIVACY_UNLISTED) && (u.config.user.logged_in ? u.config.user.watch_later ? u.performDelegateAction(Na.removeFromWatchLater, function() {
                                n("watchlater", "DELETE"), u.config.user.watch_later = !1, u.events.fire(Ua.Us)
                            }) : u.performDelegateAction(Na.addToWatchLater, function() {
                                n("watchlater", "PUT"), u.config.user.watch_later = !0, u.events.fire(Ua.Ns)
                            }) : u.performDelegateAction(Na.loginForm, function() {
                                u.events.fire(Pa.zu, "login-watch-later")
                            }))
                        }), u.events.on(Ua.cs, function() {
                            u.performDelegateAction(Na.collectionsOverlay, function() {
                                u.config.video.vod && u.config.video.vod.url ? T(null, "".concat(u.config.video.vod.url, "#collections")) : u.config.video.url && T(null, "".concat(u.config.video.url, "#collections"))
                            })
                        }), u.events.on(Ua.us, function() {
                            var t = u.config.embed.settings.share && u.config.embed.settings.share.embed_only,
                                n = function() {
                                    u.events.fire(Pa._showOverlay, "share", t)
                                };
                            mh.element ? n() : u.performDelegateAction(Na.shareOverlay, n)
                        }), u.events.on(Ua.as, function() {
                            u.config.embed.settings.share.embed_only && u.performDelegateAction(Na.shareOverlay, function() {
                                u.events.fire(Pa._showOverlay, "share", !0)
                            })
                        }), u.events.on(Ua.fs, function() {
                            if (u.config.user.logged_in && u.config.user.id !== u.config.video.owner.id) {
                                if (u.config.user.following) return n("following", "DELETE"), u.config.user.following = !1, void u.events.fire(Ua.fc);
                                n("following", "PUT"), u.config.user.following = !0, u.events.fire(Ua.cc)
                            }
                        })
                    }(), u.events.on(Ua.ga, function() {
                        t.classList.add("player-ad")
                    }), u.events.on([Ua.Ea, Pa.Gu], function() {
                        t.classList.remove("player-ad")
                    }), A(), a.watch("ui.player.mode", E), a.watch("ui.player.breakpoint", k), x(), bh(t, "a[data-clip-link]", T), u.events.on(Pa.$u, T), bh(t, "[data-track-click]", function(t) {
                        var n = t.target.dataset.trackClick;
                        u.events.fire(Ua.xa, n)
                    }), M(), u.events.on(Ua.qs, function() {
                        _(), M()
                    }), u.events.on(Pa.pa, function() {
                        d.disable()
                    })
            }

            function R() {
                c || (c = new Gh(u, a, t.querySelector(".vp-overlay-wrapper")))
            }

            function C() {
                f || (f = new pd(u, {
                    uuid: u.uuid,
                    id: t.id,
                    isMobileDevice: !1
                }))
            }

            function I() {
                l || (l = new md(u))
            }
            var L = {
                initializationHandler: function() {
                    return function() {
                        R(), C(), I(), new Ah(u, a, p), new Rh(u, a, t);
                        var n = new Id(u, a, t);
                        new Nh(u, t.querySelector(".vp-notification-wrapper")), new zh(u, a, t.querySelector(".vp-outro-wrapper")), new kd(u, m), new _d(u, b), new Ad(u, t), Object.defineProperties(s, {
                            pauseKeyboard: {
                                enumerable: !0,
                                value: n.pause
                            },
                            unpauseKeyboard: {
                                enumerable: !0,
                                value: n.unpause
                            }
                        })
                    }(), O(), e.resolve()
                },
                postInitializationHandler: function() {
                    return u.backbone && (new Dh(t.querySelector(".vp-stats-debug"), u), new Od(u, a, w), new Dd(u, u.backbone, t)), e.resolve()
                },
                authorizationHandler: function(t) {
                    t(), R(), C();
                    var n = "Error",
                        i = "Unhandled video privacy";
                    switch (u.config.view) {
                        case za.privatePassword:
                            return new e(function(t, n) {
                                u.events.fire(Pa._showOverlay, "password"), u.events.once(Ua.zs, function(n) {
                                    t(n)
                                })
                            });
                        case za.privateLocked:
                            I();
                            var r = "private-locked",
                                o = null;
                            return u.config.user.logged_in && (r = "error", o = {
                                title: "Private Video",
                                message: "Sorry, you dont have permission to watch.",
                                modal: !0,
                                logo: !!u.config.embed.settings.logo,
                                icon: "lock"
                            }), u.events.fire(Pa._showOverlay, r, o), e.reject();
                        case za.error:
                            n = u.config.title, i = u.config.message
                    }
                    return u.events.fire(Pa._showOverlay, "error", {
                        title: n,
                        message: i,
                        modal: !0
                    }), e.reject()
                }
            };
            return u.init(n, L).then(function() {
                return u.config.view !== za.privateUnlocked || u.config.embed.autoplay || u.events.fire(Pa._showOverlay, "private-unlocked"), !0
            }).catch(function(n) {
                ms.captureException(n), R(), C(), t.classList.remove("loading"), u.events.fire(Ua.ba, Za.id, Za)
            }), s
        }
}();